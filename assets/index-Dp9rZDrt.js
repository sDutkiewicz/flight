(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var cT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fy(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var A1={exports:{}},Od={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ux;function uT(){if(ux)return Od;ux=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,r,a){var s=null;if(a!==void 0&&(s=""+a),r.key!==void 0&&(s=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:e,type:i,key:s,ref:r!==void 0?r:null,props:a}}return Od.Fragment=t,Od.jsx=n,Od.jsxs=n,Od}var fx;function fT(){return fx||(fx=1,A1.exports=uT()),A1.exports}var Re=fT(),N1={exports:{}},nn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx;function hT(){if(hx)return nn;hx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator;function v(Y){return Y===null||typeof Y!="object"?null:(Y=d&&Y[d]||Y["@@iterator"],typeof Y=="function"?Y:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function E(Y,ge,O){this.props=Y,this.context=ge,this.refs=x,this.updater=O||g}E.prototype.isReactComponent={},E.prototype.setState=function(Y,ge){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,ge,"setState")},E.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function R(){}R.prototype=E.prototype;function L(Y,ge,O){this.props=Y,this.context=ge,this.refs=x,this.updater=O||g}var M=L.prototype=new R;M.constructor=L,w(M,E.prototype),M.isPureReactComponent=!0;var P=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function Q(Y,ge,O,F,K,se){return O=se.ref,{$$typeof:e,type:Y,key:ge,ref:O!==void 0?O:null,props:se}}function z(Y,ge){return Q(Y.type,ge,void 0,void 0,void 0,Y.props)}function ie(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===e}function le(Y){var ge={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(O){return ge[O]})}var H=/\/+/g;function j(Y,ge){return typeof Y=="object"&&Y!==null&&Y.key!=null?le(""+Y.key):ge.toString(36)}function ae(){}function oe(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(ae,ae):(Y.status="pending",Y.then(function(ge){Y.status==="pending"&&(Y.status="fulfilled",Y.value=ge)},function(ge){Y.status==="pending"&&(Y.status="rejected",Y.reason=ge)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function xe(Y,ge,O,F,K){var se=typeof Y;(se==="undefined"||se==="boolean")&&(Y=null);var he=!1;if(Y===null)he=!0;else switch(se){case"bigint":case"string":case"number":he=!0;break;case"object":switch(Y.$$typeof){case e:case t:he=!0;break;case p:return he=Y._init,xe(he(Y._payload),ge,O,F,K)}}if(he)return K=K(Y),he=F===""?"."+j(Y,0):F,P(K)?(O="",he!=null&&(O=he.replace(H,"$&/")+"/"),xe(K,ge,O,"",function(T){return T})):K!=null&&(ie(K)&&(K=z(K,O+(K.key==null||Y&&Y.key===K.key?"":(""+K.key).replace(H,"$&/")+"/")+he)),ge.push(K)),1;he=0;var B=F===""?".":F+":";if(P(Y))for(var C=0;C<Y.length;C++)F=Y[C],se=B+j(F,C),he+=xe(F,ge,O,se,K);else if(C=v(Y),typeof C=="function")for(Y=C.call(Y),C=0;!(F=Y.next()).done;)F=F.value,se=B+j(F,C++),he+=xe(F,ge,O,se,K);else if(se==="object"){if(typeof Y.then=="function")return xe(oe(Y),ge,O,F,K);throw ge=String(Y),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.")}return he}function re(Y,ge,O){if(Y==null)return Y;var F=[],K=0;return xe(Y,F,"","",function(se){return ge.call(O,se,K++)}),F}function fe(Y){if(Y._status===-1){var ge=Y._result;ge=ge(),ge.then(function(O){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=O)},function(O){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=O)}),Y._status===-1&&(Y._status=0,Y._result=ge)}if(Y._status===1)return Y._result.default;throw Y._result}var pe=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function Ee(){}return nn.Children={map:re,forEach:function(Y,ge,O){re(Y,function(){ge.apply(this,arguments)},O)},count:function(Y){var ge=0;return re(Y,function(){ge++}),ge},toArray:function(Y){return re(Y,function(ge){return ge})||[]},only:function(Y){if(!ie(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},nn.Component=E,nn.Fragment=n,nn.Profiler=r,nn.PureComponent=L,nn.StrictMode=i,nn.Suspense=u,nn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,nn.__COMPILER_RUNTIME={__proto__:null,c:function(Y){return k.H.useMemoCache(Y)}},nn.cache=function(Y){return function(){return Y.apply(null,arguments)}},nn.cloneElement=function(Y,ge,O){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var F=w({},Y.props),K=Y.key,se=void 0;if(ge!=null)for(he in ge.ref!==void 0&&(se=void 0),ge.key!==void 0&&(K=""+ge.key),ge)!W.call(ge,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&ge.ref===void 0||(F[he]=ge[he]);var he=arguments.length-2;if(he===1)F.children=O;else if(1<he){for(var B=Array(he),C=0;C<he;C++)B[C]=arguments[C+2];F.children=B}return Q(Y.type,K,void 0,void 0,se,F)},nn.createContext=function(Y){return Y={$$typeof:s,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:a,_context:Y},Y},nn.createElement=function(Y,ge,O){var F,K={},se=null;if(ge!=null)for(F in ge.key!==void 0&&(se=""+ge.key),ge)W.call(ge,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(K[F]=ge[F]);var he=arguments.length-2;if(he===1)K.children=O;else if(1<he){for(var B=Array(he),C=0;C<he;C++)B[C]=arguments[C+2];K.children=B}if(Y&&Y.defaultProps)for(F in he=Y.defaultProps,he)K[F]===void 0&&(K[F]=he[F]);return Q(Y,se,void 0,void 0,null,K)},nn.createRef=function(){return{current:null}},nn.forwardRef=function(Y){return{$$typeof:l,render:Y}},nn.isValidElement=ie,nn.lazy=function(Y){return{$$typeof:p,_payload:{_status:-1,_result:Y},_init:fe}},nn.memo=function(Y,ge){return{$$typeof:f,type:Y,compare:ge===void 0?null:ge}},nn.startTransition=function(Y){var ge=k.T,O={};k.T=O;try{var F=Y(),K=k.S;K!==null&&K(O,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Ee,pe)}catch(se){pe(se)}finally{k.T=ge}},nn.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},nn.use=function(Y){return k.H.use(Y)},nn.useActionState=function(Y,ge,O){return k.H.useActionState(Y,ge,O)},nn.useCallback=function(Y,ge){return k.H.useCallback(Y,ge)},nn.useContext=function(Y){return k.H.useContext(Y)},nn.useDebugValue=function(){},nn.useDeferredValue=function(Y,ge){return k.H.useDeferredValue(Y,ge)},nn.useEffect=function(Y,ge,O){var F=k.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(Y,ge)},nn.useId=function(){return k.H.useId()},nn.useImperativeHandle=function(Y,ge,O){return k.H.useImperativeHandle(Y,ge,O)},nn.useInsertionEffect=function(Y,ge){return k.H.useInsertionEffect(Y,ge)},nn.useLayoutEffect=function(Y,ge){return k.H.useLayoutEffect(Y,ge)},nn.useMemo=function(Y,ge){return k.H.useMemo(Y,ge)},nn.useOptimistic=function(Y,ge){return k.H.useOptimistic(Y,ge)},nn.useReducer=function(Y,ge,O){return k.H.useReducer(Y,ge,O)},nn.useRef=function(Y){return k.H.useRef(Y)},nn.useState=function(Y){return k.H.useState(Y)},nn.useSyncExternalStore=function(Y,ge,O){return k.H.useSyncExternalStore(Y,ge,O)},nn.useTransition=function(){return k.H.useTransition()},nn.version="19.1.0",nn}var px;function db(){return px||(px=1,N1.exports=hT()),N1.exports}var cr=db();const pT=fy(cr);var C1={exports:{}},Bd={},T1={exports:{}},R1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dx;function dT(){return dx||(dx=1,function(e){function t(re,fe){var pe=re.length;re.push(fe);e:for(;0<pe;){var Ee=pe-1>>>1,Y=re[Ee];if(0<r(Y,fe))re[Ee]=fe,re[pe]=Y,pe=Ee;else break e}}function n(re){return re.length===0?null:re[0]}function i(re){if(re.length===0)return null;var fe=re[0],pe=re.pop();if(pe!==fe){re[0]=pe;e:for(var Ee=0,Y=re.length,ge=Y>>>1;Ee<ge;){var O=2*(Ee+1)-1,F=re[O],K=O+1,se=re[K];if(0>r(F,pe))K<Y&&0>r(se,F)?(re[Ee]=se,re[K]=pe,Ee=K):(re[Ee]=F,re[O]=pe,Ee=O);else if(K<Y&&0>r(se,pe))re[Ee]=se,re[K]=pe,Ee=K;else break e}}return fe}function r(re,fe){var pe=re.sortIndex-fe.sortIndex;return pe!==0?pe:re.id-fe.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();e.unstable_now=function(){return s.now()-l}}var u=[],f=[],p=1,d=null,v=3,g=!1,w=!1,x=!1,E=!1,R=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function P(re){for(var fe=n(f);fe!==null;){if(fe.callback===null)i(f);else if(fe.startTime<=re)i(f),fe.sortIndex=fe.expirationTime,t(u,fe);else break;fe=n(f)}}function k(re){if(x=!1,P(re),!w)if(n(u)!==null)w=!0,W||(W=!0,j());else{var fe=n(f);fe!==null&&xe(k,fe.startTime-re)}}var W=!1,Q=-1,z=5,ie=-1;function le(){return E?!0:!(e.unstable_now()-ie<z)}function H(){if(E=!1,W){var re=e.unstable_now();ie=re;var fe=!0;try{e:{w=!1,x&&(x=!1,L(Q),Q=-1),g=!0;var pe=v;try{t:{for(P(re),d=n(u);d!==null&&!(d.expirationTime>re&&le());){var Ee=d.callback;if(typeof Ee=="function"){d.callback=null,v=d.priorityLevel;var Y=Ee(d.expirationTime<=re);if(re=e.unstable_now(),typeof Y=="function"){d.callback=Y,P(re),fe=!0;break t}d===n(u)&&i(u),P(re)}else i(u);d=n(u)}if(d!==null)fe=!0;else{var ge=n(f);ge!==null&&xe(k,ge.startTime-re),fe=!1}}break e}finally{d=null,v=pe,g=!1}fe=void 0}}finally{fe?j():W=!1}}}var j;if(typeof M=="function")j=function(){M(H)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,oe=ae.port2;ae.port1.onmessage=H,j=function(){oe.postMessage(null)}}else j=function(){R(H,0)};function xe(re,fe){Q=R(function(){re(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(re){switch(v){case 1:case 2:case 3:var fe=3;break;default:fe=v}var pe=v;v=fe;try{return re()}finally{v=pe}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(re,fe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=v;v=re;try{return fe()}finally{v=pe}},e.unstable_scheduleCallback=function(re,fe,pe){var Ee=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ee+pe:Ee):pe=Ee,re){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=pe+Y,re={id:p++,callback:fe,priorityLevel:re,startTime:pe,expirationTime:Y,sortIndex:-1},pe>Ee?(re.sortIndex=pe,t(f,re),n(u)===null&&re===n(f)&&(x?(L(Q),Q=-1):x=!0,xe(k,pe-Ee))):(re.sortIndex=Y,t(u,re),w||g||(w=!0,W||(W=!0,j()))),re},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(re){var fe=v;return function(){var pe=v;v=fe;try{return re.apply(this,arguments)}finally{v=pe}}}}(R1)),R1}var mx;function mT(){return mx||(mx=1,T1.exports=dT()),T1.exports}var M1={exports:{}},ta={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx;function gT(){if(gx)return ta;gx=1;var e=db();function t(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(u,f,p){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:d==null?null:""+d,children:u,containerInfo:f,implementation:p}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ta.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ta.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return a(u,f,null,p)},ta.flushSync=function(u){var f=s.T,p=i.p;try{if(s.T=null,i.p=2,u)return u()}finally{s.T=f,i.p=p,i.d.f()}},ta.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(u,f))},ta.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},ta.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,d=l(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:d,integrity:v,fetchPriority:g}):p==="script"&&i.d.X(u,{crossOrigin:d,integrity:v,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ta.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=l(f.as,f.crossOrigin);i.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(u)},ta.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,d=l(p,f.crossOrigin);i.d.L(u,p,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ta.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=l(f.as,f.crossOrigin);i.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(u)},ta.requestFormReset=function(u){i.d.r(u)},ta.unstable_batchedUpdates=function(u,f){return u(f)},ta.useFormState=function(u,f,p){return s.H.useFormState(u,f,p)},ta.useFormStatus=function(){return s.H.useHostTransitionStatus()},ta.version="19.1.0",ta}var vx;function vT(){if(vx)return M1.exports;vx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),M1.exports=gT(),M1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yx;function yT(){if(yx)return Bd;yx=1;var e=mT(),t=db(),n=vT();function i(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function s(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function l(o){if(a(o)!==o)throw Error(i(188))}function u(o){var c=o.alternate;if(!c){if(c=a(o),c===null)throw Error(i(188));return c!==o?null:o}for(var h=o,m=c;;){var b=h.return;if(b===null)break;var S=b.alternate;if(S===null){if(m=b.return,m!==null){h=m;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===h)return l(b),o;if(S===m)return l(b),c;S=S.sibling}throw Error(i(188))}if(h.return!==m.return)h=b,m=S;else{for(var I=!1,ee=b.child;ee;){if(ee===h){I=!0,h=b,m=S;break}if(ee===m){I=!0,m=b,h=S;break}ee=ee.sibling}if(!I){for(ee=S.child;ee;){if(ee===h){I=!0,h=S,m=b;break}if(ee===m){I=!0,m=S,h=b;break}ee=ee.sibling}if(!I)throw Error(i(189))}}if(h.alternate!==m)throw Error(i(190))}if(h.tag!==3)throw Error(i(188));return h.stateNode.current===h?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,d=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),M=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function j(o){return o===null||typeof o!="object"?null:(o=H&&o[H]||o["@@iterator"],typeof o=="function"?o:null)}var ae=Symbol.for("react.client.reference");function oe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ae?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case E:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case W:return"SuspenseList";case ie:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case g:return"Portal";case M:return(o.displayName||"Context")+".Provider";case L:return(o._context.displayName||"Context")+".Consumer";case P:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Q:return c=o.displayName||null,c!==null?c:oe(o.type)||"Memo";case z:c=o._payload,o=o._init;try{return oe(o(c))}catch{}}return null}var xe=Array.isArray,re=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ee=[],Y=-1;function ge(o){return{current:o}}function O(o){0>Y||(o.current=Ee[Y],Ee[Y]=null,Y--)}function F(o,c){Y++,Ee[Y]=o.current,o.current=c}var K=ge(null),se=ge(null),he=ge(null),B=ge(null);function C(o,c){switch(F(he,c),F(se,o),F(K,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?Iw(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=Iw(c),o=Fw(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}O(K),F(K,o)}function T(){O(K),O(se),O(he)}function Z(o){o.memoizedState!==null&&F(B,o);var c=K.current,h=Fw(c,o.type);c!==h&&(F(se,o),F(K,h))}function te(o){se.current===o&&(O(K),O(se)),B.current===o&&(O(B),Rd._currentValue=pe)}var de=Object.prototype.hasOwnProperty,Ae=e.unstable_scheduleCallback,Ue=e.unstable_cancelCallback,Te=e.unstable_shouldYield,$=e.unstable_requestPaint,Le=e.unstable_now,Ve=e.unstable_getCurrentPriorityLevel,je=e.unstable_ImmediatePriority,Ie=e.unstable_UserBlockingPriority,qe=e.unstable_NormalPriority,Ye=e.unstable_LowPriority,at=e.unstable_IdlePriority,Ke=e.log,ot=e.unstable_setDisableYieldValue,Ft=null,Pt=null;function en(o){if(typeof Ke=="function"&&ot(o),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Ft,o)}catch{}}var mt=Math.clz32?Math.clz32:vi,Xt=Math.log,ct=Math.LN2;function vi(o){return o>>>=0,o===0?32:31-(Xt(o)/ct|0)|0}var rn=256,pr=4194304;function on(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Sn(o,c,h){var m=o.pendingLanes;if(m===0)return 0;var b=0,S=o.suspendedLanes,I=o.pingedLanes;o=o.warmLanes;var ee=m&134217727;return ee!==0?(m=ee&~S,m!==0?b=on(m):(I&=ee,I!==0?b=on(I):h||(h=ee&~o,h!==0&&(b=on(h))))):(ee=m&~S,ee!==0?b=on(ee):I!==0?b=on(I):h||(h=m&~o,h!==0&&(b=on(h)))),b===0?0:c!==0&&c!==b&&(c&S)===0&&(S=b&-b,h=c&-c,S>=h||S===32&&(h&4194048)!==0)?c:b}function tr(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function bn(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ca(){var o=rn;return rn<<=1,(rn&4194048)===0&&(rn=256),o}function On(){var o=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),o}function dr(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function Bn(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ci(o,c,h,m,b,S){var I=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var ee=o.entanglements,me=o.expirationTimes,ke=o.hiddenUpdates;for(h=I&~h;0<h;){var We=31-mt(h),et=1<<We;ee[We]=0,me[We]=-1;var Fe=ke[We];if(Fe!==null)for(ke[We]=null,We=0;We<Fe.length;We++){var ze=Fe[We];ze!==null&&(ze.lane&=-536870913)}h&=~et}m!==0&&Ut(o,m,0),S!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=S&~(I&~c))}function Ut(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var m=31-mt(c);o.entangledLanes|=c,o.entanglements[m]=o.entanglements[m]|1073741824|h&4194090}function An(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var m=31-mt(h),b=1<<m;b&c|o[m]&c&&(o[m]|=c),h&=~b}}function Fo(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Fi(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ua(){var o=fe.p;return o!==0?o:(o=window.event,o===void 0?32:rx(o.type))}function co(o,c){var h=fe.p;try{return fe.p=o,c()}finally{fe.p=h}}var wt=Math.random().toString(36).slice(2),Un="__reactFiber$"+wt,ei="__reactProps$"+wt,zi="__reactContainer$"+wt,yi="__reactEvents$"+wt,Ci="__reactListeners$"+wt,ua="__reactHandles$"+wt,El="__reactResources$"+wt,fa="__reactMarker$"+wt;function ha(o){delete o[Un],delete o[ei],delete o[yi],delete o[Ci],delete o[ua]}function xr(o){var c=o[Un];if(c)return c;for(var h=o.parentNode;h;){if(c=h[zi]||h[Un]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=qw(o);o!==null;){if(h=o[Un])return h;o=qw(o)}return c}o=h,h=o.parentNode}return null}function Er(o){if(o=o[Un]||o[zi]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Yr(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(i(33))}function mr(o){var c=o[El];return c||(c=o[El]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function jn(o){o[fa]=!0}var Ns=new Set,Sl={};function Aa(o,c){qa(o,c),qa(o+"Capture",c)}function qa(o,c){for(Sl[o]=c,o=0;o<c.length;o++)Ns.add(c[o])}var _c=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ku={},ph={};function Vp(o){return de.call(ph,o)?!0:de.call(Ku,o)?!1:_c.test(o)?ph[o]=!0:(Ku[o]=!0,!1)}function zo(o,c,h){if(Vp(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function Al(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function Va(o,c,h,m){if(m===null)o.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+m)}}var Nl,dh;function Ho(o){if(Nl===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Nl=c&&c[1]||"",dh=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nl+o+dh}var Zu=!1;function Cs(o,c){if(!o||Zu)return"";Zu=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(ze){var Fe=ze}Reflect.construct(o,[],et)}else{try{et.call()}catch(ze){Fe=ze}o.call(et.prototype)}}else{try{throw Error()}catch(ze){Fe=ze}(et=o())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(ze){if(ze&&Fe&&typeof ze.stack=="string")return[ze.stack,Fe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),I=S[0],ee=S[1];if(I&&ee){var me=I.split(`
`),ke=ee.split(`
`);for(b=m=0;m<me.length&&!me[m].includes("DetermineComponentFrameRoot");)m++;for(;b<ke.length&&!ke[b].includes("DetermineComponentFrameRoot");)b++;if(m===me.length||b===ke.length)for(m=me.length-1,b=ke.length-1;1<=m&&0<=b&&me[m]!==ke[b];)b--;for(;1<=m&&0<=b;m--,b--)if(me[m]!==ke[b]){if(m!==1||b!==1)do if(m--,b--,0>b||me[m]!==ke[b]){var We=`
`+me[m].replace(" at new "," at ");return o.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",o.displayName)),We}while(1<=m&&0<=b);break}}}finally{Zu=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Ho(h):""}function $p(o){switch(o.tag){case 26:case 27:case 5:return Ho(o.type);case 16:return Ho("Lazy");case 13:return Ho("Suspense");case 19:return Ho("SuspenseList");case 0:case 15:return Cs(o.type,!1);case 11:return Cs(o.type.render,!1);case 1:return Cs(o.type,!0);case 31:return Ho("Activity");default:return""}}function ui(o){try{var c="";do c+=$p(o),o=o.return;while(o);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Dr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Qu(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function mh(o){var c=Qu(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),m=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var b=h.get,S=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return b.call(this)},set:function(I){m=""+I,S.call(this,I)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Ts(o){o._valueTracker||(o._valueTracker=mh(o))}function gh(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),m="";return o&&(m=Qu(o)?o.checked?"true":"false":o.value),o=m,o!==h?(c.setValue(o),!0):!1}function Wr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var wc=/[\n"\\]/g;function Yn(o){return o.replace(wc,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Cl(o,c,h,m,b,S,I,ee){o.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?o.type=I:o.removeAttribute("type"),c!=null?I==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Dr(c)):o.value!==""+Dr(c)&&(o.value=""+Dr(c)):I!=="submit"&&I!=="reset"||o.removeAttribute("value"),c!=null?ef(o,I,Dr(c)):h!=null?ef(o,I,Dr(h)):m!=null&&o.removeAttribute("value"),b==null&&S!=null&&(o.defaultChecked=!!S),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?o.name=""+Dr(ee):o.removeAttribute("name")}function Ju(o,c,h,m,b,S,I,ee){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(o.type=S),c!=null||h!=null){if(!(S!=="submit"&&S!=="reset"||c!=null))return;h=h!=null?""+Dr(h):"",c=c!=null?""+Dr(c):h,ee||c===o.value||(o.value=c),o.defaultValue=c}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,o.checked=ee?o.checked:!!m,o.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.name=I)}function ef(o,c,h){c==="number"&&Wr(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Uo(o,c,h,m){if(o=o.options,c){c={};for(var b=0;b<h.length;b++)c["$"+h[b]]=!0;for(h=0;h<o.length;h++)b=c.hasOwnProperty("$"+o[h].value),o[h].selected!==b&&(o[h].selected=b),b&&m&&(o[h].defaultSelected=!0)}else{for(h=""+Dr(h),c=null,b=0;b<o.length;b++){if(o[b].value===h){o[b].selected=!0,m&&(o[b].defaultSelected=!0);return}c!==null||o[b].disabled||(c=o[b])}c!==null&&(c.selected=!0)}}function vh(o,c,h){if(c!=null&&(c=""+Dr(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+Dr(h):""}function tf(o,c,h,m){if(c==null){if(m!=null){if(h!=null)throw Error(i(92));if(xe(m)){if(1<m.length)throw Error(i(93));m=m[0]}h=m}h==null&&(h=""),c=h}h=Dr(c),o.defaultValue=h,m=o.textContent,m===h&&m!==""&&m!==null&&(o.value=m)}function Rs(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var nf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yh(o,c,h){var m=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":m?o.setProperty(c,h):typeof h!="number"||h===0||nf.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function bh(o,c,h){if(c!=null&&typeof c!="object")throw Error(i(62));if(o=o.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?o.setProperty(m,""):m==="float"?o.cssFloat="":o[m]="");for(var b in c)m=c[b],c.hasOwnProperty(b)&&h[b]!==m&&yh(o,b,m)}else for(var S in c)c.hasOwnProperty(S)&&yh(o,S,c[S])}function rf(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vo(o){return xc.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Ec=null;function nr(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ms=null,$o=null;function zt(o){var c=Er(o);if(c&&(o=c.stateNode)){var h=o[ei]||null;e:switch(o=c.stateNode,c.type){case"input":if(Cl(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Yn(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var m=h[c];if(m!==o&&m.form===o.form){var b=m[ei]||null;if(!b)throw Error(i(90));Cl(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(c=0;c<h.length;c++)m=h[c],m.form===o.form&&gh(m)}break e;case"textarea":vh(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Uo(o,!!h.multiple,c,!1)}}}var af=!1;function _h(o,c,h){if(af)return o(c,h);af=!0;try{var m=o(c);return m}finally{if(af=!1,(Ms!==null||$o!==null)&&(Ag(),Ms&&(c=Ms,o=$o,$o=Ms=null,zt(c),o)))for(c=0;c<o.length;c++)zt(o[c])}}function Xr(o,c){var h=o.stateNode;if(h===null)return null;var m=h[ei]||null;if(m===null)return null;h=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(i(231,c,typeof h));return h}var Na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sc=!1;if(Na)try{var uo={};Object.defineProperty(uo,"passive",{get:function(){Sc=!0}}),window.addEventListener("test",uo,uo),window.removeEventListener("test",uo,uo)}catch{Sc=!1}var Ca=null,of=null,Ac=null;function wh(){if(Ac)return Ac;var o,c=of,h=c.length,m,b="value"in Ca?Ca.value:Ca.textContent,S=b.length;for(o=0;o<h&&c[o]===b[o];o++);var I=h-o;for(m=1;m<=I&&c[h-m]===b[S-m];m++);return Ac=b.slice(o,1<m?1-m:void 0)}function Ps(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function fo(){return!0}function Go(){return!1}function Sr(o){function c(h,m,b,S,I){this._reactName=h,this._targetInst=b,this.type=m,this.nativeEvent=S,this.target=I,this.currentTarget=null;for(var ee in o)o.hasOwnProperty(ee)&&(h=o[ee],this[ee]=h?h(S):S[ee]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?fo:Go,this.isPropagationStopped=Go,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),c}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ls=Sr(pa),ho=p({},pa,{view:0,detail:0}),xh=Sr(ho),Nc,Cc,Ds,da=p({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pc,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ds&&(Ds&&o.type==="mousemove"?(Nc=o.screenX-Ds.screenX,Cc=o.screenY-Ds.screenY):Cc=Nc=0,Ds=o),Nc)},movementY:function(o){return"movementY"in o?o.movementY:Cc}}),po=Sr(da),Gp=p({},da,{dataTransfer:0}),Os=Sr(Gp),$a=p({},ho,{relatedTarget:0}),Tl=Sr($a),Rl=p({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),Yp=Sr(Rl),Tc=p({},pa,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Wp=Sr(Tc),sf=p({},pa,{data:0}),Rc=Sr(sf),Eh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cf(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=lf[o])?!!c[o]:!1}function Pc(){return cf}var Xp=p({},ho,{key:function(o){if(o.key){var c=Eh[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Ps(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Mc[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pc,charCode:function(o){return o.type==="keypress"?Ps(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ps(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Lc=Sr(Xp),Ml=p({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dc=Sr(Ml),Bs=p({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pc}),uf=Sr(Bs),A=p({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=Sr(A),ue=p({},da,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),ye=Sr(ue),Pe=p({},pa,{newState:0,oldState:0}),$e=Sr(Pe),nt=[9,13,27,32],ht=Na&&"CompositionEvent"in window,bt=null;Na&&"documentMode"in document&&(bt=document.documentMode);var $t=Na&&"TextEvent"in window&&!bt,qt=Na&&(!ht||bt&&8<bt&&11>=bt),gn=" ",Kn=!1;function ti(o,c){switch(o){case"keyup":return nt.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bi(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var _i=!1;function ir(o,c){switch(o){case"compositionend":return bi(c);case"keypress":return c.which!==32?null:(Kn=!0,gn);case"textInput":return o=c.data,o===gn&&Kn?null:o;default:return null}}function Ga(o,c){if(_i)return o==="compositionend"||!ht&&ti(o,c)?(o=wh(),Ac=of=Ca=null,_i=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return qt&&c.locale!=="ko"?null:c.data;default:return null}}var ma={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ya(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!ma[o.type]:c==="textarea"}function ff(o,c,h,m){Ms?$o?$o.push(m):$o=[m]:Ms=m,c=Pg(c,"onChange"),0<c.length&&(h=new Ls("onChange","change",null,h,m),o.push({event:h,listeners:c}))}var Yo=null,Wo=null;function Oc(o){Dw(o,0)}function ks(o){var c=Yr(o);if(gh(c))return o}function Bc(o,c){if(o==="change")return c}var Pl=!1;if(Na){var Hi;if(Na){var js="oninput"in document;if(!js){var Ll=document.createElement("div");Ll.setAttribute("oninput","return;"),js=typeof Ll.oninput=="function"}Hi=js}else Hi=!1;Pl=Hi&&(!document.documentMode||9<document.documentMode)}function Dl(){Yo&&(Yo.detachEvent("onpropertychange",kc),Wo=Yo=null)}function kc(o){if(o.propertyName==="value"&&ks(Wo)){var c=[];ff(c,Wo,o,nr(o)),_h(Oc,c)}}function Kr(o,c,h){o==="focusin"?(Dl(),Yo=c,Wo=h,Yo.attachEvent("onpropertychange",kc)):o==="focusout"&&Dl()}function Kp(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ks(Wo)}function hf(o,c){if(o==="click")return ks(c)}function Sh(o,c){if(o==="input"||o==="change")return ks(c)}function Ta(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var rr=typeof Object.is=="function"?Object.is:Ta;function Is(o,c){if(rr(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),m=Object.keys(c);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var b=h[m];if(!de.call(c,b)||!rr(o[b],c[b]))return!1}return!0}function pf(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Xo(o,c){var h=pf(o);o=0;for(var m;h;){if(h.nodeType===3){if(m=o+h.textContent.length,o<=c&&m>=c)return{node:h,offset:c-o};o=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=pf(h)}}function Fs(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?Fs(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Or(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Wr(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=Wr(o.document)}return c}function gr(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var zs=Na&&"documentMode"in document&&11>=document.documentMode,Zr=null,Wa=null,mo=null,Xa=!1;function fi(o,c,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Xa||Zr==null||Zr!==Wr(m)||(m=Zr,"selectionStart"in m&&gr(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),mo&&Is(mo,m)||(mo=m,m=Pg(Wa,"onSelect"),0<m.length&&(c=new Ls("onSelect","select",null,c,h),o.push({event:c,listeners:m}),c.target=Zr)))}function Ka(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var Ti={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Qr={},Ol={};Na&&(Ol=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);function go(o){if(Qr[o])return Qr[o];if(!Ti[o])return o;var c=Ti[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in Ol)return Qr[o]=c[h];return o}var jc=go("animationend"),Hs=go("animationiteration"),Us=go("animationstart"),qs=go("transitionrun"),Bl=go("transitionstart"),Ic=go("transitioncancel"),Vs=go("transitionend"),Ko=new Map,kl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kl.push("scrollEnd");function hi(o,c){Ko.set(o,c),Aa(c,[o])}var ga=new WeakMap;function sn(o,c){if(typeof o=="object"&&o!==null){var h=ga.get(o);return h!==void 0?h:(c={value:o,source:c,stack:ui(c)},ga.set(o,c),c)}return{value:o,source:c,stack:ui(c)}}var ln=[],qn=0,wi=0;function Ra(){for(var o=qn,c=wi=qn=0;c<o;){var h=ln[c];ln[c++]=null;var m=ln[c];ln[c++]=null;var b=ln[c];ln[c++]=null;var S=ln[c];if(ln[c++]=null,m!==null&&b!==null){var I=m.pending;I===null?b.next=b:(b.next=I.next,I.next=b),m.pending=b}S!==0&&Ah(h,b,S)}}function $s(o,c,h,m){ln[qn++]=o,ln[qn++]=c,ln[qn++]=h,ln[qn++]=m,wi|=m,o.lanes|=m,o=o.alternate,o!==null&&(o.lanes|=m)}function Gs(o,c,h,m){return $s(o,c,h,m),jl(o)}function Zo(o,c){return $s(o,null,null,c),jl(o)}function Ah(o,c,h){o.lanes|=h;var m=o.alternate;m!==null&&(m.lanes|=h);for(var b=!1,S=o.return;S!==null;)S.childLanes|=h,m=S.alternate,m!==null&&(m.childLanes|=h),S.tag===22&&(o=S.stateNode,o===null||o._visibility&1||(b=!0)),o=S,S=S.return;return o.tag===3?(S=o.stateNode,b&&c!==null&&(b=31-mt(h),o=S.hiddenUpdates,m=o[b],m===null?o[b]=[c]:m.push(c),c.lane=h|536870912),S):null}function jl(o){if(50<wd)throw wd=0,X0=null,Error(i(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var ar={};function Ma(o,c,h,m){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(o,c,h,m){return new Ma(o,c,h,m)}function Fc(o){return o=o.prototype,!(!o||!o.isReactComponent)}function vo(o,c){var h=o.alternate;return h===null?(h=Ar(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function df(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Il(o,c,h,m,b,S){var I=0;if(m=o,typeof o=="function")Fc(o)&&(I=1);else if(typeof o=="string")I=K8(o,h,K.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case ie:return o=Ar(31,h,c,b),o.elementType=ie,o.lanes=S,o;case w:return Qo(h.children,b,S,c);case x:I=8,b|=24;break;case E:return o=Ar(12,h,c,b|2),o.elementType=E,o.lanes=S,o;case k:return o=Ar(13,h,c,b),o.elementType=k,o.lanes=S,o;case W:return o=Ar(19,h,c,b),o.elementType=W,o.lanes=S,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:case M:I=10;break e;case L:I=9;break e;case P:I=11;break e;case Q:I=14;break e;case z:I=16,m=null;break e}I=29,h=Error(i(130,o===null?"null":typeof o,"")),m=null}return c=Ar(I,h,c,b),c.elementType=o,c.type=m,c.lanes=S,c}function Qo(o,c,h,m){return o=Ar(7,o,m,c),o.lanes=h,o}function Nh(o,c,h){return o=Ar(6,o,null,c),o.lanes=h,o}function mf(o,c,h){return c=Ar(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var Ys=[],Jo=0,zc=null,Ch=0,Pa=[],va=0,Fl=null,es=1,ts="";function zl(o,c){Ys[Jo++]=Ch,Ys[Jo++]=zc,zc=o,Ch=c}function Xm(o,c,h){Pa[va++]=es,Pa[va++]=ts,Pa[va++]=Fl,Fl=o;var m=es;o=ts;var b=32-mt(m)-1;m&=~(1<<b),h+=1;var S=32-mt(c)+b;if(30<S){var I=b-b%5;S=(m&(1<<I)-1).toString(32),m>>=I,b-=I,es=1<<32-mt(c)+b|h<<b|m,ts=S+o}else es=1<<S|h<<b|m,ts=o}function gf(o){o.return!==null&&(zl(o,1),Xm(o,1,0))}function vf(o){for(;o===zc;)zc=Ys[--Jo],Ys[Jo]=null,Ch=Ys[--Jo],Ys[Jo]=null;for(;o===Fl;)Fl=Pa[--va],Pa[va]=null,ts=Pa[--va],Pa[va]=null,es=Pa[--va],Pa[va]=null}var Ui=null,pi=null,Nn=!1,Ws=null,yo=!1,Zp=Error(i(519));function Hl(o){var c=Error(i(418,""));throw Hc(sn(c,o)),Zp}function Km(o){var c=o.stateNode,h=o.type,m=o.memoizedProps;switch(c[Un]=o,c[ei]=m,h){case"dialog":yn("cancel",c),yn("close",c);break;case"iframe":case"object":case"embed":yn("load",c);break;case"video":case"audio":for(h=0;h<Ed.length;h++)yn(Ed[h],c);break;case"source":yn("error",c);break;case"img":case"image":case"link":yn("error",c),yn("load",c);break;case"details":yn("toggle",c);break;case"input":yn("invalid",c),Ju(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Ts(c);break;case"select":yn("invalid",c);break;case"textarea":yn("invalid",c),tf(c,m.value,m.defaultValue,m.children),Ts(c)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||m.suppressHydrationWarning===!0||jw(c.textContent,h)?(m.popover!=null&&(yn("beforetoggle",c),yn("toggle",c)),m.onScroll!=null&&yn("scroll",c),m.onScrollEnd!=null&&yn("scrollend",c),m.onClick!=null&&(c.onclick=Lg),c=!0):c=!1,c||Hl(o)}function ns(o){for(Ui=o.return;Ui;)switch(Ui.tag){case 5:case 13:yo=!1;return;case 27:case 3:yo=!0;return;default:Ui=Ui.return}}function Br(o){if(o!==Ui)return!1;if(!Nn)return ns(o),Nn=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||f1(o.type,o.memoizedProps)),h=!h),h&&pi&&Hl(o),ns(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(i(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(h=o.data,h==="/$"){if(c===0){pi=us(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;o=o.nextSibling}pi=null}}else c===27?(c=pi,ru(o.type)?(o=m1,m1=null,pi=o):pi=c):pi=Ui?us(o.stateNode.nextSibling):null;return!0}function ya(){pi=Ui=null,Nn=!1}function Zm(){var o=Ws;return o!==null&&(Oa===null?Oa=o:Oa.push.apply(Oa,o),Ws=null),o}function Hc(o){Ws===null?Ws=[o]:Ws.push(o)}var bo=ge(null),or=null,is=null;function Xs(o,c,h){F(bo,c._currentValue),c._currentValue=h}function _o(o){o._currentValue=bo.current,O(bo)}function Th(o,c,h){for(;o!==null;){var m=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),o===h)break;o=o.return}}function Rh(o,c,h,m){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var S=b.dependencies;if(S!==null){var I=b.child;S=S.firstContext;e:for(;S!==null;){var ee=S;S=b;for(var me=0;me<c.length;me++)if(ee.context===c[me]){S.lanes|=h,ee=S.alternate,ee!==null&&(ee.lanes|=h),Th(S.return,h,o),m||(I=null);break e}S=ee.next}}else if(b.tag===18){if(I=b.return,I===null)throw Error(i(341));I.lanes|=h,S=I.alternate,S!==null&&(S.lanes|=h),Th(I,h,o),I=null}else I=b.child;if(I!==null)I.return=b;else for(I=b;I!==null;){if(I===o){I=null;break}if(b=I.sibling,b!==null){b.return=I.return,I=b;break}I=I.return}b=I}}function Uc(o,c,h,m){o=null;for(var b=c,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var I=b.alternate;if(I===null)throw Error(i(387));if(I=I.memoizedProps,I!==null){var ee=b.type;rr(b.pendingProps.value,I.value)||(o!==null?o.push(ee):o=[ee])}}else if(b===B.current){if(I=b.alternate,I===null)throw Error(i(387));I.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(Rd):o=[Rd])}b=b.return}o!==null&&Rh(c,o,h,m),c.flags|=262144}function Mh(o){for(o=o.firstContext;o!==null;){if(!rr(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function wo(o){or=o,is=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function qi(o){return Ph(or,o)}function Ks(o,c){return or===null&&wo(o),Ph(o,c)}function Ph(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},is===null){if(o===null)throw Error(i(308));is=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else is=is.next=c;return h}var _0=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,m){o.push(m)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},Qm=e.unstable_scheduleCallback,w0=e.unstable_NormalPriority,Vi={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qp(){return{controller:new _0,data:new Map,refCount:0}}function yf(o){o.refCount--,o.refCount===0&&Qm(w0,function(){o.controller.abort()})}var bf=null,Jp=0,Ul=0,rs=null;function x0(o,c){if(bf===null){var h=bf=[];Jp=0,Ul=n1(),rs={status:"pending",value:void 0,then:function(m){h.push(m)}}}return Jp++,c.then(Jm,Jm),c}function Jm(){if(--Jp===0&&bf!==null){rs!==null&&(rs.status="fulfilled");var o=bf;bf=null,Ul=0,rs=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function eg(o,c){var h=[],m={status:"pending",value:null,reason:null,then:function(b){h.push(b)}};return o.then(function(){m.status="fulfilled",m.value=c;for(var b=0;b<h.length;b++)(0,h[b])(c)},function(b){for(m.status="rejected",m.reason=b,b=0;b<h.length;b++)(0,h[b])(void 0)}),m}var y=re.S;re.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&x0(o,c),y!==null&&y(o,c)};var _=ge(null);function N(){var o=_.current;return o!==null?o:Qn.pooledCache}function D(o,c){c===null?F(_,_.current):F(_,c.pool)}function q(){var o=N();return o===null?null:{parent:Vi._currentValue,pool:o}}var G=Error(i(460)),X=Error(i(474)),J=Error(i(542)),ne={then:function(){}};function ce(o){return o=o.status,o==="fulfilled"||o==="rejected"}function be(){}function Be(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(be,be),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Qe(o),o;default:if(typeof c.status=="string")c.then(be,be);else{if(o=Qn,o!==null&&100<o.shellSuspendCounter)throw Error(i(482));o=c,o.status="pending",o.then(function(m){if(c.status==="pending"){var b=c;b.status="fulfilled",b.value=m}},function(m){if(c.status==="pending"){var b=c;b.status="rejected",b.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Qe(o),o}throw De=c,G}}var De=null;function Ce(){if(De===null)throw Error(i(459));var o=De;return De=null,o}function Qe(o){if(o===G||o===J)throw Error(i(483))}var He=!1;function _e(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Se(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ge(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Je(o,c,h){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,(Fn&2)!==0){var b=m.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),m.pending=c,c=jl(o),Ah(o,null,h),c}return $s(o,m,c,h),jl(o)}function Xe(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var m=c.lanes;m&=o.pendingLanes,h|=m,c.lanes=h,An(o,h)}}function pt(o,c){var h=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var b=null,S=null;if(h=h.firstBaseUpdate,h!==null){do{var I={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};S===null?b=S=I:S=S.next=I,h=h.next}while(h!==null);S===null?b=S=c:S=S.next=c}else b=S=c;h={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var st=!1;function xt(){if(st){var o=rs;if(o!==null)throw o}}function lt(o,c,h,m){st=!1;var b=o.updateQueue;He=!1;var S=b.firstBaseUpdate,I=b.lastBaseUpdate,ee=b.shared.pending;if(ee!==null){b.shared.pending=null;var me=ee,ke=me.next;me.next=null,I===null?S=ke:I.next=ke,I=me;var We=o.alternate;We!==null&&(We=We.updateQueue,ee=We.lastBaseUpdate,ee!==I&&(ee===null?We.firstBaseUpdate=ke:ee.next=ke,We.lastBaseUpdate=me))}if(S!==null){var et=b.baseState;I=0,We=ke=me=null,ee=S;do{var Fe=ee.lane&-536870913,ze=Fe!==ee.lane;if(ze?(En&Fe)===Fe:(m&Fe)===Fe){Fe!==0&&Fe===Ul&&(st=!0),We!==null&&(We=We.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var Ht=o,Lt=ee;Fe=c;var $n=h;switch(Lt.tag){case 1:if(Ht=Lt.payload,typeof Ht=="function"){et=Ht.call($n,et,Fe);break e}et=Ht;break e;case 3:Ht.flags=Ht.flags&-65537|128;case 0:if(Ht=Lt.payload,Fe=typeof Ht=="function"?Ht.call($n,et,Fe):Ht,Fe==null)break e;et=p({},et,Fe);break e;case 2:He=!0}}Fe=ee.callback,Fe!==null&&(o.flags|=64,ze&&(o.flags|=8192),ze=b.callbacks,ze===null?b.callbacks=[Fe]:ze.push(Fe))}else ze={lane:Fe,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},We===null?(ke=We=ze,me=et):We=We.next=ze,I|=Fe;if(ee=ee.next,ee===null){if(ee=b.shared.pending,ee===null)break;ze=ee,ee=ze.next,ze.next=null,b.lastBaseUpdate=ze,b.shared.pending=null}}while(!0);We===null&&(me=et),b.baseState=me,b.firstBaseUpdate=ke,b.lastBaseUpdate=We,S===null&&(b.shared.lanes=0),eu|=I,o.lanes=I,o.memoizedState=et}}function wn(o,c){if(typeof o!="function")throw Error(i(191,o));o.call(c)}function Cn(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)wn(h[o],c)}var an=ge(null),tn=ge(0);function kn(o,c){o=Ql,F(tn,o),F(an,c),Ql=o|c.baseLanes}function Tn(){F(tn,Ql),F(an,an.current)}function Vt(){Ql=tn.current,O(an),O(tn)}var In=0,At=null,jt=null,_n=null,xn=!1,sr=!1,$i=!1,xi=0,Ei=0,Ri=null,La=0;function Rn(){throw Error(i(321))}function Mi(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!rr(o[h],c[h]))return!1;return!0}function Za(o,c,h,m,b,S){return In=S,At=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,re.H=o===null||o.memoizedState===null?v_:y_,$i=!1,S=h(m,b),$i=!1,sr&&(S=ql(c,h,m,b)),Zs(o),S}function Zs(o){re.H=hg;var c=jt!==null&&jt.next!==null;if(In=0,_n=jt=At=null,xn=!1,Ei=0,Ri=null,c)throw Error(i(300));o===null||Nr||(o=o.dependencies,o!==null&&Mh(o)&&(Nr=!0))}function ql(o,c,h,m){At=o;var b=0;do{if(sr&&(Ri=null),Ei=0,sr=!1,25<=b)throw Error(i(301));if(b+=1,_n=jt=null,o.updateQueue!=null){var S=o.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}re.H=s8,S=c(h,m)}while(sr);return S}function Qs(){var o=re.H,c=o.useState()[0];return c=typeof c.then=="function"?Js(c):c,o=o.useState()[0],(jt!==null?jt.memoizedState:null)!==o&&(At.flags|=1024),c}function Zn(){var o=xi!==0;return xi=0,o}function _f(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function Lh(o){if(xn){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}xn=!1}In=0,_n=jt=At=null,sr=!1,Ei=xi=0,Ri=null}function kr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?At.memoizedState=_n=o:_n=_n.next=o,_n}function ni(){if(jt===null){var o=At.alternate;o=o!==null?o.memoizedState:null}else o=jt.next;var c=_n===null?At.memoizedState:_n.next;if(c!==null)_n=c,jt=o;else{if(o===null)throw At.alternate===null?Error(i(467)):Error(i(310));jt=o,o={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},_n===null?At.memoizedState=_n=o:_n=_n.next=o}return _n}function Vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Js(o){var c=Ei;return Ei+=1,Ri===null&&(Ri=[]),o=Be(Ri,o,c),c=At,(_n===null?c.memoizedState:_n.next)===null&&(c=c.alternate,re.H=c===null||c.memoizedState===null?v_:y_),o}function Jr(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Js(o);if(o.$$typeof===M)return qi(o)}throw Error(i(438,String(o)))}function el(o){var c=null,h=At.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var m=At.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(b){return b.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Vl(),At.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),m=0;m<o;m++)h[m]=le;return c.index++,h}function ea(o,c){return typeof c=="function"?c(o):c}function wf(o){var c=ni();return qc(c,jt,o)}function qc(o,c,h){var m=o.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=h;var b=o.baseQueue,S=m.pending;if(S!==null){if(b!==null){var I=b.next;b.next=S.next,S.next=I}c.baseQueue=b=S,m.pending=null}if(S=o.baseState,b===null)o.memoizedState=S;else{c=b.next;var ee=I=null,me=null,ke=c,We=!1;do{var et=ke.lane&-536870913;if(et!==ke.lane?(En&et)===et:(In&et)===et){var Fe=ke.revertLane;if(Fe===0)me!==null&&(me=me.next={lane:0,revertLane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),et===Ul&&(We=!0);else if((In&Fe)===Fe){ke=ke.next,Fe===Ul&&(We=!0);continue}else et={lane:0,revertLane:ke.revertLane,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},me===null?(ee=me=et,I=S):me=me.next=et,At.lanes|=Fe,eu|=Fe;et=ke.action,$i&&h(S,et),S=ke.hasEagerState?ke.eagerState:h(S,et)}else Fe={lane:et,revertLane:ke.revertLane,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},me===null?(ee=me=Fe,I=S):me=me.next=Fe,At.lanes|=et,eu|=et;ke=ke.next}while(ke!==null&&ke!==c);if(me===null?I=S:me.next=ee,!rr(S,o.memoizedState)&&(Nr=!0,We&&(h=rs,h!==null)))throw h;o.memoizedState=S,o.baseState=I,o.baseQueue=me,m.lastRenderedState=S}return b===null&&(m.lanes=0),[o.memoizedState,m.dispatch]}function Dh(o){var c=ni(),h=c.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=o;var m=h.dispatch,b=h.pending,S=c.memoizedState;if(b!==null){h.pending=null;var I=b=b.next;do S=o(S,I.action),I=I.next;while(I!==b);rr(S,c.memoizedState)||(Nr=!0),c.memoizedState=S,c.baseQueue===null&&(c.baseState=S),h.lastRenderedState=S}return[S,m]}function xf(o,c,h){var m=At,b=ni(),S=Nn;if(S){if(h===void 0)throw Error(i(407));h=h()}else h=c();var I=!rr((jt||b).memoizedState,h);I&&(b.memoizedState=h,Nr=!0),b=b.queue;var ee=Vc.bind(null,m,b,o);if(Yc(2048,8,ee,[o]),b.getSnapshot!==c||I||_n!==null&&_n.memoizedState.tag&1){if(m.flags|=2048,os(9,Nf(),Ef.bind(null,m,b,h,c),null),Qn===null)throw Error(i(349));S||(In&124)!==0||Oh(m,c,h)}return h}function Oh(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=At.updateQueue,c===null?(c=Vl(),At.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function Ef(o,c,h,m){c.value=h,c.getSnapshot=m,tg(c)&&ng(o)}function Vc(o,c,h){return h(function(){tg(c)&&ng(o)})}function tg(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!rr(o,h)}catch{return!0}}function ng(o){var c=Zo(o,2);c!==null&&io(c,o,2)}function Sf(o){var c=kr();if(typeof o=="function"){var h=o;if(o=h(),$i){en(!0);try{h()}finally{en(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:o},c}function as(o,c,h,m){return o.baseState=h,qc(o,jt,typeof m=="function"?m:ea)}function E0(o,c,h,m,b){if(fg(o))throw Error(i(485));if(o=c.action,o!==null){var S={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){S.listeners.push(I)}};re.T!==null?h(!0):S.isTransition=!1,m(S),h=c.pending,h===null?(S.next=c.pending=S,ig(c,S)):(S.next=h.next,c.pending=h.next=S)}}function ig(o,c){var h=c.action,m=c.payload,b=o.state;if(c.isTransition){var S=re.T,I={};re.T=I;try{var ee=h(b,m),me=re.S;me!==null&&me(I,ee),rg(o,c,ee)}catch(ke){$c(o,c,ke)}finally{re.T=S}}else try{S=h(b,m),rg(o,c,S)}catch(ke){$c(o,c,ke)}}function rg(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){ed(o,c,m)},function(m){return $c(o,c,m)}):ed(o,c,h)}function ed(o,c,h){c.status="fulfilled",c.value=h,td(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,ig(o,h)))}function $c(o,c,h){var m=o.pending;if(o.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=h,td(c),c=c.next;while(c!==m)}o.action=null}function td(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function nd(o,c){return c}function Af(o,c){if(Nn){var h=Qn.formState;if(h!==null){e:{var m=At;if(Nn){if(pi){t:{for(var b=pi,S=yo;b.nodeType!==8;){if(!S){b=null;break t}if(b=us(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){pi=us(b.nextSibling),m=b.data==="F!";break e}}Hl(m)}m=!1}m&&(c=h[0])}}return h=kr(),h.memoizedState=h.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nd,lastRenderedState:c},h.queue=m,h=d_.bind(null,At,m),m.dispatch=h,m=Sf(!1),S=S0.bind(null,At,!1,m.queue),m=kr(),b={state:c,dispatch:null,action:o,pending:null},m.queue=b,h=E0.bind(null,At,b,S,h),b.dispatch=h,m.memoizedState=o,[c,h,!1]}function Bh(o){var c=ni();return Gc(c,jt,o)}function Gc(o,c,h){if(c=qc(o,c,nd)[0],o=wf(ea)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=Js(c)}catch(I){throw I===G?J:I}else m=c;c=ni();var b=c.queue,S=b.dispatch;return h!==c.memoizedState&&(At.flags|=2048,os(9,Nf(),ag.bind(null,b,h),null)),[m,S,o]}function ag(o,c){o.action=c}function og(o){var c=ni(),h=jt;if(h!==null)return Gc(c,h,o);ni(),c=c.memoizedState,h=ni();var m=h.queue.dispatch;return h.memoizedState=o,[c,m,!1]}function os(o,c,h,m){return o={tag:o,create:h,deps:m,inst:c,next:null},c=At.updateQueue,c===null&&(c=Vl(),At.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(m=h.next,h.next=o,o.next=m,c.lastEffect=o),o}function Nf(){return{destroy:void 0,resource:void 0}}function kh(){return ni().memoizedState}function Qa(o,c,h,m){var b=kr();m=m===void 0?null:m,At.flags|=o,b.memoizedState=os(1|c,Nf(),h,m)}function Yc(o,c,h,m){var b=ni();m=m===void 0?null:m;var S=b.memoizedState.inst;jt!==null&&m!==null&&Mi(m,jt.memoizedState.deps)?b.memoizedState=os(c,S,h,m):(At.flags|=o,b.memoizedState=os(1|c,S,h,m))}function id(o,c){Qa(8390656,8,o,c)}function sg(o,c){Yc(2048,8,o,c)}function rd(o,c){return Yc(4,2,o,c)}function $l(o,c){return Yc(4,4,o,c)}function lg(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function ad(o,c,h){h=h!=null?h.concat([o]):null,Yc(4,4,lg.bind(null,c,o),h)}function od(){}function sd(o,c){var h=ni();c=c===void 0?null:c;var m=h.memoizedState;return c!==null&&Mi(c,m[1])?m[0]:(h.memoizedState=[o,c],o)}function cg(o,c){var h=ni();c=c===void 0?null:c;var m=h.memoizedState;if(c!==null&&Mi(c,m[1]))return m[0];if(m=o(),$i){en(!0);try{o()}finally{en(!1)}}return h.memoizedState=[m,c],m}function Gl(o,c,h){return h===void 0||(In&1073741824)!==0?o.memoizedState=c:(o.memoizedState=h,o=uw(),At.lanes|=o,eu|=o,h)}function jh(o,c,h,m){return rr(h,c)?h:an.current!==null?(o=Gl(o,h,m),rr(o,c)||(Nr=!0),o):(In&42)===0?(Nr=!0,o.memoizedState=h):(o=uw(),At.lanes|=o,eu|=o,c)}function Cf(o,c,h,m,b){var S=fe.p;fe.p=S!==0&&8>S?S:8;var I=re.T,ee={};re.T=ee,S0(o,!1,c,h);try{var me=b(),ke=re.S;if(ke!==null&&ke(ee,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var We=eg(me,m);fd(o,c,We,no(o))}else fd(o,c,m,no(o))}catch(et){fd(o,c,{then:function(){},status:"rejected",reason:et},no())}finally{fe.p=S,re.T=I}}function ss(){}function xo(o,c,h,m){if(o.tag!==5)throw Error(i(476));var b=ls(o).queue;Cf(o,b,c,pe,h===null?ss:function(){return Tf(o),h(m)})}function ls(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:pe},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Tf(o){var c=ls(o).next.queue;fd(o,c,{},no())}function Rf(){return qi(Rd)}function ld(){return ni().memoizedState}function ug(){return ni().memoizedState}function cd(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=no();o=Ge(h);var m=Je(c,o,h);m!==null&&(io(m,c,h),Xe(m,c,h)),c={cache:Qp()},o.payload=c;return}c=c.return}}function ud(o,c,h){var m=no();h={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},fg(o)?m_(c,h):(h=Gs(o,c,h,m),h!==null&&(io(h,o,m),g_(h,c,m)))}function d_(o,c,h){var m=no();fd(o,c,h,m)}function fd(o,c,h,m){var b={lane:m,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(fg(o))m_(c,b);else{var S=o.alternate;if(o.lanes===0&&(S===null||S.lanes===0)&&(S=c.lastRenderedReducer,S!==null))try{var I=c.lastRenderedState,ee=S(I,h);if(b.hasEagerState=!0,b.eagerState=ee,rr(ee,I))return $s(o,c,b,0),Qn===null&&Ra(),!1}catch{}finally{}if(h=Gs(o,c,b,m),h!==null)return io(h,o,m),g_(h,c,m),!0}return!1}function S0(o,c,h,m){if(m={lane:2,revertLane:n1(),action:m,hasEagerState:!1,eagerState:null,next:null},fg(o)){if(c)throw Error(i(479))}else c=Gs(o,h,m,2),c!==null&&io(c,o,2)}function fg(o){var c=o.alternate;return o===At||c!==null&&c===At}function m_(o,c){sr=xn=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function g_(o,c,h){if((h&4194048)!==0){var m=c.lanes;m&=o.pendingLanes,h|=m,c.lanes=h,An(o,h)}}var hg={readContext:qi,use:Jr,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useLayoutEffect:Rn,useInsertionEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useSyncExternalStore:Rn,useId:Rn,useHostTransitionStatus:Rn,useFormState:Rn,useActionState:Rn,useOptimistic:Rn,useMemoCache:Rn,useCacheRefresh:Rn},v_={readContext:qi,use:Jr,useCallback:function(o,c){return kr().memoizedState=[o,c===void 0?null:c],o},useContext:qi,useEffect:id,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,Qa(4194308,4,lg.bind(null,c,o),h)},useLayoutEffect:function(o,c){return Qa(4194308,4,o,c)},useInsertionEffect:function(o,c){Qa(4,2,o,c)},useMemo:function(o,c){var h=kr();c=c===void 0?null:c;var m=o();if($i){en(!0);try{o()}finally{en(!1)}}return h.memoizedState=[m,c],m},useReducer:function(o,c,h){var m=kr();if(h!==void 0){var b=h(c);if($i){en(!0);try{h(c)}finally{en(!1)}}}else b=c;return m.memoizedState=m.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},m.queue=o,o=o.dispatch=ud.bind(null,At,o),[m.memoizedState,o]},useRef:function(o){var c=kr();return o={current:o},c.memoizedState=o},useState:function(o){o=Sf(o);var c=o.queue,h=d_.bind(null,At,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:od,useDeferredValue:function(o,c){var h=kr();return Gl(h,o,c)},useTransition:function(){var o=Sf(!1);return o=Cf.bind(null,At,o.queue,!0,!1),kr().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var m=At,b=kr();if(Nn){if(h===void 0)throw Error(i(407));h=h()}else{if(h=c(),Qn===null)throw Error(i(349));(En&124)!==0||Oh(m,c,h)}b.memoizedState=h;var S={value:h,getSnapshot:c};return b.queue=S,id(Vc.bind(null,m,S,o),[o]),m.flags|=2048,os(9,Nf(),Ef.bind(null,m,S,h,c),null),h},useId:function(){var o=kr(),c=Qn.identifierPrefix;if(Nn){var h=ts,m=es;h=(m&~(1<<32-mt(m)-1)).toString(32)+h,c=""+c+"R"+h,h=xi++,0<h&&(c+="H"+h.toString(32)),c+=""}else h=La++,c=""+c+"r"+h.toString(32)+"";return o.memoizedState=c},useHostTransitionStatus:Rf,useFormState:Af,useActionState:Af,useOptimistic:function(o){var c=kr();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=S0.bind(null,At,!0,h),h.dispatch=c,[o,c]},useMemoCache:el,useCacheRefresh:function(){return kr().memoizedState=cd.bind(null,At)}},y_={readContext:qi,use:Jr,useCallback:sd,useContext:qi,useEffect:sg,useImperativeHandle:ad,useInsertionEffect:rd,useLayoutEffect:$l,useMemo:cg,useReducer:wf,useRef:kh,useState:function(){return wf(ea)},useDebugValue:od,useDeferredValue:function(o,c){var h=ni();return jh(h,jt.memoizedState,o,c)},useTransition:function(){var o=wf(ea)[0],c=ni().memoizedState;return[typeof o=="boolean"?o:Js(o),c]},useSyncExternalStore:xf,useId:ld,useHostTransitionStatus:Rf,useFormState:Bh,useActionState:Bh,useOptimistic:function(o,c){var h=ni();return as(h,jt,o,c)},useMemoCache:el,useCacheRefresh:ug},s8={readContext:qi,use:Jr,useCallback:sd,useContext:qi,useEffect:sg,useImperativeHandle:ad,useInsertionEffect:rd,useLayoutEffect:$l,useMemo:cg,useReducer:Dh,useRef:kh,useState:function(){return Dh(ea)},useDebugValue:od,useDeferredValue:function(o,c){var h=ni();return jt===null?Gl(h,o,c):jh(h,jt.memoizedState,o,c)},useTransition:function(){var o=Dh(ea)[0],c=ni().memoizedState;return[typeof o=="boolean"?o:Js(o),c]},useSyncExternalStore:xf,useId:ld,useHostTransitionStatus:Rf,useFormState:og,useActionState:og,useOptimistic:function(o,c){var h=ni();return jt!==null?as(h,jt,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:el,useCacheRefresh:ug},Ih=null,hd=0;function pg(o){var c=hd;return hd+=1,Ih===null&&(Ih=[]),Be(Ih,o,c)}function pd(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function dg(o,c){throw c.$$typeof===d?Error(i(525)):(o=Object.prototype.toString.call(c),Error(i(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function b_(o){var c=o._init;return c(o._payload)}function __(o){function c(Me,we){if(o){var Oe=Me.deletions;Oe===null?(Me.deletions=[we],Me.flags|=16):Oe.push(we)}}function h(Me,we){if(!o)return null;for(;we!==null;)c(Me,we),we=we.sibling;return null}function m(Me){for(var we=new Map;Me!==null;)Me.key!==null?we.set(Me.key,Me):we.set(Me.index,Me),Me=Me.sibling;return we}function b(Me,we){return Me=vo(Me,we),Me.index=0,Me.sibling=null,Me}function S(Me,we,Oe){return Me.index=Oe,o?(Oe=Me.alternate,Oe!==null?(Oe=Oe.index,Oe<we?(Me.flags|=67108866,we):Oe):(Me.flags|=67108866,we)):(Me.flags|=1048576,we)}function I(Me){return o&&Me.alternate===null&&(Me.flags|=67108866),Me}function ee(Me,we,Oe,Ze){return we===null||we.tag!==6?(we=Nh(Oe,Me.mode,Ze),we.return=Me,we):(we=b(we,Oe),we.return=Me,we)}function me(Me,we,Oe,Ze){var gt=Oe.type;return gt===w?We(Me,we,Oe.props.children,Ze,Oe.key):we!==null&&(we.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===z&&b_(gt)===we.type)?(we=b(we,Oe.props),pd(we,Oe),we.return=Me,we):(we=Il(Oe.type,Oe.key,Oe.props,null,Me.mode,Ze),pd(we,Oe),we.return=Me,we)}function ke(Me,we,Oe,Ze){return we===null||we.tag!==4||we.stateNode.containerInfo!==Oe.containerInfo||we.stateNode.implementation!==Oe.implementation?(we=mf(Oe,Me.mode,Ze),we.return=Me,we):(we=b(we,Oe.children||[]),we.return=Me,we)}function We(Me,we,Oe,Ze,gt){return we===null||we.tag!==7?(we=Qo(Oe,Me.mode,Ze,gt),we.return=Me,we):(we=b(we,Oe),we.return=Me,we)}function et(Me,we,Oe){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=Nh(""+we,Me.mode,Oe),we.return=Me,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case v:return Oe=Il(we.type,we.key,we.props,null,Me.mode,Oe),pd(Oe,we),Oe.return=Me,Oe;case g:return we=mf(we,Me.mode,Oe),we.return=Me,we;case z:var Ze=we._init;return we=Ze(we._payload),et(Me,we,Oe)}if(xe(we)||j(we))return we=Qo(we,Me.mode,Oe,null),we.return=Me,we;if(typeof we.then=="function")return et(Me,pg(we),Oe);if(we.$$typeof===M)return et(Me,Ks(Me,we),Oe);dg(Me,we)}return null}function Fe(Me,we,Oe,Ze){var gt=we!==null?we.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return gt!==null?null:ee(Me,we,""+Oe,Ze);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case v:return Oe.key===gt?me(Me,we,Oe,Ze):null;case g:return Oe.key===gt?ke(Me,we,Oe,Ze):null;case z:return gt=Oe._init,Oe=gt(Oe._payload),Fe(Me,we,Oe,Ze)}if(xe(Oe)||j(Oe))return gt!==null?null:We(Me,we,Oe,Ze,null);if(typeof Oe.then=="function")return Fe(Me,we,pg(Oe),Ze);if(Oe.$$typeof===M)return Fe(Me,we,Ks(Me,Oe),Ze);dg(Me,Oe)}return null}function ze(Me,we,Oe,Ze,gt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Me=Me.get(Oe)||null,ee(we,Me,""+Ze,gt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case v:return Me=Me.get(Ze.key===null?Oe:Ze.key)||null,me(we,Me,Ze,gt);case g:return Me=Me.get(Ze.key===null?Oe:Ze.key)||null,ke(we,Me,Ze,gt);case z:var dn=Ze._init;return Ze=dn(Ze._payload),ze(Me,we,Oe,Ze,gt)}if(xe(Ze)||j(Ze))return Me=Me.get(Oe)||null,We(we,Me,Ze,gt,null);if(typeof Ze.then=="function")return ze(Me,we,Oe,pg(Ze),gt);if(Ze.$$typeof===M)return ze(Me,we,Oe,Ks(we,Ze),gt);dg(we,Ze)}return null}function Ht(Me,we,Oe,Ze){for(var gt=null,dn=null,Et=we,Ot=we=0,Tr=null;Et!==null&&Ot<Oe.length;Ot++){Et.index>Ot?(Tr=Et,Et=null):Tr=Et.sibling;var Mn=Fe(Me,Et,Oe[Ot],Ze);if(Mn===null){Et===null&&(Et=Tr);break}o&&Et&&Mn.alternate===null&&c(Me,Et),we=S(Mn,we,Ot),dn===null?gt=Mn:dn.sibling=Mn,dn=Mn,Et=Tr}if(Ot===Oe.length)return h(Me,Et),Nn&&zl(Me,Ot),gt;if(Et===null){for(;Ot<Oe.length;Ot++)Et=et(Me,Oe[Ot],Ze),Et!==null&&(we=S(Et,we,Ot),dn===null?gt=Et:dn.sibling=Et,dn=Et);return Nn&&zl(Me,Ot),gt}for(Et=m(Et);Ot<Oe.length;Ot++)Tr=ze(Et,Me,Ot,Oe[Ot],Ze),Tr!==null&&(o&&Tr.alternate!==null&&Et.delete(Tr.key===null?Ot:Tr.key),we=S(Tr,we,Ot),dn===null?gt=Tr:dn.sibling=Tr,dn=Tr);return o&&Et.forEach(function(cu){return c(Me,cu)}),Nn&&zl(Me,Ot),gt}function Lt(Me,we,Oe,Ze){if(Oe==null)throw Error(i(151));for(var gt=null,dn=null,Et=we,Ot=we=0,Tr=null,Mn=Oe.next();Et!==null&&!Mn.done;Ot++,Mn=Oe.next()){Et.index>Ot?(Tr=Et,Et=null):Tr=Et.sibling;var cu=Fe(Me,Et,Mn.value,Ze);if(cu===null){Et===null&&(Et=Tr);break}o&&Et&&cu.alternate===null&&c(Me,Et),we=S(cu,we,Ot),dn===null?gt=cu:dn.sibling=cu,dn=cu,Et=Tr}if(Mn.done)return h(Me,Et),Nn&&zl(Me,Ot),gt;if(Et===null){for(;!Mn.done;Ot++,Mn=Oe.next())Mn=et(Me,Mn.value,Ze),Mn!==null&&(we=S(Mn,we,Ot),dn===null?gt=Mn:dn.sibling=Mn,dn=Mn);return Nn&&zl(Me,Ot),gt}for(Et=m(Et);!Mn.done;Ot++,Mn=Oe.next())Mn=ze(Et,Me,Ot,Mn.value,Ze),Mn!==null&&(o&&Mn.alternate!==null&&Et.delete(Mn.key===null?Ot:Mn.key),we=S(Mn,we,Ot),dn===null?gt=Mn:dn.sibling=Mn,dn=Mn);return o&&Et.forEach(function(lT){return c(Me,lT)}),Nn&&zl(Me,Ot),gt}function $n(Me,we,Oe,Ze){if(typeof Oe=="object"&&Oe!==null&&Oe.type===w&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case v:e:{for(var gt=Oe.key;we!==null;){if(we.key===gt){if(gt=Oe.type,gt===w){if(we.tag===7){h(Me,we.sibling),Ze=b(we,Oe.props.children),Ze.return=Me,Me=Ze;break e}}else if(we.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===z&&b_(gt)===we.type){h(Me,we.sibling),Ze=b(we,Oe.props),pd(Ze,Oe),Ze.return=Me,Me=Ze;break e}h(Me,we);break}else c(Me,we);we=we.sibling}Oe.type===w?(Ze=Qo(Oe.props.children,Me.mode,Ze,Oe.key),Ze.return=Me,Me=Ze):(Ze=Il(Oe.type,Oe.key,Oe.props,null,Me.mode,Ze),pd(Ze,Oe),Ze.return=Me,Me=Ze)}return I(Me);case g:e:{for(gt=Oe.key;we!==null;){if(we.key===gt)if(we.tag===4&&we.stateNode.containerInfo===Oe.containerInfo&&we.stateNode.implementation===Oe.implementation){h(Me,we.sibling),Ze=b(we,Oe.children||[]),Ze.return=Me,Me=Ze;break e}else{h(Me,we);break}else c(Me,we);we=we.sibling}Ze=mf(Oe,Me.mode,Ze),Ze.return=Me,Me=Ze}return I(Me);case z:return gt=Oe._init,Oe=gt(Oe._payload),$n(Me,we,Oe,Ze)}if(xe(Oe))return Ht(Me,we,Oe,Ze);if(j(Oe)){if(gt=j(Oe),typeof gt!="function")throw Error(i(150));return Oe=gt.call(Oe),Lt(Me,we,Oe,Ze)}if(typeof Oe.then=="function")return $n(Me,we,pg(Oe),Ze);if(Oe.$$typeof===M)return $n(Me,we,Ks(Me,Oe),Ze);dg(Me,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,we!==null&&we.tag===6?(h(Me,we.sibling),Ze=b(we,Oe),Ze.return=Me,Me=Ze):(h(Me,we),Ze=Nh(Oe,Me.mode,Ze),Ze.return=Me,Me=Ze),I(Me)):h(Me,we)}return function(Me,we,Oe,Ze){try{hd=0;var gt=$n(Me,we,Oe,Ze);return Ih=null,gt}catch(Et){if(Et===G||Et===J)throw Et;var dn=Ar(29,Et,null,Me.mode);return dn.lanes=Ze,dn.return=Me,dn}finally{}}}var Fh=__(!0),w_=__(!1),Eo=ge(null),tl=null;function Wc(o){var c=o.alternate;F(vr,vr.current&1),F(Eo,o),tl===null&&(c===null||an.current!==null||c.memoizedState!==null)&&(tl=o)}function x_(o){if(o.tag===22){if(F(vr,vr.current),F(Eo,o),tl===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(tl=o)}}else Xc()}function Xc(){F(vr,vr.current),F(Eo,Eo.current)}function Yl(o){O(Eo),tl===o&&(tl=null),O(vr)}var vr=ge(0);function mg(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||d1(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function A0(o,c,h,m){c=o.memoizedState,h=h(m,c),h=h==null?c:p({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var N0={enqueueSetState:function(o,c,h){o=o._reactInternals;var m=no(),b=Ge(m);b.payload=c,h!=null&&(b.callback=h),c=Je(o,b,m),c!==null&&(io(c,o,m),Xe(c,o,m))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var m=no(),b=Ge(m);b.tag=1,b.payload=c,h!=null&&(b.callback=h),c=Je(o,b,m),c!==null&&(io(c,o,m),Xe(c,o,m))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=no(),m=Ge(h);m.tag=2,c!=null&&(m.callback=c),c=Je(o,m,h),c!==null&&(io(c,o,h),Xe(c,o,h))}};function E_(o,c,h,m,b,S,I){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,S,I):c.prototype&&c.prototype.isPureReactComponent?!Is(h,m)||!Is(b,S):!0}function S_(o,c,h,m){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,m),c.state!==o&&N0.enqueueReplaceState(c,c.state,null)}function Mf(o,c){var h=c;if("ref"in c){h={};for(var m in c)m!=="ref"&&(h[m]=c[m])}if(o=o.defaultProps){h===c&&(h=p({},h));for(var b in o)h[b]===void 0&&(h[b]=o[b])}return h}var gg=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function A_(o){gg(o)}function N_(o){console.error(o)}function C_(o){gg(o)}function vg(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function T_(o,c,h){try{var m=o.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function C0(o,c,h){return h=Ge(h),h.tag=3,h.payload={element:null},h.callback=function(){vg(o,c)},h}function R_(o){return o=Ge(o),o.tag=3,o}function M_(o,c,h,m){var b=h.type.getDerivedStateFromError;if(typeof b=="function"){var S=m.value;o.payload=function(){return b(S)},o.callback=function(){T_(c,h,m)}}var I=h.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(o.callback=function(){T_(c,h,m),typeof b!="function"&&(tu===null?tu=new Set([this]):tu.add(this));var ee=m.stack;this.componentDidCatch(m.value,{componentStack:ee!==null?ee:""})})}function l8(o,c,h,m,b){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=h.alternate,c!==null&&Uc(c,h,b,!0),h=Eo.current,h!==null){switch(h.tag){case 13:return tl===null?Z0():h.alternate===null&&Pi===0&&(Pi=3),h.flags&=-257,h.flags|=65536,h.lanes=b,m===ne?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([m]):c.add(m),J0(o,m,b)),!1;case 22:return h.flags|=65536,m===ne?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([m]):h.add(m)),J0(o,m,b)),!1}throw Error(i(435,h.tag))}return J0(o,m,b),Z0(),!1}if(Nn)return c=Eo.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=b,m!==Zp&&(o=Error(i(422),{cause:m}),Hc(sn(o,h)))):(m!==Zp&&(c=Error(i(423),{cause:m}),Hc(sn(c,h))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,m=sn(m,h),b=C0(o.stateNode,m,b),pt(o,b),Pi!==4&&(Pi=2)),!1;var S=Error(i(520),{cause:m});if(S=sn(S,h),_d===null?_d=[S]:_d.push(S),Pi!==4&&(Pi=2),c===null)return!0;m=sn(m,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=b&-b,h.lanes|=o,o=C0(h.stateNode,m,o),pt(h,o),!1;case 1:if(c=h.type,S=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(tu===null||!tu.has(S))))return h.flags|=65536,b&=-b,h.lanes|=b,b=R_(b),M_(b,o,h,m),pt(h,b),!1}h=h.return}while(h!==null);return!1}var P_=Error(i(461)),Nr=!1;function jr(o,c,h,m){c.child=o===null?w_(c,null,h,m):Fh(c,o.child,h,m)}function L_(o,c,h,m,b){h=h.render;var S=c.ref;if("ref"in m){var I={};for(var ee in m)ee!=="ref"&&(I[ee]=m[ee])}else I=m;return wo(c),m=Za(o,c,h,I,S,b),ee=Zn(),o!==null&&!Nr?(_f(o,c,b),Wl(o,c,b)):(Nn&&ee&&gf(c),c.flags|=1,jr(o,c,m,b),c.child)}function D_(o,c,h,m,b){if(o===null){var S=h.type;return typeof S=="function"&&!Fc(S)&&S.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=S,O_(o,c,S,m,b)):(o=Il(h.type,null,m,c,c.mode,b),o.ref=c.ref,o.return=c,c.child=o)}if(S=o.child,!B0(o,b)){var I=S.memoizedProps;if(h=h.compare,h=h!==null?h:Is,h(I,m)&&o.ref===c.ref)return Wl(o,c,b)}return c.flags|=1,o=vo(S,m),o.ref=c.ref,o.return=c,c.child=o}function O_(o,c,h,m,b){if(o!==null){var S=o.memoizedProps;if(Is(S,m)&&o.ref===c.ref)if(Nr=!1,c.pendingProps=m=S,B0(o,b))(o.flags&131072)!==0&&(Nr=!0);else return c.lanes=o.lanes,Wl(o,c,b)}return T0(o,c,h,m,b)}function B_(o,c,h){var m=c.pendingProps,b=m.children,S=o!==null?o.memoizedState:null;if(m.mode==="hidden"){if((c.flags&128)!==0){if(m=S!==null?S.baseLanes|h:h,o!==null){for(b=c.child=o.child,S=0;b!==null;)S=S|b.lanes|b.childLanes,b=b.sibling;c.childLanes=S&~m}else c.childLanes=0,c.child=null;return k_(o,c,m,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&D(c,S!==null?S.cachePool:null),S!==null?kn(c,S):Tn(),x_(c);else return c.lanes=c.childLanes=536870912,k_(o,c,S!==null?S.baseLanes|h:h,h)}else S!==null?(D(c,S.cachePool),kn(c,S),Xc(),c.memoizedState=null):(o!==null&&D(c,null),Tn(),Xc());return jr(o,c,b,h),c.child}function k_(o,c,h,m){var b=N();return b=b===null?null:{parent:Vi._currentValue,pool:b},c.memoizedState={baseLanes:h,cachePool:b},o!==null&&D(c,null),Tn(),x_(c),o!==null&&Uc(o,c,m,!0),null}function yg(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(i(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function T0(o,c,h,m,b){return wo(c),h=Za(o,c,h,m,void 0,b),m=Zn(),o!==null&&!Nr?(_f(o,c,b),Wl(o,c,b)):(Nn&&m&&gf(c),c.flags|=1,jr(o,c,h,b),c.child)}function j_(o,c,h,m,b,S){return wo(c),c.updateQueue=null,h=ql(c,m,h,b),Zs(o),m=Zn(),o!==null&&!Nr?(_f(o,c,S),Wl(o,c,S)):(Nn&&m&&gf(c),c.flags|=1,jr(o,c,h,S),c.child)}function I_(o,c,h,m,b){if(wo(c),c.stateNode===null){var S=ar,I=h.contextType;typeof I=="object"&&I!==null&&(S=qi(I)),S=new h(m,S),c.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=N0,c.stateNode=S,S._reactInternals=c,S=c.stateNode,S.props=m,S.state=c.memoizedState,S.refs={},_e(c),I=h.contextType,S.context=typeof I=="object"&&I!==null?qi(I):ar,S.state=c.memoizedState,I=h.getDerivedStateFromProps,typeof I=="function"&&(A0(c,h,I,m),S.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(I=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),I!==S.state&&N0.enqueueReplaceState(S,S.state,null),lt(c,m,S,b),xt(),S.state=c.memoizedState),typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(o===null){S=c.stateNode;var ee=c.memoizedProps,me=Mf(h,ee);S.props=me;var ke=S.context,We=h.contextType;I=ar,typeof We=="object"&&We!==null&&(I=qi(We));var et=h.getDerivedStateFromProps;We=typeof et=="function"||typeof S.getSnapshotBeforeUpdate=="function",ee=c.pendingProps!==ee,We||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(ee||ke!==I)&&S_(c,S,m,I),He=!1;var Fe=c.memoizedState;S.state=Fe,lt(c,m,S,b),xt(),ke=c.memoizedState,ee||Fe!==ke||He?(typeof et=="function"&&(A0(c,h,et,m),ke=c.memoizedState),(me=He||E_(c,h,me,m,Fe,ke,I))?(We||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(c.flags|=4194308)):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=ke),S.props=m,S.state=ke,S.context=I,m=me):(typeof S.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{S=c.stateNode,Se(o,c),I=c.memoizedProps,We=Mf(h,I),S.props=We,et=c.pendingProps,Fe=S.context,ke=h.contextType,me=ar,typeof ke=="object"&&ke!==null&&(me=qi(ke)),ee=h.getDerivedStateFromProps,(ke=typeof ee=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I!==et||Fe!==me)&&S_(c,S,m,me),He=!1,Fe=c.memoizedState,S.state=Fe,lt(c,m,S,b),xt();var ze=c.memoizedState;I!==et||Fe!==ze||He||o!==null&&o.dependencies!==null&&Mh(o.dependencies)?(typeof ee=="function"&&(A0(c,h,ee,m),ze=c.memoizedState),(We=He||E_(c,h,We,m,Fe,ze,me)||o!==null&&o.dependencies!==null&&Mh(o.dependencies))?(ke||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,ze,me),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,ze,me)),typeof S.componentDidUpdate=="function"&&(c.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof S.componentDidUpdate!="function"||I===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=ze),S.props=m,S.state=ze,S.context=me,m=We):(typeof S.componentDidUpdate!="function"||I===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||I===o.memoizedProps&&Fe===o.memoizedState||(c.flags|=1024),m=!1)}return S=m,yg(o,c),m=(c.flags&128)!==0,S||m?(S=c.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:S.render(),c.flags|=1,o!==null&&m?(c.child=Fh(c,o.child,null,b),c.child=Fh(c,null,h,b)):jr(o,c,h,b),c.memoizedState=S.state,o=c.child):o=Wl(o,c,b),o}function F_(o,c,h,m){return ya(),c.flags|=256,jr(o,c,h,m),c.child}var R0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function M0(o){return{baseLanes:o,cachePool:q()}}function P0(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=So),o}function z_(o,c,h){var m=c.pendingProps,b=!1,S=(c.flags&128)!==0,I;if((I=S)||(I=o!==null&&o.memoizedState===null?!1:(vr.current&2)!==0),I&&(b=!0,c.flags&=-129),I=(c.flags&32)!==0,c.flags&=-33,o===null){if(Nn){if(b?Wc(c):Xc(),Nn){var ee=pi,me;if(me=ee){e:{for(me=ee,ee=yo;me.nodeType!==8;){if(!ee){ee=null;break e}if(me=us(me.nextSibling),me===null){ee=null;break e}}ee=me}ee!==null?(c.memoizedState={dehydrated:ee,treeContext:Fl!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},me=Ar(18,null,null,0),me.stateNode=ee,me.return=c,c.child=me,Ui=c,pi=null,me=!0):me=!1}me||Hl(c)}if(ee=c.memoizedState,ee!==null&&(ee=ee.dehydrated,ee!==null))return d1(ee)?c.lanes=32:c.lanes=536870912,null;Yl(c)}return ee=m.children,m=m.fallback,b?(Xc(),b=c.mode,ee=bg({mode:"hidden",children:ee},b),m=Qo(m,b,h,null),ee.return=c,m.return=c,ee.sibling=m,c.child=ee,b=c.child,b.memoizedState=M0(h),b.childLanes=P0(o,I,h),c.memoizedState=R0,m):(Wc(c),L0(c,ee))}if(me=o.memoizedState,me!==null&&(ee=me.dehydrated,ee!==null)){if(S)c.flags&256?(Wc(c),c.flags&=-257,c=D0(o,c,h)):c.memoizedState!==null?(Xc(),c.child=o.child,c.flags|=128,c=null):(Xc(),b=m.fallback,ee=c.mode,m=bg({mode:"visible",children:m.children},ee),b=Qo(b,ee,h,null),b.flags|=2,m.return=c,b.return=c,m.sibling=b,c.child=m,Fh(c,o.child,null,h),m=c.child,m.memoizedState=M0(h),m.childLanes=P0(o,I,h),c.memoizedState=R0,c=b);else if(Wc(c),d1(ee)){if(I=ee.nextSibling&&ee.nextSibling.dataset,I)var ke=I.dgst;I=ke,m=Error(i(419)),m.stack="",m.digest=I,Hc({value:m,source:null,stack:null}),c=D0(o,c,h)}else if(Nr||Uc(o,c,h,!1),I=(h&o.childLanes)!==0,Nr||I){if(I=Qn,I!==null&&(m=h&-h,m=(m&42)!==0?1:Fo(m),m=(m&(I.suspendedLanes|h))!==0?0:m,m!==0&&m!==me.retryLane))throw me.retryLane=m,Zo(o,m),io(I,o,m),P_;ee.data==="$?"||Z0(),c=D0(o,c,h)}else ee.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=me.treeContext,pi=us(ee.nextSibling),Ui=c,Nn=!0,Ws=null,yo=!1,o!==null&&(Pa[va++]=es,Pa[va++]=ts,Pa[va++]=Fl,es=o.id,ts=o.overflow,Fl=c),c=L0(c,m.children),c.flags|=4096);return c}return b?(Xc(),b=m.fallback,ee=c.mode,me=o.child,ke=me.sibling,m=vo(me,{mode:"hidden",children:m.children}),m.subtreeFlags=me.subtreeFlags&65011712,ke!==null?b=vo(ke,b):(b=Qo(b,ee,h,null),b.flags|=2),b.return=c,m.return=c,m.sibling=b,c.child=m,m=b,b=c.child,ee=o.child.memoizedState,ee===null?ee=M0(h):(me=ee.cachePool,me!==null?(ke=Vi._currentValue,me=me.parent!==ke?{parent:ke,pool:ke}:me):me=q(),ee={baseLanes:ee.baseLanes|h,cachePool:me}),b.memoizedState=ee,b.childLanes=P0(o,I,h),c.memoizedState=R0,m):(Wc(c),h=o.child,o=h.sibling,h=vo(h,{mode:"visible",children:m.children}),h.return=c,h.sibling=null,o!==null&&(I=c.deletions,I===null?(c.deletions=[o],c.flags|=16):I.push(o)),c.child=h,c.memoizedState=null,h)}function L0(o,c){return c=bg({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function bg(o,c){return o=Ar(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function D0(o,c,h){return Fh(c,o.child,null,h),o=L0(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function H_(o,c,h){o.lanes|=c;var m=o.alternate;m!==null&&(m.lanes|=c),Th(o.return,c,h)}function O0(o,c,h,m,b){var S=o.memoizedState;S===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:b}:(S.isBackwards=c,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=h,S.tailMode=b)}function U_(o,c,h){var m=c.pendingProps,b=m.revealOrder,S=m.tail;if(jr(o,c,m.children,h),m=vr.current,(m&2)!==0)m=m&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&H_(o,h,c);else if(o.tag===19)H_(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}switch(F(vr,m),b){case"forwards":for(h=c.child,b=null;h!==null;)o=h.alternate,o!==null&&mg(o)===null&&(b=h),h=h.sibling;h=b,h===null?(b=c.child,c.child=null):(b=h.sibling,h.sibling=null),O0(c,!1,b,h,S);break;case"backwards":for(h=null,b=c.child,c.child=null;b!==null;){if(o=b.alternate,o!==null&&mg(o)===null){c.child=b;break}o=b.sibling,b.sibling=h,h=b,b=o}O0(c,!0,h,null,S);break;case"together":O0(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Wl(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),eu|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(Uc(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(i(153));if(c.child!==null){for(o=c.child,h=vo(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=vo(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function B0(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Mh(o)))}function c8(o,c,h){switch(c.tag){case 3:C(c,c.stateNode.containerInfo),Xs(c,Vi,o.memoizedState.cache),ya();break;case 27:case 5:Z(c);break;case 4:C(c,c.stateNode.containerInfo);break;case 10:Xs(c,c.type,c.memoizedProps.value);break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(Wc(c),c.flags|=128,null):(h&c.child.childLanes)!==0?z_(o,c,h):(Wc(c),o=Wl(o,c,h),o!==null?o.sibling:null);Wc(c);break;case 19:var b=(o.flags&128)!==0;if(m=(h&c.childLanes)!==0,m||(Uc(o,c,h,!1),m=(h&c.childLanes)!==0),b){if(m)return U_(o,c,h);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),F(vr,vr.current),m)break;return null;case 22:case 23:return c.lanes=0,B_(o,c,h);case 24:Xs(c,Vi,o.memoizedState.cache)}return Wl(o,c,h)}function q_(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)Nr=!0;else{if(!B0(o,h)&&(c.flags&128)===0)return Nr=!1,c8(o,c,h);Nr=(o.flags&131072)!==0}else Nr=!1,Nn&&(c.flags&1048576)!==0&&Xm(c,Ch,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var m=c.elementType,b=m._init;if(m=b(m._payload),c.type=m,typeof m=="function")Fc(m)?(o=Mf(m,o),c.tag=1,c=I_(null,c,m,o,h)):(c.tag=0,c=T0(null,c,m,o,h));else{if(m!=null){if(b=m.$$typeof,b===P){c.tag=11,c=L_(null,c,m,o,h);break e}else if(b===Q){c.tag=14,c=D_(null,c,m,o,h);break e}}throw c=oe(m)||m,Error(i(306,c,""))}}return c;case 0:return T0(o,c,c.type,c.pendingProps,h);case 1:return m=c.type,b=Mf(m,c.pendingProps),I_(o,c,m,b,h);case 3:e:{if(C(c,c.stateNode.containerInfo),o===null)throw Error(i(387));m=c.pendingProps;var S=c.memoizedState;b=S.element,Se(o,c),lt(c,m,null,h);var I=c.memoizedState;if(m=I.cache,Xs(c,Vi,m),m!==S.cache&&Rh(c,[Vi],h,!0),xt(),m=I.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:I.cache},c.updateQueue.baseState=S,c.memoizedState=S,c.flags&256){c=F_(o,c,m,h);break e}else if(m!==b){b=sn(Error(i(424)),c),Hc(b),c=F_(o,c,m,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(pi=us(o.firstChild),Ui=c,Nn=!0,Ws=null,yo=!0,h=w_(c,null,m,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(ya(),m===b){c=Wl(o,c,h);break e}jr(o,c,m,h)}c=c.child}return c;case 26:return yg(o,c),o===null?(h=Yw(c.type,null,c.pendingProps,null))?c.memoizedState=h:Nn||(h=c.type,o=c.pendingProps,m=Dg(he.current).createElement(h),m[Un]=c,m[ei]=o,Fr(m,h,o),jn(m),c.stateNode=m):c.memoizedState=Yw(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Z(c),o===null&&Nn&&(m=c.stateNode=Vw(c.type,c.pendingProps,he.current),Ui=c,yo=!0,b=pi,ru(c.type)?(m1=b,pi=us(m.firstChild)):pi=b),jr(o,c,c.pendingProps.children,h),yg(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Nn&&((b=m=pi)&&(m=j8(m,c.type,c.pendingProps,yo),m!==null?(c.stateNode=m,Ui=c,pi=us(m.firstChild),yo=!1,b=!0):b=!1),b||Hl(c)),Z(c),b=c.type,S=c.pendingProps,I=o!==null?o.memoizedProps:null,m=S.children,f1(b,S)?m=null:I!==null&&f1(b,I)&&(c.flags|=32),c.memoizedState!==null&&(b=Za(o,c,Qs,null,null,h),Rd._currentValue=b),yg(o,c),jr(o,c,m,h),c.child;case 6:return o===null&&Nn&&((o=h=pi)&&(h=I8(h,c.pendingProps,yo),h!==null?(c.stateNode=h,Ui=c,pi=null,o=!0):o=!1),o||Hl(c)),null;case 13:return z_(o,c,h);case 4:return C(c,c.stateNode.containerInfo),m=c.pendingProps,o===null?c.child=Fh(c,null,m,h):jr(o,c,m,h),c.child;case 11:return L_(o,c,c.type,c.pendingProps,h);case 7:return jr(o,c,c.pendingProps,h),c.child;case 8:return jr(o,c,c.pendingProps.children,h),c.child;case 12:return jr(o,c,c.pendingProps.children,h),c.child;case 10:return m=c.pendingProps,Xs(c,c.type,m.value),jr(o,c,m.children,h),c.child;case 9:return b=c.type._context,m=c.pendingProps.children,wo(c),b=qi(b),m=m(b),c.flags|=1,jr(o,c,m,h),c.child;case 14:return D_(o,c,c.type,c.pendingProps,h);case 15:return O_(o,c,c.type,c.pendingProps,h);case 19:return U_(o,c,h);case 31:return m=c.pendingProps,h=c.mode,m={mode:m.mode,children:m.children},o===null?(h=bg(m,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=vo(o.child,m),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return B_(o,c,h);case 24:return wo(c),m=qi(Vi),o===null?(b=N(),b===null&&(b=Qn,S=Qp(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=h),b=S),c.memoizedState={parent:m,cache:b},_e(c),Xs(c,Vi,b)):((o.lanes&h)!==0&&(Se(o,c),lt(c,null,null,h),xt()),b=o.memoizedState,S=c.memoizedState,b.parent!==m?(b={parent:m,cache:m},c.memoizedState=b,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=b),Xs(c,Vi,m)):(m=S.cache,Xs(c,Vi,m),m!==b.cache&&Rh(c,[Vi],h,!0))),jr(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(i(156,c.tag))}function Xl(o){o.flags|=4}function V_(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Qw(c)){if(c=Eo.current,c!==null&&((En&4194048)===En?tl!==null:(En&62914560)!==En&&(En&536870912)===0||c!==tl))throw De=ne,X;o.flags|=8192}}function _g(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?On():536870912,o.lanes|=c,qh|=c)}function dd(o,c){if(!Nn)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Si(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,m=0;if(c)for(var b=o.child;b!==null;)h|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)h|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=m,o.childLanes=h,c}function u8(o,c,h){var m=c.pendingProps;switch(vf(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Si(c),null;case 1:return Si(c),null;case 3:return h=c.stateNode,m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),_o(Vi),T(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Br(c)?Xl(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Zm())),Si(c),null;case 26:return h=c.memoizedState,o===null?(Xl(c),h!==null?(Si(c),V_(c,h)):(Si(c),c.flags&=-16777217)):h?h!==o.memoizedState?(Xl(c),Si(c),V_(c,h)):(Si(c),c.flags&=-16777217):(o.memoizedProps!==m&&Xl(c),Si(c),c.flags&=-16777217),null;case 27:te(c),h=he.current;var b=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==m&&Xl(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return Si(c),null}o=K.current,Br(c)?Km(c):(o=Vw(b,m,h),c.stateNode=o,Xl(c))}return Si(c),null;case 5:if(te(c),h=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==m&&Xl(c);else{if(!m){if(c.stateNode===null)throw Error(i(166));return Si(c),null}if(o=K.current,Br(c))Km(c);else{switch(b=Dg(he.current),o){case 1:o=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=b.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof m.is=="string"?b.createElement("select",{is:m.is}):b.createElement("select"),m.multiple?o.multiple=!0:m.size&&(o.size=m.size);break;default:o=typeof m.is=="string"?b.createElement(h,{is:m.is}):b.createElement(h)}}o[Un]=c,o[ei]=m;e:for(b=c.child;b!==null;){if(b.tag===5||b.tag===6)o.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===c)break e;for(;b.sibling===null;){if(b.return===null||b.return===c)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}c.stateNode=o;e:switch(Fr(o,h,m),h){case"button":case"input":case"select":case"textarea":o=!!m.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Xl(c)}}return Si(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==m&&Xl(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(i(166));if(o=he.current,Br(c)){if(o=c.stateNode,h=c.memoizedProps,m=null,b=Ui,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}o[Un]=c,o=!!(o.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||jw(o.nodeValue,h)),o||Hl(c)}else o=Dg(o).createTextNode(m),o[Un]=c,c.stateNode=o}return Si(c),null;case 13:if(m=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=Br(c),m!==null&&m.dehydrated!==null){if(o===null){if(!b)throw Error(i(318));if(b=c.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[Un]=c}else ya(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Si(c),b=!1}else b=Zm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return c.flags&256?(Yl(c),c):(Yl(c),null)}if(Yl(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=m!==null,o=o!==null&&o.memoizedState!==null,h){m=c.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool);var S=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==b&&(m.flags|=2048)}return h!==o&&h&&(c.child.flags|=8192),_g(c,c.updateQueue),Si(c),null;case 4:return T(),o===null&&o1(c.stateNode.containerInfo),Si(c),null;case 10:return _o(c.type),Si(c),null;case 19:if(O(vr),b=c.memoizedState,b===null)return Si(c),null;if(m=(c.flags&128)!==0,S=b.rendering,S===null)if(m)dd(b,!1);else{if(Pi!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(S=mg(o),S!==null){for(c.flags|=128,dd(b,!1),o=S.updateQueue,c.updateQueue=o,_g(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)df(h,o),h=h.sibling;return F(vr,vr.current&1|2),c.child}o=o.sibling}b.tail!==null&&Le()>Eg&&(c.flags|=128,m=!0,dd(b,!1),c.lanes=4194304)}else{if(!m)if(o=mg(S),o!==null){if(c.flags|=128,m=!0,o=o.updateQueue,c.updateQueue=o,_g(c,o),dd(b,!0),b.tail===null&&b.tailMode==="hidden"&&!S.alternate&&!Nn)return Si(c),null}else 2*Le()-b.renderingStartTime>Eg&&h!==536870912&&(c.flags|=128,m=!0,dd(b,!1),c.lanes=4194304);b.isBackwards?(S.sibling=c.child,c.child=S):(o=b.last,o!==null?o.sibling=S:c.child=S,b.last=S)}return b.tail!==null?(c=b.tail,b.rendering=c,b.tail=c.sibling,b.renderingStartTime=Le(),c.sibling=null,o=vr.current,F(vr,m?o&1|2:o&1),c):(Si(c),null);case 22:case 23:return Yl(c),Vt(),m=c.memoizedState!==null,o!==null?o.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(h&536870912)!==0&&(c.flags&128)===0&&(Si(c),c.subtreeFlags&6&&(c.flags|=8192)):Si(c),h=c.updateQueue,h!==null&&_g(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048),o!==null&&O(_),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),_o(Vi),Si(c),null;case 25:return null;case 30:return null}throw Error(i(156,c.tag))}function f8(o,c){switch(vf(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return _o(Vi),T(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return te(c),null;case 13:if(Yl(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(i(340));ya()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return O(vr),null;case 4:return T(),null;case 10:return _o(c.type),null;case 22:case 23:return Yl(c),Vt(),o!==null&&O(_),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return _o(Vi),null;case 25:return null;default:return null}}function $_(o,c){switch(vf(c),c.tag){case 3:_o(Vi),T();break;case 26:case 27:case 5:te(c);break;case 4:T();break;case 13:Yl(c);break;case 19:O(vr);break;case 10:_o(c.type);break;case 22:case 23:Yl(c),Vt(),o!==null&&O(_);break;case 24:_o(Vi)}}function md(o,c){try{var h=c.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var b=m.next;h=b;do{if((h.tag&o)===o){m=void 0;var S=h.create,I=h.inst;m=S(),I.destroy=m}h=h.next}while(h!==b)}}catch(ee){Wn(c,c.return,ee)}}function Kc(o,c,h){try{var m=c.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var S=b.next;m=S;do{if((m.tag&o)===o){var I=m.inst,ee=I.destroy;if(ee!==void 0){I.destroy=void 0,b=c;var me=h,ke=ee;try{ke()}catch(We){Wn(b,me,We)}}}m=m.next}while(m!==S)}}catch(We){Wn(c,c.return,We)}}function G_(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{Cn(c,h)}catch(m){Wn(o,o.return,m)}}}function Y_(o,c,h){h.props=Mf(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(m){Wn(o,c,m)}}function gd(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var m=o.stateNode;break;case 30:m=o.stateNode;break;default:m=o.stateNode}typeof h=="function"?o.refCleanup=h(m):h.current=m}}catch(b){Wn(o,c,b)}}function nl(o,c){var h=o.ref,m=o.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(b){Wn(o,c,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(b){Wn(o,c,b)}else h.current=null}function W_(o){var c=o.type,h=o.memoizedProps,m=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(b){Wn(o,o.return,b)}}function k0(o,c,h){try{var m=o.stateNode;L8(m,o.type,h,c),m[ei]=c}catch(b){Wn(o,o.return,b)}}function X_(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ru(o.type)||o.tag===4}function j0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||X_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ru(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function I0(o,c,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Lg));else if(m!==4&&(m===27&&ru(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(I0(o,c,h),o=o.sibling;o!==null;)I0(o,c,h),o=o.sibling}function wg(o,c,h){var m=o.tag;if(m===5||m===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(m!==4&&(m===27&&ru(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(wg(o,c,h),o=o.sibling;o!==null;)wg(o,c,h),o=o.sibling}function K_(o){var c=o.stateNode,h=o.memoizedProps;try{for(var m=o.type,b=c.attributes;b.length;)c.removeAttributeNode(b[0]);Fr(c,m,h),c[Un]=o,c[ei]=h}catch(S){Wn(o,o.return,S)}}var Kl=!1,Gi=!1,F0=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,Cr=null;function h8(o,c){if(o=o.containerInfo,c1=Fg,o=Or(o),gr(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var b=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{h.nodeType,S.nodeType}catch{h=null;break e}var I=0,ee=-1,me=-1,ke=0,We=0,et=o,Fe=null;t:for(;;){for(var ze;et!==h||b!==0&&et.nodeType!==3||(ee=I+b),et!==S||m!==0&&et.nodeType!==3||(me=I+m),et.nodeType===3&&(I+=et.nodeValue.length),(ze=et.firstChild)!==null;)Fe=et,et=ze;for(;;){if(et===o)break t;if(Fe===h&&++ke===b&&(ee=I),Fe===S&&++We===m&&(me=I),(ze=et.nextSibling)!==null)break;et=Fe,Fe=et.parentNode}et=ze}h=ee===-1||me===-1?null:{start:ee,end:me}}else h=null}h=h||{start:0,end:0}}else h=null;for(u1={focusedElem:o,selectionRange:h},Fg=!1,Cr=c;Cr!==null;)if(c=Cr,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Cr=o;else for(;Cr!==null;){switch(c=Cr,S=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&S!==null){o=void 0,h=c,b=S.memoizedProps,S=S.memoizedState,m=h.stateNode;try{var Ht=Mf(h.type,b,h.elementType===h.type);o=m.getSnapshotBeforeUpdate(Ht,S),m.__reactInternalSnapshotBeforeUpdate=o}catch(Lt){Wn(h,h.return,Lt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)p1(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":p1(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(i(163))}if(o=c.sibling,o!==null){o.return=c.return,Cr=o;break}Cr=c.return}}function Q_(o,c,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Zc(o,h),m&4&&md(5,h);break;case 1:if(Zc(o,h),m&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(I){Wn(h,h.return,I)}else{var b=Mf(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(b,c,o.__reactInternalSnapshotBeforeUpdate)}catch(I){Wn(h,h.return,I)}}m&64&&G_(h),m&512&&gd(h,h.return);break;case 3:if(Zc(o,h),m&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{Cn(o,c)}catch(I){Wn(h,h.return,I)}}break;case 27:c===null&&m&4&&K_(h);case 26:case 5:Zc(o,h),c===null&&m&4&&W_(h),m&512&&gd(h,h.return);break;case 12:Zc(o,h);break;case 13:Zc(o,h),m&4&&tw(o,h),m&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=w8.bind(null,h),F8(o,h))));break;case 22:if(m=h.memoizedState!==null||Kl,!m){c=c!==null&&c.memoizedState!==null||Gi,b=Kl;var S=Gi;Kl=m,(Gi=c)&&!S?Qc(o,h,(h.subtreeFlags&8772)!==0):Zc(o,h),Kl=b,Gi=S}break;case 30:break;default:Zc(o,h)}}function J_(o){var c=o.alternate;c!==null&&(o.alternate=null,J_(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&ha(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var di=null,Da=!1;function Zl(o,c,h){for(h=h.child;h!==null;)ew(o,c,h),h=h.sibling}function ew(o,c,h){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Ft,h)}catch{}switch(h.tag){case 26:Gi||nl(h,c),Zl(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Gi||nl(h,c);var m=di,b=Da;ru(h.type)&&(di=h.stateNode,Da=!1),Zl(o,c,h),Ad(h.stateNode),di=m,Da=b;break;case 5:Gi||nl(h,c);case 6:if(m=di,b=Da,di=null,Zl(o,c,h),di=m,Da=b,di!==null)if(Da)try{(di.nodeType===9?di.body:di.nodeName==="HTML"?di.ownerDocument.body:di).removeChild(h.stateNode)}catch(S){Wn(h,c,S)}else try{di.removeChild(h.stateNode)}catch(S){Wn(h,c,S)}break;case 18:di!==null&&(Da?(o=di,Uw(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),Dd(o)):Uw(di,h.stateNode));break;case 4:m=di,b=Da,di=h.stateNode.containerInfo,Da=!0,Zl(o,c,h),di=m,Da=b;break;case 0:case 11:case 14:case 15:Gi||Kc(2,h,c),Gi||Kc(4,h,c),Zl(o,c,h);break;case 1:Gi||(nl(h,c),m=h.stateNode,typeof m.componentWillUnmount=="function"&&Y_(h,c,m)),Zl(o,c,h);break;case 21:Zl(o,c,h);break;case 22:Gi=(m=Gi)||h.memoizedState!==null,Zl(o,c,h),Gi=m;break;default:Zl(o,c,h)}}function tw(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Dd(o)}catch(h){Wn(c,c.return,h)}}function p8(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new Z_),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new Z_),c;default:throw Error(i(435,o.tag))}}function z0(o,c){var h=p8(o);c.forEach(function(m){var b=x8.bind(null,o,m);h.has(m)||(h.add(m),m.then(b,b))})}function Ja(o,c){var h=c.deletions;if(h!==null)for(var m=0;m<h.length;m++){var b=h[m],S=o,I=c,ee=I;e:for(;ee!==null;){switch(ee.tag){case 27:if(ru(ee.type)){di=ee.stateNode,Da=!1;break e}break;case 5:di=ee.stateNode,Da=!1;break e;case 3:case 4:di=ee.stateNode.containerInfo,Da=!0;break e}ee=ee.return}if(di===null)throw Error(i(160));ew(S,I,b),di=null,Da=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)nw(c,o),c=c.sibling}var cs=null;function nw(o,c){var h=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ja(c,o),eo(o),m&4&&(Kc(3,o,o.return),md(3,o),Kc(5,o,o.return));break;case 1:Ja(c,o),eo(o),m&512&&(Gi||h===null||nl(h,h.return)),m&64&&Kl&&(o=o.updateQueue,o!==null&&(m=o.callbacks,m!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var b=cs;if(Ja(c,o),eo(o),m&512&&(Gi||h===null||nl(h,h.return)),m&4){var S=h!==null?h.memoizedState:null;if(m=o.memoizedState,h===null)if(m===null)if(o.stateNode===null){e:{m=o.type,h=o.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":S=b.getElementsByTagName("title")[0],(!S||S[fa]||S[Un]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(m),b.head.insertBefore(S,b.querySelector("head > title"))),Fr(S,m,h),S[Un]=o,jn(S),m=S;break e;case"link":var I=Kw("link","href",b).get(m+(h.href||""));if(I){for(var ee=0;ee<I.length;ee++)if(S=I[ee],S.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&S.getAttribute("rel")===(h.rel==null?null:h.rel)&&S.getAttribute("title")===(h.title==null?null:h.title)&&S.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){I.splice(ee,1);break t}}S=b.createElement(m),Fr(S,m,h),b.head.appendChild(S);break;case"meta":if(I=Kw("meta","content",b).get(m+(h.content||""))){for(ee=0;ee<I.length;ee++)if(S=I[ee],S.getAttribute("content")===(h.content==null?null:""+h.content)&&S.getAttribute("name")===(h.name==null?null:h.name)&&S.getAttribute("property")===(h.property==null?null:h.property)&&S.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&S.getAttribute("charset")===(h.charSet==null?null:h.charSet)){I.splice(ee,1);break t}}S=b.createElement(m),Fr(S,m,h),b.head.appendChild(S);break;default:throw Error(i(468,m))}S[Un]=o,jn(S),m=S}o.stateNode=m}else Zw(b,o.type,o.stateNode);else o.stateNode=Xw(b,m,o.memoizedProps);else S!==m?(S===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):S.count--,m===null?Zw(b,o.type,o.stateNode):Xw(b,m,o.memoizedProps)):m===null&&o.stateNode!==null&&k0(o,o.memoizedProps,h.memoizedProps)}break;case 27:Ja(c,o),eo(o),m&512&&(Gi||h===null||nl(h,h.return)),h!==null&&m&4&&k0(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Ja(c,o),eo(o),m&512&&(Gi||h===null||nl(h,h.return)),o.flags&32){b=o.stateNode;try{Rs(b,"")}catch(ze){Wn(o,o.return,ze)}}m&4&&o.stateNode!=null&&(b=o.memoizedProps,k0(o,b,h!==null?h.memoizedProps:b)),m&1024&&(F0=!0);break;case 6:if(Ja(c,o),eo(o),m&4){if(o.stateNode===null)throw Error(i(162));m=o.memoizedProps,h=o.stateNode;try{h.nodeValue=m}catch(ze){Wn(o,o.return,ze)}}break;case 3:if(kg=null,b=cs,cs=Og(c.containerInfo),Ja(c,o),cs=b,eo(o),m&4&&h!==null&&h.memoizedState.isDehydrated)try{Dd(c.containerInfo)}catch(ze){Wn(o,o.return,ze)}F0&&(F0=!1,iw(o));break;case 4:m=cs,cs=Og(o.stateNode.containerInfo),Ja(c,o),eo(o),cs=m;break;case 12:Ja(c,o),eo(o);break;case 13:Ja(c,o),eo(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(G0=Le()),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,z0(o,m)));break;case 22:b=o.memoizedState!==null;var me=h!==null&&h.memoizedState!==null,ke=Kl,We=Gi;if(Kl=ke||b,Gi=We||me,Ja(c,o),Gi=We,Kl=ke,eo(o),m&8192)e:for(c=o.stateNode,c._visibility=b?c._visibility&-2:c._visibility|1,b&&(h===null||me||Kl||Gi||Pf(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){me=h=c;try{if(S=me.stateNode,b)I=S.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{ee=me.stateNode;var et=me.memoizedProps.style,Fe=et!=null&&et.hasOwnProperty("display")?et.display:null;ee.style.display=Fe==null||typeof Fe=="boolean"?"":(""+Fe).trim()}}catch(ze){Wn(me,me.return,ze)}}}else if(c.tag===6){if(h===null){me=c;try{me.stateNode.nodeValue=b?"":me.memoizedProps}catch(ze){Wn(me,me.return,ze)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=o.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,z0(o,h))));break;case 19:Ja(c,o),eo(o),m&4&&(m=o.updateQueue,m!==null&&(o.updateQueue=null,z0(o,m)));break;case 30:break;case 21:break;default:Ja(c,o),eo(o)}}function eo(o){var c=o.flags;if(c&2){try{for(var h,m=o.return;m!==null;){if(X_(m)){h=m;break}m=m.return}if(h==null)throw Error(i(160));switch(h.tag){case 27:var b=h.stateNode,S=j0(o);wg(o,S,b);break;case 5:var I=h.stateNode;h.flags&32&&(Rs(I,""),h.flags&=-33);var ee=j0(o);wg(o,ee,I);break;case 3:case 4:var me=h.stateNode.containerInfo,ke=j0(o);I0(o,ke,me);break;default:throw Error(i(161))}}catch(We){Wn(o,o.return,We)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function iw(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;iw(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Zc(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)Q_(o,c.alternate,c),c=c.sibling}function Pf(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Kc(4,c,c.return),Pf(c);break;case 1:nl(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&Y_(c,c.return,h),Pf(c);break;case 27:Ad(c.stateNode);case 26:case 5:nl(c,c.return),Pf(c);break;case 22:c.memoizedState===null&&Pf(c);break;case 30:Pf(c);break;default:Pf(c)}o=o.sibling}}function Qc(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,b=o,S=c,I=S.flags;switch(S.tag){case 0:case 11:case 15:Qc(b,S,h),md(4,S);break;case 1:if(Qc(b,S,h),m=S,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ke){Wn(m,m.return,ke)}if(m=S,b=m.updateQueue,b!==null){var ee=m.stateNode;try{var me=b.shared.hiddenCallbacks;if(me!==null)for(b.shared.hiddenCallbacks=null,b=0;b<me.length;b++)wn(me[b],ee)}catch(ke){Wn(m,m.return,ke)}}h&&I&64&&G_(S),gd(S,S.return);break;case 27:K_(S);case 26:case 5:Qc(b,S,h),h&&m===null&&I&4&&W_(S),gd(S,S.return);break;case 12:Qc(b,S,h);break;case 13:Qc(b,S,h),h&&I&4&&tw(b,S);break;case 22:S.memoizedState===null&&Qc(b,S,h),gd(S,S.return);break;case 30:break;default:Qc(b,S,h)}c=c.sibling}}function H0(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&yf(h))}function U0(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&yf(o))}function il(o,c,h,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)rw(o,c,h,m),c=c.sibling}function rw(o,c,h,m){var b=c.flags;switch(c.tag){case 0:case 11:case 15:il(o,c,h,m),b&2048&&md(9,c);break;case 1:il(o,c,h,m);break;case 3:il(o,c,h,m),b&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&yf(o)));break;case 12:if(b&2048){il(o,c,h,m),o=c.stateNode;try{var S=c.memoizedProps,I=S.id,ee=S.onPostCommit;typeof ee=="function"&&ee(I,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(me){Wn(c,c.return,me)}}else il(o,c,h,m);break;case 13:il(o,c,h,m);break;case 23:break;case 22:S=c.stateNode,I=c.alternate,c.memoizedState!==null?S._visibility&2?il(o,c,h,m):vd(o,c):S._visibility&2?il(o,c,h,m):(S._visibility|=2,zh(o,c,h,m,(c.subtreeFlags&10256)!==0)),b&2048&&H0(I,c);break;case 24:il(o,c,h,m),b&2048&&U0(c.alternate,c);break;default:il(o,c,h,m)}}function zh(o,c,h,m,b){for(b=b&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var S=o,I=c,ee=h,me=m,ke=I.flags;switch(I.tag){case 0:case 11:case 15:zh(S,I,ee,me,b),md(8,I);break;case 23:break;case 22:var We=I.stateNode;I.memoizedState!==null?We._visibility&2?zh(S,I,ee,me,b):vd(S,I):(We._visibility|=2,zh(S,I,ee,me,b)),b&&ke&2048&&H0(I.alternate,I);break;case 24:zh(S,I,ee,me,b),b&&ke&2048&&U0(I.alternate,I);break;default:zh(S,I,ee,me,b)}c=c.sibling}}function vd(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,m=c,b=m.flags;switch(m.tag){case 22:vd(h,m),b&2048&&H0(m.alternate,m);break;case 24:vd(h,m),b&2048&&U0(m.alternate,m);break;default:vd(h,m)}c=c.sibling}}var yd=8192;function Hh(o){if(o.subtreeFlags&yd)for(o=o.child;o!==null;)aw(o),o=o.sibling}function aw(o){switch(o.tag){case 26:Hh(o),o.flags&yd&&o.memoizedState!==null&&Q8(cs,o.memoizedState,o.memoizedProps);break;case 5:Hh(o);break;case 3:case 4:var c=cs;cs=Og(o.stateNode.containerInfo),Hh(o),cs=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=yd,yd=16777216,Hh(o),yd=c):Hh(o));break;default:Hh(o)}}function ow(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function bd(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];Cr=m,lw(m,o)}ow(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)sw(o),o=o.sibling}function sw(o){switch(o.tag){case 0:case 11:case 15:bd(o),o.flags&2048&&Kc(9,o,o.return);break;case 3:bd(o);break;case 12:bd(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,xg(o)):bd(o);break;default:bd(o)}}function xg(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var m=c[h];Cr=m,lw(m,o)}ow(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Kc(8,c,c.return),xg(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,xg(c));break;default:xg(c)}o=o.sibling}}function lw(o,c){for(;Cr!==null;){var h=Cr;switch(h.tag){case 0:case 11:case 15:Kc(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:yf(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,Cr=m;else e:for(h=o;Cr!==null;){m=Cr;var b=m.sibling,S=m.return;if(J_(m),m===h){Cr=null;break e}if(b!==null){b.return=S,Cr=b;break e}Cr=S}}}var d8={getCacheForType:function(o){var c=qi(Vi),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h}},m8=typeof WeakMap=="function"?WeakMap:Map,Fn=0,Qn=null,vn=null,En=0,zn=0,to=null,Jc=!1,Uh=!1,q0=!1,Ql=0,Pi=0,eu=0,Lf=0,V0=0,So=0,qh=0,_d=null,Oa=null,$0=!1,G0=0,Eg=1/0,Sg=null,tu=null,Ir=0,nu=null,Vh=null,$h=0,Y0=0,W0=null,cw=null,wd=0,X0=null;function no(){if((Fn&2)!==0&&En!==0)return En&-En;if(re.T!==null){var o=Ul;return o!==0?o:n1()}return Ua()}function uw(){So===0&&(So=(En&536870912)===0||Nn?ca():536870912);var o=Eo.current;return o!==null&&(o.flags|=32),So}function io(o,c,h){(o===Qn&&(zn===2||zn===9)||o.cancelPendingCommit!==null)&&(Gh(o,0),iu(o,En,So,!1)),Bn(o,h),((Fn&2)===0||o!==Qn)&&(o===Qn&&((Fn&2)===0&&(Lf|=h),Pi===4&&iu(o,En,So,!1)),rl(o))}function fw(o,c,h){if((Fn&6)!==0)throw Error(i(327));var m=!h&&(c&124)===0&&(c&o.expiredLanes)===0||tr(o,c),b=m?y8(o,c):Q0(o,c,!0),S=m;do{if(b===0){Uh&&!m&&iu(o,c,0,!1);break}else{if(h=o.current.alternate,S&&!g8(h)){b=Q0(o,c,!1),S=!1;continue}if(b===2){if(S=c,o.errorRecoveryDisabledLanes&S)var I=0;else I=o.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){c=I;e:{var ee=o;b=_d;var me=ee.current.memoizedState.isDehydrated;if(me&&(Gh(ee,I).flags|=256),I=Q0(ee,I,!1),I!==2){if(q0&&!me){ee.errorRecoveryDisabledLanes|=S,Lf|=S,b=4;break e}S=Oa,Oa=b,S!==null&&(Oa===null?Oa=S:Oa.push.apply(Oa,S))}b=I}if(S=!1,b!==2)continue}}if(b===1){Gh(o,0),iu(o,c,0,!0);break}e:{switch(m=o,S=b,S){case 0:case 1:throw Error(i(345));case 4:if((c&4194048)!==c)break;case 6:iu(m,c,So,!Jc);break e;case 2:Oa=null;break;case 3:case 5:break;default:throw Error(i(329))}if((c&62914560)===c&&(b=G0+300-Le(),10<b)){if(iu(m,c,So,!Jc),Sn(m,0,!0)!==0)break e;m.timeoutHandle=zw(hw.bind(null,m,h,Oa,Sg,$0,c,So,Lf,qh,Jc,S,2,-0,0),b);break e}hw(m,h,Oa,Sg,$0,c,So,Lf,qh,Jc,S,0,-0,0)}}break}while(!0);rl(o)}function hw(o,c,h,m,b,S,I,ee,me,ke,We,et,Fe,ze){if(o.timeoutHandle=-1,et=c.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(Td={stylesheets:null,count:0,unsuspend:Z8},aw(c),et=J8(),et!==null)){o.cancelPendingCommit=et(bw.bind(null,o,c,S,h,m,b,I,ee,me,We,1,Fe,ze)),iu(o,S,I,!ke);return}bw(o,c,S,h,m,b,I,ee,me)}function g8(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var b=h[m],S=b.getSnapshot;b=b.value;try{if(!rr(S(),b))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function iu(o,c,h,m){c&=~V0,c&=~Lf,o.suspendedLanes|=c,o.pingedLanes&=~c,m&&(o.warmLanes|=c),m=o.expirationTimes;for(var b=c;0<b;){var S=31-mt(b),I=1<<S;m[S]=-1,b&=~I}h!==0&&Ut(o,h,c)}function Ag(){return(Fn&6)===0?(xd(0),!1):!0}function K0(){if(vn!==null){if(zn===0)var o=vn.return;else o=vn,is=or=null,Lh(o),Ih=null,hd=0,o=vn;for(;o!==null;)$_(o.alternate,o),o=o.return;vn=null}}function Gh(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,O8(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),K0(),Qn=o,vn=h=vo(o.current,null),En=c,zn=0,to=null,Jc=!1,Uh=tr(o,c),q0=!1,qh=So=V0=Lf=eu=Pi=0,Oa=_d=null,$0=!1,(c&8)!==0&&(c|=c&32);var m=o.entangledLanes;if(m!==0)for(o=o.entanglements,m&=c;0<m;){var b=31-mt(m),S=1<<b;c|=o[b],m&=~S}return Ql=c,Ra(),h}function pw(o,c){At=null,re.H=hg,c===G||c===J?(c=Ce(),zn=3):c===X?(c=Ce(),zn=4):zn=c===P_?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,to=c,vn===null&&(Pi=1,vg(o,sn(c,o.current)))}function dw(){var o=re.H;return re.H=hg,o===null?hg:o}function mw(){var o=re.A;return re.A=d8,o}function Z0(){Pi=4,Jc||(En&4194048)!==En&&Eo.current!==null||(Uh=!0),(eu&134217727)===0&&(Lf&134217727)===0||Qn===null||iu(Qn,En,So,!1)}function Q0(o,c,h){var m=Fn;Fn|=2;var b=dw(),S=mw();(Qn!==o||En!==c)&&(Sg=null,Gh(o,c)),c=!1;var I=Pi;e:do try{if(zn!==0&&vn!==null){var ee=vn,me=to;switch(zn){case 8:K0(),I=6;break e;case 3:case 2:case 9:case 6:Eo.current===null&&(c=!0);var ke=zn;if(zn=0,to=null,Yh(o,ee,me,ke),h&&Uh){I=0;break e}break;default:ke=zn,zn=0,to=null,Yh(o,ee,me,ke)}}v8(),I=Pi;break}catch(We){pw(o,We)}while(!0);return c&&o.shellSuspendCounter++,is=or=null,Fn=m,re.H=b,re.A=S,vn===null&&(Qn=null,En=0,Ra()),I}function v8(){for(;vn!==null;)gw(vn)}function y8(o,c){var h=Fn;Fn|=2;var m=dw(),b=mw();Qn!==o||En!==c?(Sg=null,Eg=Le()+500,Gh(o,c)):Uh=tr(o,c);e:do try{if(zn!==0&&vn!==null){c=vn;var S=to;t:switch(zn){case 1:zn=0,to=null,Yh(o,c,S,1);break;case 2:case 9:if(ce(S)){zn=0,to=null,vw(c);break}c=function(){zn!==2&&zn!==9||Qn!==o||(zn=7),rl(o)},S.then(c,c);break e;case 3:zn=7;break e;case 4:zn=5;break e;case 7:ce(S)?(zn=0,to=null,vw(c)):(zn=0,to=null,Yh(o,c,S,7));break;case 5:var I=null;switch(vn.tag){case 26:I=vn.memoizedState;case 5:case 27:var ee=vn;if(!I||Qw(I)){zn=0,to=null;var me=ee.sibling;if(me!==null)vn=me;else{var ke=ee.return;ke!==null?(vn=ke,Ng(ke)):vn=null}break t}}zn=0,to=null,Yh(o,c,S,5);break;case 6:zn=0,to=null,Yh(o,c,S,6);break;case 8:K0(),Pi=6;break e;default:throw Error(i(462))}}b8();break}catch(We){pw(o,We)}while(!0);return is=or=null,re.H=m,re.A=b,Fn=h,vn!==null?0:(Qn=null,En=0,Ra(),Pi)}function b8(){for(;vn!==null&&!Te();)gw(vn)}function gw(o){var c=q_(o.alternate,o,Ql);o.memoizedProps=o.pendingProps,c===null?Ng(o):vn=c}function vw(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=j_(h,c,c.pendingProps,c.type,void 0,En);break;case 11:c=j_(h,c,c.pendingProps,c.type.render,c.ref,En);break;case 5:Lh(c);default:$_(h,c),c=vn=df(c,Ql),c=q_(h,c,Ql)}o.memoizedProps=o.pendingProps,c===null?Ng(o):vn=c}function Yh(o,c,h,m){is=or=null,Lh(c),Ih=null,hd=0;var b=c.return;try{if(l8(o,b,c,h,En)){Pi=1,vg(o,sn(h,o.current)),vn=null;return}}catch(S){if(b!==null)throw vn=b,S;Pi=1,vg(o,sn(h,o.current)),vn=null;return}c.flags&32768?(Nn||m===1?o=!0:Uh||(En&536870912)!==0?o=!1:(Jc=o=!0,(m===2||m===9||m===3||m===6)&&(m=Eo.current,m!==null&&m.tag===13&&(m.flags|=16384))),yw(c,o)):Ng(c)}function Ng(o){var c=o;do{if((c.flags&32768)!==0){yw(c,Jc);return}o=c.return;var h=u8(c.alternate,c,Ql);if(h!==null){vn=h;return}if(c=c.sibling,c!==null){vn=c;return}vn=c=o}while(c!==null);Pi===0&&(Pi=5)}function yw(o,c){do{var h=f8(o.alternate,o);if(h!==null){h.flags&=32767,vn=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){vn=o;return}vn=o=h}while(o!==null);Pi=6,vn=null}function bw(o,c,h,m,b,S,I,ee,me){o.cancelPendingCommit=null;do Cg();while(Ir!==0);if((Fn&6)!==0)throw Error(i(327));if(c!==null){if(c===o.current)throw Error(i(177));if(S=c.lanes|c.childLanes,S|=wi,ci(o,h,S,I,ee,me),o===Qn&&(vn=Qn=null,En=0),Vh=c,nu=o,$h=h,Y0=S,W0=b,cw=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,E8(qe,function(){return Sw(),null})):(o.callbackNode=null,o.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=re.T,re.T=null,b=fe.p,fe.p=2,I=Fn,Fn|=4;try{h8(o,c,h)}finally{Fn=I,fe.p=b,re.T=m}}Ir=1,_w(),ww(),xw()}}function _w(){if(Ir===1){Ir=0;var o=nu,c=Vh,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=re.T,re.T=null;var m=fe.p;fe.p=2;var b=Fn;Fn|=4;try{nw(c,o);var S=u1,I=Or(o.containerInfo),ee=S.focusedElem,me=S.selectionRange;if(I!==ee&&ee&&ee.ownerDocument&&Fs(ee.ownerDocument.documentElement,ee)){if(me!==null&&gr(ee)){var ke=me.start,We=me.end;if(We===void 0&&(We=ke),"selectionStart"in ee)ee.selectionStart=ke,ee.selectionEnd=Math.min(We,ee.value.length);else{var et=ee.ownerDocument||document,Fe=et&&et.defaultView||window;if(Fe.getSelection){var ze=Fe.getSelection(),Ht=ee.textContent.length,Lt=Math.min(me.start,Ht),$n=me.end===void 0?Lt:Math.min(me.end,Ht);!ze.extend&&Lt>$n&&(I=$n,$n=Lt,Lt=I);var Me=Xo(ee,Lt),we=Xo(ee,$n);if(Me&&we&&(ze.rangeCount!==1||ze.anchorNode!==Me.node||ze.anchorOffset!==Me.offset||ze.focusNode!==we.node||ze.focusOffset!==we.offset)){var Oe=et.createRange();Oe.setStart(Me.node,Me.offset),ze.removeAllRanges(),Lt>$n?(ze.addRange(Oe),ze.extend(we.node,we.offset)):(Oe.setEnd(we.node,we.offset),ze.addRange(Oe))}}}}for(et=[],ze=ee;ze=ze.parentNode;)ze.nodeType===1&&et.push({element:ze,left:ze.scrollLeft,top:ze.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<et.length;ee++){var Ze=et[ee];Ze.element.scrollLeft=Ze.left,Ze.element.scrollTop=Ze.top}}Fg=!!c1,u1=c1=null}finally{Fn=b,fe.p=m,re.T=h}}o.current=c,Ir=2}}function ww(){if(Ir===2){Ir=0;var o=nu,c=Vh,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=re.T,re.T=null;var m=fe.p;fe.p=2;var b=Fn;Fn|=4;try{Q_(o,c.alternate,c)}finally{Fn=b,fe.p=m,re.T=h}}Ir=3}}function xw(){if(Ir===4||Ir===3){Ir=0,$();var o=nu,c=Vh,h=$h,m=cw;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Ir=5:(Ir=0,Vh=nu=null,Ew(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(tu=null),Fi(h),c=c.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Ft,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=re.T,b=fe.p,fe.p=2,re.T=null;try{for(var S=o.onRecoverableError,I=0;I<m.length;I++){var ee=m[I];S(ee.value,{componentStack:ee.stack})}}finally{re.T=c,fe.p=b}}($h&3)!==0&&Cg(),rl(o),b=o.pendingLanes,(h&4194090)!==0&&(b&42)!==0?o===X0?wd++:(wd=0,X0=o):wd=0,xd(0)}}function Ew(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,yf(c)))}function Cg(o){return _w(),ww(),xw(),Sw()}function Sw(){if(Ir!==5)return!1;var o=nu,c=Y0;Y0=0;var h=Fi($h),m=re.T,b=fe.p;try{fe.p=32>h?32:h,re.T=null,h=W0,W0=null;var S=nu,I=$h;if(Ir=0,Vh=nu=null,$h=0,(Fn&6)!==0)throw Error(i(331));var ee=Fn;if(Fn|=4,sw(S.current),rw(S,S.current,I,h),Fn=ee,xd(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Ft,S)}catch{}return!0}finally{fe.p=b,re.T=m,Ew(o,c)}}function Aw(o,c,h){c=sn(h,c),c=C0(o.stateNode,c,2),o=Je(o,c,2),o!==null&&(Bn(o,2),rl(o))}function Wn(o,c,h){if(o.tag===3)Aw(o,o,h);else for(;c!==null;){if(c.tag===3){Aw(c,o,h);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(tu===null||!tu.has(m))){o=sn(h,o),h=R_(2),m=Je(c,h,2),m!==null&&(M_(h,m,c,o),Bn(m,2),rl(m));break}}c=c.return}}function J0(o,c,h){var m=o.pingCache;if(m===null){m=o.pingCache=new m8;var b=new Set;m.set(c,b)}else b=m.get(c),b===void 0&&(b=new Set,m.set(c,b));b.has(h)||(q0=!0,b.add(h),o=_8.bind(null,o,c,h),c.then(o,o))}function _8(o,c,h){var m=o.pingCache;m!==null&&m.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Qn===o&&(En&h)===h&&(Pi===4||Pi===3&&(En&62914560)===En&&300>Le()-G0?(Fn&2)===0&&Gh(o,0):V0|=h,qh===En&&(qh=0)),rl(o)}function Nw(o,c){c===0&&(c=On()),o=Zo(o,c),o!==null&&(Bn(o,c),rl(o))}function w8(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),Nw(o,h)}function x8(o,c){var h=0;switch(o.tag){case 13:var m=o.stateNode,b=o.memoizedState;b!==null&&(h=b.retryLane);break;case 19:m=o.stateNode;break;case 22:m=o.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(c),Nw(o,h)}function E8(o,c){return Ae(o,c)}var Tg=null,Wh=null,e1=!1,Rg=!1,t1=!1,Df=0;function rl(o){o!==Wh&&o.next===null&&(Wh===null?Tg=Wh=o:Wh=Wh.next=o),Rg=!0,e1||(e1=!0,A8())}function xd(o,c){if(!t1&&Rg){t1=!0;do for(var h=!1,m=Tg;m!==null;){if(o!==0){var b=m.pendingLanes;if(b===0)var S=0;else{var I=m.suspendedLanes,ee=m.pingedLanes;S=(1<<31-mt(42|o)+1)-1,S&=b&~(I&~ee),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(h=!0,Mw(m,S))}else S=En,S=Sn(m,m===Qn?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||tr(m,S)||(h=!0,Mw(m,S));m=m.next}while(h);t1=!1}}function S8(){Cw()}function Cw(){Rg=e1=!1;var o=0;Df!==0&&(D8()&&(o=Df),Df=0);for(var c=Le(),h=null,m=Tg;m!==null;){var b=m.next,S=Tw(m,c);S===0?(m.next=null,h===null?Tg=b:h.next=b,b===null&&(Wh=h)):(h=m,(o!==0||(S&3)!==0)&&(Rg=!0)),m=b}xd(o)}function Tw(o,c){for(var h=o.suspendedLanes,m=o.pingedLanes,b=o.expirationTimes,S=o.pendingLanes&-62914561;0<S;){var I=31-mt(S),ee=1<<I,me=b[I];me===-1?((ee&h)===0||(ee&m)!==0)&&(b[I]=bn(ee,c)):me<=c&&(o.expiredLanes|=ee),S&=~ee}if(c=Qn,h=En,h=Sn(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m=o.callbackNode,h===0||o===c&&(zn===2||zn===9)||o.cancelPendingCommit!==null)return m!==null&&m!==null&&Ue(m),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||tr(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(m!==null&&Ue(m),Fi(h)){case 2:case 8:h=Ie;break;case 32:h=qe;break;case 268435456:h=at;break;default:h=qe}return m=Rw.bind(null,o),h=Ae(h,m),o.callbackPriority=c,o.callbackNode=h,c}return m!==null&&m!==null&&Ue(m),o.callbackPriority=2,o.callbackNode=null,2}function Rw(o,c){if(Ir!==0&&Ir!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Cg()&&o.callbackNode!==h)return null;var m=En;return m=Sn(o,o===Qn?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),m===0?null:(fw(o,m,c),Tw(o,Le()),o.callbackNode!=null&&o.callbackNode===h?Rw.bind(null,o):null)}function Mw(o,c){if(Cg())return null;fw(o,c,!0)}function A8(){B8(function(){(Fn&6)!==0?Ae(je,S8):Cw()})}function n1(){return Df===0&&(Df=ca()),Df}function Pw(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Vo(""+o)}function Lw(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function N8(o,c,h,m,b){if(c==="submit"&&h&&h.stateNode===b){var S=Pw((b[ei]||null).action),I=m.submitter;I&&(c=(c=I[ei]||null)?Pw(c.formAction):I.getAttribute("formAction"),c!==null&&(S=c,I=null));var ee=new Ls("action","action",null,m,b);o.push({event:ee,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Df!==0){var me=I?Lw(b,I):new FormData(b);xo(h,{pending:!0,data:me,method:b.method,action:S},null,me)}}else typeof S=="function"&&(ee.preventDefault(),me=I?Lw(b,I):new FormData(b),xo(h,{pending:!0,data:me,method:b.method,action:S},S,me))},currentTarget:b}]})}}for(var i1=0;i1<kl.length;i1++){var r1=kl[i1],C8=r1.toLowerCase(),T8=r1[0].toUpperCase()+r1.slice(1);hi(C8,"on"+T8)}hi(jc,"onAnimationEnd"),hi(Hs,"onAnimationIteration"),hi(Us,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(qs,"onTransitionRun"),hi(Bl,"onTransitionStart"),hi(Ic,"onTransitionCancel"),hi(Vs,"onTransitionEnd"),qa("onMouseEnter",["mouseout","mouseover"]),qa("onMouseLeave",["mouseout","mouseover"]),qa("onPointerEnter",["pointerout","pointerover"]),qa("onPointerLeave",["pointerout","pointerover"]),Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),R8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ed));function Dw(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var m=o[h],b=m.event;m=m.listeners;e:{var S=void 0;if(c)for(var I=m.length-1;0<=I;I--){var ee=m[I],me=ee.instance,ke=ee.currentTarget;if(ee=ee.listener,me!==S&&b.isPropagationStopped())break e;S=ee,b.currentTarget=ke;try{S(b)}catch(We){gg(We)}b.currentTarget=null,S=me}else for(I=0;I<m.length;I++){if(ee=m[I],me=ee.instance,ke=ee.currentTarget,ee=ee.listener,me!==S&&b.isPropagationStopped())break e;S=ee,b.currentTarget=ke;try{S(b)}catch(We){gg(We)}b.currentTarget=null,S=me}}}}function yn(o,c){var h=c[yi];h===void 0&&(h=c[yi]=new Set);var m=o+"__bubble";h.has(m)||(Ow(c,o,2,!1),h.add(m))}function a1(o,c,h){var m=0;c&&(m|=4),Ow(h,o,m,c)}var Mg="_reactListening"+Math.random().toString(36).slice(2);function o1(o){if(!o[Mg]){o[Mg]=!0,Ns.forEach(function(h){h!=="selectionchange"&&(R8.has(h)||a1(h,!1,o),a1(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Mg]||(c[Mg]=!0,a1("selectionchange",!1,c))}}function Ow(o,c,h,m){switch(rx(c)){case 2:var b=nT;break;case 8:b=iT;break;default:b=_1}h=b.bind(null,c,h,o),b=void 0,!Sc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),m?b!==void 0?o.addEventListener(c,h,{capture:!0,passive:b}):o.addEventListener(c,h,!0):b!==void 0?o.addEventListener(c,h,{passive:b}):o.addEventListener(c,h,!1)}function s1(o,c,h,m,b){var S=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var ee=m.stateNode.containerInfo;if(ee===b)break;if(I===4)for(I=m.return;I!==null;){var me=I.tag;if((me===3||me===4)&&I.stateNode.containerInfo===b)return;I=I.return}for(;ee!==null;){if(I=xr(ee),I===null)return;if(me=I.tag,me===5||me===6||me===26||me===27){m=S=I;continue e}ee=ee.parentNode}}m=m.return}_h(function(){var ke=S,We=nr(h),et=[];e:{var Fe=Ko.get(o);if(Fe!==void 0){var ze=Ls,Ht=o;switch(o){case"keypress":if(Ps(h)===0)break e;case"keydown":case"keyup":ze=Lc;break;case"focusin":Ht="focus",ze=Tl;break;case"focusout":Ht="blur",ze=Tl;break;case"beforeblur":case"afterblur":ze=Tl;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=Os;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=uf;break;case jc:case Hs:case Us:ze=Yp;break;case Vs:ze=V;break;case"scroll":case"scrollend":ze=xh;break;case"wheel":ze=ye;break;case"copy":case"cut":case"paste":ze=Wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=Dc;break;case"toggle":case"beforetoggle":ze=$e}var Lt=(c&4)!==0,$n=!Lt&&(o==="scroll"||o==="scrollend"),Me=Lt?Fe!==null?Fe+"Capture":null:Fe;Lt=[];for(var we=ke,Oe;we!==null;){var Ze=we;if(Oe=Ze.stateNode,Ze=Ze.tag,Ze!==5&&Ze!==26&&Ze!==27||Oe===null||Me===null||(Ze=Xr(we,Me),Ze!=null&&Lt.push(Sd(we,Ze,Oe))),$n)break;we=we.return}0<Lt.length&&(Fe=new ze(Fe,Ht,null,h,We),et.push({event:Fe,listeners:Lt}))}}if((c&7)===0){e:{if(Fe=o==="mouseover"||o==="pointerover",ze=o==="mouseout"||o==="pointerout",Fe&&h!==Ec&&(Ht=h.relatedTarget||h.fromElement)&&(xr(Ht)||Ht[zi]))break e;if((ze||Fe)&&(Fe=We.window===We?We:(Fe=We.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,ze?(Ht=h.relatedTarget||h.toElement,ze=ke,Ht=Ht?xr(Ht):null,Ht!==null&&($n=a(Ht),Lt=Ht.tag,Ht!==$n||Lt!==5&&Lt!==27&&Lt!==6)&&(Ht=null)):(ze=null,Ht=ke),ze!==Ht)){if(Lt=po,Ze="onMouseLeave",Me="onMouseEnter",we="mouse",(o==="pointerout"||o==="pointerover")&&(Lt=Dc,Ze="onPointerLeave",Me="onPointerEnter",we="pointer"),$n=ze==null?Fe:Yr(ze),Oe=Ht==null?Fe:Yr(Ht),Fe=new Lt(Ze,we+"leave",ze,h,We),Fe.target=$n,Fe.relatedTarget=Oe,Ze=null,xr(We)===ke&&(Lt=new Lt(Me,we+"enter",Ht,h,We),Lt.target=Oe,Lt.relatedTarget=$n,Ze=Lt),$n=Ze,ze&&Ht)t:{for(Lt=ze,Me=Ht,we=0,Oe=Lt;Oe;Oe=Xh(Oe))we++;for(Oe=0,Ze=Me;Ze;Ze=Xh(Ze))Oe++;for(;0<we-Oe;)Lt=Xh(Lt),we--;for(;0<Oe-we;)Me=Xh(Me),Oe--;for(;we--;){if(Lt===Me||Me!==null&&Lt===Me.alternate)break t;Lt=Xh(Lt),Me=Xh(Me)}Lt=null}else Lt=null;ze!==null&&Bw(et,Fe,ze,Lt,!1),Ht!==null&&$n!==null&&Bw(et,$n,Ht,Lt,!0)}}e:{if(Fe=ke?Yr(ke):window,ze=Fe.nodeName&&Fe.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Fe.type==="file")var gt=Bc;else if(Ya(Fe))if(Pl)gt=Sh;else{gt=Kp;var dn=Kr}else ze=Fe.nodeName,!ze||ze.toLowerCase()!=="input"||Fe.type!=="checkbox"&&Fe.type!=="radio"?ke&&rf(ke.elementType)&&(gt=Bc):gt=hf;if(gt&&(gt=gt(o,ke))){ff(et,gt,h,We);break e}dn&&dn(o,Fe,ke),o==="focusout"&&ke&&Fe.type==="number"&&ke.memoizedProps.value!=null&&ef(Fe,"number",Fe.value)}switch(dn=ke?Yr(ke):window,o){case"focusin":(Ya(dn)||dn.contentEditable==="true")&&(Zr=dn,Wa=ke,mo=null);break;case"focusout":mo=Wa=Zr=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,fi(et,h,We);break;case"selectionchange":if(zs)break;case"keydown":case"keyup":fi(et,h,We)}var Et;if(ht)e:{switch(o){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else _i?ti(o,h)&&(Ot="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Ot="onCompositionStart");Ot&&(qt&&h.locale!=="ko"&&(_i||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&_i&&(Et=wh()):(Ca=We,of="value"in Ca?Ca.value:Ca.textContent,_i=!0)),dn=Pg(ke,Ot),0<dn.length&&(Ot=new Rc(Ot,o,null,h,We),et.push({event:Ot,listeners:dn}),Et?Ot.data=Et:(Et=bi(h),Et!==null&&(Ot.data=Et)))),(Et=$t?ir(o,h):Ga(o,h))&&(Ot=Pg(ke,"onBeforeInput"),0<Ot.length&&(dn=new Rc("onBeforeInput","beforeinput",null,h,We),et.push({event:dn,listeners:Ot}),dn.data=Et)),N8(et,o,ke,h,We)}Dw(et,c)})}function Sd(o,c,h){return{instance:o,listener:c,currentTarget:h}}function Pg(o,c){for(var h=c+"Capture",m=[];o!==null;){var b=o,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=Xr(o,h),b!=null&&m.unshift(Sd(o,b,S)),b=Xr(o,c),b!=null&&m.push(Sd(o,b,S))),o.tag===3)return m;o=o.return}return[]}function Xh(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Bw(o,c,h,m,b){for(var S=c._reactName,I=[];h!==null&&h!==m;){var ee=h,me=ee.alternate,ke=ee.stateNode;if(ee=ee.tag,me!==null&&me===m)break;ee!==5&&ee!==26&&ee!==27||ke===null||(me=ke,b?(ke=Xr(h,S),ke!=null&&I.unshift(Sd(h,ke,me))):b||(ke=Xr(h,S),ke!=null&&I.push(Sd(h,ke,me)))),h=h.return}I.length!==0&&o.push({event:c,listeners:I})}var M8=/\r\n?/g,P8=/\u0000|\uFFFD/g;function kw(o){return(typeof o=="string"?o:""+o).replace(M8,`
`).replace(P8,"")}function jw(o,c){return c=kw(c),kw(o)===c}function Lg(){}function Vn(o,c,h,m,b,S){switch(h){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||Rs(o,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&Rs(o,""+m);break;case"className":Al(o,"class",m);break;case"tabIndex":Al(o,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Al(o,h,m);break;case"style":bh(o,m,S);break;case"data":if(c!=="object"){Al(o,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=Vo(""+m),o.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(h==="formAction"?(c!=="input"&&Vn(o,c,"name",b.name,b,null),Vn(o,c,"formEncType",b.formEncType,b,null),Vn(o,c,"formMethod",b.formMethod,b,null),Vn(o,c,"formTarget",b.formTarget,b,null)):(Vn(o,c,"encType",b.encType,b,null),Vn(o,c,"method",b.method,b,null),Vn(o,c,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){o.removeAttribute(h);break}m=Vo(""+m),o.setAttribute(h,m);break;case"onClick":m!=null&&(o.onclick=Lg);break;case"onScroll":m!=null&&yn("scroll",o);break;case"onScrollEnd":m!=null&&yn("scrollend",o);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(h=m.__html,h!=null){if(b.children!=null)throw Error(i(60));o.innerHTML=h}}break;case"multiple":o.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":o.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){o.removeAttribute("xlink:href");break}h=Vo(""+m),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""+m):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":m===!0?o.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?o.setAttribute(h,m):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?o.setAttribute(h,m):o.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?o.removeAttribute(h):o.setAttribute(h,m);break;case"popover":yn("beforetoggle",o),yn("toggle",o),zo(o,"popover",m);break;case"xlinkActuate":Va(o,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Va(o,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Va(o,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Va(o,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Va(o,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Va(o,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Va(o,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Va(o,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Va(o,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":zo(o,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=qo.get(h)||h,zo(o,h,m))}}function l1(o,c,h,m,b,S){switch(h){case"style":bh(o,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(h=m.__html,h!=null){if(b.children!=null)throw Error(i(60));o.innerHTML=h}}break;case"children":typeof m=="string"?Rs(o,m):(typeof m=="number"||typeof m=="bigint")&&Rs(o,""+m);break;case"onScroll":m!=null&&yn("scroll",o);break;case"onScrollEnd":m!=null&&yn("scrollend",o);break;case"onClick":m!=null&&(o.onclick=Lg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sl.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(b=h.endsWith("Capture"),c=h.slice(2,b?h.length-7:void 0),S=o[ei]||null,S=S!=null?S[h]:null,typeof S=="function"&&o.removeEventListener(c,S,b),typeof m=="function")){typeof S!="function"&&S!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,m,b);break e}h in o?o[h]=m:m===!0?o.setAttribute(h,""):zo(o,h,m)}}}function Fr(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yn("error",o),yn("load",o);var m=!1,b=!1,S;for(S in h)if(h.hasOwnProperty(S)){var I=h[S];if(I!=null)switch(S){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Vn(o,c,S,I,h,null)}}b&&Vn(o,c,"srcSet",h.srcSet,h,null),m&&Vn(o,c,"src",h.src,h,null);return;case"input":yn("invalid",o);var ee=S=I=b=null,me=null,ke=null;for(m in h)if(h.hasOwnProperty(m)){var We=h[m];if(We!=null)switch(m){case"name":b=We;break;case"type":I=We;break;case"checked":me=We;break;case"defaultChecked":ke=We;break;case"value":S=We;break;case"defaultValue":ee=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(i(137,c));break;default:Vn(o,c,m,We,h,null)}}Ju(o,S,ee,me,ke,I,b,!1),Ts(o);return;case"select":yn("invalid",o),m=I=S=null;for(b in h)if(h.hasOwnProperty(b)&&(ee=h[b],ee!=null))switch(b){case"value":S=ee;break;case"defaultValue":I=ee;break;case"multiple":m=ee;default:Vn(o,c,b,ee,h,null)}c=S,h=I,o.multiple=!!m,c!=null?Uo(o,!!m,c,!1):h!=null&&Uo(o,!!m,h,!0);return;case"textarea":yn("invalid",o),S=b=m=null;for(I in h)if(h.hasOwnProperty(I)&&(ee=h[I],ee!=null))switch(I){case"value":m=ee;break;case"defaultValue":b=ee;break;case"children":S=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(91));break;default:Vn(o,c,I,ee,h,null)}tf(o,m,b,S),Ts(o);return;case"option":for(me in h)if(h.hasOwnProperty(me)&&(m=h[me],m!=null))switch(me){case"selected":o.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Vn(o,c,me,m,h,null)}return;case"dialog":yn("beforetoggle",o),yn("toggle",o),yn("cancel",o),yn("close",o);break;case"iframe":case"object":yn("load",o);break;case"video":case"audio":for(m=0;m<Ed.length;m++)yn(Ed[m],o);break;case"image":yn("error",o),yn("load",o);break;case"details":yn("toggle",o);break;case"embed":case"source":case"link":yn("error",o),yn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ke in h)if(h.hasOwnProperty(ke)&&(m=h[ke],m!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,c));default:Vn(o,c,ke,m,h,null)}return;default:if(rf(c)){for(We in h)h.hasOwnProperty(We)&&(m=h[We],m!==void 0&&l1(o,c,We,m,h,void 0));return}}for(ee in h)h.hasOwnProperty(ee)&&(m=h[ee],m!=null&&Vn(o,c,ee,m,h,null))}function L8(o,c,h,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,I=null,ee=null,me=null,ke=null,We=null;for(ze in h){var et=h[ze];if(h.hasOwnProperty(ze)&&et!=null)switch(ze){case"checked":break;case"value":break;case"defaultValue":me=et;default:m.hasOwnProperty(ze)||Vn(o,c,ze,null,m,et)}}for(var Fe in m){var ze=m[Fe];if(et=h[Fe],m.hasOwnProperty(Fe)&&(ze!=null||et!=null))switch(Fe){case"type":S=ze;break;case"name":b=ze;break;case"checked":ke=ze;break;case"defaultChecked":We=ze;break;case"value":I=ze;break;case"defaultValue":ee=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(i(137,c));break;default:ze!==et&&Vn(o,c,Fe,ze,m,et)}}Cl(o,I,ee,me,ke,We,S,b);return;case"select":ze=I=ee=Fe=null;for(S in h)if(me=h[S],h.hasOwnProperty(S)&&me!=null)switch(S){case"value":break;case"multiple":ze=me;default:m.hasOwnProperty(S)||Vn(o,c,S,null,m,me)}for(b in m)if(S=m[b],me=h[b],m.hasOwnProperty(b)&&(S!=null||me!=null))switch(b){case"value":Fe=S;break;case"defaultValue":ee=S;break;case"multiple":I=S;default:S!==me&&Vn(o,c,b,S,m,me)}c=ee,h=I,m=ze,Fe!=null?Uo(o,!!h,Fe,!1):!!m!=!!h&&(c!=null?Uo(o,!!h,c,!0):Uo(o,!!h,h?[]:"",!1));return;case"textarea":ze=Fe=null;for(ee in h)if(b=h[ee],h.hasOwnProperty(ee)&&b!=null&&!m.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:Vn(o,c,ee,null,m,b)}for(I in m)if(b=m[I],S=h[I],m.hasOwnProperty(I)&&(b!=null||S!=null))switch(I){case"value":Fe=b;break;case"defaultValue":ze=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:b!==S&&Vn(o,c,I,b,m,S)}vh(o,Fe,ze);return;case"option":for(var Ht in h)if(Fe=h[Ht],h.hasOwnProperty(Ht)&&Fe!=null&&!m.hasOwnProperty(Ht))switch(Ht){case"selected":o.selected=!1;break;default:Vn(o,c,Ht,null,m,Fe)}for(me in m)if(Fe=m[me],ze=h[me],m.hasOwnProperty(me)&&Fe!==ze&&(Fe!=null||ze!=null))switch(me){case"selected":o.selected=Fe&&typeof Fe!="function"&&typeof Fe!="symbol";break;default:Vn(o,c,me,Fe,m,ze)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Lt in h)Fe=h[Lt],h.hasOwnProperty(Lt)&&Fe!=null&&!m.hasOwnProperty(Lt)&&Vn(o,c,Lt,null,m,Fe);for(ke in m)if(Fe=m[ke],ze=h[ke],m.hasOwnProperty(ke)&&Fe!==ze&&(Fe!=null||ze!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(i(137,c));break;default:Vn(o,c,ke,Fe,m,ze)}return;default:if(rf(c)){for(var $n in h)Fe=h[$n],h.hasOwnProperty($n)&&Fe!==void 0&&!m.hasOwnProperty($n)&&l1(o,c,$n,void 0,m,Fe);for(We in m)Fe=m[We],ze=h[We],!m.hasOwnProperty(We)||Fe===ze||Fe===void 0&&ze===void 0||l1(o,c,We,Fe,m,ze);return}}for(var Me in h)Fe=h[Me],h.hasOwnProperty(Me)&&Fe!=null&&!m.hasOwnProperty(Me)&&Vn(o,c,Me,null,m,Fe);for(et in m)Fe=m[et],ze=h[et],!m.hasOwnProperty(et)||Fe===ze||Fe==null&&ze==null||Vn(o,c,et,Fe,m,ze)}var c1=null,u1=null;function Dg(o){return o.nodeType===9?o:o.ownerDocument}function Iw(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fw(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function f1(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var h1=null;function D8(){var o=window.event;return o&&o.type==="popstate"?o===h1?!1:(h1=o,!0):(h1=null,!1)}var zw=typeof setTimeout=="function"?setTimeout:void 0,O8=typeof clearTimeout=="function"?clearTimeout:void 0,Hw=typeof Promise=="function"?Promise:void 0,B8=typeof queueMicrotask=="function"?queueMicrotask:typeof Hw<"u"?function(o){return Hw.resolve(null).then(o).catch(k8)}:zw;function k8(o){setTimeout(function(){throw o})}function ru(o){return o==="head"}function Uw(o,c){var h=c,m=0,b=0;do{var S=h.nextSibling;if(o.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"){if(0<m&&8>m){h=m;var I=o.ownerDocument;if(h&1&&Ad(I.documentElement),h&2&&Ad(I.body),h&4)for(h=I.head,Ad(h),I=h.firstChild;I;){var ee=I.nextSibling,me=I.nodeName;I[fa]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=ee}}if(b===0){o.removeChild(S),Dd(c);return}b--}else h==="$"||h==="$?"||h==="$!"?b++:m=h.charCodeAt(0)-48;else m=0;h=S}while(h);Dd(c)}function p1(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":p1(h),ha(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function j8(o,c,h,m){for(;o.nodeType===1;){var b=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(m){if(!o[fa])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(S=o.getAttribute("rel"),S==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(S!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(S=o.getAttribute("src"),(S!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===S)return o}else return o;if(o=us(o.nextSibling),o===null)break}return null}function I8(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=us(o.nextSibling),o===null))return null;return o}function d1(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function F8(o,c){var h=o.ownerDocument;if(o.data!=="$?"||h.readyState==="complete")c();else{var m=function(){c(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),o._reactRetry=m}}function us(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var m1=null;function qw(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}function Vw(o,c,h){switch(c=Dg(h),o){case"html":if(o=c.documentElement,!o)throw Error(i(452));return o;case"head":if(o=c.head,!o)throw Error(i(453));return o;case"body":if(o=c.body,!o)throw Error(i(454));return o;default:throw Error(i(451))}}function Ad(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);ha(o)}var Ao=new Map,$w=new Set;function Og(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Jl=fe.d;fe.d={f:z8,r:H8,D:U8,C:q8,L:V8,m:$8,X:Y8,S:G8,M:W8};function z8(){var o=Jl.f(),c=Ag();return o||c}function H8(o){var c=Er(o);c!==null&&c.tag===5&&c.type==="form"?Tf(c):Jl.r(o)}var Kh=typeof document>"u"?null:document;function Gw(o,c,h){var m=Kh;if(m&&typeof c=="string"&&c){var b=Yn(c);b='link[rel="'+o+'"][href="'+b+'"]',typeof h=="string"&&(b+='[crossorigin="'+h+'"]'),$w.has(b)||($w.add(b),o={rel:o,crossOrigin:h,href:c},m.querySelector(b)===null&&(c=m.createElement("link"),Fr(c,"link",o),jn(c),m.head.appendChild(c)))}}function U8(o){Jl.D(o),Gw("dns-prefetch",o,null)}function q8(o,c){Jl.C(o,c),Gw("preconnect",o,c)}function V8(o,c,h){Jl.L(o,c,h);var m=Kh;if(m&&o&&c){var b='link[rel="preload"][as="'+Yn(c)+'"]';c==="image"&&h&&h.imageSrcSet?(b+='[imagesrcset="'+Yn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(b+='[imagesizes="'+Yn(h.imageSizes)+'"]')):b+='[href="'+Yn(o)+'"]';var S=b;switch(c){case"style":S=Zh(o);break;case"script":S=Qh(o)}Ao.has(S)||(o=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),Ao.set(S,o),m.querySelector(b)!==null||c==="style"&&m.querySelector(Nd(S))||c==="script"&&m.querySelector(Cd(S))||(c=m.createElement("link"),Fr(c,"link",o),jn(c),m.head.appendChild(c)))}}function $8(o,c){Jl.m(o,c);var h=Kh;if(h&&o){var m=c&&typeof c.as=="string"?c.as:"script",b='link[rel="modulepreload"][as="'+Yn(m)+'"][href="'+Yn(o)+'"]',S=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Qh(o)}if(!Ao.has(S)&&(o=p({rel:"modulepreload",href:o},c),Ao.set(S,o),h.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Cd(S)))return}m=h.createElement("link"),Fr(m,"link",o),jn(m),h.head.appendChild(m)}}}function G8(o,c,h){Jl.S(o,c,h);var m=Kh;if(m&&o){var b=mr(m).hoistableStyles,S=Zh(o);c=c||"default";var I=b.get(S);if(!I){var ee={loading:0,preload:null};if(I=m.querySelector(Nd(S)))ee.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},h),(h=Ao.get(S))&&g1(o,h);var me=I=m.createElement("link");jn(me),Fr(me,"link",o),me._p=new Promise(function(ke,We){me.onload=ke,me.onerror=We}),me.addEventListener("load",function(){ee.loading|=1}),me.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,Bg(I,c,m)}I={type:"stylesheet",instance:I,count:1,state:ee},b.set(S,I)}}}function Y8(o,c){Jl.X(o,c);var h=Kh;if(h&&o){var m=mr(h).hoistableScripts,b=Qh(o),S=m.get(b);S||(S=h.querySelector(Cd(b)),S||(o=p({src:o,async:!0},c),(c=Ao.get(b))&&v1(o,c),S=h.createElement("script"),jn(S),Fr(S,"link",o),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(b,S))}}function W8(o,c){Jl.M(o,c);var h=Kh;if(h&&o){var m=mr(h).hoistableScripts,b=Qh(o),S=m.get(b);S||(S=h.querySelector(Cd(b)),S||(o=p({src:o,async:!0,type:"module"},c),(c=Ao.get(b))&&v1(o,c),S=h.createElement("script"),jn(S),Fr(S,"link",o),h.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(b,S))}}function Yw(o,c,h,m){var b=(b=he.current)?Og(b):null;if(!b)throw Error(i(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=Zh(h.href),h=mr(b).hoistableStyles,m=h.get(c),m||(m={type:"style",instance:null,count:0,state:null},h.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=Zh(h.href);var S=mr(b).hoistableStyles,I=S.get(o);if(I||(b=b.ownerDocument||b,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(o,I),(S=b.querySelector(Nd(o)))&&!S._p&&(I.instance=S,I.state.loading=5),Ao.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Ao.set(o,h),S||X8(b,o,h,I.state))),c&&m===null)throw Error(i(528,""));return I}if(c&&m!==null)throw Error(i(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Qh(h),h=mr(b).hoistableScripts,m=h.get(c),m||(m={type:"script",instance:null,count:0,state:null},h.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,o))}}function Zh(o){return'href="'+Yn(o)+'"'}function Nd(o){return'link[rel="stylesheet"]['+o+"]"}function Ww(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function X8(o,c,h,m){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=o.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),Fr(c,"link",h),jn(c),o.head.appendChild(c))}function Qh(o){return'[src="'+Yn(o)+'"]'}function Cd(o){return"script[async]"+o}function Xw(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var m=o.querySelector('style[data-href~="'+Yn(h.href)+'"]');if(m)return c.instance=m,jn(m),m;var b=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(o.ownerDocument||o).createElement("style"),jn(m),Fr(m,"style",b),Bg(m,h.precedence,o),c.instance=m;case"stylesheet":b=Zh(h.href);var S=o.querySelector(Nd(b));if(S)return c.state.loading|=4,c.instance=S,jn(S),S;m=Ww(h),(b=Ao.get(b))&&g1(m,b),S=(o.ownerDocument||o).createElement("link"),jn(S);var I=S;return I._p=new Promise(function(ee,me){I.onload=ee,I.onerror=me}),Fr(S,"link",m),c.state.loading|=4,Bg(S,h.precedence,o),c.instance=S;case"script":return S=Qh(h.src),(b=o.querySelector(Cd(S)))?(c.instance=b,jn(b),b):(m=h,(b=Ao.get(S))&&(m=p({},h),v1(m,b)),o=o.ownerDocument||o,b=o.createElement("script"),jn(b),Fr(b,"link",m),o.head.appendChild(b),c.instance=b);case"void":return null;default:throw Error(i(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,Bg(m,h.precedence,o));return c.instance}function Bg(o,c,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,S=b,I=0;I<m.length;I++){var ee=m[I];if(ee.dataset.precedence===c)S=ee;else if(S!==b)break}S?S.parentNode.insertBefore(o,S.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function g1(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function v1(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var kg=null;function Kw(o,c,h){if(kg===null){var m=new Map,b=kg=new Map;b.set(h,m)}else b=kg,m=b.get(h),m||(m=new Map,b.set(h,m));if(m.has(o))return m;for(m.set(o,null),h=h.getElementsByTagName(o),b=0;b<h.length;b++){var S=h[b];if(!(S[fa]||S[Un]||o==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var I=S.getAttribute(c)||"";I=o+I;var ee=m.get(I);ee?ee.push(S):m.set(I,[S])}}return m}function Zw(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function K8(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function Qw(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Td=null;function Z8(){}function Q8(o,c,h){if(Td===null)throw Error(i(475));var m=Td;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var b=Zh(h.href),S=o.querySelector(Nd(b));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(m.count++,m=jg.bind(m),o.then(m,m)),c.state.loading|=4,c.instance=S,jn(S);return}S=o.ownerDocument||o,h=Ww(h),(b=Ao.get(b))&&g1(h,b),S=S.createElement("link"),jn(S);var I=S;I._p=new Promise(function(ee,me){I.onload=ee,I.onerror=me}),Fr(S,"link",h),c.instance=S}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(m.count++,c=jg.bind(m),o.addEventListener("load",c),o.addEventListener("error",c))}}function J8(){if(Td===null)throw Error(i(475));var o=Td;return o.stylesheets&&o.count===0&&y1(o,o.stylesheets),0<o.count?function(c){var h=setTimeout(function(){if(o.stylesheets&&y1(o,o.stylesheets),o.unsuspend){var m=o.unsuspend;o.unsuspend=null,m()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(h)}}:null}function jg(){if(this.count--,this.count===0){if(this.stylesheets)y1(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Ig=null;function y1(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Ig=new Map,c.forEach(eT,o),Ig=null,jg.call(o))}function eT(o,c){if(!(c.state.loading&4)){var h=Ig.get(o);if(h)var m=h.get(null);else{h=new Map,Ig.set(o,h);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var I=b[S];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(h.set(I.dataset.precedence,I),m=I)}m&&h.set(null,m)}b=c.instance,I=b.getAttribute("data-precedence"),S=h.get(I)||m,S===m&&h.set(null,b),h.set(I,b),this.count++,m=jg.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),S?S.parentNode.insertBefore(b,S.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),c.state.loading|=4}}var Rd={$$typeof:M,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function tT(o,c,h,m,b,S,I,ee){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dr(0),this.hiddenUpdates=dr(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function Jw(o,c,h,m,b,S,I,ee,me,ke,We,et){return o=new tT(o,c,h,I,ee,me,ke,et),c=1,S===!0&&(c|=24),S=Ar(3,null,null,c),o.current=S,S.stateNode=o,c=Qp(),c.refCount++,o.pooledCache=c,c.refCount++,S.memoizedState={element:m,isDehydrated:h,cache:c},_e(S),o}function ex(o){return o?(o=ar,o):ar}function tx(o,c,h,m,b,S){b=ex(b),m.context===null?m.context=b:m.pendingContext=b,m=Ge(c),m.payload={element:h},S=S===void 0?null:S,S!==null&&(m.callback=S),h=Je(o,m,c),h!==null&&(io(h,o,c),Xe(h,o,c))}function nx(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function b1(o,c){nx(o,c),(o=o.alternate)&&nx(o,c)}function ix(o){if(o.tag===13){var c=Zo(o,67108864);c!==null&&io(c,o,67108864),b1(o,67108864)}}var Fg=!0;function nT(o,c,h,m){var b=re.T;re.T=null;var S=fe.p;try{fe.p=2,_1(o,c,h,m)}finally{fe.p=S,re.T=b}}function iT(o,c,h,m){var b=re.T;re.T=null;var S=fe.p;try{fe.p=8,_1(o,c,h,m)}finally{fe.p=S,re.T=b}}function _1(o,c,h,m){if(Fg){var b=w1(m);if(b===null)s1(o,c,m,zg,h),ax(o,m);else if(aT(b,o,c,h,m))m.stopPropagation();else if(ax(o,m),c&4&&-1<rT.indexOf(o)){for(;b!==null;){var S=Er(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var I=on(S.pendingLanes);if(I!==0){var ee=S;for(ee.pendingLanes|=2,ee.entangledLanes|=2;I;){var me=1<<31-mt(I);ee.entanglements[1]|=me,I&=~me}rl(S),(Fn&6)===0&&(Eg=Le()+500,xd(0))}}break;case 13:ee=Zo(S,2),ee!==null&&io(ee,S,2),Ag(),b1(S,2)}if(S=w1(m),S===null&&s1(o,c,m,zg,h),S===b)break;b=S}b!==null&&m.stopPropagation()}else s1(o,c,m,null,h)}}function w1(o){return o=nr(o),x1(o)}var zg=null;function x1(o){if(zg=null,o=xr(o),o!==null){var c=a(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=s(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return zg=o,null}function rx(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case je:return 2;case Ie:return 8;case qe:case Ye:return 32;case at:return 268435456;default:return 32}default:return 32}}var E1=!1,au=null,ou=null,su=null,Md=new Map,Pd=new Map,lu=[],rT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ax(o,c){switch(o){case"focusin":case"focusout":au=null;break;case"dragenter":case"dragleave":ou=null;break;case"mouseover":case"mouseout":su=null;break;case"pointerover":case"pointerout":Md.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pd.delete(c.pointerId)}}function Ld(o,c,h,m,b,S){return o===null||o.nativeEvent!==S?(o={blockedOn:c,domEventName:h,eventSystemFlags:m,nativeEvent:S,targetContainers:[b]},c!==null&&(c=Er(c),c!==null&&ix(c)),o):(o.eventSystemFlags|=m,c=o.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),o)}function aT(o,c,h,m,b){switch(c){case"focusin":return au=Ld(au,o,c,h,m,b),!0;case"dragenter":return ou=Ld(ou,o,c,h,m,b),!0;case"mouseover":return su=Ld(su,o,c,h,m,b),!0;case"pointerover":var S=b.pointerId;return Md.set(S,Ld(Md.get(S)||null,o,c,h,m,b)),!0;case"gotpointercapture":return S=b.pointerId,Pd.set(S,Ld(Pd.get(S)||null,o,c,h,m,b)),!0}return!1}function ox(o){var c=xr(o.target);if(c!==null){var h=a(c);if(h!==null){if(c=h.tag,c===13){if(c=s(h),c!==null){o.blockedOn=c,co(o.priority,function(){if(h.tag===13){var m=no();m=Fo(m);var b=Zo(h,m);b!==null&&io(b,h,m),b1(h,m)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Hg(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=w1(o.nativeEvent);if(h===null){h=o.nativeEvent;var m=new h.constructor(h.type,h);Ec=m,h.target.dispatchEvent(m),Ec=null}else return c=Er(h),c!==null&&ix(c),o.blockedOn=h,!1;c.shift()}return!0}function sx(o,c,h){Hg(o)&&h.delete(c)}function oT(){E1=!1,au!==null&&Hg(au)&&(au=null),ou!==null&&Hg(ou)&&(ou=null),su!==null&&Hg(su)&&(su=null),Md.forEach(sx),Pd.forEach(sx)}function Ug(o,c){o.blockedOn===c&&(o.blockedOn=null,E1||(E1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oT)))}var qg=null;function lx(o){qg!==o&&(qg=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){qg===o&&(qg=null);for(var c=0;c<o.length;c+=3){var h=o[c],m=o[c+1],b=o[c+2];if(typeof m!="function"){if(x1(m||h)===null)continue;break}var S=Er(h);S!==null&&(o.splice(c,3),c-=3,xo(S,{pending:!0,data:b,method:h.method,action:m},m,b))}}))}function Dd(o){function c(me){return Ug(me,o)}au!==null&&Ug(au,o),ou!==null&&Ug(ou,o),su!==null&&Ug(su,o),Md.forEach(c),Pd.forEach(c);for(var h=0;h<lu.length;h++){var m=lu[h];m.blockedOn===o&&(m.blockedOn=null)}for(;0<lu.length&&(h=lu[0],h.blockedOn===null);)ox(h),h.blockedOn===null&&lu.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var b=h[m],S=h[m+1],I=b[ei]||null;if(typeof S=="function")I||lx(h);else if(I){var ee=null;if(S&&S.hasAttribute("formAction")){if(b=S,I=S[ei]||null)ee=I.formAction;else if(x1(b)!==null)continue}else ee=I.action;typeof ee=="function"?h[m+1]=ee:(h.splice(m,3),m-=3),lx(h)}}}function S1(o){this._internalRoot=o}Vg.prototype.render=S1.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(i(409));var h=c.current,m=no();tx(h,m,o,c,null,null)},Vg.prototype.unmount=S1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;tx(o.current,2,null,o,null,null),Ag(),c[zi]=null}};function Vg(o){this._internalRoot=o}Vg.prototype.unstable_scheduleHydration=function(o){if(o){var c=Ua();o={blockedOn:null,target:o,priority:c};for(var h=0;h<lu.length&&c!==0&&c<lu[h].priority;h++);lu.splice(h,0,o),h===0&&ox(o)}};var cx=t.version;if(cx!=="19.1.0")throw Error(i(527,cx,"19.1.0"));fe.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(i(188)):(o=Object.keys(o).join(","),Error(i(268,o)));return o=u(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var sT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$g.isDisabled&&$g.supportsFiber)try{Ft=$g.inject(sT),Pt=$g}catch{}}return Bd.createRoot=function(o,c){if(!r(o))throw Error(i(299));var h=!1,m="",b=A_,S=N_,I=C_,ee=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(S=c.onCaughtError),c.onRecoverableError!==void 0&&(I=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(ee=c.unstable_transitionCallbacks)),c=Jw(o,1,!1,null,null,h,m,b,S,I,ee,null),o[zi]=c.current,o1(o),new S1(c)},Bd.hydrateRoot=function(o,c,h){if(!r(o))throw Error(i(299));var m=!1,b="",S=A_,I=N_,ee=C_,me=null,ke=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onUncaughtError!==void 0&&(S=h.onUncaughtError),h.onCaughtError!==void 0&&(I=h.onCaughtError),h.onRecoverableError!==void 0&&(ee=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(me=h.unstable_transitionCallbacks),h.formState!==void 0&&(ke=h.formState)),c=Jw(o,1,!0,c,h??null,m,b,S,I,ee,me,ke),c.context=ex(null),h=c.current,m=no(),m=Fo(m),b=Ge(m),b.callback=null,Je(h,b,m),h=m,c.current.lanes=h,Bn(c,h),rl(c),o[zi]=c.current,o1(o),new Vg(c)},Bd.version="19.1.0",Bd}var bx;function bT(){if(bx)return C1.exports;bx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),C1.exports=yT(),C1.exports}var _T=bT();const wT=fy(_T);function dt(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}function xT(e,t){return t={exports:{}},e(t,t.exports),t.exports}var ET=xT(function(e){var t=e.exports=function(n,i){if(i||(i=16),n===void 0&&(n=128),n<=0)return"0";for(var r=Math.log(Math.pow(2,n))/Math.log(i),a=2;r===1/0;a*=2)r=Math.log(Math.pow(2,n/a))/Math.log(i)*a;for(var s=r-Math.floor(r),l="",a=0;a<Math.floor(r);a++){var u=Math.floor(Math.random()*i).toString(i);l=u+l}if(s){var f=Math.pow(i,s),u=Math.floor(Math.random()*f).toString(i);l=u+l}var p=parseInt(l,i);return p!==1/0&&p>=Math.pow(2,n)?t(n,i):l};t.rack=function(n,i,r){var a=function(l){var u=0;do{if(u++>10)if(r)n+=r;else throw new Error("too many ID collisions, use more bits");var f=t(n,i)}while(Object.hasOwnProperty.call(s,f));return s[f]=l,f},s=a.hats={};return a.get=function(l){return a.hats[l]},a.set=function(l,u){return a.hats[l]=u,a},a.bits=n||128,a.base=i||16,a}});function dl(e){if(!(this instanceof dl))return new dl(e);e=e||[128,36,1],this._seed=e.length?ET.rack(e[0],e[1],e[2]):e}dl.prototype.next=function(e){return this._seed(e||!0)};dl.prototype.nextPrefixed=function(e,t){var n;do n=e+this.next(!0);while(this.assigned(n));return this.claim(n,t),n};dl.prototype.claim=function(e,t){this._seed.set(e,t||!0)};dl.prototype.assigned=function(e){return this._seed.get(e)||!1};dl.prototype.unclaim=function(e){delete this._seed.hats[e]};dl.prototype.clear=function(){var e=this._seed.hats,t;for(t in e)this.unclaim(t)};function mb(e){return Array.prototype.concat.apply([],e)}const vm=Object.prototype.toString,ST=Object.prototype.hasOwnProperty;function Xf(e){return e===void 0}function br(e){return e!==void 0}function am(e){return e==null}function Tt(e){return vm.call(e)==="[object Array]"}function _r(e){return vm.call(e)==="[object Object]"}function Nt(e){return vm.call(e)==="[object Number]"}function fr(e){const t=vm.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"||t==="[object Proxy]"}function Ia(e){return vm.call(e)==="[object String]"}function AT(e){if(!Tt(e))throw new Error("must supply array")}function wa(e,t){return!am(e)&&ST.call(e,t)}function mn(e,t){const n=py(t);let i;return ve(e,function(r,a){if(n(r,a))return i=r,!1}),i}function g4(e,t){const n=py(t);let i=Tt(e)?-1:void 0;return ve(e,function(r,a){if(n(r,a))return i=a,!1}),i}function Yt(e,t){const n=py(t);let i=[];return ve(e,function(r,a){n(r,a)&&i.push(r)}),i}function ve(e,t){let n,i;if(Xf(e))return;const r=Tt(e)?MT:RT;for(let a in e)if(wa(e,a)&&(n=e[a],i=t(n,r(a)),i===!1))return n}function NT(e,t){if(Xf(e))return[];AT(e);const n=py(t);return e.filter(function(i,r){return!n(i,r)})}function xa(e,t,n){return ve(e,function(i,r){n=t(n,i,r)}),n}function eh(e,t){return!!xa(e,function(n,i,r){return n&&t(i,r)},!0)}function Pu(e,t){return!!mn(e,t)}function Pr(e,t){let n=[];return ve(e,function(i,r){n.push(t(i,r))}),n}function $v(e){return e&&Object.keys(e)||[]}function CT(e){return $v(e).length}function hy(e){return Pr(e,t=>t)}function Lu(e,t,n={}){return t=gb(t),ve(e,function(i){let r=t(i)||"_",a=n[r];a||(a=n[r]=[]),a.push(i)}),n}function v4(e,...t){e=gb(e);let n={};return ve(t,r=>Lu(r,e,n)),Pr(n,function(r,a){return r[0]})}const TT=v4;function ml(e,t){t=gb(t);let n=[];return ve(e,function(i,r){let a=t(i,r),s={d:a,v:i};for(var l=0;l<n.length;l++){let{d:u}=n[l];if(a<u){n.splice(l,0,s);return}}n.push(s)}),Pr(n,i=>i.v)}function gs(e){return function(t){return eh(e,function(n,i){return t[i]===n})}}function gb(e){return fr(e)?e:t=>t[e]}function py(e){return fr(e)?e:t=>t===e}function RT(e){return e}function MT(e){return Number(e)}function y4(e,t){let n,i,r,a;function s(d){let v=Date.now(),g=d?0:a+t-v;if(g>0)return l(g);e.apply(r,i),u()}function l(d){n=setTimeout(s,d)}function u(){n&&clearTimeout(n),n=a=i=r=void 0}function f(){n&&s(!0),u()}function p(...d){a=Date.now(),i=d,r=this,n||l(t)}return p.flush=f,p.cancel=u,p}function Ea(e,t){return e.bind(t)}function Ne(e,...t){return Object.assign(e,...t)}function PT(e,t,n){let i=e;return ve(t,function(r,a){if(typeof r!="number"&&typeof r!="string")throw new Error("illegal key type: "+typeof r+". Key should be of type number or string.");if(r==="constructor")throw new Error("illegal key: constructor");if(r==="__proto__")throw new Error("illegal key: __proto__");let s=t[a+1],l=i[r];br(s)&&am(l)&&(l=i[r]=isNaN(+s)?{}:[]),Xf(s)?Xf(n)?delete i[r]:i[r]=n:i=l}),e}function ys(e,t){let n={},i=Object(e);return ve(t,function(r){r in i&&(n[r]=e[r])}),n}function vl(e,t){let n={},i=Object(e);return ve(i,function(r,a){t.indexOf(a)===-1&&(n[a]=r)}),n}function LT(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(i){if(i!=="default"&&!(i in e)){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}})}),Object.freeze(e)}const DT=Object.prototype.toString,OT=Object.prototype.hasOwnProperty;function BT(e){return e===void 0}function kT(e){return DT.call(e)==="[object Array]"}function jT(e,t){return OT.call(e,t)}function _x(e,t){let n,i;if(BT(e))return;const r=kT(e)?FT:IT;for(let a in e)if(jT(e,a)&&(n=e[a],i=t(n,r(a)),i===!1))return n}function IT(e){return e}function FT(e){return Number(e)}function Hr(e,...t){const n=e.style;return _x(t,function(i){i&&_x(i,function(r,a){n[a]=r})}),e}function Ur(e,t,n){return arguments.length==2?e.getAttribute(t):n===null?e.removeAttribute(t):(e.setAttribute(t,n),e)}const zT=Object.prototype.toString;function gi(e){return new Au(e)}function Au(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}Au.prototype.add=function(e){return this.list.add(e),this};Au.prototype.remove=function(e){return zT.call(e)=="[object RegExp]"?this.removeMatching(e):(this.list.remove(e),this)};Au.prototype.removeMatching=function(e){const t=this.array();for(let n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this};Au.prototype.toggle=function(e,t){return typeof t<"u"?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this};Au.prototype.array=function(){return Array.from(this.list)};Au.prototype.has=Au.prototype.contains=function(e){return this.list.contains(e)};function dy(e){for(var t;t=e.firstChild;)e.removeChild(t);return e}function Tp(e,t,n){var i=n?e:e.parentNode;return i&&typeof i.closest=="function"&&i.closest(t)||null}var Gv={},Yv,y2,vb;function b4(){Yv=window.addEventListener?"addEventListener":"attachEvent",y2=window.removeEventListener?"removeEventListener":"detachEvent",vb=Yv!=="addEventListener"?"on":""}var HT=Gv.bind=function(e,t,n,i){return Yv||b4(),e[Yv](vb+t,n,i||!1),n},UT=Gv.unbind=function(e,t,n,i){return y2||b4(),e[y2](vb+t,n,i||!1),n},Bt=LT({__proto__:null,bind:HT,unbind:UT,default:Gv},[Gv]),_4=["focus","blur"];function qT(e,t,n,i,r){return _4.indexOf(n)!==-1&&(r=!0),Bt.bind(e,n,function(a){var s=a.target||a.srcElement;a.delegateTarget=Tp(s,t,!0),a.delegateTarget&&i.call(e,a)},r)}function VT(e,t,n,i){return _4.indexOf(t)!==-1&&(i=!0),Bt.unbind(e,t,n,i)}var ja={bind:qT,unbind:VT},$T=GT,w4=!1,Gg;typeof document<"u"&&(Gg=document.createElement("div"),Gg.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',w4=!Gg.getElementsByTagName("link").length,Gg=void 0);var Wi={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:w4?[1,"X<div>","</div>"]:[0,"",""]};Wi.td=Wi.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];Wi.option=Wi.optgroup=[1,'<select multiple="multiple">',"</select>"];Wi.thead=Wi.tbody=Wi.colgroup=Wi.caption=Wi.tfoot=[1,"<table>","</table>"];Wi.polyline=Wi.ellipse=Wi.polygon=Wi.circle=Wi.text=Wi.line=Wi.path=Wi.rect=Wi.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function GT(e,t){if(typeof e!="string")throw new TypeError("String expected");t||(t=document);var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var i=n[1];if(i=="body"){var u=t.createElement("html");return u.innerHTML=e,u.removeChild(u.lastChild)}var r=Object.prototype.hasOwnProperty.call(Wi,i)?Wi[i]:Wi._default,a=r[0],s=r[1],l=r[2],u=t.createElement("div");for(u.innerHTML=s+e+l;a--;)u=u.lastChild;if(u.firstChild==u.lastChild)return u.removeChild(u.firstChild);for(var f=t.createDocumentFragment();u.firstChild;)f.appendChild(u.removeChild(u.firstChild));return f}var Zt=$T;function x4(e,t){return e&&typeof e.matches=="function"&&e.matches(t)||!1}function Pn(e,t){return t=t||document,t.querySelector(e)}function b2(e,t){return t=t||document,t.querySelectorAll(e)}function gl(e){e.parentNode&&e.parentNode.removeChild(e)}function YT(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch{}return e}function WT(e,t){return t.appendChild(YT(e,t))}function Mt(e,t){return WT(t,e),e}var _2=2,E4={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":_2,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":_2,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function XT(e,t){return E4[t]?e.style[t]:e.getAttributeNS(null,t)}function S4(e,t,n){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=E4[i];r?(r===_2&&typeof n=="number"&&(n=String(n)+"px"),e.style[i]=n):e.setAttributeNS(null,t,n)}function KT(e,t){var n=Object.keys(t),i,r;for(i=0,r;r=n[i];i++)S4(e,r,t[r])}function ft(e,t,n){if(typeof t=="string")if(n!==void 0)S4(e,t,n);else return XT(e,t);else KT(e,t);return e}const ZT=Object.prototype.toString;function fn(e){return new Nu(e)}function Nu(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}Nu.prototype.add=function(e){return this.list.add(e),this};Nu.prototype.remove=function(e){return ZT.call(e)=="[object RegExp]"?this.removeMatching(e):(this.list.remove(e),this)};Nu.prototype.removeMatching=function(e){const t=this.array();for(let n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this};Nu.prototype.toggle=function(e,t){return typeof t<"u"?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this};Nu.prototype.array=function(){return Array.from(this.list)};Nu.prototype.has=Nu.prototype.contains=function(e){return this.list.contains(e)};function my(e){for(var t;t=e.firstChild;)e.removeChild(t);return e}function A4(e){return e.cloneNode(!0)}var yb={svg:"http://www.w3.org/2000/svg"},wx='<svg xmlns="'+yb.svg+'"';function QT(e){var t=!1;e.substring(0,4)==="<svg"?e.indexOf(yb.svg)===-1&&(e=wx+e.substring(4)):(e=wx+">"+e+"</svg>",t=!0);var n=JT(e);if(!t)return n;for(var i=document.createDocumentFragment(),r=n.firstChild;r.firstChild;)i.appendChild(r.firstChild);return i}function JT(e){var t;return t=new DOMParser,t.async=!1,t.parseFromString(e,"text/xml")}function yt(e,t){var n;return e=e.trim(),e.charAt(0)==="<"?(n=QT(e).firstChild,n=document.importNode(n,!0)):n=document.createElementNS(yb.svg,e),t&&ft(n,t),n}var P1=null;function N4(){return P1===null&&(P1=yt("svg")),P1}function xx(e,t){var n,i,r=Object.keys(t);for(n=0;i=r[n];n++)e[i]=t[i];return e}function eR(e,t,n,i,r,a){var s=N4().createSVGMatrix();switch(arguments.length){case 0:return s;case 1:return xx(s,e);case 6:return xx(s,{a:e,b:t,c:n,d:i,e:r,f:a})}}function Qd(e){return N4().createSVGTransform()}var Ex=/([&<>]{1})/g,tR=/([&<>\n\r"]{1})/g,nR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function L1(e,t){function n(i,r){return nR[r]||r}return e.replace(t,n)}function C4(e,t){var n,i,r,a,s;switch(e.nodeType){case 3:t.push(L1(e.textContent,Ex));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(r=e.attributes,n=0,i=r.length;n<i;++n)a=r.item(n),t.push(" ",a.name,'="',L1(a.value,tR),'"');if(e.hasChildNodes()){for(t.push(">"),s=e.childNodes,n=0,i=s.length;n<i;++n)C4(s.item(n),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("<!--",L1(e.nodeValue,Ex),"-->");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function iR(e){for(var t=e.firstChild,n=[];t;)C4(t,n),t=t.nextSibling;return n.join("")}function Sx(e,t){return iR(e)}function Qi(e){var t=e.parentNode;return t&&t.removeChild(e),e}function rR(e,t){return t instanceof SVGMatrix?e.createSVGTransformFromMatrix(t):t}function aR(e,t){var n,i;for(e.clear(),n=0;i=t[n];n++)e.appendItem(rR(e,i))}function om(e,t){var n=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),aR(n,t)),n.consolidate()}const oR=/^class[ {]/;function sR(e){return oR.test(e.toString())}function bb(e){return Array.isArray(e)}function D1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Av(...e){e.length===1&&bb(e[0])&&(e=e[0]),e=[...e];const t=e.pop();return t.$inject=e,t}const lR=/constructor\s*[^(]*\(\s*([^)]*)\)/m,cR=/^(?:async\s+)?(?:function\s*[^(]*)?(?:\(\s*([^)]*)\)|(\w+))/m,uR=/\/\*([^*]*)\*\//m;function fR(e){if(typeof e!="function")throw new Error(`Cannot annotate "${e}". Expected a function!`);const t=e.toString().match(sR(e)?lR:cR);if(!t)return[];const n=t[1]||t[2];return n&&n.split(",").map(i=>{const r=i.match(uR);return(r&&r[1]||i).trim()})||[]}function T4(e,t){const n=t||{get:function(M,P){if(i.push(M),P===!1)return null;throw l(`No provider for "${M}"!`)}},i=[],r=this._providers=Object.create(n._providers||null),a=this._instances=Object.create(null),s=a.injector=this,l=function(M){const P=i.join(" -> ");return i.length=0,new Error(P?`${M} (Resolving: ${P})`:M)};function u(M,P){if(!r[M]&&M.includes(".")){const k=M.split(".");let W=u(k.shift());for(;k.length;)W=W[k.shift()];return W}if(D1(a,M))return a[M];if(D1(r,M)){if(i.indexOf(M)!==-1)throw i.push(M),l("Cannot resolve circular dependency!");return i.push(M),a[M]=r[M][0](r[M][1]),i.pop(),a[M]}return n.get(M,P)}function f(M,P){if(typeof P>"u"&&(P={}),typeof M!="function")if(bb(M))M=Av(M.slice());else throw l(`Cannot invoke "${M}". Expected a function!`);const W=(M.$inject||fR(M)).map(Q=>D1(P,Q)?P[Q]:u(Q));return{fn:M,dependencies:W}}function p(M){const{fn:P,dependencies:k}=f(M),W=Function.prototype.bind.call(P,null,...k);return new W}function d(M,P,k){const{fn:W,dependencies:Q}=f(M,k);return W.apply(P,Q)}function v(M){return Av(P=>M.get(P))}function g(M,P){if(P&&P.length){const k=Object.create(null),W=Object.create(null),Q=[],z=[],ie=[];let le,H,j,ae;for(let oe in r)le=r[oe],P.indexOf(oe)!==-1&&(le[2]==="private"?(H=Q.indexOf(le[3]),H===-1?(j=le[3].createChild([],P),ae=v(j),Q.push(le[3]),z.push(j),ie.push(ae),k[oe]=[ae,oe,"private",j]):k[oe]=[ie[H],oe,"private",z[H]]):k[oe]=[le[2],le[1]],W[oe]=!0),(le[2]==="factory"||le[2]==="type")&&le[1].$scope&&P.forEach(xe=>{le[1].$scope.indexOf(xe)!==-1&&(k[oe]=[le[2],le[1]],W[xe]=!0)});P.forEach(oe=>{if(!W[oe])throw new Error('No provider for "'+oe+'". Cannot use provider from the parent!')}),M.unshift(k)}return new T4(M,s)}const w={factory:d,type:p,value:function(M){return M}};function x(M,P){const k=M.__init__||[];return function(){k.forEach(W=>{typeof W=="string"?P.get(W):P.invoke(W)})}}function E(M){const P=M.__exports__;if(P){const k=M.__modules__,W=Object.keys(M).reduce((H,j)=>(j!=="__exports__"&&j!=="__modules__"&&j!=="__init__"&&j!=="__depends__"&&(H[j]=M[j]),H),Object.create(null)),Q=(k||[]).concat(W),z=g(Q),ie=Av(function(H){return z.get(H)});P.forEach(function(H){r[H]=[ie,H,"private",z]});const le=(M.__init__||[]).slice();return le.unshift(function(){z.init()}),M=Object.assign({},M,{__init__:le}),x(M,z)}return Object.keys(M).forEach(function(k){if(k==="__init__"||k==="__depends__")return;const W=M[k];if(W[2]==="private"){r[k]=W;return}const Q=W[0],z=W[1];r[k]=[w[Q],hR(Q,z),Q]}),x(M,s)}function R(M,P){return M.indexOf(P)!==-1||(M=(P.__depends__||[]).reduce(R,M),M.indexOf(P)!==-1)?M:M.concat(P)}function L(M){const P=M.reduce(R,[]).map(E);let k=!1;return function(){k||(k=!0,P.forEach(W=>W()))}}this.get=u,this.invoke=d,this.instantiate=p,this.createChild=g,this.init=L(e)}function hR(e,t){return e!=="value"&&bb(t)&&(t=Av(t.slice())),t}var pR=1e3;function uc(e,t){var n=this;t=t||pR,e.on(["render.shape","render.connection"],t,function(i,r){var a=i.type,s=r.element,l=r.gfx,u=r.attrs;if(n.canRender(s))return a==="render.shape"?n.drawShape(l,s,u):n.drawConnection(l,s,u)}),e.on(["render.getShapePath","render.getConnectionPath"],t,function(i,r){if(n.canRender(r))return i.type==="render.getShapePath"?n.getShapePath(r):n.getConnectionPath(r)})}uc.prototype.canRender=function(e){};uc.prototype.drawShape=function(e,t){};uc.prototype.drawConnection=function(e,t){};uc.prototype.getShapePath=function(e){};uc.prototype.getConnectionPath=function(e){};function th(e){return e.flat().join(",").replace(/,?([A-Za-z]),?/g,"$1")}function dR(e){return["M",e.x,e.y]}function O1(e){return["L",e.x,e.y]}function mR(e,t,n){return["C",e.x,e.y,t.x,t.y,n.x,n.y]}function gR(e,t){const n=e.length,i=[dR(e[0])];for(let r=1;r<n;r++){const a=e[r-1],s=e[r],l=e[r+1];if(!l||!t){i.push(O1(s));continue}const u=Math.min(t,w2(s.x-a.x,s.y-a.y),w2(l.x-s.x,l.y-s.y));if(!u){i.push(O1(s));continue}const f=Yg(s,a,u),p=Yg(s,a,u*.5),d=Yg(s,l,u),v=Yg(s,l,u*.5);i.push(O1(f)),i.push(mR(p,v,d))}return i}function Yg(e,t,n){const i=t.x-e.x,r=t.y-e.y,a=w2(i,r),s=n/a;return{x:e.x+i*s,y:e.y+r*s}}function w2(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}function gy(e,t,n){Nt(t)&&(n=t,t=null),t||(t={});const i=yt("path",t);return Nt(n)&&(i.dataset.cornerRadius=String(n)),R4(i,e)}function R4(e,t){const n=parseInt(e.dataset.cornerRadius,10)||0;return ft(e,{d:th(gR(t,n))}),e}function vy(e){return Yt(e,function(t){return!mn(e,function(n){return n!==t&&M4(t,n)})})}function M4(e,t){if(t){if(e===t)return t;if(e.parent)return M4(e.parent,t)}}function Ax(e,t,n){var i=!n||e.indexOf(t)===-1;return i&&e.push(t),i}function nh(e,t,n){n=n||0,Tt(e)||(e=[e]),ve(e,function(i,r){var a=t(i,r,n);Tt(a)&&a.length&&nh(a,t,n+1)})}function vR(e,t,n){var i=[],r=[];return nh(e,function(a,s,l){Ax(i,a,t);var u=a.children;if(u&&Ax(r,u,t))return u}),i}function ym(e,t){return vR(e,!t)}function yR(e,t,n){Xf(t)&&(t=!0),_r(t)&&(n=t,t=!0),n=n||{};var i=kd(n.allShapes),r=kd(n.allConnections),a=kd(n.enclosedElements),s=kd(n.enclosedConnections),l=kd(n.topLevel,t&&Lu(e,function(p){return p.id}));function u(p){l[p.source.id]&&l[p.target.id]&&(l[p.id]=[p]),i[p.source.id]&&i[p.target.id]&&(s[p.id]=a[p.id]=p),r[p.id]=p}function f(p){if(a[p.id]=p,p.waypoints)s[p.id]=r[p.id]=p;else return i[p.id]=p,ve(p.incoming,u),ve(p.outgoing,u),p.children}return nh(e,f),{allShapes:i,allConnections:r,topLevel:l,enclosedConnections:s,enclosedElements:a}}function Ji(e,t){t=!!t,Tt(e)||(e=[e]);var n,i,r,a;return ve(e,function(s){var l=s;s.waypoints&&!t&&(l=Ji(s.waypoints,!0));var u=l.x,f=l.y,p=l.height||0,d=l.width||0;(u<n||n===void 0)&&(n=u),(f<i||i===void 0)&&(i=f),(u+d>r||r===void 0)&&(r=u+d),(f+p>a||a===void 0)&&(a=f+p)}),{x:n,y:i,height:a-i,width:r-n}}function P4(e,t){var n={};return ve(e,function(i){var r=i;r.waypoints&&(r=Ji(r)),!Nt(t.y)&&r.x>t.x&&(n[i.id]=i),!Nt(t.x)&&r.y>t.y&&(n[i.id]=i),r.x>t.x&&r.y>t.y&&(Nt(t.width)&&Nt(t.height)&&r.width+r.x<t.width+t.x&&r.height+r.y<t.height+t.y||!Nt(t.width)||!Nt(t.height))&&(n[i.id]=i)}),n}function L4(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}function D4(e){return!!(e&&e.isFrame)}function kd(e,t){return Ne({},e||{},t||{})}var bR=1;function Du(e,t){uc.call(this,e,bR),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}dt(Du,uc);Du.prototype.canRender=function(){return!0};Du.prototype.drawShape=function(t,n,i){var r=yt("rect");return ft(r,{x:0,y:0,width:n.width||0,height:n.height||0}),D4(n)?ft(r,Ne({},this.FRAME_STYLE,i||{})):ft(r,Ne({},this.SHAPE_STYLE,i||{})),Mt(t,r),r};Du.prototype.drawConnection=function(t,n,i){var r=gy(n.waypoints,Ne({},this.CONNECTION_STYLE,i||{}));return Mt(t,r),r};Du.prototype.getShapePath=function(t){var n=t.x,i=t.y,r=t.width,a=t.height,s=[["M",n,i],["l",r,0],["l",0,a],["l",-r,0],["z"]];return th(s)};Du.prototype.getConnectionPath=function(t){var n=t.waypoints,i,r,a=[];for(i=0;r=n[i];i++)r=r.original||r,a.push([i===0?"M":"L",r.x,r.y]);return th(a)};Du.$inject=["eventBus","styles"];function _R(){var e={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},t=this;this.cls=function(n,i,r){var a=this.style(i,r);return Ne(a,{class:n})},this.style=function(n,i){!Tt(n)&&!i&&(i=n,n=[]);var r=xa(n,function(a,s){return Ne(a,e[s]||{})},{});return i?Ne(r,i):r},this.computeStyle=function(n,i,r){return Tt(i)||(r=i,i=[]),t.style(i||[],Ne({},r,n||{}))}}const wR={__init__:["defaultRenderer"],defaultRenderer:["type",Du],styles:["type",_R]};function ki(e,t){if(!e||!t)return-1;var n=e.indexOf(t);return n!==-1&&e.splice(n,1),n}function er(e,t,n){if(!(!e||!t)){typeof n!="number"&&(n=-1);var i=e.indexOf(t);if(i!==-1){if(i===n)return;if(n!==-1)e.splice(i,1);else return}n!==-1?e.splice(n,0,t):e.push(t)}}function _b(e,t){return!e||!t?-1:e.indexOf(t)}function bm(e,t){return!e||!t?-1:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function wb(e,t,n,i){if(typeof i>"u"&&(i=5),!e||!t||!n)return!1;var r=(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x),a=bm(e,t);return Math.abs(r/a)<=i}var xR=2;function ac(e,t){var n=Array.from(arguments).flat();const i={x:"v",y:"h"};for(const[r,a]of Object.entries(i))if(ER(r,n))return a;return!1}function ER(e,t){const n=t[0];return eh(t,function(i){return Math.abs(n[e]-i[e])<=xR})}function Nx(e,t,n){return n=n||0,e.x>t.x-n&&e.y>t.y-n&&e.x<t.x+t.width+n&&e.y<t.y+t.height+n}function x2(e,t){return{x:Math.round(e.x+(t.x-e.x)/2),y:Math.round(e.y+(t.y-e.y)/2)}}var SR=/,?([a-z]),?/gi,Cx=parseFloat,Li=Math,uu=Li.PI,sl=Li.min,ll=Li.max,Tx=Li.pow,wu=Li.abs,AR=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,NR=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,Wv=Array.isArray||function(e){return e instanceof Array};function xb(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Jd(e){if(typeof e=="function"||Object(e)!==e)return e;var t=new e.constructor;for(var n in e)xb(e,n)&&(t[n]=Jd(e[n]));return t}function CR(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return e.push(e.splice(n,1)[0])}function TR(e){function t(){var n=Array.prototype.slice.call(arguments,0),i=n.join(""),r=t.cache=t.cache||{},a=t.count=t.count||[];return xb(r,i)?(CR(a,i),r[i]):(a.length>=1e3&&delete r[a.shift()],a.push(i),r[i]=e(...arguments),r[i])}return t}function RR(e){if(!e)return null;var t=vp(e);if(t.arr)return Jd(t.arr);var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[];return Wv(e)&&Wv(e[0])&&(i=Jd(e)),i.length||String(e).replace(AR,function(r,a,s){var l=[],u=a.toLowerCase();for(s.replace(NR,function(f,p){p&&l.push(+p)}),u=="m"&&l.length>2&&(i.push([a,...l.splice(0,2)]),u="l",a=a=="m"?"l":"L");l.length>=n[u]&&(i.push([a,...l.splice(0,n[u])]),!!n[u]););}),i.toString=vp.toString,t.arr=Jd(i),i}function vp(e){var t=vp.ps=vp.ps||{};return t[e]?t[e].sleep=100:t[e]={sleep:100},setTimeout(function(){for(var n in t)xb(t,n)&&n!=e&&(t[n].sleep--,!t[n].sleep&&delete t[n])}),t[e]}function E2(e,t,n,i){return arguments.length===1&&(t=e.y,n=e.width,i=e.height,e=e.x),{x:e,y:t,width:n,height:i,x2:e+n,y2:t+i}}function O4(){return this.join(",").replace(SR,"$1")}function Xv(e){var t=Jd(e);return t.toString=O4,t}function Rx(e,t,n,i,r,a,s,l,u){var f=1-u,p=Tx(f,3),d=Tx(f,2),v=u*u,g=v*u,w=p*e+d*3*u*n+f*3*u*u*r+g*s,x=p*t+d*3*u*i+f*3*u*u*a+g*l;return{x:Kv(w),y:Kv(x)}}function Mx(e){var t=OR(...e);return E2(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function fu(e,t,n){return t>=e.x&&t<=e.x+e.width&&n>=e.y&&n<=e.y+e.height}function MR(e,t){return e=E2(e),t=E2(t),fu(t,e.x,e.y)||fu(t,e.x2,e.y)||fu(t,e.x,e.y2)||fu(t,e.x2,e.y2)||fu(e,t.x,t.y)||fu(e,t.x2,t.y)||fu(e,t.x,t.y2)||fu(e,t.x2,t.y2)||(e.x<t.x2&&e.x>t.x||t.x<e.x2&&t.x>e.x)&&(e.y<t.y2&&e.y>t.y||t.y<e.y2&&t.y>e.y)}function Px(e,t,n,i,r){var a=-3*t+9*n-9*i+3*r,s=e*a+6*t-12*n+6*i;return e*s-3*t+3*n}function Lx(e,t,n,i,r,a,s,l,u){u==null&&(u=1),u=u>1?1:u<0?0:u;for(var f=u/2,p=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],v=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],g=0,w=0;w<p;w++){var x=f*d[w]+f,E=Px(x,e,n,r,s),R=Px(x,t,i,a,l),L=E*E+R*R;g+=v[w]*Li.sqrt(L)}return f*g}function PR(e,t,n,i,r,a,s,l){if(!(ll(e,n)<sl(r,s)||sl(e,n)>ll(r,s)||ll(t,i)<sl(a,l)||sl(t,i)>ll(a,l))){var u=(e*i-t*n)*(r-s)-(e-n)*(r*l-a*s),f=(e*i-t*n)*(a-l)-(t-i)*(r*l-a*s),p=(e-n)*(a-l)-(t-i)*(r-s);if(p){var d=Kv(u/p),v=Kv(f/p),g=+d.toFixed(2),w=+v.toFixed(2);if(!(g<+sl(e,n).toFixed(2)||g>+ll(e,n).toFixed(2)||g<+sl(r,s).toFixed(2)||g>+ll(r,s).toFixed(2)||w<+sl(t,i).toFixed(2)||w>+ll(t,i).toFixed(2)||w<+sl(a,l).toFixed(2)||w>+ll(a,l).toFixed(2)))return{x:d,y:v}}}}function Kv(e){return Math.round(e*1e11)/1e11}function LR(e,t,n){var i=Mx(e),r=Mx(t);if(!MR(i,r))return[];for(var a=Lx(...e),s=Lx(...t),l=Dx(e)?1:~~(a/5)||1,u=Dx(t)?1:~~(s/5)||1,f=[],p=[],d={},v=[],g=0;g<l+1;g++){var w=Rx(...e,g/l);f.push({x:w.x,y:w.y,t:g/l})}for(g=0;g<u+1;g++)w=Rx(...t,g/u),p.push({x:w.x,y:w.y,t:g/u});for(g=0;g<l;g++)for(var x=0;x<u;x++){var E=f[g],R=f[g+1],L=p[x],M=p[x+1],P=wu(R.x-E.x)<.01?"y":"x",k=wu(M.x-L.x)<.01?"y":"x",W=PR(E.x,E.y,R.x,R.y,L.x,L.y,M.x,M.y),Q;if(W){if(Q=W.x.toFixed(9)+"#"+W.y.toFixed(9),d[Q])continue;d[Q]=!0;var z=E.t+wu((W[P]-E[P])/(R[P]-E[P]))*(R.t-E.t),ie=L.t+wu((W[k]-L[k])/(M[k]-L[k]))*(M.t-L.t);z>=0&&z<=1&&ie>=0&&ie<=1&&v.push({x:W.x,y:W.y,t1:z,t2:ie})}}return v}function B4(e,t,n){e=Bx(e),t=Bx(t);for(var i,r,a,s,l,u,f,p,d,v,g=n?0:[],w=0,x=e.length;w<x;w++){var E=e[w];if(E[0]=="M")i=l=E[1],r=u=E[2];else{E[0]=="C"?(d=[i,r,...E.slice(1)],i=d[6],r=d[7]):(d=[i,r,i,r,l,u,l,u],i=l,r=u);for(var R=0,L=t.length;R<L;R++){var M=t[R];if(M[0]=="M")a=f=M[1],s=p=M[2];else{M[0]=="C"?(v=[a,s,...M.slice(1)],a=v[6],s=v[7]):(v=[a,s,a,s,f,p,f,p],a=f,s=p);var P=LR(d,v);{for(var k=0,W=P.length;k<W;k++)P[k].segment1=w,P[k].segment2=R,P[k].bez1=d,P[k].bez2=v;g=g.concat(P)}}}}}return g}function DR(e){var t=vp(e);if(t.abs)return Xv(t.abs);if((!Wv(e)||!Wv(e&&e[0]))&&(e=RR(e)),!e||!e.length)return[["M",0,0]];var n=[],i=0,r=0,a=0,s=0,l=0,u;e[0][0]=="M"&&(i=+e[0][1],r=+e[0][2],a=i,s=r,l++,n[0]=["M",i,r]);for(var f,p,d=l,v=e.length;d<v;d++){if(n.push(f=[]),p=e[d],u=p[0],u!=u.toUpperCase())switch(f[0]=u.toUpperCase(),f[0]){case"A":f[1]=p[1],f[2]=p[2],f[3]=p[3],f[4]=p[4],f[5]=p[5],f[6]=+p[6]+i,f[7]=+p[7]+r;break;case"V":f[1]=+p[1]+r;break;case"H":f[1]=+p[1]+i;break;case"M":a=+p[1]+i,s=+p[2]+r;default:for(var g=1,w=p.length;g<w;g++)f[g]=+p[g]+(g%2?i:r)}else for(var x=0,E=p.length;x<E;x++)f[x]=p[x];switch(u=u.toUpperCase(),f[0]){case"Z":i=+a,r=+s;break;case"H":i=f[1];break;case"V":r=f[1];break;case"M":a=f[f.length-2],s=f[f.length-1];default:i=f[f.length-2],r=f[f.length-1]}}return n.toString=O4,t.abs=Xv(n),n}function Dx(e){return e[0]===e[2]&&e[1]===e[3]&&e[4]===e[6]&&e[5]===e[7]}function Wg(e,t,n,i){return[e,t,n,i,n,i]}function Ox(e,t,n,i,r,a){var s=.3333333333333333,l=2/3;return[s*e+l*n,s*t+l*i,s*r+l*n,s*a+l*i,r,a]}function k4(e,t,n,i,r,a,s,l,u,f){var p=uu*120/180,d=uu/180*(+r||0),v=[],g,w=TR(function(B,C,T){var Z=B*Li.cos(T)-C*Li.sin(T),te=B*Li.sin(T)+C*Li.cos(T);return{x:Z,y:te}});if(f)Q=f[0],z=f[1],k=f[2],W=f[3];else{g=w(e,t,-d),e=g.x,t=g.y,g=w(l,u,-d),l=g.x,u=g.y;var x=(e-l)/2,E=(t-u)/2,R=x*x/(n*n)+E*E/(i*i);R>1&&(R=Li.sqrt(R),n=R*n,i=R*i);var L=n*n,M=i*i,P=(a==s?-1:1)*Li.sqrt(wu((L*M-L*E*E-M*x*x)/(L*E*E+M*x*x))),k=P*n*E/i+(e+l)/2,W=P*-i*x/n+(t+u)/2,Q=Li.asin(((t-W)/i).toFixed(9)),z=Li.asin(((u-W)/i).toFixed(9));Q=e<k?uu-Q:Q,z=l<k?uu-z:z,Q<0&&(Q=uu*2+Q),z<0&&(z=uu*2+z),s&&Q>z&&(Q=Q-uu*2),!s&&z>Q&&(z=z-uu*2)}var ie=z-Q;if(wu(ie)>p){var le=z,H=l,j=u;z=Q+p*(s&&z>Q?1:-1),l=k+n*Li.cos(z),u=W+i*Li.sin(z),v=k4(l,u,n,i,r,0,s,H,j,[z,le,k,W])}ie=z-Q;var ae=Li.cos(Q),oe=Li.sin(Q),xe=Li.cos(z),re=Li.sin(z),fe=Li.tan(ie/4),pe=4/3*n*fe,Ee=4/3*i*fe,Y=[e,t],ge=[e+pe*oe,t-Ee*ae],O=[l+pe*re,u-Ee*xe],F=[l,u];if(ge[0]=2*Y[0]-ge[0],ge[1]=2*Y[1]-ge[1],f)return[ge,O,F].concat(v);v=[ge,O,F].concat(v).join().split(",");for(var K=[],se=0,he=v.length;se<he;se++)K[se]=se%2?w(v[se-1],v[se],d).y:w(v[se],v[se+1],d).x;return K}function OR(e,t,n,i,r,a,s,l){for(var u=[],f=[[],[]],p,d,v,g,w,x,E,R,L=0;L<2;++L){if(L==0?(d=6*e-12*n+6*r,p=-3*e+9*n-9*r+3*s,v=3*n-3*e):(d=6*t-12*i+6*a,p=-3*t+9*i-9*a+3*l,v=3*i-3*t),wu(p)<1e-12){if(wu(d)<1e-12)continue;g=-v/d,0<g&&g<1&&u.push(g);continue}E=d*d-4*v*p,R=Li.sqrt(E),!(E<0)&&(w=(-d+R)/(2*p),0<w&&w<1&&u.push(w),x=(-d-R)/(2*p),0<x&&x<1&&u.push(x))}for(var M=u.length,P=M,k;M--;)g=u[M],k=1-g,f[0][M]=k*k*k*e+3*k*k*g*n+3*k*g*g*r+g*g*g*s,f[1][M]=k*k*k*t+3*k*k*g*i+3*k*g*g*a+g*g*g*l;return f[0][P]=e,f[1][P]=t,f[0][P+1]=s,f[1][P+1]=l,f[0].length=f[1].length=P+2,{x0:sl(...f[0]),y0:sl(...f[1]),x1:ll(...f[0]),y1:ll(...f[1])}}function Bx(e){var t=vp(e);if(t.curve)return Xv(t.curve);for(var n=DR(e),i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r=function(g,w,x){var E,R;if(!g)return["C",w.x,w.y,w.x,w.y,w.x,w.y];switch(!(g[0]in{T:1,Q:1})&&(w.qx=w.qy=null),g[0]){case"M":w.X=g[1],w.Y=g[2];break;case"A":g=["C",...k4(w.x,w.y,...g.slice(1))];break;case"S":x=="C"||x=="S"?(E=w.x*2-w.bx,R=w.y*2-w.by):(E=w.x,R=w.y),g=["C",E,R,...g.slice(1)];break;case"T":x=="Q"||x=="T"?(w.qx=w.x*2-w.qx,w.qy=w.y*2-w.qy):(w.qx=w.x,w.qy=w.y),g=["C",...Ox(w.x,w.y,w.qx,w.qy,g[1],g[2])];break;case"Q":w.qx=g[1],w.qy=g[2],g=["C",...Ox(w.x,w.y,g[1],g[2],g[3],g[4])];break;case"L":g=["C",...Wg(w.x,w.y,g[1],g[2])];break;case"H":g=["C",...Wg(w.x,w.y,g[1],w.y)];break;case"V":g=["C",...Wg(w.x,w.y,w.x,g[1])];break;case"Z":g=["C",...Wg(w.x,w.y,w.X,w.Y)];break}return g},a=function(g,w){if(g[w].length>7){g[w].shift();for(var x=g[w];x.length;)s[w]="A",g.splice(w++,0,["C",...x.splice(0,6)]);g.splice(w,1),p=n.length}},s=[],l="",u="",f=0,p=n.length;f<p;f++){n[f]&&(l=n[f][0]),l!="C"&&(s[f]=l,f&&(u=s[f-1])),n[f]=r(n[f],i,u),s[f]!="A"&&l=="C"&&(s[f]="C"),a(n,f);var d=n[f],v=d.length;i.x=d[v-2],i.y=d[v-1],i.bx=Cx(d[v-4])||i.x,i.by=Cx(d[v-3])||i.y}return t.curve=Xv(n),n}function Ln(e){return _r(e)&&wa(e,"waypoints")}function pn(e){return _r(e)&&wa(e,"labelTarget")}function j4(e){return{x:Math.round(e.x),y:Math.round(e.y),width:Math.round(e.width),height:Math.round(e.height)}}function sc(e){return{x:Math.round(e.x),y:Math.round(e.y)}}function _t(e){return{top:e.y,right:e.x+(e.width||0),bottom:e.y+(e.height||0),left:e.x}}function yy(e){return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}}function BR(e){return sc({x:e.x+(e.width||0)/2,y:e.y+(e.height||0)/2})}function kR(e){for(var t=e.waypoints,n=t.reduce(function(f,p,d){var v=t[d-1];if(v){var g=f[f.length-1],w=g&&g.endLength||0,x=FR(v,p);f.push({start:v,end:p,startLength:w,endLength:w+x,length:x})}return f},[]),i=n.reduce(function(f,p){return f+p.length},0),r=i/2,a=0,s=n[a];s.endLength<r;)s=n[++a];var l=(r-s.startLength)/s.length,u={x:s.start.x+(s.end.x-s.start.x)*l,y:s.start.y+(s.end.y-s.start.y)*l};return u}function Ct(e){return Ln(e)?kR(e):BR(e)}function $r(e,t,n){n=n||0,_r(n)||(n={x:n,y:n});var i=_t(e),r=_t(t),a=i.bottom+n.y<=r.top,s=i.left-n.x>=r.right,l=i.top-n.y>=r.bottom,u=i.right+n.x<=r.left,f=a?"top":l?"bottom":null,p=u?"left":s?"right":null;return p&&f?f+"-"+p:p||f||"intersect"}function S2(e,t,n){var i=jR(e,t);return i.length===1||i.length===2&&bm(i[0],i[1])<1?sc(i[0]):i.length>1?(i=ml(i,function(r){var a=Math.floor(r.t2*100)||1;return a=100-a,a=(a<10?"0":"")+a,r.segment2+"#"+a}),sc(i[n?0:i.length-1])):null}function jR(e,t){return B4(e,t)}function IR(e){e=e.slice();for(var t=0,n,i,r;e[t];)n=e[t],i=e[t-1],r=e[t+1],bm(n,r)===0||wb(i,r,n)?e.splice(t,1):t++;return e}function FR(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Nv(e,t){return Math.round(e*t)/t}function kx(e){return Nt(e)?e+"px":e}function zR(e){for(;e.parent;)e=e.parent;return e}function HR(e){e=Ne({},{width:"100%",height:"100%"},e);const t=e.container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container djs-parent"),Hr(n,{position:"relative",overflow:"hidden",width:kx(e.width),height:kx(e.height)}),t.appendChild(n),n}function I4(e,t,n){const i=yt("g");fn(i).add(t);const r=n!==void 0?n:e.childNodes.length-1;return e.insertBefore(i,e.childNodes[r]||null),i}const UR="base",F4=0,qR=1,VR={shape:["x","y","width","height"],connection:["waypoints"]};function Rt(e,t,n,i){this._eventBus=t,this._elementRegistry=i,this._graphicsFactory=n,this._rootsIdx=0,this._layers={},this._planes=[],this._rootElement=null,this._focused=!1,this._init(e||{})}Rt.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"];Rt.prototype._init=function(e){const t=this._eventBus,n=this._container=HR(e),i=this._svg=yt("svg");ft(i,{width:"100%",height:"100%"}),Ur(i,"tabindex",0),e.autoFocus&&t.on("element.hover",()=>{this.restoreFocus()}),t.on("element.mousedown",500,a=>{this.focus()}),i.addEventListener("focusin",()=>{this._setFocused(!0)}),i.addEventListener("focusout",()=>{this._setFocused(!1)}),Mt(n,i);const r=this._viewport=I4(i,"viewport");e.deferUpdate&&(this._viewboxChanged=y4(Ea(this._viewboxChanged,this),300)),t.on("diagram.init",()=>{t.fire("canvas.init",{svg:i,viewport:r})}),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed","root.set"],()=>{delete this._cachedViewbox}),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)};Rt.prototype._destroy=function(){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});const e=this._container.parentNode;e&&e.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._planes,delete this._rootElement,delete this._viewport};Rt.prototype._setFocused=function(e){e!=this._focused&&(this._focused=e,this._eventBus.fire("canvas.focus.changed",{focused:e}))};Rt.prototype._clear=function(){this._elementRegistry.getAll().forEach(t=>{const n=L4(t);n==="root"?this.removeRootElement(t):this._removeElement(t,n)}),this._planes=[],this._rootElement=null,delete this._cachedViewbox};Rt.prototype.focus=function(){this._svg.focus({preventScroll:!0}),this._setFocused(!0)};Rt.prototype.restoreFocus=function(){document.activeElement===document.body&&this.focus()};Rt.prototype.isFocused=function(){return this._focused};Rt.prototype.getDefaultLayer=function(){return this.getLayer(UR,F4)};Rt.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");let n=this._layers[e];if(n||(n=this._layers[e]=this._createLayer(e,t)),typeof t<"u"&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group};Rt.prototype._getChildIndex=function(e){return xa(this._layers,function(t,n){return n.visible&&e>=n.index&&t++,t},0)};Rt.prototype._createLayer=function(e,t){typeof t>"u"&&(t=qR);const n=this._getChildIndex(t);return{group:I4(this._viewport,"layer-"+e,n),index:t,visible:!0}};Rt.prototype.showLayer=function(e){if(!e)throw new Error("must specify a name");const t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");const n=this._viewport,i=t.group,r=t.index;if(t.visible)return i;const a=this._getChildIndex(r);return n.insertBefore(i,n.childNodes[a]||null),t.visible=!0,i};Rt.prototype.hideLayer=function(e){if(!e)throw new Error("must specify a name");const t=this._layers[e];if(!t)throw new Error("layer <"+e+"> does not exist");const n=t.group;return t.visible&&(Qi(n),t.visible=!1),n};Rt.prototype._removeLayer=function(e){const t=this._layers[e];t&&(delete this._layers[e],Qi(t.group))};Rt.prototype.getActiveLayer=function(){const e=this._findPlaneForRoot(this.getRootElement());return e?e.layer:null};Rt.prototype.findRoot=function(e){return typeof e=="string"&&(e=this._elementRegistry.get(e)),e?(this._findPlaneForRoot(zR(e))||{}).rootElement:void 0};Rt.prototype.getRootElements=function(){return this._planes.map(function(e){return e.rootElement})};Rt.prototype._findPlaneForRoot=function(e){return mn(this._planes,function(t){return t.rootElement===e})};Rt.prototype.getContainer=function(){return this._container};Rt.prototype._updateMarker=function(e,t,n){let i;e.id||(e=this._elementRegistry.get(e)),e.markers=e.markers||new Set,i=this._elementRegistry._elements[e.id],i&&(ve([i.gfx,i.secondaryGfx],function(r){r&&(n?(e.markers.add(t),fn(r).add(t)):(e.markers.delete(t),fn(r).remove(t)))}),this._eventBus.fire("element.marker.update",{element:e,gfx:i.gfx,marker:t,add:!!n}))};Rt.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)};Rt.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)};Rt.prototype.hasMarker=function(e,t){return e.id||(e=this._elementRegistry.get(e)),e.markers?e.markers.has(t):!1};Rt.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)};Rt.prototype.getRootElement=function(){const e=this._rootElement;return e||this._planes.length?e:this.setRootElement(this.addRootElement(null))};Rt.prototype.addRootElement=function(e){const t=this._rootsIdx++;e||(e={id:"__implicitroot_"+t,children:[],isImplicit:!0});const n=e.layer="root-"+t;this._ensureValid("root",e);const i=this.getLayer(n,F4);return this.hideLayer(n),this._addRoot(e,i),this._planes.push({rootElement:e,layer:i}),e};Rt.prototype.removeRootElement=function(e){if(typeof e=="string"&&(e=this._elementRegistry.get(e)),!!this._findPlaneForRoot(e))return this._removeRoot(e),this._removeLayer(e.layer),this._planes=this._planes.filter(function(n){return n.rootElement!==e}),this._rootElement===e&&(this._rootElement=null),e};Rt.prototype.setRootElement=function(e){if(e===this._rootElement)return e;let t;if(!e)throw new Error("rootElement required");return t=this._findPlaneForRoot(e),t||(e=this.addRootElement(e)),this._setRoot(e),e};Rt.prototype._removeRoot=function(e){const t=this._elementRegistry,n=this._eventBus;n.fire("root.remove",{element:e}),n.fire("root.removed",{element:e}),t.remove(e)};Rt.prototype._addRoot=function(e,t){const n=this._elementRegistry,i=this._eventBus;i.fire("root.add",{element:e}),n.add(e,t),i.fire("root.added",{element:e,gfx:t})};Rt.prototype._setRoot=function(e,t){const n=this._rootElement;n&&(this._elementRegistry.updateGraphics(n,null,!0),this.hideLayer(n.layer)),e&&(t||(t=this._findPlaneForRoot(e).layer),this._elementRegistry.updateGraphics(e,this._svg,!0),this.showLayer(e.layer)),this._rootElement=e,this._eventBus.fire("root.set",{element:e})};Rt.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element <"+t.id+"> already exists");const n=VR[e];if(!eh(n,function(r){return typeof t[r]<"u"}))throw new Error("must supply { "+n.join(", ")+" } with "+e)};Rt.prototype._setParent=function(e,t,n){er(t.children,e,n),e.parent=t};Rt.prototype._addElement=function(e,t,n,i){n=n||this.getRootElement();const r=this._eventBus,a=this._graphicsFactory;this._ensureValid(e,t),r.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,i);const s=a.create(e,t,i);return this._elementRegistry.add(t,s),a.update(e,t,s),r.fire(e+".added",{element:t,gfx:s}),t};Rt.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)};Rt.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)};Rt.prototype._removeElement=function(e,t){const n=this._elementRegistry,i=this._graphicsFactory,r=this._eventBus;if(e=n.get(e.id||e),!!e)return r.fire(t+".remove",{element:e}),i.remove(e),ki(e.parent&&e.parent.children,e),e.parent=null,r.fire(t+".removed",{element:e}),n.remove(e),e};Rt.prototype.removeShape=function(e){return this._removeElement(e,"shape")};Rt.prototype.removeConnection=function(e){return this._removeElement(e,"connection")};Rt.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)};Rt.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()};Rt.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})};Rt.prototype.viewbox=function(e){if(e===void 0&&this._cachedViewbox)return structuredClone(this._cachedViewbox);const t=this._viewport,n=this.getSize();let i,r,a,s,l,u,f;if(e)this._changeViewbox(function(){l=Math.min(n.width/e.width,n.height/e.height);const p=this._svg.createSVGMatrix().scale(l).translate(-e.x,-e.y);om(t,p)});else return a=this._rootElement?this.getActiveLayer():null,i=a&&a.getBBox()||{},s=om(t),r=s?s.matrix:eR(),l=Nv(r.a,1e3),u=Nv(-r.e||0,1e3),f=Nv(-r.f||0,1e3),e=this._cachedViewbox={x:u?u/l:0,y:f?f/l:0,width:n.width/l,height:n.height/l,scale:l,inner:{width:i.width||0,height:i.height||0,x:i.x||0,y:i.y||0},outer:n},e;return e};Rt.prototype.scroll=function(e){const t=this._viewport;let n=t.getCTM();return e&&this._changeViewbox(function(){e=Ne({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),z4(t,n)}),{x:n.e,y:n.f}};Rt.prototype.scrollToElement=function(e,t){let n=100;typeof e=="string"&&(e=this._elementRegistry.get(e));const i=this.findRoot(e);if(i!==this.getRootElement()&&this.setRootElement(i),i===e)return;t||(t={}),typeof t=="number"&&(n=t),t={top:t.top||n,right:t.right||n,bottom:t.bottom||n,left:t.left||n};const r=Ji(e),a=_t(r),s=this.viewbox(),l=this.zoom();let u,f;s.y+=t.top/l,s.x+=t.left/l,s.width-=(t.right+t.left)/l,s.height-=(t.bottom+t.top)/l;const p=_t(s);if(!(r.width<s.width&&r.height<s.height))u=r.x-s.x,f=r.y-s.y;else{const v=Math.max(0,a.right-p.right),g=Math.min(0,a.left-p.left),w=Math.max(0,a.bottom-p.bottom),x=Math.min(0,a.top-p.top);u=v||g,f=w||x}this.scroll({dx:-u*l,dy:-f*l})};Rt.prototype.zoom=function(e,t){if(!e)return this.viewbox(e).scale;if(e==="fit-viewport")return this._fitViewport(t);let n,i;return this._changeViewbox(function(){typeof t!="object"&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),i=this._setZoom(e,t)}),Nv(i.a,1e3)};function z4(e,t){const n="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",n)}Rt.prototype._fitViewport=function(e){const t=this.viewbox(),n=t.outer,i=t.inner;let r,a;return i.x>=0&&i.y>=0&&i.x+i.width<=n.width&&i.y+i.height<=n.height&&!e?a={x:0,y:0,width:Math.max(i.width+i.x,n.width),height:Math.max(i.height+i.y,n.height)}:(r=Math.min(1,n.width/i.width,n.height/i.height),a={x:i.x+(e?i.width/2-n.width/r/2:0),y:i.y+(e?i.height/2-n.height/r/2:0),width:n.width/r,height:n.height/r}),this.viewbox(a),this.viewbox(!1).scale};Rt.prototype._setZoom=function(e,t){const n=this._svg,i=this._viewport,r=n.createSVGMatrix(),a=n.createSVGPoint();let s,l,u,f,p;u=i.getCTM();const d=u.a;return t?(s=Ne(a,t),l=s.matrixTransform(u.inverse()),f=r.translate(l.x,l.y).scale(1/d*e).translate(-l.x,-l.y),p=u.multiply(f)):p=r.scale(e),z4(this._viewport,p),p};Rt.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}};Rt.prototype.getAbsoluteBBox=function(e){const t=this.viewbox();let n;e.waypoints?n=this.getGraphics(e).getBBox():n=e;const i=n.x*t.scale-t.x*t.scale,r=n.y*t.scale-t.y*t.scale,a=n.width*t.scale,s=n.height*t.scale;return{x:i,y:r,width:a,height:s}};Rt.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var yp="data-element-id";function oo(e){this._elements={},this._eventBus=e}oo.$inject=["eventBus"];oo.prototype.add=function(e,t,n){var i=e.id;this._validateId(i),ft(t,yp,i),n&&ft(n,yp,i),this._elements[i]={element:e,gfx:t,secondaryGfx:n}};oo.prototype.remove=function(e){var t=this._elements,n=e.id||e,i=n&&t[n];i&&(ft(i.gfx,yp,""),i.secondaryGfx&&ft(i.secondaryGfx,yp,""),delete t[n])};oo.prototype.updateId=function(e,t){this._validateId(t),typeof e=="string"&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),i=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,i)};oo.prototype.updateGraphics=function(e,t,n){var i=e.id||e,r=this._elements[i];return n?r.secondaryGfx=t:r.gfx=t,t&&ft(t,yp,i),t};oo.prototype.get=function(e){var t;typeof e=="string"?t=e:t=e&&ft(e,yp);var n=this._elements[t];return n&&n.element};oo.prototype.filter=function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(n)}),t};oo.prototype.find=function(e){for(var t=this._elements,n=Object.keys(t),i=0;i<n.length;i++){var r=n[i],a=t[r],s=a.element,l=a.gfx;if(e(s,l))return s}};oo.prototype.getAll=function(){return this.filter(function(e){return e})};oo.prototype.forEach=function(e){var t=this._elements;Object.keys(t).forEach(function(n){var i=t[n],r=i.element,a=i.gfx;return e(r,a)})};oo.prototype.getGraphics=function(e,t){var n=e.id||e,i=this._elements[n];return i&&(t?i.secondaryGfx:i.gfx)};oo.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};function $R(e,t,n,i){var r=n.inverse;return Object.defineProperty(e,"remove",{value:function(a){var s=this.indexOf(a);return s!==-1&&(this.splice(s,1),t.unset(a,r,i)),a}}),Object.defineProperty(e,"contains",{value:function(a){return this.indexOf(a)!==-1}}),Object.defineProperty(e,"add",{value:function(a,s){var l=this.indexOf(a);if(typeof s>"u"){if(l!==-1)return;s=this.length}l!==-1&&this.splice(l,1),this.splice(s,0,a),l===-1&&t.set(a,r,i)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e}function GR(e){return e.__refs_collection===!0}function YR(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)}function H4(e,t,n){var i=$R(n[t.name]||[],e,t,n);Object.defineProperty(n,t.name,{enumerable:t.enumerable,value:i}),i.length&&i.forEach(function(r){e.set(r,t.inverse,n)})}function WR(e,t,n){var i=t.inverse,r=n[t.name];Object.defineProperty(n,t.name,{configurable:t.configurable,enumerable:t.enumerable,get:function(){return r},set:function(a){if(a!==r){var s=r;r=null,s&&e.unset(s,i,n),r=a,e.set(r,i,n)}}})}function Po(e,t){if(!(this instanceof Po))return new Po(e,t);e.inverse=t,t.inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}Po.prototype.bind=function(e,t){if(typeof t=="string"){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?H4(this,t,e):WR(this,t,e)};Po.prototype.ensureRefsCollection=function(e,t){var n=e[t.name];return GR(n)||H4(this,t,e),n};Po.prototype.ensureBound=function(e,t){YR(e,t)||this.bind(e,t)};Po.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)};Po.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)};var Eb=new Po({name:"children",enumerable:!0,collection:!0},{name:"parent"}),U4=new Po({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),jx=new Po({name:"attachers",collection:!0},{name:"host"}),q4=new Po({name:"outgoing",collection:!0},{name:"source"}),V4=new Po({name:"incoming",collection:!0},{name:"target"});function Rp(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),Eb.bind(this,"parent"),U4.bind(this,"labels"),q4.bind(this,"outgoing"),V4.bind(this,"incoming")}function _m(){Rp.call(this),Eb.bind(this,"children"),jx.bind(this,"host"),jx.bind(this,"attachers")}dt(_m,Rp);function $4(){Rp.call(this),Eb.bind(this,"children")}dt($4,_m);function G4(){_m.call(this),U4.bind(this,"labelTarget")}dt(G4,_m);function Y4(){Rp.call(this),q4.bind(this,"source"),V4.bind(this,"target")}dt(Y4,Rp);var XR={connection:Y4,shape:_m,label:G4,root:$4};function KR(e,t){var n=XR[e];if(!n)throw new Error("unknown type: <"+e+">");return Ne(new n,t)}function ZR(e){return e instanceof Rp}function fc(){this._uid=12}fc.prototype.createRoot=function(e){return this.create("root",e)};fc.prototype.createLabel=function(e){return this.create("label",e)};fc.prototype.createShape=function(e){return this.create("shape",e)};fc.prototype.createConnection=function(e){return this.create("connection",e)};fc.prototype.create=function(e,t){return t=Ne({},t||{}),t.id||(t.id=e+"_"+this._uid++),KR(e,t)};var Zv="__fn",W4=1e3,QR=Array.prototype.slice;function Fa(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}Fa.prototype.on=function(e,t,n,i){if(e=Tt(e)?e:[e],fr(t)&&(i=n,n=t,t=W4),!Nt(t))throw new Error("priority must be a number");var r=n;i&&(r=Ea(n,i),r[Zv]=n[Zv]||n);var a=this;e.forEach(function(s){a._addListener(s,{priority:t,callback:r,next:null})})};Fa.prototype.once=function(e,t,n,i){var r=this;if(fr(t)&&(i=n,n=t,t=W4),!Nt(t))throw new Error("priority must be a number");function a(){a.__isTomb=!0;var s=n.apply(i,arguments);return r.off(e,a),s}a[Zv]=n,this.on(e,t,a)};Fa.prototype.off=function(e,t){e=Tt(e)?e:[e];var n=this;e.forEach(function(i){n._removeListener(i,t)})};Fa.prototype.createEvent=function(e){var t=new wm;return t.init(e),t};Fa.prototype.fire=function(e,t){var n,i,r,a;if(a=QR.call(arguments),typeof e=="object"&&(t=e,e=t.type),!e)throw new Error("no event type specified");if(i=this._listeners[e],!!i){t instanceof wm?n=t:n=this.createEvent(t),a[0]=n;var s=n.type;e!==s&&(n.type=e);try{r=this._invokeListeners(n,a,i)}finally{e!==s&&(n.type=s)}return r===void 0&&n.defaultPrevented&&(r=!1),r}};Fa.prototype.handleError=function(e){return this.fire("error",{error:e})===!1};Fa.prototype._destroy=function(){this._listeners={}};Fa.prototype._invokeListeners=function(e,t,n){for(var i;n&&!e.cancelBubble;)i=this._invokeListener(e,t,n),n=n.next;return i};Fa.prototype._invokeListener=function(e,t,n){var i;if(n.callback.__isTomb)return i;try{i=JR(n.callback,t),i!==void 0&&(e.returnValue=i,e.stopPropagation()),i===!1&&e.preventDefault()}catch(r){if(!this.handleError(r))throw console.error("unhandled error in event listener",r),r}return i};Fa.prototype._addListener=function(e,t){var n=this._getListeners(e),i;if(!n){this._setListeners(e,t);return}for(;n;){if(n.priority<t.priority){t.next=n,i?i.next=t:this._setListeners(e,t);return}i=n,n=n.next}i.next=t};Fa.prototype._getListeners=function(e){return this._listeners[e]};Fa.prototype._setListeners=function(e,t){this._listeners[e]=t};Fa.prototype._removeListener=function(e,t){var n=this._getListeners(e),i,r,a;if(!t){this._setListeners(e,null);return}for(;n;)i=n.next,a=n.callback,(a===t||a[Zv]===t)&&(r?r.next=i:this._setListeners(e,i)),r=n,n=i};function wm(){}wm.prototype.stopPropagation=function(){this.cancelBubble=!0};wm.prototype.preventDefault=function(){this.defaultPrevented=!0};wm.prototype.init=function(e){Ne(this,e||{})};function JR(e,t){return e.apply(null,t)}function Yf(e){return e.childNodes[0]}function eM(e){return e.parentNode.childNodes[1]}function Cv(e,t,n,i,r){var a=Qd();a.setTranslate(t,n);var s=Qd();s.setRotate(i||0,0,0);var l=Qd();l.setScale(1,1),om(e,[a,s,l])}function Mr(e,t,n){var i=Qd();i.setTranslate(t,n),om(e,i)}function X4(e,t){var n=Qd();n.setRotate(t,0,0),om(e,n)}function so(e,t){this._eventBus=e,this._elementRegistry=t}so.$inject=["eventBus","elementRegistry"];so.prototype._getChildrenContainer=function(e){var t=this._elementRegistry.getGraphics(e),n;return e.parent?(n=eM(t),n||(n=yt("g"),fn(n).add("djs-children"),Mt(t.parentNode,n))):n=t,n};so.prototype._clear=function(e){var t=Yf(e);return dy(t),t};so.prototype._createContainer=function(e,t,n,i){var r=yt("g");fn(r).add("djs-group"),typeof n<"u"?K4(r,t,t.childNodes[n]):Mt(t,r);var a=yt("g");fn(a).add("djs-element"),fn(a).add("djs-"+e),i&&fn(a).add("djs-frame"),Mt(r,a);var s=yt("g");return fn(s).add("djs-visual"),Mt(a,s),a};so.prototype.create=function(e,t,n){var i=this._getChildrenContainer(t.parent);return this._createContainer(e,i,n,D4(t))};so.prototype.updateContainments=function(e){var t=this,n=this._elementRegistry,i;i=xa(e,function(r,a){return a.parent&&(r[a.parent.id]=a.parent),r},{}),ve(i,function(r){var a=r.children;if(a){var s=t._getChildrenContainer(r);ve(a.slice().reverse(),function(l){var u=n.getGraphics(l);K4(u.parentNode,s)})}})};so.prototype.drawShape=function(e,t,n={}){var i=this._eventBus;return i.fire("render.shape",{gfx:e,element:t,attrs:n})};so.prototype.getShapePath=function(e){var t=this._eventBus;return t.fire("render.getShapePath",e)};so.prototype.drawConnection=function(e,t,n={}){var i=this._eventBus;return i.fire("render.connection",{gfx:e,element:t,attrs:n})};so.prototype.getConnectionPath=function(e){var t=this._eventBus;return t.fire("render.getConnectionPath",e)};so.prototype.update=function(e,t,n){if(t.parent){var i=this._clear(n);if(e==="shape")this.drawShape(i,t),Mr(n,t.x,t.y);else if(e==="connection")this.drawConnection(i,t);else throw new Error("unknown type: "+e);t.hidden?ft(n,"display","none"):ft(n,"display","block")}};so.prototype.remove=function(e){var t=this._elementRegistry.getGraphics(e);Qi(t.parentNode)};function K4(e,t,n){var i=n||t.firstChild;e!==i&&t.insertBefore(e,i)}const tM={__depends__:[wR],__init__:["canvas"],canvas:["type",Rt],elementRegistry:["type",oo],elementFactory:["type",fc],eventBus:["type",Fa],graphicsFactory:["type",so]};function nM(e){var t=new T4(e);return t.init(),t}function iM(e){e=e||{};var t={config:["value",e]},n=[t,tM].concat(e.modules||[]);return nM(n)}function Ou(e,t){this._injector=t||iM(e),this.get("eventBus").fire("diagram.init")}Ou.prototype.get=function(e,t){return this._injector.get(e,t)};Ou.prototype.invoke=function(e,t,n){return this._injector.invoke(e,t,n)};Ou.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")};Ou.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};function Sb(){}Sb.prototype.get=function(e){return this.$model.properties.get(this,e)};Sb.prototype.set=function(e,t){this.$model.properties.set(this,e,t)};function Z4(e,t){this.model=e,this.properties=t}Z4.prototype.createType=function(e){var t=this.model,n=this.properties,i=Object.create(Sb.prototype);ve(e.properties,function(s){!s.isMany&&s.default!==void 0&&(i[s.name]=s.default)}),n.defineModel(i,t),n.defineDescriptor(i,e);var r=e.ns.name;function a(s){n.define(this,"$type",{value:r,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),ve(s,Ea(function(l,u){this.set(u,l)},this))}return a.prototype=i,a.hasType=i.$instanceOf=this.model.hasType,n.defineModel(a,t),n.defineDescriptor(a,e),a};var rM={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},Q4={String:function(e){return e},Boolean:function(e){return e==="true"},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e)}};function Ab(e,t){var n=Q4[e];return n?n(t):t}function A2(e){return!!rM[e]}function J4(e){return!!Q4[e]}function qr(e,t){var n=e.split(/:/),i,r;if(n.length===1)i=e,r=t;else if(n.length===2)i=n[1],r=n[0];else throw new Error("expected <prefix:localName> or <localName>, got "+e);return e=(r?r+":":"")+i,{name:e,prefix:r,localName:i}}function lo(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}lo.prototype.build=function(){return ys(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])};lo.prototype.addProperty=function(e,t,n){typeof t=="boolean"&&(n=t,t=void 0),this.addNamedProperty(e,n!==!1);var i=this.properties;t!==void 0?i.splice(t,0,e):i.push(e)};lo.prototype.replaceProperty=function(e,t,n){var i=e.ns,r=this.properties,a=this.propertiesByName,s=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var l=r.indexOf(e);if(l===-1)throw new Error("property <"+i.name+"> not found in property list");r.splice(l,1),this.addProperty(t,n?void 0:l,s),a[i.name]=a[i.localName]=t};lo.prototype.redefineProperty=function(e,t,n){var i=e.ns.prefix,r=t.split("#"),a=qr(r[0],i),s=qr(r[1],a.prefix).name,l=this.propertiesByName[s];if(l)this.replaceProperty(l,e,n);else throw new Error("refined property <"+s+"> not found");delete e.redefines};lo.prototype.addNamedProperty=function(e,t){var n=e.ns,i=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),i[n.name]=i[n.localName]=e};lo.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]};lo.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e};lo.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e};lo.prototype.assertNotTrait=function(e){if((e.extends||[]).length)throw new Error(`cannot create <${e.name}> extending <${e.extends}>`)};lo.prototype.assertNotDefined=function(e,t){var n=e.name,i=this.propertiesByName[n];if(i)throw new Error("property <"+n+"> already defined; override of <"+i.definedBy.ns.name+"#"+i.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")};lo.prototype.hasProperty=function(e){return this.propertiesByName[e]};lo.prototype.addTrait=function(e,t){t&&this.assertNotTrait(e);var n=this.allTypesByName,i=this.allTypes,r=e.name;r in n||(ve(e.properties,Ea(function(a){a=Ne({},a,{name:a.ns.localName,inherited:t}),Object.defineProperty(a,"definedBy",{value:e});var s=a.replaces,l=a.redefines;s||l?this.redefineProperty(a,s||l,s):(a.isBody&&this.setBodyProperty(a),a.isId&&this.setIdProperty(a),this.addProperty(a))},this)),i.push(e),n[r]=e)};function Bu(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,ve(e,Ea(this.registerPackage,this))}Bu.prototype.getPackage=function(e){return this.packageMap[e]};Bu.prototype.getPackages=function(){return this.packages};Bu.prototype.registerPackage=function(e){e=Ne({},e);var t=this.packageMap;Ix(t,e,"prefix"),Ix(t,e,"uri"),ve(e.types,Ea(function(n){this.registerType(n,e)},this)),t[e.uri]=t[e.prefix]=e,this.packages.push(e)};Bu.prototype.registerType=function(e,t){e=Ne({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:Ne(e.meta||{})});var n=qr(e.name,t.prefix),i=n.name,r={};ve(e.properties,Ea(function(a){var s=qr(a.name,n.prefix),l=s.name;A2(a.type)||(a.type=qr(a.type,s.prefix).name),Ne(a,{ns:s,name:l}),r[l]=a},this)),Ne(e,{ns:n,name:i,propertiesByName:r}),ve(e.extends,Ea(function(a){var s=qr(a,n.prefix),l=this.typeMap[s.name];l.traits=l.traits||[],l.traits.push(i)},this)),this.definePackage(e,t),this.typeMap[i]=e};Bu.prototype.mapTypes=function(e,t,n){var i=A2(e.name)?{name:e.name}:this.typeMap[e.name],r=this;function a(u,f){var p=qr(u,A2(u)?"":e.prefix);r.mapTypes(p,t,f)}function s(u){return a(u,!0)}function l(u){return a(u,!1)}if(!i)throw new Error("unknown type <"+e.name+">");ve(i.superClass,n?s:l),t(i,!n),ve(i.traits,s)};Bu.prototype.getEffectiveDescriptor=function(e){var t=qr(e),n=new lo(t);this.mapTypes(t,function(r,a){n.addTrait(r,a)});var i=n.build();return this.definePackage(i,i.allTypes[i.allTypes.length-1].$pkg),i};Bu.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})};function Ix(e,t,n){var i=t[n];if(i in e)throw new Error("package with "+n+" <"+i+"> already defined")}function ih(e){this.model=e}ih.prototype.set=function(e,t,n){if(!Ia(t)||!t.length)throw new TypeError("property name must be a non-empty string");var i=this.getProperty(e,t),r=i&&i.name;aM(n)?i?delete e[r]:delete e.$attrs[N2(t)]:i?r in e?e[r]=n:eA(e,i,n):e.$attrs[N2(t)]=n};ih.prototype.get=function(e,t){var n=this.getProperty(e,t);if(!n)return e.$attrs[N2(t)];var i=n.name;return!e[i]&&n.isMany&&eA(e,n,[]),e[i]};ih.prototype.define=function(e,t,n){if(!n.writable){var i=n.value;n=Ne({},n,{get:function(){return i}}),delete n.value}Object.defineProperty(e,t,n)};ih.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})};ih.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})};ih.prototype.getProperty=function(e,t){var n=this.model,i=n.getPropertyDescriptor(e,t);if(i)return i;if(t.includes(":"))return null;const r=n.config.strict;if(typeof r<"u"){const a=new TypeError(`unknown property <${t}> on <${e.$type}>`);if(r)throw a;typeof console<"u"&&console.warn(a)}return null};function aM(e){return typeof e>"u"}function eA(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function N2(e){return e.replace(/^:/,"")}function Lo(e,t={}){this.properties=new ih(this),this.factory=new Z4(this,this.properties),this.registry=new Bu(e,this.properties),this.typeCache={},this.config=t}Lo.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)};Lo.prototype.getType=function(e){var t=this.typeCache,n=Ia(e)?e:e.ns.name,i=t[n];return i||(e=this.registry.getEffectiveDescriptor(n),i=t[n]=this.factory.createType(e)),i};Lo.prototype.createAny=function(e,t,n){var i=qr(e),r={$type:e,$instanceOf:function(s){return s===this.$type},get:function(s){return this[s]},set:function(s,l){PT(this,[s],l)}},a={name:e,isGeneric:!0,ns:{prefix:i.prefix,localName:i.localName,uri:t}};return this.properties.defineDescriptor(r,a),this.properties.defineModel(r,this),this.properties.define(r,"get",{enumerable:!1,writable:!0}),this.properties.define(r,"set",{enumerable:!1,writable:!0}),this.properties.define(r,"$parent",{enumerable:!1,writable:!0}),this.properties.define(r,"$instanceOf",{enumerable:!1,writable:!0}),ve(n,function(s,l){_r(s)&&s.value!==void 0?r[s.name]=s.value:r[l]=s}),r};Lo.prototype.getPackage=function(e){return this.registry.getPackage(e)};Lo.prototype.getPackages=function(){return this.registry.getPackages()};Lo.prototype.getElementDescriptor=function(e){return e.$descriptor};Lo.prototype.hasType=function(e,t){t===void 0&&(t=e,e=this);var n=e.$model.getElementDescriptor(e);return t in n.allTypesByName};Lo.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]};Lo.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var Fx=String.fromCharCode,oM=Object.prototype.hasOwnProperty,sM=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/ig,em={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(em).forEach(function(e){em[e.toUpperCase()]=em[e]});function lM(e,t,n,i){return i?oM.call(em,i)?em[i]:"&"+i+";":Fx(t||parseInt(n,16))}function Of(e){return e.length>3&&e.indexOf("&")!==-1?e.replace(sM,lM):e}var zx="non-whitespace outside of root node";function Jh(e){return new Error(e)}function Hx(e){return"missing namespace for prefix <"+e+">"}function Xg(e){return{get:e,enumerable:!0}}function cM(e){var t={},n;for(n in e)t[n]=e[n];return t}function C2(e){return e+"$uri"}function uM(e){var t={},n,i;for(n in e)i=e[n],t[i]=i,t[C2(i)]=n;return t}function Ux(){return{line:0,column:0}}function fM(e){throw e}function tA(e){if(!this)return new tA(e);var t=e&&e.proxy,n,i,r,a,s=fM,l,u,f,p,d=Ux,v=!1,g=!1,w=null,x=!1,E;function R(P){P instanceof Error||(P=Jh(P)),w=P,s(P,d)}function L(P){l&&(P instanceof Error||(P=Jh(P)),l(P,d))}this.on=function(P,k){if(typeof k!="function")throw Jh("required args <name, cb>");switch(P){case"openTag":i=k;break;case"text":n=k;break;case"closeTag":r=k;break;case"error":s=k;break;case"warn":l=k;break;case"cdata":a=k;break;case"attention":p=k;break;case"question":f=k;break;case"comment":u=k;break;default:throw Jh("unsupported event: "+P)}return this},this.ns=function(P){if(typeof P>"u"&&(P={}),typeof P!="object")throw Jh("required args <nsMap={}>");var k={},W;for(W in P)k[W]=P[W];return g=!0,E=k,this},this.parse=function(P){if(typeof P!="string")throw Jh("required args <xml=string>");return w=null,M(P),d=Ux,x=!1,w},this.stop=function(){x=!0};function M(P){var k=g?[]:null,W=g?uM(E):null,Q,z=[],ie=0,le=!1,H=!1,j=0,ae=0,oe,xe,re,fe,pe,Ee,Y,ge,O,F="",K=0,se;function he(){if(se!==null)return se;var C,T,Z,te=g&&W.xmlns,de=g&&v?[]:null,Ae=K,Ue=F,Te=Ue.length,$,Le,Ve,je,Ie,qe={},Ye={},at,Ke,ot;e:for(;Ae<Te;Ae++)if(at=!1,Ke=Ue.charCodeAt(Ae),!(Ke===32||Ke<14&&Ke>8)){for((Ke<65||Ke>122||Ke>90&&Ke<97)&&Ke!==95&&Ke!==58&&(L("illegal first char attribute name"),at=!0),ot=Ae+1;ot<Te;ot++)if(Ke=Ue.charCodeAt(ot),!(Ke>96&&Ke<123||Ke>64&&Ke<91||Ke>47&&Ke<59||Ke===46||Ke===45||Ke===95)){if(Ke===32||Ke<14&&Ke>8){L("missing attribute value"),Ae=ot;continue e}if(Ke===61)break;L("illegal attribute name char"),at=!0}if(Ie=Ue.substring(Ae,ot),Ie==="xmlns:xmlns"&&(L("illegal declaration of xmlns"),at=!0),Ke=Ue.charCodeAt(ot+1),Ke===34)ot=Ue.indexOf('"',Ae=ot+2),ot===-1&&(ot=Ue.indexOf("'",Ae),ot!==-1&&(L("attribute value quote missmatch"),at=!0));else if(Ke===39)ot=Ue.indexOf("'",Ae=ot+2),ot===-1&&(ot=Ue.indexOf('"',Ae),ot!==-1&&(L("attribute value quote missmatch"),at=!0));else for(L("missing attribute value quotes"),at=!0,ot=ot+1;ot<Te&&(Ke=Ue.charCodeAt(ot+1),!(Ke===32||Ke<14&&Ke>8));ot++);for(ot===-1&&(L("missing closing quotes"),ot=Te,at=!0),at||(Ve=Ue.substring(Ae,ot)),Ae=ot;ot+1<Te&&(Ke=Ue.charCodeAt(ot+1),!(Ke===32||Ke<14&&Ke>8));ot++)Ae===ot&&(L("illegal character after attribute end"),at=!0);if(Ae=ot+1,at)continue e;if(Ie in Ye){L("attribute <"+Ie+"> already defined");continue}if(Ye[Ie]=!0,!g){qe[Ie]=Ve;continue}if(v){if(Le=Ie==="xmlns"?"xmlns":Ie.charCodeAt(0)===120&&Ie.substr(0,6)==="xmlns:"?Ie.substr(6):null,Le!==null){if(C=Of(Ve),T=C2(Le),je=E[C],!je){if(Le==="xmlns"||T in W&&W[T]!==C)do je="ns"+ie++;while(typeof W[je]<"u");else je=Le;E[C]=je}W[Le]!==je&&($||(W=cM(W),$=!0),W[Le]=je,Le==="xmlns"&&(W[C2(je)]=C,te=je),W[T]=C),qe[Ie]=Ve;continue}de.push(Ie,Ve);continue}if(Ke=Ie.indexOf(":"),Ke===-1){qe[Ie]=Ve;continue}if(!(Z=W[Ie.substring(0,Ke)])){L(Hx(Ie.substring(0,Ke)));continue}Ie=te===Z?Ie.substr(Ke+1):Z+Ie.substr(Ke),qe[Ie]=Ve}if(v)for(Ae=0,Te=de.length;Ae<Te;Ae++){if(Ie=de[Ae++],Ve=de[Ae],Ke=Ie.indexOf(":"),Ke!==-1){if(!(Z=W[Ie.substring(0,Ke)])){L(Hx(Ie.substring(0,Ke)));continue}Ie=te===Z?Ie.substr(Ke+1):Z+Ie.substr(Ke)}qe[Ie]=Ve}return se=qe}function B(){for(var C=/(\r\n|\r|\n)/g,T=0,Z=0,te=0,de=ae,Ae,Ue;j>=te&&(Ae=C.exec(P),!(!Ae||(de=Ae[0].length+Ae.index,de>j)));)T+=1,te=de;return j==-1?(Z=de,Ue=P.substring(ae)):ae===0?Ue=P.substring(ae,j):(Z=j-te,Ue=ae==-1?P.substring(j):P.substring(j,ae+1)),{data:Ue,line:T,column:Z}}for(d=B,t&&(O=Object.create({},{name:Xg(function(){return Y}),originalName:Xg(function(){return ge}),attrs:Xg(he),ns:Xg(function(){return W})}));ae!==-1;){if(P.charCodeAt(ae)===60?j=ae:j=P.indexOf("<",ae),j===-1){if(z.length)return R("unexpected end of file");if(ae===0)return R("missing start tag");ae<P.length&&P.substring(ae).trim()&&L(zx);return}if(ae!==j){if(z.length){if(n&&(n(P.substring(ae,j),Of,d),x))return}else if(P.substring(ae,j).trim()&&(L(zx),x))return}if(fe=P.charCodeAt(j+1),fe===33){if(re=P.charCodeAt(j+2),re===91&&P.substr(j+3,6)==="CDATA["){if(ae=P.indexOf("]]>",j),ae===-1)return R("unclosed cdata");if(a&&(a(P.substring(j+9,ae),d),x))return;ae+=3;continue}if(re===45&&P.charCodeAt(j+3)===45){if(ae=P.indexOf("-->",j),ae===-1)return R("unclosed comment");if(u&&(u(P.substring(j+4,ae),Of,d),x))return;ae+=3;continue}}if(fe===63){if(ae=P.indexOf("?>",j),ae===-1)return R("unclosed question");if(f&&(f(P.substring(j,ae+2),d),x))return;ae+=2;continue}for(oe=j+1;;oe++){if(pe=P.charCodeAt(oe),isNaN(pe))return ae=-1,R("unclosed tag");if(pe===34)re=P.indexOf('"',oe+1),oe=re!==-1?re:oe;else if(pe===39)re=P.indexOf("'",oe+1),oe=re!==-1?re:oe;else if(pe===62){ae=oe;break}}if(fe===33){if(p&&(p(P.substring(j,ae+1),Of,d),x))return;ae+=1;continue}if(se={},fe===47){if(le=!1,H=!0,!z.length)return R("missing open tag");if(oe=Y=z.pop(),re=j+2+oe.length,P.substring(j+2,re)!==oe)return R("closing tag mismatch");for(;re<ae;re++)if(fe=P.charCodeAt(re),!(fe===32||fe>8&&fe<14))return R("close tag")}else{if(P.charCodeAt(ae-1)===47?(oe=Y=P.substring(j+1,ae-1),le=!0,H=!0):(oe=Y=P.substring(j+1,ae),le=!0,H=!1),!(fe>96&&fe<123||fe>64&&fe<91||fe===95||fe===58))return R("illegal first char nodeName");for(re=1,xe=oe.length;re<xe;re++)if(fe=oe.charCodeAt(re),!(fe>96&&fe<123||fe>64&&fe<91||fe>47&&fe<59||fe===45||fe===95||fe==46)){if(fe===32||fe<14&&fe>8){Y=oe.substring(0,re),se=null;break}return R("invalid nodeName")}H||z.push(Y)}if(g){if(Q=W,le&&(H||k.push(Q),se===null&&(v=oe.indexOf("xmlns",re)!==-1)&&(K=re,F=oe,he(),v=!1)),ge=Y,fe=Y.indexOf(":"),fe!==-1){if(Ee=W[Y.substring(0,fe)],!Ee)return R("missing namespace on <"+ge+">");Y=Y.substr(fe+1)}else Ee=W.xmlns;Ee&&(Y=Ee+":"+Y)}if(le&&(K=re,F=oe,i&&(t?i(O,Of,H,d):i(Y,he,Of,H,d),x)))return;if(H){if(r&&(r(t?O:Y,Of,le,d),x))return;g&&(le?W=Q:W=k.pop())}ae+=1}}}function nA(e){return e.xml&&e.xml.tagAlias==="lowerCase"}var T2={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},iA="property";function rA(e){return e.xml&&e.xml.serialize}function hM(e){const t=rA(e);return t!==iA&&(t||null)}function pM(e){return e.charAt(0).toUpperCase()+e.slice(1)}function aA(e,t){return nA(t)?e.prefix+":"+pM(e.localName):e.name}function dM(e,t){var n=e.name,i=e.localName,r=t&&t.xml&&t.xml.typePrefix;return r&&i.indexOf(r)===0?e.prefix+":"+i.slice(r.length):n}function mM(e,t,n){const i=qr(e,t.xmlns),r=`${t[i.prefix]||i.prefix}:${i.localName}`,a=qr(r);var s=n.getPackage(a.prefix);return dM(a,s)}function Cu(e){return new Error(e)}function lc(e){return e.$descriptor}function gM(e){Ne(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(t){this.references.push(t)},this.addElement=function(t){if(!t)throw Cu("expected element");var n=this.elementsById,i=lc(t),r=i.idProperty,a;if(r&&(a=t.get(r.name),a)){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(a))throw new Error("illegal ID <"+a+">");if(n[a])throw Cu("duplicate ID <"+a+">");n[a]=t}},this.addWarning=function(t){this.warnings.push(t)}}function xm(){}xm.prototype.handleEnd=function(){};xm.prototype.handleText=function(){};xm.prototype.handleNode=function(){};function Nb(){}Nb.prototype=Object.create(xm.prototype);Nb.prototype.handleNode=function(){return this};function Mp(){}Mp.prototype=Object.create(xm.prototype);Mp.prototype.handleText=function(e){this.body=(this.body||"")+e};function Em(e,t){this.property=e,this.context=t}Em.prototype=Object.create(Mp.prototype);Em.prototype.handleNode=function(e){if(this.element)throw Cu("expected no sub nodes");return this.element=this.createReference(e),this};Em.prototype.handleEnd=function(){this.element.id=this.body};Em.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}};function Cb(e,t){this.element=t,this.propertyDesc=e}Cb.prototype=Object.create(Mp.prototype);Cb.prototype.handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=Ab(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)};function by(){}by.prototype=Object.create(Mp.prototype);by.prototype.handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t};function sa(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}sa.prototype=Object.create(by.prototype);sa.prototype.addReference=function(e){this.context.addReference(e)};sa.prototype.handleText=function(e){var t=this.element,n=lc(t),i=n.bodyProperty;if(!i)throw Cu("unexpected body text <"+e+">");Mp.prototype.handleText.call(this,e)};sa.prototype.handleEnd=function(){var e=this.body,t=this.element,n=lc(t),i=n.bodyProperty;i&&e!==void 0&&(e=Ab(i.type,e),t.set(i.name,e))};sa.prototype.createElement=function(e){var t=e.attributes,n=this.type,i=lc(n),r=this.context,a=new n({}),s=this.model,l;return ve(t,function(u,f){var p=i.propertiesByName[f],d;p&&p.isReference?p.isMany?(d=u.split(" "),ve(d,function(v){r.addReference({element:a,property:p.ns.name,id:v})})):r.addReference({element:a,property:p.ns.name,id:u}):(p?u=Ab(p.type,u):f==="xmlns"?f=":"+f:(l=qr(f,i.ns.prefix),s.getPackage(l.prefix)&&r.addWarning({message:"unknown attribute <"+f+">",element:a,property:f,value:u})),a.set(f,u))}),a};sa.prototype.getPropertyForNode=function(e){var t=e.name,n=qr(t),i=this.type,r=this.model,a=lc(i),s=n.name,l=a.propertiesByName[s];if(l&&!l.isAttr){const f=hM(l);if(f){const p=e.attributes[f];if(p){const d=mM(p,e.ns,r),v=r.getType(d);return Ne({},l,{effectiveType:lc(v).name})}}return l}var u=r.getPackage(n.prefix);if(u){const f=aA(n,u),p=r.getType(f);if(l=mn(a.properties,function(d){return!d.isVirtual&&!d.isReference&&!d.isAttribute&&p.hasType(d.type)}),l)return Ne({},l,{effectiveType:lc(p).name})}else if(l=mn(a.properties,function(f){return!f.isReference&&!f.isAttribute&&f.type==="Element"}),l)return l;throw Cu("unrecognized element <"+n.name+">")};sa.prototype.toString=function(){return"ElementDescriptor["+lc(this.type).name+"]"};sa.prototype.valueHandler=function(e,t){return new Cb(e,t)};sa.prototype.referenceHandler=function(e){return new Em(e,this.context)};sa.prototype.handler=function(e){return e==="Element"?new bp(this.model,e,this.context):new sa(this.model,e,this.context)};sa.prototype.handleChild=function(e){var t,n,i,r;if(t=this.getPropertyForNode(e),i=this.element,n=t.effectiveType||t.type,J4(n))return this.valueHandler(t,i);t.isReference?r=this.referenceHandler(t).handleNode(e):r=this.handler(n).handleNode(e);var a=r.element;return a!==void 0&&(t.isMany?i.get(t.name).push(a):i.set(t.name,a),t.isReference?(Ne(a,{element:i}),this.context.addReference(a)):a.$parent=i),r};function Tb(e,t,n){sa.call(this,e,t,n)}Tb.prototype=Object.create(sa.prototype);Tb.prototype.createElement=function(e){var t=e.name,n=qr(t),i=this.model,r=this.type,a=i.getPackage(n.prefix),s=a&&aA(n,a)||t;if(!r.hasType(s))throw Cu("unexpected element <"+e.originalName+">");return sa.prototype.createElement.call(this,e)};function bp(e,t,n){this.model=e,this.context=n}bp.prototype=Object.create(by.prototype);bp.prototype.createElement=function(e){var t=e.name,n=qr(t),i=n.prefix,r=e.ns[i+"$uri"],a=e.attributes;return this.model.createAny(t,r,a)};bp.prototype.handleChild=function(e){var t=new bp(this.model,"Element",this.context).handleNode(e),n=this.element,i=t.element,r;return i!==void 0&&(r=n.$children=n.$children||[],r.push(i),i.$parent=n),t};bp.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)};function Rb(e){e instanceof Lo&&(e={model:e}),Ne(this,{lax:!1},e)}Rb.prototype.fromXML=function(e,t,n){var i=t.rootHandler;t instanceof sa?(i=t,t={}):typeof t=="string"?(i=this.handler(t),t={}):typeof i=="string"&&(i=this.handler(i));var r=this.model,a=this.lax,s=new gM(Ne({},t,{rootHandler:i})),l=new tA({proxy:!0}),u=vM();i.context=s,u.push(i);function f(k,W,Q){var z=W(),ie=z.line,le=z.column,H=z.data;H.charAt(0)==="<"&&H.indexOf(" ")!==-1&&(H=H.slice(0,H.indexOf(" "))+">");var j="unparsable content "+(H?H+" ":"")+`detected
	line: `+ie+`
	column: `+le+`
	nested error: `+k.message;if(Q)return s.addWarning({message:j,error:k}),!0;throw Cu(j)}function p(k,W){return f(k,W,!0)}function d(){var k=s.elementsById,W=s.references,Q,z;for(Q=0;z=W[Q];Q++){var ie=z.element,le=k[z.id],H=lc(ie).propertiesByName[z.property];if(le||s.addWarning({message:"unresolved reference <"+z.id+">",element:z.element,property:z.property,value:z.id}),H.isMany){var j=ie.get(H.name),ae=j.indexOf(z);ae===-1&&(ae=j.length),le?j[ae]=le:j.splice(ae,1)}else ie.set(H.name,le)}}function v(){u.pop().handleEnd()}var g=/^<\?xml /i,w=/ encoding="([^"]+)"/i,x=/^utf-8$/i;function E(k){if(g.test(k)){var W=w.exec(k),Q=W&&W[1];!Q||x.test(Q)||s.addWarning({message:"unsupported document encoding <"+Q+">, falling back to UTF-8"})}}function R(k,W){var Q=u.peek();try{u.push(Q.handleNode(k))}catch(z){f(z,W,a)&&u.push(new Nb)}}function L(k,W){try{u.peek().handleText(k)}catch(Q){p(Q,W)}}function M(k,W){k.trim()&&L(k,W)}var P=r.getPackages().reduce(function(k,W){return k[W.uri]=W.prefix,k},Object.entries(T2).reduce(function(k,[W,Q]){return k[Q]=W,k},r.config&&r.config.nsMap||{}));return l.ns(P).on("openTag",function(k,W,Q,z){var ie=k.attrs||{},le=Object.keys(ie).reduce(function(j,ae){var oe=W(ie[ae]);return j[ae]=oe,j},{}),H={name:k.name,originalName:k.originalName,attributes:le,ns:k.ns};R(H,z)}).on("question",E).on("closeTag",v).on("cdata",L).on("text",function(k,W,Q){M(W(k),Q)}).on("error",f).on("warn",p),new Promise(function(k,W){var Q;try{l.parse(e),d()}catch(j){Q=j}var z=i.element;!Q&&!z&&(Q=Cu("failed to parse document as <"+i.type.$descriptor.name+">"));var ie=s.warnings,le=s.references,H=s.elementsById;return Q?(Q.warnings=ie,W(Q)):k({rootElement:z,elementsById:H,references:le,warnings:ie})})};Rb.prototype.handler=function(e){return new Tb(this.model,e)};function vM(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}var yM=`<?xml version="1.0" encoding="UTF-8"?>
`,bM=/<|>|'|"|&|\n\r|\n/g,oA=/<|>|&/g;function yl(e){this.prefixMap={},this.uriMap={},this.used={},this.wellknown=[],this.custom=[],this.parent=e,this.defaultPrefixMap=e&&e.defaultPrefixMap||{}}yl.prototype.mapDefaultPrefixes=function(e){this.defaultPrefixMap=e};yl.prototype.defaultUriByPrefix=function(e){return this.defaultPrefixMap[e]};yl.prototype.byUri=function(e){return this.uriMap[e]||this.parent&&this.parent.byUri(e)};yl.prototype.add=function(e,t){this.uriMap[e.uri]=e,t?this.wellknown.push(e):this.custom.push(e),this.mapPrefix(e.prefix,e.uri)};yl.prototype.uriByPrefix=function(e){return this.prefixMap[e||"xmlns"]||this.parent&&this.parent.uriByPrefix(e)};yl.prototype.mapPrefix=function(e,t){this.prefixMap[e||"xmlns"]=t};yl.prototype.getNSKey=function(e){return e.prefix!==void 0?e.uri+"|"+e.prefix:e.uri};yl.prototype.logUsed=function(e){var t=e.uri,n=this.getNSKey(e);this.used[n]=this.byUri(t),this.parent&&this.parent.logUsed(e)};yl.prototype.getUsed=function(e){var t=[].concat(this.wellknown,this.custom);return t.filter(n=>{var i=this.getNSKey(n);return this.used[i]})};function _M(e){return e.charAt(0).toLowerCase()+e.slice(1)}function wM(e,t){return nA(t)?_M(e):e}function sA(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function lA(e){return Ia(e)?e:(e.prefix?e.prefix+":":"")+e.localName}function xM(e){return e.getUsed().filter(function(t){return t.prefix!=="xml"}).map(function(t){var n="xmlns"+(t.prefix?":"+t.prefix:"");return{name:n,value:t.uri}})}function EM(e,t){return t.isGeneric?Ne({localName:t.ns.localName},e):Ne({localName:wM(t.ns.localName,t.$pkg)},e)}function SM(e,t){return Ne({localName:t.ns.localName},e)}function AM(e){var t=e.$descriptor;return Yt(t.properties,function(n){var i=n.name;if(n.isVirtual||!wa(e,i))return!1;var r=e[i];return r===n.default||r===null?!1:n.isMany?r.length:!0})}var NM={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},CM={"<":"lt",">":"gt","&":"amp"};function cA(e,t,n){return e=Ia(e)?e:""+e,e.replace(t,function(i){return"&"+n[i]+";"})}function TM(e){return cA(e,bM,NM)}function RM(e){return cA(e,oA,CM)}function MM(e){return Yt(e,function(t){return t.isAttr})}function PM(e){return Yt(e,function(t){return!t.isAttr})}function Mb(e){this.tagName=e}Mb.prototype.build=function(e){return this.element=e,this};Mb.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()};function Kf(){}Kf.prototype.serializeValue=Kf.prototype.serializeTo=function(e){e.append(this.escape?RM(this.value):this.value)};Kf.prototype.build=function(e,t){return this.value=t,e.type==="String"&&t.search(oA)!==-1&&(this.escape=!0),this};function Pb(e){this.tagName=e}sA(Pb,Kf);Pb.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()};function Jn(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}Jn.prototype.build=function(e){this.element=e;var t=e.$descriptor,n=this.propertyDescriptor,i,r,a=t.isGeneric;return a?i=this.parseGenericNsAttributes(e):i=this.parseNsAttributes(e),n?this.ns=this.nsPropertyTagName(n):this.ns=this.nsTagName(t),this.tagName=this.addTagName(this.ns),a?this.parseGenericContainments(e):(r=AM(e),this.parseAttributes(MM(r)),this.parseContainments(PM(r))),this.parseGenericAttributes(e,i),this};Jn.prototype.nsTagName=function(e){var t=this.logNamespaceUsed(e.ns);return EM(t,e)};Jn.prototype.nsPropertyTagName=function(e){var t=this.logNamespaceUsed(e.ns);return SM(t,e)};Jn.prototype.isLocalNs=function(e){return e.uri===this.ns.uri};Jn.prototype.nsAttributeName=function(e){var t;if(Ia(e)?t=qr(e):t=e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:Ne({localName:t.localName},n)};Jn.prototype.parseGenericNsAttributes=function(e){return Object.entries(e).filter(([t,n])=>!t.startsWith("$")&&this.parseNsAttribute(e,t,n)).map(([t,n])=>({name:t,value:n}))};Jn.prototype.parseGenericContainments=function(e){var t=e.$body;t&&this.body.push(new Kf().build({type:"String"},t));var n=e.$children;n&&ve(n,i=>{this.body.push(new Jn(this).build(i))})};Jn.prototype.parseNsAttribute=function(e,t,n){var i=e.$model,r=qr(t),a;if(r.prefix==="xmlns"&&(a={prefix:r.localName,uri:n}),!r.prefix&&r.localName==="xmlns"&&(a={uri:n}),!a)return{name:t,value:n};if(i&&i.getPackage(n))this.logNamespace(a,!0,!0);else{var s=this.logNamespaceUsed(a,!0);this.getNamespaces().logUsed(s)}};Jn.prototype.parseNsAttributes=function(e){var t=this,n=e.$attrs,i=[];return ve(n,function(r,a){var s=t.parseNsAttribute(e,a,r);s&&i.push(s)}),i};Jn.prototype.parseGenericAttributes=function(e,t){var n=this;ve(t,function(i){try{n.addAttribute(n.nsAttributeName(i.name),i.value)}catch(r){typeof console<"u"&&console.warn(`missing namespace information for <${i.name}=${i.value}> on`,e,r)}})};Jn.prototype.parseContainments=function(e){var t=this,n=this.body,i=this.element;ve(e,function(r){var a=i.get(r.name),s=r.isReference,l=r.isMany;if(l||(a=[a]),r.isBody)n.push(new Kf().build(r,a[0]));else if(J4(r.type))ve(a,function(f){n.push(new Pb(t.addTagName(t.nsPropertyTagName(r))).build(r,f))});else if(s)ve(a,function(f){n.push(new Mb(t.addTagName(t.nsPropertyTagName(r))).build(f))});else{var u=rA(r);ve(a,function(f){var p;u?u===iA?p=new Jn(t,r):p=new _y(t,r,u):p=new Jn(t),n.push(p.build(f))})}})};Jn.prototype.getNamespaces=function(e){var t=this.namespaces,n=this.parent,i;return t||(i=n&&n.getNamespaces(),e||!i?this.namespaces=t=new yl(i):t=i),t};Jn.prototype.logNamespace=function(e,t,n){var i=this.getNamespaces(n),r=e.uri,a=e.prefix,s=i.byUri(r);return(!s||n)&&i.add(e,t),i.mapPrefix(a,r),e};Jn.prototype.logNamespaceUsed=function(e,t){var n=this.getNamespaces(t),i=e.prefix,r=e.uri,a,s,l;if(!i&&!r)return{localName:e.localName};if(l=n.defaultUriByPrefix(i),r=r||l||n.uriByPrefix(i),!r)throw new Error("no namespace uri given for prefix <"+i+">");if(e=n.byUri(r),!e&&!i&&(e=this.logNamespace({uri:r},l===r,!0)),!e){for(a=i,s=1;n.uriByPrefix(a);)a=i+"_"+s++;e=this.logNamespace({prefix:a,uri:r},l===r)}return i&&n.mapPrefix(i,r),e};Jn.prototype.parseAttributes=function(e){var t=this,n=this.element;ve(e,function(i){var r=n.get(i.name);if(i.isReference)if(!i.isMany)r=r.id;else{var a=[];ve(r,function(s){a.push(s.id)}),r=a.join(" ")}t.addAttribute(t.nsAttributeName(i),r)})};Jn.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),lA(e)};Jn.prototype.addAttribute=function(e,t){var n=this.attrs;Ia(t)&&(t=TM(t));var i=g4(n,function(a){return a.name.localName===e.localName&&a.name.uri===e.uri&&a.name.prefix===e.prefix}),r={name:e,value:t};i!==-1?n.splice(i,1,r):n.push(r)};Jn.prototype.serializeAttributes=function(e){var t=this.attrs,n=this.namespaces;n&&(t=xM(n).concat(t)),ve(t,function(i){e.append(" ").append(lA(i.name)).append('="').append(i.value).append('"')})};Jn.prototype.serializeTo=function(e){var t=this.body[0],n=t&&t.constructor!==Kf;e.appendIndent().append("<"+this.tagName),this.serializeAttributes(e),e.append(t?">":" />"),t&&(n&&e.appendNewLine().indent(),ve(this.body,function(i){i.serializeTo(e)}),n&&e.unindent().appendIndent(),e.append("</"+this.tagName+">")),e.appendNewLine()};function _y(e,t,n){Jn.call(this,e,t),this.serialization=n}sA(_y,Jn);_y.prototype.parseNsAttributes=function(e){var t=Jn.prototype.parseNsAttributes.call(this,e).filter(s=>s.name!==this.serialization),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var i=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var r=e.$model.getPackage(i.uri),a=r.xml&&r.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(this.serialization),(i.prefix?i.prefix+":":"")+a+n.ns.localName),t};_y.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri};function LM(){this.value="",this.write=function(e){this.value+=e}}function DM(e,t){var n=[""];this.append=function(i){return e.write(i),this},this.appendNewLine=function(){return t&&e.write(`
`),this},this.appendIndent=function(){return t&&e.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function OM(e){e=Ne({format:!1,preamble:!0},e||{});function t(n,i){var r=i||new LM,a=new DM(r,e.format);e.preamble&&a.append(yM);var s=new Jn,l=n.$model;if(s.getNamespaces().mapDefaultPrefixes(BM(l)),s.build(n).serializeTo(a),!i)return r.value}return{toXML:t}}function BM(e){const t=e.config&&e.config.nsMap||{},n={};for(const i in T2)n[i]=T2[i];for(const i in t){const r=t[i];n[r]=i}for(const i of e.getPackages())n[i.prefix]=i.uri;return n}function wy(e,t){Lo.call(this,e,t)}wy.prototype=Object.create(Lo.prototype);wy.prototype.fromXML=function(e,t,n){Ia(t)||(n=t,t="bpmn:Definitions");var i=new Rb(Ne({model:this,lax:!0},n)),r=i.handler(t);return i.fromXML(e,r)};wy.prototype.toXML=function(e,t){var n=new OM(t);return new Promise(function(i,r){try{var a=n.toXML(e);return i({xml:a})}catch(s){return r(s)}})};var kM="BPMN20",jM="http://www.omg.org/spec/BPMN/20100524/MODEL",IM="bpmn",FM=[],zM=[{name:"Interface",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"operations",type:"Operation",isMany:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"Operation",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"inMessageRef",type:"Message",isReference:!0},{name:"outMessageRef",type:"Message",isReference:!0},{name:"errorRef",type:"Error",isMany:!0,isReference:!0},{name:"implementationRef",isAttr:!0,type:"String"}]},{name:"EndPoint",superClass:["RootElement"]},{name:"Auditing",superClass:["BaseElement"]},{name:"GlobalTask",superClass:["CallableElement"],properties:[{name:"resources",type:"ResourceRole",isMany:!0}]},{name:"Monitoring",superClass:["BaseElement"]},{name:"Performer",superClass:["ResourceRole"]},{name:"Process",superClass:["FlowElementsContainer","CallableElement"],properties:[{name:"processType",type:"ProcessType",isAttr:!0},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"properties",type:"Property",isMany:!0},{name:"laneSets",isMany:!0,replaces:"FlowElementsContainer#laneSets",type:"LaneSet"},{name:"flowElements",isMany:!0,replaces:"FlowElementsContainer#flowElements",type:"FlowElement"},{name:"artifacts",type:"Artifact",isMany:!0},{name:"resources",type:"ResourceRole",isMany:!0},{name:"correlationSubscriptions",type:"CorrelationSubscription",isMany:!0},{name:"supports",type:"Process",isMany:!0,isReference:!0},{name:"definitionalCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"isExecutable",isAttr:!0,type:"Boolean"}]},{name:"LaneSet",superClass:["BaseElement"],properties:[{name:"lanes",type:"Lane",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Lane",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"partitionElementRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"partitionElement",type:"BaseElement"},{name:"flowNodeRef",type:"FlowNode",isMany:!0,isReference:!0},{name:"childLaneSet",type:"LaneSet",xml:{serialize:"xsi:type"}}]},{name:"GlobalManualTask",superClass:["GlobalTask"]},{name:"ManualTask",superClass:["Task"]},{name:"UserTask",superClass:["Task"],properties:[{name:"renderings",type:"Rendering",isMany:!0},{name:"implementation",isAttr:!0,type:"String"}]},{name:"Rendering",superClass:["BaseElement"]},{name:"HumanPerformer",superClass:["Performer"]},{name:"PotentialOwner",superClass:["HumanPerformer"]},{name:"GlobalUserTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"renderings",type:"Rendering",isMany:!0}]},{name:"Gateway",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"gatewayDirection",type:"GatewayDirection",default:"Unspecified",isAttr:!0}]},{name:"EventBasedGateway",superClass:["Gateway"],properties:[{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"eventGatewayType",type:"EventBasedGatewayType",isAttr:!0,default:"Exclusive"}]},{name:"ComplexGateway",superClass:["Gateway"],properties:[{name:"activationCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ExclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"InclusiveGateway",superClass:["Gateway"],properties:[{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0}]},{name:"ParallelGateway",superClass:["Gateway"]},{name:"RootElement",isAbstract:!0,superClass:["BaseElement"]},{name:"Relationship",superClass:["BaseElement"],properties:[{name:"type",isAttr:!0,type:"String"},{name:"direction",type:"RelationshipDirection",isAttr:!0},{name:"source",isMany:!0,isReference:!0,type:"Element"},{name:"target",isMany:!0,isReference:!0,type:"Element"}]},{name:"BaseElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,type:"String",isId:!0},{name:"documentation",type:"Documentation",isMany:!0},{name:"extensionDefinitions",type:"ExtensionDefinition",isMany:!0,isReference:!0},{name:"extensionElements",type:"ExtensionElements"}]},{name:"Extension",properties:[{name:"mustUnderstand",default:!1,isAttr:!0,type:"Boolean"},{name:"definition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"extensionAttributeDefinitions",type:"ExtensionAttributeDefinition",isMany:!0}]},{name:"ExtensionAttributeDefinition",properties:[{name:"name",isAttr:!0,type:"String"},{name:"type",isAttr:!0,type:"String"},{name:"isReference",default:!1,isAttr:!0,type:"Boolean"},{name:"extensionDefinition",type:"ExtensionDefinition",isAttr:!0,isReference:!0}]},{name:"ExtensionElements",properties:[{name:"valueRef",isAttr:!0,isReference:!0,type:"Element"},{name:"values",type:"Element",isMany:!0},{name:"extensionAttributeDefinition",type:"ExtensionAttributeDefinition",isAttr:!0,isReference:!0}]},{name:"Documentation",superClass:["BaseElement"],properties:[{name:"text",type:"String",isBody:!0},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Event",isAbstract:!0,superClass:["FlowNode","InteractionNode"],properties:[{name:"properties",type:"Property",isMany:!0}]},{name:"IntermediateCatchEvent",superClass:["CatchEvent"]},{name:"IntermediateThrowEvent",superClass:["ThrowEvent"]},{name:"EndEvent",superClass:["ThrowEvent"]},{name:"StartEvent",superClass:["CatchEvent"],properties:[{name:"isInterrupting",default:!0,isAttr:!0,type:"Boolean"}]},{name:"ThrowEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"inputSet",type:"InputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"CatchEvent",isAbstract:!0,superClass:["Event"],properties:[{name:"parallelMultiple",isAttr:!0,type:"Boolean",default:!1},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"outputSet",type:"OutputSet"},{name:"eventDefinitions",type:"EventDefinition",isMany:!0},{name:"eventDefinitionRef",type:"EventDefinition",isMany:!0,isReference:!0}]},{name:"BoundaryEvent",superClass:["CatchEvent"],properties:[{name:"cancelActivity",default:!0,isAttr:!0,type:"Boolean"},{name:"attachedToRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"EventDefinition",isAbstract:!0,superClass:["RootElement"]},{name:"CancelEventDefinition",superClass:["EventDefinition"]},{name:"ErrorEventDefinition",superClass:["EventDefinition"],properties:[{name:"errorRef",type:"Error",isAttr:!0,isReference:!0}]},{name:"TerminateEventDefinition",superClass:["EventDefinition"]},{name:"EscalationEventDefinition",superClass:["EventDefinition"],properties:[{name:"escalationRef",type:"Escalation",isAttr:!0,isReference:!0}]},{name:"Escalation",properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"escalationCode",isAttr:!0,type:"String"}],superClass:["RootElement"]},{name:"CompensateEventDefinition",superClass:["EventDefinition"],properties:[{name:"waitForCompletion",isAttr:!0,type:"Boolean",default:!0},{name:"activityRef",type:"Activity",isAttr:!0,isReference:!0}]},{name:"TimerEventDefinition",superClass:["EventDefinition"],properties:[{name:"timeDate",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeCycle",type:"Expression",xml:{serialize:"xsi:type"}},{name:"timeDuration",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"LinkEventDefinition",superClass:["EventDefinition"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"target",type:"LinkEventDefinition",isReference:!0},{name:"source",type:"LinkEventDefinition",isMany:!0,isReference:!0}]},{name:"MessageEventDefinition",superClass:["EventDefinition"],properties:[{name:"messageRef",type:"Message",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isReference:!0}]},{name:"ConditionalEventDefinition",superClass:["EventDefinition"],properties:[{name:"condition",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"SignalEventDefinition",superClass:["EventDefinition"],properties:[{name:"signalRef",type:"Signal",isAttr:!0,isReference:!0}]},{name:"Signal",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ImplicitThrowEvent",superClass:["ThrowEvent"]},{name:"DataState",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ItemAwareElement",superClass:["BaseElement"],properties:[{name:"itemSubjectRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"dataState",type:"DataState"}]},{name:"DataAssociation",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"ItemAwareElement",isMany:!0,isReference:!0},{name:"targetRef",type:"ItemAwareElement",isReference:!0},{name:"transformation",type:"FormalExpression",xml:{serialize:"property"}},{name:"assignment",type:"Assignment",isMany:!0}]},{name:"DataInput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"inputSetRef",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithOptional",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"inputSetWithWhileExecuting",type:"InputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"DataOutput",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"outputSetRef",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithOptional",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0},{name:"outputSetWithWhileExecuting",type:"OutputSet",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"InputSet",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"dataInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"optionalInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"whileExecutingInputRefs",type:"DataInput",isMany:!0,isReference:!0},{name:"outputSetRefs",type:"OutputSet",isMany:!0,isReference:!0}]},{name:"OutputSet",superClass:["BaseElement"],properties:[{name:"dataOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"inputSetRefs",type:"InputSet",isMany:!0,isReference:!0},{name:"optionalOutputRefs",type:"DataOutput",isMany:!0,isReference:!0},{name:"whileExecutingOutputRefs",type:"DataOutput",isMany:!0,isReference:!0}]},{name:"Property",superClass:["ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"DataInputAssociation",superClass:["DataAssociation"]},{name:"DataOutputAssociation",superClass:["DataAssociation"]},{name:"InputOutputSpecification",superClass:["BaseElement"],properties:[{name:"dataInputs",type:"DataInput",isMany:!0},{name:"dataOutputs",type:"DataOutput",isMany:!0},{name:"inputSets",type:"InputSet",isMany:!0},{name:"outputSets",type:"OutputSet",isMany:!0}]},{name:"DataObject",superClass:["FlowElement","ItemAwareElement"],properties:[{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"}]},{name:"InputOutputBinding",properties:[{name:"inputDataRef",type:"InputSet",isAttr:!0,isReference:!0},{name:"outputDataRef",type:"OutputSet",isAttr:!0,isReference:!0},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"Assignment",superClass:["BaseElement"],properties:[{name:"from",type:"Expression",xml:{serialize:"xsi:type"}},{name:"to",type:"Expression",xml:{serialize:"xsi:type"}}]},{name:"DataStore",superClass:["RootElement","ItemAwareElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"capacity",isAttr:!0,type:"Integer"},{name:"isUnlimited",default:!0,isAttr:!0,type:"Boolean"}]},{name:"DataStoreReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataStoreRef",type:"DataStore",isAttr:!0,isReference:!0}]},{name:"DataObjectReference",superClass:["ItemAwareElement","FlowElement"],properties:[{name:"dataObjectRef",type:"DataObject",isAttr:!0,isReference:!0}]},{name:"ConversationLink",superClass:["BaseElement"],properties:[{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"ConversationAssociation",superClass:["BaseElement"],properties:[{name:"innerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0},{name:"outerConversationNodeRef",type:"ConversationNode",isAttr:!0,isReference:!0}]},{name:"CallConversation",superClass:["ConversationNode"],properties:[{name:"calledCollaborationRef",type:"Collaboration",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"Conversation",superClass:["ConversationNode"]},{name:"SubConversation",superClass:["ConversationNode"],properties:[{name:"conversationNodes",type:"ConversationNode",isMany:!0}]},{name:"ConversationNode",isAbstract:!0,superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"messageFlowRefs",type:"MessageFlow",isMany:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0}]},{name:"GlobalConversation",superClass:["Collaboration"]},{name:"PartnerEntity",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"PartnerRole",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"participantRef",type:"Participant",isMany:!0,isReference:!0}]},{name:"CorrelationProperty",superClass:["RootElement"],properties:[{name:"correlationPropertyRetrievalExpression",type:"CorrelationPropertyRetrievalExpression",isMany:!0},{name:"name",isAttr:!0,type:"String"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Error",superClass:["RootElement"],properties:[{name:"structureRef",type:"ItemDefinition",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"},{name:"errorCode",isAttr:!0,type:"String"}]},{name:"CorrelationKey",superClass:["BaseElement"],properties:[{name:"correlationPropertyRef",type:"CorrelationProperty",isMany:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Expression",superClass:["BaseElement"],isAbstract:!1,properties:[{name:"body",isBody:!0,type:"String"}]},{name:"FormalExpression",superClass:["Expression"],properties:[{name:"language",isAttr:!0,type:"String"},{name:"evaluatesToTypeRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"Message",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"itemRef",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"ItemDefinition",superClass:["RootElement"],properties:[{name:"itemKind",type:"ItemKind",isAttr:!0},{name:"structureRef",isAttr:!0,type:"String"},{name:"isCollection",default:!1,isAttr:!0,type:"Boolean"},{name:"import",type:"Import",isAttr:!0,isReference:!0}]},{name:"FlowElement",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"auditing",type:"Auditing"},{name:"monitoring",type:"Monitoring"},{name:"categoryValueRef",type:"CategoryValue",isMany:!0,isReference:!0}]},{name:"SequenceFlow",superClass:["FlowElement"],properties:[{name:"isImmediate",isAttr:!0,type:"Boolean"},{name:"conditionExpression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"sourceRef",type:"FlowNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"FlowNode",isAttr:!0,isReference:!0}]},{name:"FlowElementsContainer",isAbstract:!0,superClass:["BaseElement"],properties:[{name:"laneSets",type:"LaneSet",isMany:!0},{name:"flowElements",type:"FlowElement",isMany:!0}]},{name:"CallableElement",isAbstract:!0,superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"supportedInterfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"ioBinding",type:"InputOutputBinding",isMany:!0,xml:{serialize:"property"}}]},{name:"FlowNode",isAbstract:!0,superClass:["FlowElement"],properties:[{name:"incoming",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"outgoing",type:"SequenceFlow",isMany:!0,isReference:!0},{name:"lanes",type:"Lane",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"CorrelationPropertyRetrievalExpression",superClass:["BaseElement"],properties:[{name:"messagePath",type:"FormalExpression"},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"CorrelationPropertyBinding",superClass:["BaseElement"],properties:[{name:"dataPath",type:"FormalExpression"},{name:"correlationPropertyRef",type:"CorrelationProperty",isAttr:!0,isReference:!0}]},{name:"Resource",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"resourceParameters",type:"ResourceParameter",isMany:!0}]},{name:"ResourceParameter",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isRequired",isAttr:!0,type:"Boolean"},{name:"type",type:"ItemDefinition",isAttr:!0,isReference:!0}]},{name:"CorrelationSubscription",superClass:["BaseElement"],properties:[{name:"correlationKeyRef",type:"CorrelationKey",isAttr:!0,isReference:!0},{name:"correlationPropertyBinding",type:"CorrelationPropertyBinding",isMany:!0}]},{name:"MessageFlow",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"sourceRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"targetRef",type:"InteractionNode",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"MessageFlowAssociation",superClass:["BaseElement"],properties:[{name:"innerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0},{name:"outerMessageFlowRef",type:"MessageFlow",isAttr:!0,isReference:!0}]},{name:"InteractionNode",isAbstract:!0,properties:[{name:"incomingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0},{name:"outgoingConversationLinks",type:"ConversationLink",isMany:!0,isVirtual:!0,isReference:!0}]},{name:"Participant",superClass:["InteractionNode","BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"interfaceRef",type:"Interface",isMany:!0,isReference:!0},{name:"participantMultiplicity",type:"ParticipantMultiplicity"},{name:"endPointRefs",type:"EndPoint",isMany:!0,isReference:!0},{name:"processRef",type:"Process",isAttr:!0,isReference:!0}]},{name:"ParticipantAssociation",superClass:["BaseElement"],properties:[{name:"innerParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"outerParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"ParticipantMultiplicity",properties:[{name:"minimum",default:0,isAttr:!0,type:"Integer"},{name:"maximum",default:1,isAttr:!0,type:"Integer"}],superClass:["BaseElement"]},{name:"Collaboration",superClass:["RootElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"isClosed",isAttr:!0,type:"Boolean"},{name:"participants",type:"Participant",isMany:!0},{name:"messageFlows",type:"MessageFlow",isMany:!0},{name:"artifacts",type:"Artifact",isMany:!0},{name:"conversations",type:"ConversationNode",isMany:!0},{name:"conversationAssociations",type:"ConversationAssociation"},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0},{name:"messageFlowAssociations",type:"MessageFlowAssociation",isMany:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"choreographyRef",type:"Choreography",isMany:!0,isReference:!0},{name:"conversationLinks",type:"ConversationLink",isMany:!0}]},{name:"ChoreographyActivity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"participantRef",type:"Participant",isMany:!0,isReference:!0},{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0},{name:"correlationKeys",type:"CorrelationKey",isMany:!0},{name:"loopType",type:"ChoreographyLoopType",default:"None",isAttr:!0}]},{name:"CallChoreography",superClass:["ChoreographyActivity"],properties:[{name:"calledChoreographyRef",type:"Choreography",isAttr:!0,isReference:!0},{name:"participantAssociations",type:"ParticipantAssociation",isMany:!0}]},{name:"SubChoreography",superClass:["ChoreographyActivity","FlowElementsContainer"],properties:[{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"ChoreographyTask",superClass:["ChoreographyActivity"],properties:[{name:"messageFlowRef",type:"MessageFlow",isMany:!0,isReference:!0}]},{name:"Choreography",superClass:["Collaboration","FlowElementsContainer"]},{name:"GlobalChoreographyTask",superClass:["Choreography"],properties:[{name:"initiatingParticipantRef",type:"Participant",isAttr:!0,isReference:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",default:"text/plain",isAttr:!0,type:"String"}]},{name:"Group",superClass:["Artifact"],properties:[{name:"categoryValueRef",type:"CategoryValue",isAttr:!0,isReference:!0}]},{name:"Association",superClass:["Artifact"],properties:[{name:"associationDirection",type:"AssociationDirection",isAttr:!0},{name:"sourceRef",type:"BaseElement",isAttr:!0,isReference:!0},{name:"targetRef",type:"BaseElement",isAttr:!0,isReference:!0}]},{name:"Category",superClass:["RootElement"],properties:[{name:"categoryValue",type:"CategoryValue",isMany:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Artifact",isAbstract:!0,superClass:["BaseElement"]},{name:"CategoryValue",superClass:["BaseElement"],properties:[{name:"categorizedFlowElements",type:"FlowElement",isMany:!0,isVirtual:!0,isReference:!0},{name:"value",isAttr:!0,type:"String"}]},{name:"Activity",isAbstract:!0,superClass:["FlowNode"],properties:[{name:"isForCompensation",default:!1,isAttr:!0,type:"Boolean"},{name:"default",type:"SequenceFlow",isAttr:!0,isReference:!0},{name:"ioSpecification",type:"InputOutputSpecification",xml:{serialize:"property"}},{name:"boundaryEventRefs",type:"BoundaryEvent",isMany:!0,isReference:!0},{name:"properties",type:"Property",isMany:!0},{name:"dataInputAssociations",type:"DataInputAssociation",isMany:!0},{name:"dataOutputAssociations",type:"DataOutputAssociation",isMany:!0},{name:"startQuantity",default:1,isAttr:!0,type:"Integer"},{name:"resources",type:"ResourceRole",isMany:!0},{name:"completionQuantity",default:1,isAttr:!0,type:"Integer"},{name:"loopCharacteristics",type:"LoopCharacteristics"}]},{name:"ServiceTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0}]},{name:"SubProcess",superClass:["Activity","FlowElementsContainer","InteractionNode"],properties:[{name:"triggeredByEvent",default:!1,isAttr:!0,type:"Boolean"},{name:"artifacts",type:"Artifact",isMany:!0}]},{name:"LoopCharacteristics",isAbstract:!0,superClass:["BaseElement"]},{name:"MultiInstanceLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"isSequential",default:!1,isAttr:!0,type:"Boolean"},{name:"behavior",type:"MultiInstanceBehavior",default:"All",isAttr:!0},{name:"loopCardinality",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopDataInputRef",type:"ItemAwareElement",isReference:!0},{name:"loopDataOutputRef",type:"ItemAwareElement",isReference:!0},{name:"inputDataItem",type:"DataInput",xml:{serialize:"property"}},{name:"outputDataItem",type:"DataOutput",xml:{serialize:"property"}},{name:"complexBehaviorDefinition",type:"ComplexBehaviorDefinition",isMany:!0},{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"oneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0},{name:"noneBehaviorEventRef",type:"EventDefinition",isAttr:!0,isReference:!0}]},{name:"StandardLoopCharacteristics",superClass:["LoopCharacteristics"],properties:[{name:"testBefore",default:!1,isAttr:!0,type:"Boolean"},{name:"loopCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"loopMaximum",type:"Integer",isAttr:!0}]},{name:"CallActivity",superClass:["Activity","InteractionNode"],properties:[{name:"calledElement",type:"String",isAttr:!0}]},{name:"Task",superClass:["Activity","InteractionNode"]},{name:"SendTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ReceiveTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"},{name:"instantiate",default:!1,isAttr:!0,type:"Boolean"},{name:"operationRef",type:"Operation",isAttr:!0,isReference:!0},{name:"messageRef",type:"Message",isAttr:!0,isReference:!0}]},{name:"ScriptTask",superClass:["Task"],properties:[{name:"scriptFormat",isAttr:!0,type:"String"},{name:"script",type:"String"}]},{name:"BusinessRuleTask",superClass:["Task"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"AdHocSubProcess",superClass:["SubProcess"],properties:[{name:"completionCondition",type:"Expression",xml:{serialize:"xsi:type"}},{name:"ordering",type:"AdHocOrdering",isAttr:!0},{name:"cancelRemainingInstances",default:!0,isAttr:!0,type:"Boolean"}]},{name:"Transaction",superClass:["SubProcess"],properties:[{name:"protocol",isAttr:!0,type:"String"},{name:"method",isAttr:!0,type:"String"}]},{name:"GlobalScriptTask",superClass:["GlobalTask"],properties:[{name:"scriptLanguage",isAttr:!0,type:"String"},{name:"script",isAttr:!0,type:"String"}]},{name:"GlobalBusinessRuleTask",superClass:["GlobalTask"],properties:[{name:"implementation",isAttr:!0,type:"String"}]},{name:"ComplexBehaviorDefinition",superClass:["BaseElement"],properties:[{name:"condition",type:"FormalExpression"},{name:"event",type:"ImplicitThrowEvent"}]},{name:"ResourceRole",superClass:["BaseElement"],properties:[{name:"resourceRef",type:"Resource",isReference:!0},{name:"resourceParameterBindings",type:"ResourceParameterBinding",isMany:!0},{name:"resourceAssignmentExpression",type:"ResourceAssignmentExpression"},{name:"name",isAttr:!0,type:"String"}]},{name:"ResourceParameterBinding",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}},{name:"parameterRef",type:"ResourceParameter",isAttr:!0,isReference:!0}],superClass:["BaseElement"]},{name:"ResourceAssignmentExpression",properties:[{name:"expression",type:"Expression",xml:{serialize:"xsi:type"}}],superClass:["BaseElement"]},{name:"Import",properties:[{name:"importType",isAttr:!0,type:"String"},{name:"location",isAttr:!0,type:"String"},{name:"namespace",isAttr:!0,type:"String"}]},{name:"Definitions",superClass:["BaseElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"targetNamespace",isAttr:!0,type:"String"},{name:"expressionLanguage",default:"http://www.w3.org/1999/XPath",isAttr:!0,type:"String"},{name:"typeLanguage",default:"http://www.w3.org/2001/XMLSchema",isAttr:!0,type:"String"},{name:"imports",type:"Import",isMany:!0},{name:"extensions",type:"Extension",isMany:!0},{name:"rootElements",type:"RootElement",isMany:!0},{name:"diagrams",isMany:!0,type:"bpmndi:BPMNDiagram"},{name:"exporter",isAttr:!0,type:"String"},{name:"relationships",type:"Relationship",isMany:!0},{name:"exporterVersion",isAttr:!0,type:"String"}]}],HM=[{name:"ProcessType",literalValues:[{name:"None"},{name:"Public"},{name:"Private"}]},{name:"GatewayDirection",literalValues:[{name:"Unspecified"},{name:"Converging"},{name:"Diverging"},{name:"Mixed"}]},{name:"EventBasedGatewayType",literalValues:[{name:"Parallel"},{name:"Exclusive"}]},{name:"RelationshipDirection",literalValues:[{name:"None"},{name:"Forward"},{name:"Backward"},{name:"Both"}]},{name:"ItemKind",literalValues:[{name:"Physical"},{name:"Information"}]},{name:"ChoreographyLoopType",literalValues:[{name:"None"},{name:"Standard"},{name:"MultiInstanceSequential"},{name:"MultiInstanceParallel"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"MultiInstanceBehavior",literalValues:[{name:"None"},{name:"One"},{name:"All"},{name:"Complex"}]},{name:"AdHocOrdering",literalValues:[{name:"Parallel"},{name:"Sequential"}]}],UM={tagAlias:"lowerCase",typePrefix:"t"},qM={name:kM,uri:jM,prefix:IM,associations:FM,types:zM,enumerations:HM,xml:UM},VM="BPMNDI",$M="http://www.omg.org/spec/BPMN/20100524/DI",GM="bpmndi",YM=[{name:"BPMNDiagram",properties:[{name:"plane",type:"BPMNPlane",redefines:"di:Diagram#rootElement"},{name:"labelStyle",type:"BPMNLabelStyle",isMany:!0}],superClass:["di:Diagram"]},{name:"BPMNPlane",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"}],superClass:["di:Plane"]},{name:"BPMNShape",properties:[{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"isHorizontal",isAttr:!0,type:"Boolean"},{name:"isExpanded",isAttr:!0,type:"Boolean"},{name:"isMarkerVisible",isAttr:!0,type:"Boolean"},{name:"label",type:"BPMNLabel"},{name:"isMessageVisible",isAttr:!0,type:"Boolean"},{name:"participantBandKind",type:"ParticipantBandKind",isAttr:!0},{name:"choreographyActivityShape",type:"BPMNShape",isAttr:!0,isReference:!0}],superClass:["di:LabeledShape"]},{name:"BPMNEdge",properties:[{name:"label",type:"BPMNLabel"},{name:"bpmnElement",isAttr:!0,isReference:!0,type:"bpmn:BaseElement",redefines:"di:DiagramElement#modelElement"},{name:"sourceElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#source"},{name:"targetElement",isAttr:!0,isReference:!0,type:"di:DiagramElement",redefines:"di:Edge#target"},{name:"messageVisibleKind",type:"MessageVisibleKind",isAttr:!0,default:"initiating"}],superClass:["di:LabeledEdge"]},{name:"BPMNLabel",properties:[{name:"labelStyle",type:"BPMNLabelStyle",isAttr:!0,isReference:!0,redefines:"di:DiagramElement#style"}],superClass:["di:Label"]},{name:"BPMNLabelStyle",properties:[{name:"font",type:"dc:Font"}],superClass:["di:Style"]}],WM=[{name:"ParticipantBandKind",literalValues:[{name:"top_initiating"},{name:"middle_initiating"},{name:"bottom_initiating"},{name:"top_non_initiating"},{name:"middle_non_initiating"},{name:"bottom_non_initiating"}]},{name:"MessageVisibleKind",literalValues:[{name:"initiating"},{name:"non_initiating"}]}],XM=[],KM={name:VM,uri:$M,prefix:GM,types:YM,enumerations:WM,associations:XM},ZM="DC",QM="http://www.omg.org/spec/DD/20100524/DC",JM="dc",eP=[{name:"Boolean"},{name:"Integer"},{name:"Real"},{name:"String"},{name:"Font",properties:[{name:"name",type:"String",isAttr:!0},{name:"size",type:"Real",isAttr:!0},{name:"isBold",type:"Boolean",isAttr:!0},{name:"isItalic",type:"Boolean",isAttr:!0},{name:"isUnderline",type:"Boolean",isAttr:!0},{name:"isStrikeThrough",type:"Boolean",isAttr:!0}]},{name:"Point",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0}]},{name:"Bounds",properties:[{name:"x",type:"Real",default:"0",isAttr:!0},{name:"y",type:"Real",default:"0",isAttr:!0},{name:"width",type:"Real",isAttr:!0},{name:"height",type:"Real",isAttr:!0}]}],tP=[],nP={name:ZM,uri:QM,prefix:JM,types:eP,associations:tP},iP="DI",rP="http://www.omg.org/spec/DD/20100524/DI",aP="di",oP=[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"extension",type:"Extension"},{name:"owningDiagram",type:"Diagram",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"owningElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"modelElement",isReadOnly:!0,isVirtual:!0,isReference:!0,type:"Element"},{name:"style",type:"Style",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"ownedElement",type:"DiagramElement",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Node",isAbstract:!0,superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,superClass:["DiagramElement"],properties:[{name:"source",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"target",type:"DiagramElement",isReadOnly:!0,isVirtual:!0,isReference:!0},{name:"waypoint",isUnique:!1,isMany:!0,type:"dc:Point",xml:{serialize:"xsi:type"}}]},{name:"Diagram",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"rootElement",type:"DiagramElement",isReadOnly:!0,isVirtual:!0},{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"},{name:"ownedStyle",type:"Style",isReadOnly:!0,isMany:!0,isVirtual:!0}]},{name:"Shape",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Plane",isAbstract:!0,superClass:["Node"],properties:[{name:"planeElement",type:"DiagramElement",subsettedProperty:"DiagramElement-ownedElement",isMany:!0}]},{name:"LabeledEdge",isAbstract:!0,superClass:["Edge"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"LabeledShape",isAbstract:!0,superClass:["Shape"],properties:[{name:"ownedLabel",type:"Label",isReadOnly:!0,subsettedProperty:"DiagramElement-ownedElement",isMany:!0,isVirtual:!0}]},{name:"Label",isAbstract:!0,superClass:["Node"],properties:[{name:"bounds",type:"dc:Bounds"}]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]},{name:"Extension",properties:[{name:"values",isMany:!0,type:"Element"}]}],sP=[],lP={tagAlias:"lowerCase"},cP={name:iP,uri:rP,prefix:aP,types:oP,associations:sP,xml:lP},uP="bpmn.io colors for BPMN",fP="http://bpmn.io/schema/bpmn/biocolor/1.0",hP="bioc",pP=[{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"stroke",isAttr:!0,type:"String"},{name:"fill",isAttr:!0,type:"String"}]}],dP=[],mP=[],gP={name:uP,uri:fP,prefix:hP,types:pP,enumerations:dP,associations:mP},vP="BPMN in Color",yP="http://www.omg.org/spec/BPMN/non-normative/color/1.0",bP="color",_P=[{name:"ColoredLabel",extends:["bpmndi:BPMNLabel"],properties:[{name:"color",isAttr:!0,type:"String"}]},{name:"ColoredShape",extends:["bpmndi:BPMNShape"],properties:[{name:"background-color",isAttr:!0,type:"String"},{name:"border-color",isAttr:!0,type:"String"}]},{name:"ColoredEdge",extends:["bpmndi:BPMNEdge"],properties:[{name:"border-color",isAttr:!0,type:"String"}]}],wP=[],xP=[],EP={name:vP,uri:yP,prefix:bP,types:_P,enumerations:wP,associations:xP};const SP={bpmn:qM,bpmndi:KM,dc:nP,di:cP,bioc:gP,color:EP};function AP(e,t){const n=Ne({},SP,e);return new wy(n,t)}function zr(e){return e?"<"+e.$type+(e.id?' id="'+e.id:"")+'" />':"<null>"}var NP="Tried to access di from the businessObject. The di is available through the diagram element only. For more information, see https://github.com/bpmn-io/bpmn-js/issues/1472";function uA(e){wa(e,"di")||Object.defineProperty(e,"di",{enumerable:!1,get:function(){throw new Error(NP)}})}function ba(e,t){return e.$instanceOf(t)}function CP(e){return mn(e.rootElements,function(t){return ba(t,"bpmn:Process")||ba(t,"bpmn:Collaboration")})}function TP(e){var t={},n=[],i={};function r(O,F){return function(K){O(K,F)}}function a(O){t[O.id]=O}function s(O){return t[O.id]}function l(O,F){var K=O.gfx;if(K)throw new Error(`already rendered ${zr(O)}`);return e.element(O,i[O.id],F)}function u(O,F){return e.root(O,i[O.id],F)}function f(O,F){try{var K=i[O.id]&&l(O,F);return a(O),K}catch(se){p(se.message,{element:O,error:se}),console.error(`failed to import ${zr(O)}`,se)}}function p(O,F){e.error(O,F)}var d=this.registerDi=function(F){var K=F.bpmnElement;K?i[K.id]?p(`multiple DI elements defined for ${zr(K)}`,{element:K}):(i[K.id]=F,uA(K)):p(`no bpmnElement referenced in ${zr(F)}`,{element:F})};function v(O){g(O.plane)}function g(O){d(O),ve(O.planeElement,w)}function w(O){d(O)}this.handleDefinitions=function(F,K){var se=F.diagrams;if(K&&se.indexOf(K)===-1)throw new Error("diagram not part of <bpmn:Definitions />");if(!K&&se&&se.length&&(K=se[0]),!K)throw new Error("no diagram to display");i={},v(K);var he=K.plane;if(!he)throw new Error(`no plane for ${zr(K)}`);var B=he.bpmnElement;if(!B)if(B=CP(F),B)p(`correcting missing bpmnElement on ${zr(he)} to ${zr(B)}`),he.bpmnElement=B,d(he);else throw new Error("no process or collaboration to display");var C=u(B,he);if(ba(B,"bpmn:Process")||ba(B,"bpmn:SubProcess"))E(B,C);else if(ba(B,"bpmn:Collaboration"))Y(B,C),R(F.rootElements,C);else throw new Error(`unsupported bpmnElement for ${zr(he)}: ${zr(B)}`);x(n)};var x=this.handleDeferred=function(){for(var F;n.length;)F=n.shift(),F()};function E(O,F){fe(O,F),ie(O.ioSpecification,F),z(O.artifacts,F),a(O)}function R(O,F){var K=Yt(O,function(se){return!s(se)&&ba(se,"bpmn:Process")&&se.laneSets});K.forEach(r(E,F))}function L(O,F){f(O,F)}function M(O,F){ve(O,r(L,F))}function P(O,F){f(O,F)}function k(O,F){f(O,F)}function W(O,F){f(O,F)}function Q(O,F){f(O,F)}function z(O,F){ve(O,function(K){ba(K,"bpmn:Association")?n.push(function(){Q(K,F)}):Q(K,F)})}function ie(O,F){O&&(ve(O.dataInputs,r(k,F)),ve(O.dataOutputs,r(W,F)))}var le=this.handleSubProcess=function(F,K){fe(F,K),z(F.artifacts,K)};function H(O,F){var K=f(O,F);ba(O,"bpmn:SubProcess")&&le(O,K||F),ba(O,"bpmn:Activity")&&ie(O.ioSpecification,F),n.push(function(){ve(O.dataInputAssociations,r(P,F)),ve(O.dataOutputAssociations,r(P,F))})}function j(O,F){f(O,F)}function ae(O,F){f(O,F)}function oe(O,F){n.push(function(){var K=f(O,F);O.childLaneSet&&xe(O.childLaneSet,K||F),ge(O)})}function xe(O,F){ve(O.lanes,r(oe,F))}function re(O,F){ve(O,r(xe,F))}function fe(O,F){pe(O.flowElements,F),O.laneSets&&re(O.laneSets,F)}function pe(O,F){ve(O,function(K){ba(K,"bpmn:SequenceFlow")?n.push(function(){j(K,F)}):ba(K,"bpmn:BoundaryEvent")?n.unshift(function(){H(K,F)}):ba(K,"bpmn:FlowNode")?H(K,F):ba(K,"bpmn:DataObject")||(ba(K,"bpmn:DataStoreReference")||ba(K,"bpmn:DataObjectReference")?ae(K,F):p(`unrecognized flowElement ${zr(K)} in context ${zr(F&&F.businessObject)}`,{element:K,context:F}))})}function Ee(O,F){var K=f(O,F),se=O.processRef;se&&E(se,K||F)}function Y(O,F){ve(O.participants,r(Ee,F)),n.push(function(){M(O.messageFlows,F)}),z(O.artifacts,F)}function ge(O){ve(O.flowNodeRef,function(F){var K=F.get("lanes");K&&K.push(O)})}}function U(e,t){var n=rt(e);return n&&typeof n.$instanceOf=="function"&&n.$instanceOf(t)}function Wt(e,t){return Pu(t,function(n){return U(e,n)})}function rt(e){return e&&e.businessObject||e}function hn(e){return e&&e.di}function RP(e,t,n){var i,r,a,s,l=[];function u(f,p){var d={root:function(x,E){return i.add(x,E)},element:function(x,E,R){return i.add(x,E,R)},error:function(x,E){l.push({message:x,context:E})}},v=new TP(d);p=p||f.diagrams&&f.diagrams[0];var g=MP(f,p);if(!g)throw new Error("no diagram to display");ve(g,function(x){v.handleDefinitions(f,x)});var w=p.plane.bpmnElement.id;a.setRootElement(a.findRoot(w+"_plane")||a.findRoot(w))}return new Promise(function(f,p){try{return i=e.get("bpmnImporter"),r=e.get("eventBus"),a=e.get("canvas"),r.fire("import.render.start",{definitions:t}),u(t,n),r.fire("import.render.complete",{error:s,warnings:l}),f({warnings:l})}catch(d){return d.warnings=l,p(d)}})}function MP(e,t){if(!(!t||!t.plane)){var n=t.plane.bpmnElement,i=n;!U(n,"bpmn:Process")&&!U(n,"bpmn:Collaboration")&&(i=PP(n));var r;U(i,"bpmn:Collaboration")?r=i:r=mn(e.rootElements,function(f){if(U(f,"bpmn:Collaboration"))return mn(f.participants,function(p){return p.processRef===i})});var a=[i];r&&(a=Pr(r.participants,function(f){return f.processRef}),a.push(r));var s=fA(a),l=[t],u=[n];return ve(e.diagrams,function(f){if(f.plane){var p=f.plane.bpmnElement;s.indexOf(p)!==-1&&u.indexOf(p)===-1&&(l.push(f),u.push(p))}}),l}}function fA(e){var t=[];return ve(e,function(n){n&&(t.push(n),t=t.concat(fA(n.flowElements)))}),t}function PP(e){for(var t=e;t;){if(U(t,"bpmn:Process"))return t;t=t.$parent}}var LP='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21"><path fill="currentColor" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="currentColor" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>',hA=LP,pA={verticalAlign:"middle"},dA={color:"#404040"},DP={zIndex:"1001",position:"fixed",top:"0",left:"0",right:"0",bottom:"0"},OP={width:"100%",height:"100%",background:"rgba(40,40,40,0.2)"},BP={position:"absolute",left:"50%",top:"40%",transform:"translate(-50%)",width:"260px",padding:"10px",background:"white",boxShadow:"0 1px 4px rgba(0,0,0,0.3)",fontFamily:"Helvetica, Arial, sans-serif",fontSize:"14px",display:"flex",lineHeight:"1.3"},kP='<div class="bjs-powered-by-lightbox"><div class="backdrop"></div><div class="notice"><a href="https://bpmn.io" target="_blank" rel="noopener" class="link">'+hA+'</a><span>Web-based tooling for BPMN, DMN and forms powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>',cl;function jP(){cl=Zt(kP),Hr(cl,DP),Hr(Pn("svg",cl),pA),Hr(Pn(".backdrop",cl),OP),Hr(Pn(".notice",cl),BP),Hr(Pn(".link",cl),dA,{margin:"15px 20px 15px 10px",alignSelf:"center"})}function IP(){cl||(jP(),ja.bind(cl,".backdrop","click",function(e){document.body.removeChild(cl)})),document.body.appendChild(cl)}function oi(e){e=Ne({},zP,e),this._moddle=this._createModdle(e),this._container=this._createContainer(e),this._init(this._container,this._moddle,e),UP(this._container)}dt(oi,Ou);oi.prototype.importXML=async function(t,n){const i=this;function r(s){return i.get("eventBus").createEvent(s)}let a=[];try{t=this._emit("import.parse.start",{xml:t})||t;let s;try{s=await this._moddle.fromXML(t,"bpmn:Definitions")}catch(v){throw this._emit("import.parse.complete",{error:v}),v}let l=s.rootElement;const u=s.references,f=s.warnings,p=s.elementsById;a=a.concat(f),l=this._emit("import.parse.complete",r({error:null,definitions:l,elementsById:p,references:u,warnings:a}))||l;const d=await this.importDefinitions(l,n);return a=a.concat(d.warnings),this._emit("import.done",{error:null,warnings:a}),{warnings:a}}catch(s){let l=s;throw a=a.concat(l.warnings||[]),Tv(l,a),l=FP(l),this._emit("import.done",{error:l,warnings:l.warnings}),l}};oi.prototype.importDefinitions=async function(t,n){return this._setDefinitions(t),{warnings:(await this.open(n)).warnings}};oi.prototype.open=async function(t){const n=this._definitions;let i=t;if(!n){const a=new Error("no XML imported");throw Tv(a,[]),a}if(typeof t=="string"&&(i=HP(n,t),!i)){const a=new Error("BPMNDiagram <"+t+"> not found");throw Tv(a,[]),a}try{this.clear()}catch(a){throw Tv(a,[]),a}const{warnings:r}=await RP(this,n,i);return{warnings:r}};oi.prototype.saveXML=async function(t){t=t||{};let n=this._definitions,i,r;try{if(!n)throw new Error("no definitions loaded");n=this._emit("saveXML.start",{definitions:n})||n,r=(await this._moddle.toXML(n,t)).xml,r=this._emit("saveXML.serialized",{xml:r})||r}catch(s){i=s}const a=i?{error:i}:{xml:r};if(this._emit("saveXML.done",a),i)throw i;return a};oi.prototype.saveSVG=async function(){this._emit("saveSVG.start");let t,n;try{const i=this.get("canvas"),r=i.getActiveLayer(),a=Pn(":scope > defs",i._svg),s=Sx(r),l=a?"<defs>"+Sx(a)+"</defs>":"",u=r.getBBox();t=`<?xml version="1.0" encoding="utf-8"?>
<!-- created with bpmn-js / http://bpmn.io -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="`+u.width+'" height="'+u.height+'" viewBox="'+u.x+" "+u.y+" "+u.width+" "+u.height+'" version="1.1">'+l+s+"</svg>"}catch(i){n=i}if(this._emit("saveSVG.done",{error:n,svg:t}),n)throw n;return{svg:t}};oi.prototype._setDefinitions=function(e){this._definitions=e};oi.prototype.getModules=function(){return this._modules};oi.prototype.clear=function(){this.getDefinitions()&&Ou.prototype.clear.call(this)};oi.prototype.destroy=function(){Ou.prototype.destroy.call(this),gl(this._container)};oi.prototype.on=function(e,t,n,i){return this.get("eventBus").on(e,t,n,i)};oi.prototype.off=function(e,t){this.get("eventBus").off(e,t)};oi.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach(),e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),typeof e=="string"&&(e=Pn(e)),e.appendChild(this._container),this._emit("attach",{}),this.get("canvas").resized()};oi.prototype.getDefinitions=function(){return this._definitions};oi.prototype.detach=function(){const e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))};oi.prototype._init=function(e,t,n){const i=n.modules||this.getModules(n),r=n.additionalModules||[],a=[{bpmnjs:["value",this],moddle:["value",t]}],s=[].concat(a,i,r),l=Ne(vl(n,["additionalModules"]),{canvas:Ne({},n.canvas,{container:e}),modules:s});Ou.call(this,l),n&&n.container&&this.attachTo(n.container)};oi.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)};oi.prototype._createContainer=function(e){const t=Zt('<div class="bjs-container"></div>');return Hr(t,{width:qx(e.width),height:qx(e.height),position:e.position}),t};oi.prototype._createModdle=function(e){const t=Ne({},this._moddleExtensions,e.moddleExtensions);return new AP(t)};oi.prototype._modules=[];function Tv(e,t){return e.warnings=t,e}function FP(e){const n=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);return n&&(e.message="unparsable content <"+n[1]+"> detected; this may indicate an invalid BPMN 2.0 diagram file"+n[2]),e}const zP={width:"100%",height:"100%",position:"relative"};function qx(e){return e+(Nt(e)?"px":"")}function HP(e,t){return t&&mn(e.diagrams,function(n){return n.id===t})||null}function UP(e){const n='<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" >'+hA+"</a>",i=Zt(n);Hr(Pn("svg",i),pA),Hr(i,dA,{position:"absolute",bottom:"15px",right:"15px",zIndex:"100"}),e.appendChild(i),Bt.bind(i,"click",function(r){IP(),r.preventDefault()})}function Sm(e){oi.call(this,e),this.on("import.parse.complete",function(t){t.error||this._collectIds(t.definitions,t.elementsById)},this),this.on("diagram.destroy",function(){this.get("moddle").ids.clear()},this)}dt(Sm,oi);Sm.prototype._createModdle=function(e){var t=oi.prototype._createModdle.call(this,e);return t.ids=new dl([32,36,1]),t};Sm.prototype._collectIds=function(e,t){var n=e.$model,i=n.ids,r;i.clear();for(r in t)i.claim(r,t[r])};function Jt(e,t){return U(e,"bpmn:CallActivity")?!1:U(e,"bpmn:SubProcess")?(t=t||hn(e),t&&U(t,"bpmndi:BPMNPlane")?!0:t&&!!t.isExpanded):U(e,"bpmn:Participant")?!!rt(e).processRef:!0}function hr(e){if(!(!U(e,"bpmn:Participant")&&!U(e,"bpmn:Lane"))){var t=hn(e).isHorizontal;return t===void 0?!0:t}}function qP(e){return e&&rt(e).isInterrupting!==!1}function Vr(e){return e&&!!rt(e).triggeredByEvent}function Pp(e,t){var n=rt(e).eventDefinitions;return Pu(n,function(i){return U(i,t)})}function VP(e){return Pp(e,"bpmn:ErrorEventDefinition")}function $P(e){return Pp(e,"bpmn:EscalationEventDefinition")}function GP(e){return Pp(e,"bpmn:CompensateEventDefinition")}var sm={width:90,height:20},Vx=15;function Zf(e){return U(e,"bpmn:Event")||U(e,"bpmn:Gateway")||U(e,"bpmn:DataStoreReference")||U(e,"bpmn:DataObjectReference")||U(e,"bpmn:DataInput")||U(e,"bpmn:DataOutput")||U(e,"bpmn:SequenceFlow")||U(e,"bpmn:MessageFlow")||U(e,"bpmn:Group")}function xy(e){return pn(e.label)}function YP(e){var t=e.length/2-1,n=e[Math.floor(t)],i=e[Math.ceil(t+.01)],r=WP(e),a=Math.atan((i.y-n.y)/(i.x-n.x)),s=r.x,l=r.y;return Math.abs(a)<Math.PI/2?l-=Vx:s+=Vx,{x:s,y:l}}function WP(e){var t=e.length/2-1,n=e[Math.floor(t)],i=e[Math.ceil(t+.01)];return{x:n.x+(i.x-n.x)/2,y:n.y+(i.y-n.y)/2}}function Lb(e){return e.waypoints?YP(e.waypoints):U(e,"bpmn:Group")?{x:e.x+e.width/2,y:e.y+sm.height/2}:{x:e.x+e.width/2,y:e.y+e.height+sm.height/2}}function XP(e,t){var n,i,r,a=e.label;return a&&a.bounds?(r=a.bounds,i={width:Math.max(sm.width,r.width),height:r.height},n={x:r.x+r.width/2,y:r.y+r.height/2}):(n=Lb(t),i=sm),Ne({x:n.x-i.width/2,y:n.y-i.height/2},i)}function mA(e){if(U(e,"bpmn:FlowElement")||U(e,"bpmn:Participant")||U(e,"bpmn:Lane")||U(e,"bpmn:SequenceFlow")||U(e,"bpmn:MessageFlow")||U(e,"bpmn:DataInput")||U(e,"bpmn:DataOutput"))return"name";if(U(e,"bpmn:TextAnnotation"))return"text";if(U(e,"bpmn:Group"))return"categoryValueRef"}function KP(e){var t=e.categoryValueRef;return t&&t.value||""}function bs(e){var t=e.businessObject,n=mA(t);if(n)return n==="categoryValueRef"?KP(t):t[n]||""}function ZP(e,t){var n=e.businessObject,i=mA(n);if(i)if(i==="categoryValueRef"){if(!n[i])return e;n[i].value=t}else n[i]=t;return e}var R2="hsl(225, 10%, 15%)",QP="white";function al(e,t){return Pu(e.eventDefinitions,function(n){return n.$type===t})}function JP(e){return e.$type==="bpmn:IntermediateThrowEvent"||e.$type==="bpmn:EndEvent"}function e7(e){var t=e.dataObjectRef;return e.isCollection||t&&t.isCollection}function Gt(e,t,n){var i=hn(e);return n||i.get("color:background-color")||i.get("bioc:fill")||t||QP}function ut(e,t,n){var i=hn(e);return n||i.get("color:border-color")||i.get("bioc:stroke")||t||R2}function jd(e,t,n,i){var r=hn(e),a=r.get("label");return i||a&&a.get("color:color")||t||ut(e,n)}function t7(e){var t=e.x+e.width/2,n=e.y+e.height/2,i=e.width/2,r=[["M",t,n],["m",0,-i],["a",i,i,0,1,1,0,2*i],["a",i,i,0,1,1,0,-2*i],["z"]];return th(r)}function n7(e,t){var n=e.x,i=e.y,r=e.width,a=e.height,s=[["M",n+t,i],["l",r-t*2,0],["a",t,t,0,0,1,t,t],["l",0,a-t*2],["a",t,t,0,0,1,-t,t],["l",t*2-r,0],["a",t,t,0,0,1,-t,-t],["l",0,t*2-a],["a",t,t,0,0,1,t,-t],["z"]];return th(s)}function i7(e){var t=e.width,n=e.height,i=e.x,r=e.y,a=t/2,s=n/2,l=[["M",i+a,r],["l",a,s],["l",-a,s],["l",-a,-s],["z"]];return th(l)}function r7(e){var t=e.x,n=e.y,i=e.width,r=e.height,a=[["M",t,n],["l",i,0],["l",0,r],["l",-i,0],["z"]];return th(a)}function Id(e,t={}){return{width:No(e,t),height:ka(e,t)}}function No(e,t={}){return wa(t,"width")?t.width:e.width}function ka(e,t={}){return wa(t,"height")?t.height:e.height}var a7=new dl,o7=10,Kg=3,s7=1.5,Rv=10,ep=.95,l7=1,c7=.25;function rh(e,t,n,i,r,a,s){uc.call(this,t,s);var l=e&&e.defaultFillColor,u=e&&e.defaultStrokeColor,f=e&&e.defaultLabelColor;function p(B){return n.computeStyle(B,{strokeLinecap:"round",strokeLinejoin:"round",stroke:R2,strokeWidth:2,fill:"white"})}function d(B){return n.computeStyle(B,["no-fill"],{strokeLinecap:"round",strokeLinejoin:"round",stroke:R2,strokeWidth:2})}function v(B,C){var{ref:T={x:0,y:0},scale:Z=1,element:te,parentGfx:de=r._svg}=C,Ae=yt("marker",{id:B,viewBox:"0 0 20 20",refX:T.x,refY:T.y,markerWidth:20*Z,markerHeight:20*Z,orient:"auto"});Mt(Ae,te);var Ue=Pn(":scope > defs",de);Ue||(Ue=yt("defs"),Mt(de,Ue)),Mt(Ue,Ae)}function g(B,C,T,Z){var te=a7.nextPrefixed("marker-");return w(B,te,C,T,Z),"url(#"+te+")"}function w(B,C,T,Z,te){if(T==="sequenceflow-end"){var de=yt("path",{d:"M 1 5 L 11 10 L 1 15 Z",...p({fill:te,stroke:te,strokeWidth:1})});v(C,{element:de,ref:{x:11,y:10},scale:.5,parentGfx:B})}if(T==="messageflow-start"){var Ae=yt("circle",{cx:6,cy:6,r:3.5,...p({fill:Z,stroke:te,strokeWidth:1,strokeDasharray:[1e4,1]})});v(C,{element:Ae,ref:{x:6,y:6},parentGfx:B})}if(T==="messageflow-end"){var Ue=yt("path",{d:"m 1 5 l 0 -3 l 7 3 l -7 3 z",...p({fill:Z,stroke:te,strokeWidth:1,strokeDasharray:[1e4,1]})});v(C,{element:Ue,ref:{x:8.5,y:5},parentGfx:B})}if(T==="association-start"){var Te=yt("path",{d:"M 11 5 L 1 10 L 11 15",...d({fill:"none",stroke:te,strokeWidth:1.5,strokeDasharray:[1e4,1]})});v(C,{element:Te,ref:{x:1,y:10},scale:.5,parentGfx:B})}if(T==="association-end"){var $=yt("path",{d:"M 1 5 L 11 10 L 1 15",...d({fill:"none",stroke:te,strokeWidth:1.5,strokeDasharray:[1e4,1]})});v(C,{element:$,ref:{x:11,y:10},scale:.5,parentGfx:B})}if(T==="conditional-flow-marker"){var Le=yt("path",{d:"M 0 10 L 8 6 L 16 10 L 8 14 Z",...p({fill:Z,stroke:te})});v(C,{element:Le,ref:{x:-1,y:10},scale:.5,parentGfx:B})}if(T==="conditional-default-flow-marker"){var Ve=yt("path",{d:"M 6 4 L 10 16",...p({stroke:te,fill:"none"})});v(C,{element:Ve,ref:{x:0,y:10},scale:.5,parentGfx:B})}}function x(B,C,T,Z,te={}){_r(Z)&&(te=Z,Z=0),Z=Z||0,te=p(te);var de=C/2,Ae=T/2,Ue=yt("circle",{cx:de,cy:Ae,r:Math.round((C+T)/4-Z),...te});return Mt(B,Ue),Ue}function E(B,C,T,Z,te,de){_r(te)&&(de=te,te=0),te=te||0,de=p(de);var Ae=yt("rect",{x:te,y:te,width:C-te*2,height:T-te*2,rx:Z,ry:Z,...de});return Mt(B,Ae),Ae}function R(B,C,T,Z){var te=C/2,de=T/2,Ae=[{x:te,y:0},{x:C,y:de},{x:te,y:T},{x:0,y:de}],Ue=Ae.map(function($){return $.x+","+$.y}).join(" ");Z=p(Z);var Te=yt("polygon",{...Z,points:Ue});return Mt(B,Te),Te}function L(B,C,T,Z){T=d(T);var te=gy(C,T,Z);return Mt(B,te),te}function M(B,C,T){return L(B,C,T,5)}function P(B,C,T){T=d(T);var Z=yt("path",{...T,d:C});return Mt(B,Z),Z}function k(B,C,T,Z){return P(C,T,Ne({"data-marker":B},Z))}function W(B){return he[B]}function Q(B){return function(C,T,Z){return W(B)(C,T,Z)}}var z={"bpmn:MessageEventDefinition":function(B,C,T={},Z){var te=i.getScaledPath("EVENT_MESSAGE",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:T.width||C.width,containerHeight:T.height||C.height,position:{mx:.235,my:.315}}),de=Z?ut(C,u,T.stroke):Gt(C,l,T.fill),Ae=Z?Gt(C,l,T.fill):ut(C,u,T.stroke),Ue=P(B,te,{fill:de,stroke:Ae,strokeWidth:1});return Ue},"bpmn:TimerEventDefinition":function(B,C,T={}){var Z=T.width||C.width,te=T.height||C.height,de=T.width?1:2,Ae=x(B,Z,te,.2*te,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke),strokeWidth:de}),Ue=i.getScaledPath("EVENT_TIMER_WH",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:Z,containerHeight:te,position:{mx:.5,my:.5}});P(B,Ue,{stroke:ut(C,u,T.stroke),strokeWidth:de});for(var Te=0;Te<12;Te++){var $=i.getScaledPath("EVENT_TIMER_LINE",{xScaleFactor:.75,yScaleFactor:.75,containerWidth:Z,containerHeight:te,position:{mx:.5,my:.5}}),Le=Z/2,Ve=te/2;P(B,$,{strokeWidth:1,stroke:ut(C,u,T.stroke),transform:"rotate("+Te*30+","+Ve+","+Le+")"})}return Ae},"bpmn:EscalationEventDefinition":function(B,C,T={},Z){var te=i.getScaledPath("EVENT_ESCALATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:T.width||C.width,containerHeight:T.height||C.height,position:{mx:.5,my:.2}}),de=Z?ut(C,u,T.stroke):Gt(C,l,T.fill);return P(B,te,{fill:de,stroke:ut(C,u,T.stroke),strokeWidth:1})},"bpmn:ConditionalEventDefinition":function(B,C,T={}){var Z=i.getScaledPath("EVENT_CONDITIONAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:T.width||C.width,containerHeight:T.height||C.height,position:{mx:.5,my:.222}});return P(B,Z,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke),strokeWidth:1})},"bpmn:LinkEventDefinition":function(B,C,T={},Z){var te=i.getScaledPath("EVENT_LINK",{xScaleFactor:1,yScaleFactor:1,containerWidth:C.width,containerHeight:C.height,position:{mx:.57,my:.263}}),de=Z?ut(C,u,T.stroke):Gt(C,l,T.fill);return P(B,te,{fill:de,stroke:ut(C,u,T.stroke),strokeWidth:1})},"bpmn:ErrorEventDefinition":function(B,C,T={},Z){var te=i.getScaledPath("EVENT_ERROR",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:T.width||C.width,containerHeight:T.height||C.height,position:{mx:.2,my:.722}}),de=Z?ut(C,u,T.stroke):Gt(C,l,T.fill);return P(B,te,{fill:de,stroke:ut(C,u,T.stroke),strokeWidth:1})},"bpmn:CancelEventDefinition":function(B,C,T={},Z){var te=i.getScaledPath("EVENT_CANCEL_45",{xScaleFactor:1,yScaleFactor:1,containerWidth:C.width,containerHeight:C.height,position:{mx:.638,my:-.055}}),de=Z?ut(C,u,T.stroke):"none",Ae=P(B,te,{fill:de,stroke:ut(C,u,T.stroke),strokeWidth:1});return X4(Ae,45),Ae},"bpmn:CompensateEventDefinition":function(B,C,T={},Z){var te=i.getScaledPath("EVENT_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:T.width||C.width,containerHeight:T.height||C.height,position:{mx:.22,my:.5}}),de=Z?ut(C,u,T.stroke):Gt(C,l,T.fill);return P(B,te,{fill:de,stroke:ut(C,u,T.stroke),strokeWidth:1})},"bpmn:SignalEventDefinition":function(B,C,T={},Z){var te=i.getScaledPath("EVENT_SIGNAL",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:T.width||C.width,containerHeight:T.height||C.height,position:{mx:.5,my:.2}}),de=Z?ut(C,u,T.stroke):Gt(C,l,T.fill);return P(B,te,{strokeWidth:1,fill:de,stroke:ut(C,u,T.stroke)})},"bpmn:MultipleEventDefinition":function(B,C,T={},Z){var te=i.getScaledPath("EVENT_MULTIPLE",{xScaleFactor:1.1,yScaleFactor:1.1,containerWidth:T.width||C.width,containerHeight:T.height||C.height,position:{mx:.211,my:.36}}),de=Z?ut(C,u,T.stroke):Gt(C,l,T.fill);return P(B,te,{fill:de,stroke:ut(C,u,T.stroke),strokeWidth:1})},"bpmn:ParallelMultipleEventDefinition":function(B,C,T={}){var Z=i.getScaledPath("EVENT_PARALLEL_MULTIPLE",{xScaleFactor:1.2,yScaleFactor:1.2,containerWidth:T.width||C.width,containerHeight:T.height||C.height,position:{mx:.458,my:.194}});return P(B,Z,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke),strokeWidth:1})},"bpmn:TerminateEventDefinition":function(B,C,T={}){var Z=x(B,C.width,C.height,8,{fill:ut(C,u,T.stroke),stroke:ut(C,u,T.stroke),strokeWidth:4});return Z}};function ie(B,C,T={},Z){var te=rt(B),de=JP(te),Ae=Z||B;return te.get("eventDefinitions")&&te.get("eventDefinitions").length>1?te.get("parallelMultiple")?z["bpmn:ParallelMultipleEventDefinition"](C,Ae,T,de):z["bpmn:MultipleEventDefinition"](C,Ae,T,de):al(te,"bpmn:MessageEventDefinition")?z["bpmn:MessageEventDefinition"](C,Ae,T,de):al(te,"bpmn:TimerEventDefinition")?z["bpmn:TimerEventDefinition"](C,Ae,T,de):al(te,"bpmn:ConditionalEventDefinition")?z["bpmn:ConditionalEventDefinition"](C,Ae,T,de):al(te,"bpmn:SignalEventDefinition")?z["bpmn:SignalEventDefinition"](C,Ae,T,de):al(te,"bpmn:EscalationEventDefinition")?z["bpmn:EscalationEventDefinition"](C,Ae,T,de):al(te,"bpmn:LinkEventDefinition")?z["bpmn:LinkEventDefinition"](C,Ae,T,de):al(te,"bpmn:ErrorEventDefinition")?z["bpmn:ErrorEventDefinition"](C,Ae,T,de):al(te,"bpmn:CancelEventDefinition")?z["bpmn:CancelEventDefinition"](C,Ae,T,de):al(te,"bpmn:CompensateEventDefinition")?z["bpmn:CompensateEventDefinition"](C,Ae,T,de):al(te,"bpmn:TerminateEventDefinition")?z["bpmn:TerminateEventDefinition"](C,Ae,T,de):null}var le={ParticipantMultiplicityMarker:function(B,C,T={}){var Z=No(C,T),te=ka(C,T),de=i.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:Z,containerHeight:te,position:{mx:(Z/2-6)/Z,my:(te-15)/te}});k("participant-multiplicity",B,de,{strokeWidth:2,fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke)})},SubProcessMarker:function(B,C,T={}){var Z=E(B,14,14,0,{strokeWidth:1,fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke)});Mr(Z,C.width/2-7.5,C.height-20);var te=i.getScaledPath("MARKER_SUB_PROCESS",{xScaleFactor:1.5,yScaleFactor:1.5,containerWidth:C.width,containerHeight:C.height,position:{mx:(C.width/2-7.5)/C.width,my:(C.height-20)/C.height}});k("sub-process",B,te,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke)})},ParallelMarker:function(B,C,T){var Z=No(C,T),te=ka(C,T),de=i.getScaledPath("MARKER_PARALLEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:Z,containerHeight:te,position:{mx:(Z/2+T.parallel)/Z,my:(te-20)/te}});k("parallel",B,de,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke)})},SequentialMarker:function(B,C,T){var Z=i.getScaledPath("MARKER_SEQUENTIAL",{xScaleFactor:1,yScaleFactor:1,containerWidth:C.width,containerHeight:C.height,position:{mx:(C.width/2+T.seq)/C.width,my:(C.height-19)/C.height}});k("sequential",B,Z,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke)})},CompensationMarker:function(B,C,T){var Z=i.getScaledPath("MARKER_COMPENSATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:C.width,containerHeight:C.height,position:{mx:(C.width/2+T.compensation)/C.width,my:(C.height-13)/C.height}});k("compensation",B,Z,{strokeWidth:1,fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke)})},LoopMarker:function(B,C,T){var Z=No(C,T),te=ka(C,T),de=i.getScaledPath("MARKER_LOOP",{xScaleFactor:1,yScaleFactor:1,containerWidth:Z,containerHeight:te,position:{mx:(Z/2+T.loop)/Z,my:(te-7)/te}});k("loop",B,de,{strokeWidth:1.5,fill:"none",stroke:ut(C,u,T.stroke),strokeMiterlimit:.5})},AdhocMarker:function(B,C,T){var Z=No(C,T),te=ka(C,T),de=i.getScaledPath("MARKER_ADHOC",{xScaleFactor:1,yScaleFactor:1,containerWidth:Z,containerHeight:te,position:{mx:(Z/2+T.adhoc)/Z,my:(te-15)/te}});k("adhoc",B,de,{strokeWidth:1,fill:ut(C,u,T.stroke),stroke:ut(C,u,T.stroke)})}};function H(B,C,T,Z){le[B](C,T,Z)}function j(B,C,T=[],Z={}){Z={fill:Z.fill,stroke:Z.stroke,width:No(C,Z),height:ka(C,Z)};var te=rt(C),de=T.includes("SubProcessMarker");de?Z={...Z,seq:-21,parallel:-22,compensation:-25,loop:-18,adhoc:10}:Z={...Z,seq:-5,parallel:-6,compensation:-7,loop:0,adhoc:-8},te.get("isForCompensation")&&T.push("CompensationMarker"),U(te,"bpmn:AdHocSubProcess")&&(T.push("AdhocMarker"),de||Ne(Z,{compensation:Z.compensation-18}));var Ae=te.get("loopCharacteristics"),Ue=Ae&&Ae.get("isSequential");Ae&&(Ne(Z,{compensation:Z.compensation-18}),T.includes("AdhocMarker")&&Ne(Z,{seq:-23,loop:-18,parallel:-24}),Ue===void 0&&T.push("LoopMarker"),Ue===!1&&T.push("ParallelMarker"),Ue===!0&&T.push("SequentialMarker")),T.includes("CompensationMarker")&&T.length===1&&Ne(Z,{compensation:-8}),ve(T,function(Te){H(Te,B,C,Z)})}function ae(B,C,T={}){T=Ne({size:{width:100}},T);var Z=a.createText(C||"",T);return fn(Z).add("djs-label"),Mt(B,Z),Z}function oe(B,C,T,Z={}){var te=rt(C),de=Id({x:C.x,y:C.y,width:C.width,height:C.height},Z);return ae(B,te.name,{align:T,box:de,padding:7,style:{fill:jd(C,f,u,Z.stroke)}})}function xe(B,C,T={}){var Z={width:90,height:30,x:C.width/2+C.x,y:C.height/2+C.y};return ae(B,bs(C),{box:Z,fitBox:!0,style:Ne({},a.getExternalStyle(),{fill:jd(C,f,u,T.stroke)})})}function re(B,C,T,Z={}){var te=hr(T),de=ae(B,C,{box:{height:30,width:te?ka(T,Z):No(T,Z)},align:"center-middle",style:{fill:jd(T,f,u,Z.stroke)}});if(te){var Ae=-1*ka(T,Z);Cv(de,0,-Ae,270)}}function fe(B,C,T={}){var{width:Z,height:te}=Id(C,T);return E(B,Z,te,Rv,{...T,fill:Gt(C,l,T.fill),fillOpacity:ep,stroke:ut(C,u,T.stroke)})}function pe(B,C,T={}){var Z=rt(C),te=Gt(C,l,T.fill),de=ut(C,u,T.stroke);return(Z.get("associationDirection")==="One"||Z.get("associationDirection")==="Both")&&(T.markerEnd=g(B,"association-end",te,de)),Z.get("associationDirection")==="Both"&&(T.markerStart=g(B,"association-start",te,de)),T=cn(T,["markerStart","markerEnd"]),M(B,C.waypoints,{...T,stroke:de,strokeDasharray:"0, 5"})}function Ee(B,C,T={}){var Z=Gt(C,l,T.fill),te=ut(C,u,T.stroke),de=i.getScaledPath("DATA_OBJECT_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:C.width,containerHeight:C.height,position:{mx:.474,my:.296}}),Ae=P(B,de,{fill:Z,fillOpacity:ep,stroke:te}),Ue=rt(C);if(e7(Ue)){var Te=i.getScaledPath("DATA_OBJECT_COLLECTION_PATH",{xScaleFactor:1,yScaleFactor:1,containerWidth:C.width,containerHeight:C.height,position:{mx:.33,my:(C.height-18)/C.height}});P(B,Te,{strokeWidth:2,fill:Z,stroke:te})}return Ae}function Y(B,C,T={}){return x(B,C.width,C.height,{fillOpacity:ep,...T,fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke)})}function ge(B,C,T={}){return R(B,C.width,C.height,{fill:Gt(C,l,T.fill),fillOpacity:ep,stroke:ut(C,u,T.stroke)})}function O(B,C,T={}){var Z=E(B,No(C,T),ka(C,T),0,{fill:Gt(C,l,T.fill),fillOpacity:T.fillOpacity||ep,stroke:ut(C,u,T.stroke),strokeWidth:1.5}),te=rt(C);if(U(te,"bpmn:Lane")){var de=te.get("name");re(B,de,C,T)}return Z}function F(B,C,T={}){var Z=fe(B,C,T),te=Jt(C);if(Vr(C)&&(ft(Z,{strokeDasharray:"0, 5.5",strokeWidth:2.5}),!te)){var de=rt(C).flowElements||[],Ae=de.filter(Ue=>U(Ue,"bpmn:StartEvent"));Ae.length===1&&K(Ae[0],B,T,C)}return oe(B,C,te?"center-top":"center-middle",T),te?j(B,C,void 0,T):j(B,C,["SubProcessMarker"],T),Z}function K(B,C,T,Z){var te=22,de={fill:Gt(Z,l,T.fill),stroke:ut(Z,u,T.stroke),width:te,height:te},Ae=rt(B).isInterrupting,Ue=Ae?0:3,Te=Ae?1:1.2,$=20,Le=(te-$)/2,Ve="translate("+Le+","+Le+")";x(C,$,$,{fill:de.fill,stroke:de.stroke,strokeWidth:Te,strokeDasharray:Ue,transform:Ve}),ie(B,C,de,Z)}function se(B,C,T={}){var Z=fe(B,C,T);return oe(B,C,"center-middle",T),j(B,C,void 0,T),Z}var he=this.handlers={"bpmn:AdHocSubProcess":function(B,C,T={}){return Jt(C)?T=cn(T,["fill","stroke","width","height"]):T=cn(T,["fill","stroke"]),F(B,C,T)},"bpmn:Association":function(B,C,T={}){return T=cn(T,["fill","stroke"]),pe(B,C,T)},"bpmn:BoundaryEvent":function(B,C,T={}){var{renderIcon:Z=!0}=T;T=cn(T,["fill","stroke"]);var te=rt(C),de=te.get("cancelActivity");T={strokeWidth:1.5,fill:Gt(C,l,T.fill),fillOpacity:l7,stroke:ut(C,u,T.stroke)},de||(T.strokeDasharray="6");var Ae=Y(B,C,T);return x(B,C.width,C.height,Kg,{...T,fill:"none"}),Z&&ie(C,B,T),Ae},"bpmn:BusinessRuleTask":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=se(B,C,T),te=i.getScaledPath("TASK_TYPE_BUSINESS_RULE_MAIN",{abspos:{x:8,y:8}}),de=P(B,te);ft(de,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke),strokeWidth:1});var Ae=i.getScaledPath("TASK_TYPE_BUSINESS_RULE_HEADER",{abspos:{x:8,y:8}}),Ue=P(B,Ae);return ft(Ue,{fill:ut(C,u,T.stroke),stroke:ut(C,u,T.stroke),strokeWidth:1}),Z},"bpmn:CallActivity":function(B,C,T={}){return T=cn(T,["fill","stroke"]),F(B,C,{strokeWidth:5,...T})},"bpmn:ComplexGateway":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=ge(B,C,T),te=i.getScaledPath("GATEWAY_COMPLEX",{xScaleFactor:.5,yScaleFactor:.5,containerWidth:C.width,containerHeight:C.height,position:{mx:.46,my:.26}});return P(B,te,{fill:ut(C,u,T.stroke),stroke:ut(C,u,T.stroke),strokeWidth:1}),Z},"bpmn:DataInput":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=i.getRawPath("DATA_ARROW"),te=Ee(B,C,T);return P(B,Z,{fill:"none",stroke:ut(C,u,T.stroke),strokeWidth:1}),te},"bpmn:DataInputAssociation":function(B,C,T={}){return T=cn(T,["fill","stroke"]),pe(B,C,{...T,markerEnd:g(B,"association-end",Gt(C,l,T.fill),ut(C,u,T.stroke))})},"bpmn:DataObject":function(B,C,T={}){return T=cn(T,["fill","stroke"]),Ee(B,C,T)},"bpmn:DataObjectReference":Q("bpmn:DataObject"),"bpmn:DataOutput":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=i.getRawPath("DATA_ARROW"),te=Ee(B,C,T);return P(B,Z,{strokeWidth:1,fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke)}),te},"bpmn:DataOutputAssociation":function(B,C,T={}){return T=cn(T,["fill","stroke"]),pe(B,C,{...T,markerEnd:g(B,"association-end",Gt(C,l,T.fill),ut(C,u,T.stroke))})},"bpmn:DataStoreReference":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=i.getScaledPath("DATA_STORE",{xScaleFactor:1,yScaleFactor:1,containerWidth:C.width,containerHeight:C.height,position:{mx:0,my:.133}});return P(B,Z,{fill:Gt(C,l,T.fill),fillOpacity:ep,stroke:ut(C,u,T.stroke),strokeWidth:2})},"bpmn:EndEvent":function(B,C,T={}){var{renderIcon:Z=!0}=T;T=cn(T,["fill","stroke"]);var te=Y(B,C,{...T,strokeWidth:4});return Z&&ie(C,B,T),te},"bpmn:EventBasedGateway":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=rt(C),te=ge(B,C,T);x(B,C.width,C.height,C.height*.2,{fill:Gt(C,"none",T.fill),stroke:ut(C,u,T.stroke),strokeWidth:1});var de=Z.get("eventGatewayType"),Ae=!!Z.get("instantiate");function Ue(){var $=i.getScaledPath("GATEWAY_EVENT_BASED",{xScaleFactor:.18,yScaleFactor:.18,containerWidth:C.width,containerHeight:C.height,position:{mx:.36,my:.44}});P(B,$,{fill:"none",stroke:ut(C,u,T.stroke),strokeWidth:2})}if(de==="Parallel"){var Te=i.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:C.width,containerHeight:C.height,position:{mx:.474,my:.296}});P(B,Te,{fill:"none",stroke:ut(C,u,T.stroke),strokeWidth:1})}else de==="Exclusive"&&(Ae||x(B,C.width,C.height,C.height*.26,{fill:"none",stroke:ut(C,u,T.stroke),strokeWidth:1}),Ue());return te},"bpmn:ExclusiveGateway":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=ge(B,C,T),te=i.getScaledPath("GATEWAY_EXCLUSIVE",{xScaleFactor:.4,yScaleFactor:.4,containerWidth:C.width,containerHeight:C.height,position:{mx:.32,my:.3}}),de=hn(C);return de.get("isMarkerVisible")&&P(B,te,{fill:ut(C,u,T.stroke),stroke:ut(C,u,T.stroke),strokeWidth:1}),Z},"bpmn:Gateway":function(B,C,T={}){return T=cn(T,["fill","stroke"]),ge(B,C,T)},"bpmn:Group":function(B,C,T={}){return T=cn(T,["fill","stroke","width","height"]),E(B,C.width,C.height,Rv,{stroke:ut(C,u,T.stroke),strokeWidth:1.5,strokeDasharray:"10, 6, 0, 6",fill:"none",pointerEvents:"none",width:No(C,T),height:ka(C,T)})},"bpmn:InclusiveGateway":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=ge(B,C,T);return x(B,C.width,C.height,C.height*.24,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke),strokeWidth:2.5}),Z},"bpmn:IntermediateEvent":function(B,C,T={}){var{renderIcon:Z=!0}=T;T=cn(T,["fill","stroke"]);var te=Y(B,C,{...T,strokeWidth:1.5});return x(B,C.width,C.height,Kg,{fill:"none",stroke:ut(C,u,T.stroke),strokeWidth:1.5}),Z&&ie(C,B,T),te},"bpmn:IntermediateCatchEvent":Q("bpmn:IntermediateEvent"),"bpmn:IntermediateThrowEvent":Q("bpmn:IntermediateEvent"),"bpmn:Lane":function(B,C,T={}){return T=cn(T,["fill","stroke","width","height"]),O(B,C,{...T,fillOpacity:c7})},"bpmn:ManualTask":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=se(B,C,T),te=i.getScaledPath("TASK_TYPE_MANUAL",{abspos:{x:17,y:15}});return P(B,te,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke),strokeWidth:.5}),Z},"bpmn:MessageFlow":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=rt(C),te=hn(C),de=Gt(C,l,T.fill),Ae=ut(C,u,T.stroke),Ue=M(B,C.waypoints,{markerEnd:g(B,"messageflow-end",de,Ae),markerStart:g(B,"messageflow-start",de,Ae),stroke:Ae,strokeDasharray:"10, 11",strokeWidth:1.5});if(Z.get("messageRef")){var Te=Ue.getPointAtLength(Ue.getTotalLength()/2),$=i.getScaledPath("MESSAGE_FLOW_MARKER",{abspos:{x:Te.x,y:Te.y}}),Le={strokeWidth:1};te.get("messageVisibleKind")==="initiating"?(Le.fill=de,Le.stroke=Ae):(Le.fill=Ae,Le.stroke=de);var Ve=P(B,$,Le),je=Z.get("messageRef"),Ie=je.get("name"),qe=ae(B,Ie,{align:"center-top",fitBox:!0,style:{fill:Ae}}),Ye=Ve.getBBox(),at=qe.getBBox(),Ke=Te.x-at.width/2,ot=Te.y+Ye.height/2+o7;Cv(qe,Ke,ot,0)}return Ue},"bpmn:ParallelGateway":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=ge(B,C,T),te=i.getScaledPath("GATEWAY_PARALLEL",{xScaleFactor:.6,yScaleFactor:.6,containerWidth:C.width,containerHeight:C.height,position:{mx:.46,my:.2}});return P(B,te,{fill:ut(C,u,T.stroke),stroke:ut(C,u,T.stroke),strokeWidth:1}),Z},"bpmn:Participant":function(B,C,T={}){T=cn(T,["fill","stroke","width","height"]);var Z=O(B,C,T),te=Jt(C),de=hr(C),Ae=rt(C),Ue=Ae.get("name");if(te){var Te=de?[{x:30,y:0},{x:30,y:ka(C,T)}]:[{x:0,y:30},{x:No(C,T),y:30}];L(B,Te,{stroke:ut(C,u,T.stroke),strokeWidth:s7}),re(B,Ue,C,T)}else{var $=Id(C,T);de||($.height=No(C,T),$.width=ka(C,T));var Le=ae(B,Ue,{box:$,align:"center-middle",style:{fill:jd(C,f,u,T.stroke)}});if(!de){var Ve=-1*ka(C,T);Cv(Le,0,-Ve,270)}}return Ae.get("participantMultiplicity")&&H("ParticipantMultiplicityMarker",B,C,T),Z},"bpmn:ReceiveTask":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=rt(C),te=se(B,C,T),de;return Z.get("instantiate")?(x(B,28,28,20*.22,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke),strokeWidth:1}),de=i.getScaledPath("TASK_TYPE_INSTANTIATING_SEND",{abspos:{x:7.77,y:9.52}})):de=i.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:.9,yScaleFactor:.9,containerWidth:21,containerHeight:14,position:{mx:.3,my:.4}}),P(B,de,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke),strokeWidth:1}),te},"bpmn:ScriptTask":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=se(B,C,T),te=i.getScaledPath("TASK_TYPE_SCRIPT",{abspos:{x:15,y:20}});return P(B,te,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke),strokeWidth:1}),Z},"bpmn:SendTask":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=se(B,C,T),te=i.getScaledPath("TASK_TYPE_SEND",{xScaleFactor:1,yScaleFactor:1,containerWidth:21,containerHeight:14,position:{mx:.285,my:.357}});return P(B,te,{fill:ut(C,u,T.stroke),stroke:Gt(C,l,T.fill),strokeWidth:1}),Z},"bpmn:SequenceFlow":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=Gt(C,l,T.fill),te=ut(C,u,T.stroke),de=M(B,C.waypoints,{markerEnd:g(B,"sequenceflow-end",Z,te),stroke:te}),Ae=rt(C),{source:Ue}=C;if(Ue){var Te=rt(Ue);Ae.get("conditionExpression")&&U(Te,"bpmn:Activity")&&ft(de,{markerStart:g(B,"conditional-flow-marker",Z,te)}),Te.get("default")&&(U(Te,"bpmn:Gateway")||U(Te,"bpmn:Activity"))&&Te.get("default")===Ae&&ft(de,{markerStart:g(B,"conditional-default-flow-marker",Z,te)})}return de},"bpmn:ServiceTask":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=se(B,C,T);x(B,10,10,{fill:Gt(C,l,T.fill),stroke:"none",transform:"translate(6, 6)"});var te=i.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:12,y:18}});P(B,te,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke),strokeWidth:1}),x(B,10,10,{fill:Gt(C,l,T.fill),stroke:"none",transform:"translate(11, 10)"});var de=i.getScaledPath("TASK_TYPE_SERVICE",{abspos:{x:17,y:22}});return P(B,de,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke),strokeWidth:1}),Z},"bpmn:StartEvent":function(B,C,T={}){var{renderIcon:Z=!0}=T;T=cn(T,["fill","stroke"]);var te=rt(C);te.get("isInterrupting")||(T={...T,strokeDasharray:"6"});var de=Y(B,C,T);return Z&&ie(C,B,T),de},"bpmn:SubProcess":function(B,C,T={}){return Jt(C)?T=cn(T,["fill","stroke","width","height"]):T=cn(T,["fill","stroke"]),F(B,C,T)},"bpmn:Task":function(B,C,T={}){return T=cn(T,["fill","stroke"]),se(B,C,T)},"bpmn:TextAnnotation":function(B,C,T={}){T=cn(T,["fill","stroke","width","height"]);var{width:Z,height:te}=Id(C,T),de=E(B,Z,te,0,0,{fill:"none",stroke:"none"}),Ae=i.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:Z,containerHeight:te,position:{mx:0,my:0}});P(B,Ae,{stroke:ut(C,u,T.stroke)});var Ue=rt(C),Te=Ue.get("text")||"";return ae(B,Te,{align:"left-top",box:Id(C,T),padding:7,style:{fill:jd(C,f,u,T.stroke)}}),de},"bpmn:Transaction":function(B,C,T={}){Jt(C)?T=cn(T,["fill","stroke","width","height"]):T=cn(T,["fill","stroke"]);var Z=F(B,C,{strokeWidth:1.5,...T}),te=n.style(["no-fill","no-events"],{stroke:ut(C,u,T.stroke),strokeWidth:1.5}),de=Jt(C);return de||(T={}),E(B,No(C,T),ka(C,T),Rv-Kg,Kg,te),Z},"bpmn:UserTask":function(B,C,T={}){T=cn(T,["fill","stroke"]);var Z=se(B,C,T),te=15,de=12,Ae=i.getScaledPath("TASK_TYPE_USER_1",{abspos:{x:te,y:de}});P(B,Ae,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke),strokeWidth:.5});var Ue=i.getScaledPath("TASK_TYPE_USER_2",{abspos:{x:te,y:de}});P(B,Ue,{fill:Gt(C,l,T.fill),stroke:ut(C,u,T.stroke),strokeWidth:.5});var Te=i.getScaledPath("TASK_TYPE_USER_3",{abspos:{x:te,y:de}});return P(B,Te,{fill:ut(C,u,T.stroke),stroke:ut(C,u,T.stroke),strokeWidth:.5}),Z},label:function(B,C,T={}){return xe(B,C,T)}};this._drawPath=P,this._renderer=W}dt(rh,uc);rh.$inject=["config.bpmnRenderer","eventBus","styles","pathMap","canvas","textRenderer"];rh.prototype.canRender=function(e){return U(e,"bpmn:BaseElement")};rh.prototype.drawShape=function(e,t,n={}){var{type:i}=t,r=this._renderer(i);return r(e,t,n)};rh.prototype.drawConnection=function(e,t,n={}){var{type:i}=t,r=this._renderer(i);return r(e,t,n)};rh.prototype.getShapePath=function(e){return U(e,"bpmn:Event")?t7(e):U(e,"bpmn:Activity")?n7(e,Rv):U(e,"bpmn:Gateway")?i7(e):r7(e)};function cn(e,t=[]){return t.reduce((n,i)=>(e[i]&&(n[i]=e[i]),n),{})}var u7=0,f7={width:150,height:50};function h7(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}function p7(e){return _r(e)?Ne({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}function d7(e,t){t.textContent=e;var n;try{var i,r=e==="";return t.textContent=r?"dummy":e,n=t.getBBox(),i={width:n.width+n.x*2,height:n.height},r&&(i.width=0),i}catch(a){return console.log(a),{width:0,height:0}}}function m7(e,t,n){for(var i=e.shift(),r=i,a;;){if(a=d7(r,n),a.width=r?a.width:0,r===" "||r===""||a.width<Math.round(t)||r.length<2)return g7(e,r,i,a);r=y7(r,a.width,t)}}function g7(e,t,n,i){if(t.length<n.length){var r=n.slice(t.length).trim();e.unshift(r)}return{width:i.width,height:i.height,text:t}}var $x="";function v7(e,t){var n=e.split(/(\s|-|\u00AD)/g),i,r=[],a=0;if(n.length>1)for(;i=n.shift();)if(i.length+a<t)r.push(i),a+=i.length;else{(i==="-"||i===$x)&&r.pop();break}var s=r[r.length-1];return s&&s===$x&&(r[r.length-1]="-"),r.join("")}function y7(e,t,n){var i=Math.max(e.length*(n/t),1),r=v7(e,i);return r||(r=e.slice(0,Math.max(Math.round(i-1),1))),r}function b7(){var e=document.getElementById("helper-svg");return e||(e=yt("svg"),ft(e,{id:"helper-svg"}),Hr(e,{visibility:"hidden",position:"fixed",width:0,height:0}),document.body.appendChild(e)),e}function Ey(e){this._config=Ne({},{size:f7,padding:u7,style:{},align:"center-top"},e||{})}Ey.prototype.createText=function(e,t){return this.layoutText(e,t).element};Ey.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions};Ey.prototype.layoutText=function(e,t){var n=Ne({},this._config.size,t.box),i=Ne({},this._config.style,t.style),r=h7(t.align||this._config.align),a=p7(t.padding!==void 0?t.padding:this._config.padding),s=t.fitBox||!1,l=_7(i),u=e.split(/\u00AD?\r?\n/),f=[],p=n.width-a.left-a.right,d=yt("text");ft(d,{x:0,y:0}),ft(d,i);var v=b7();for(Mt(v,d);u.length;)f.push(m7(u,p,d));r.vertical==="middle"&&(a.top=a.bottom=0);var g=xa(f,function(L,M,P){return L+(l||M.height)},0)+a.top+a.bottom,w=xa(f,function(L,M,P){return M.width>L?M.width:L},0),x=a.top;r.vertical==="middle"&&(x+=(n.height-g)/2),x-=(l||f[0].height)/4;var E=yt("text");ft(E,i),ve(f,function(L){var M;switch(x+=l||L.height,r.horizontal){case"left":M=a.left;break;case"right":M=(s?w:p)-a.right-L.width;break;default:M=Math.max(((s?w:p)-L.width)/2+a.left,0)}var P=yt("tspan");ft(P,{x:M,y:x}),P.textContent=L.text,Mt(E,P)}),Qi(d);var R={width:w,height:g};return{dimensions:R,element:E}};function _7(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}var w7=12,x7=1.2,E7=30;function gA(e){var t=Ne({fontFamily:"Arial, sans-serif",fontSize:w7,fontWeight:"normal",lineHeight:x7},e&&e.defaultStyle||{}),n=parseInt(t.fontSize,10)-1,i=Ne({},t,{fontSize:n},e&&e.externalStyle||{}),r=new Ey({style:t});this.getExternalLabelBounds=function(a,s){var l=r.getDimensions(s,{box:{width:90,height:30},style:i});return{x:Math.round(a.x+a.width/2-l.width/2),y:Math.round(a.y),width:Math.ceil(l.width),height:Math.ceil(l.height)}},this.getTextAnnotationBounds=function(a,s){var l=r.getDimensions(s,{box:a,style:t,align:"left-top",padding:5});return{x:a.x,y:a.y,width:a.width,height:Math.max(E7,Math.round(l.height))}},this.createText=function(a,s){return r.createText(a,s||{})},this.getDefaultStyle=function(){return t},this.getExternalStyle=function(){return i}}gA.$inject=["config.textRenderer"];function S7(){this.pathMap={EVENT_MESSAGE:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:36,width:36,heightElements:[6,14],widthElements:[10.5,21]},EVENT_SIGNAL:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x1},0 Z",height:36,width:36,heightElements:[18],widthElements:[10,20]},EVENT_ESCALATION:{d:"M {mx},{my} l {e.x0},{e.y0} l -{e.x0},-{e.y1} l -{e.x0},{e.y1} Z",height:36,width:36,heightElements:[20,7],widthElements:[8]},EVENT_CONDITIONAL:{d:"M {e.x0},{e.y0} l {e.x1},0 l 0,{e.y2} l -{e.x1},0 Z M {e.x2},{e.y3} l {e.x0},0 M {e.x2},{e.y4} l {e.x0},0 M {e.x2},{e.y5} l {e.x0},0 M {e.x2},{e.y6} l {e.x0},0 M {e.x2},{e.y7} l {e.x0},0 M {e.x2},{e.y8} l {e.x0},0 ",height:36,width:36,heightElements:[8.5,14.5,18,11.5,14.5,17.5,20.5,23.5,26.5],widthElements:[10.5,14.5,12.5]},EVENT_LINK:{d:"m {mx},{my} 0,{e.y0} -{e.x1},0 0,{e.y1} {e.x1},0 0,{e.y0} {e.x0},-{e.y2} -{e.x0},-{e.y2} z",height:36,width:36,heightElements:[4.4375,6.75,7.8125],widthElements:[9.84375,13.5]},EVENT_ERROR:{d:"m {mx},{my} {e.x0},-{e.y0} {e.x1},-{e.y1} {e.x2},{e.y2} {e.x3},-{e.y3} -{e.x4},{e.y4} -{e.x5},-{e.y5} z",height:36,width:36,heightElements:[.023,8.737,8.151,16.564,10.591,8.714],widthElements:[.085,6.672,6.97,4.273,5.337,6.636]},EVENT_CANCEL_45:{d:"m {mx},{my} -{e.x1},0 0,{e.x0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:36,width:36,heightElements:[4.75,8.5],widthElements:[4.75,8.5]},EVENT_COMPENSATION:{d:"m {mx},{my} {e.x0},-{e.y0} 0,{e.y1} z m {e.x1},-{e.y2} {e.x2},-{e.y3} 0,{e.y1} -{e.x2},-{e.y3} z",height:36,width:36,heightElements:[6.5,13,.4,6.1],widthElements:[9,9.3,8.7]},EVENT_TIMER_WH:{d:"M {mx},{my} l {e.x0},-{e.y0} m -{e.x0},{e.y0} l {e.x1},{e.y1} ",height:36,width:36,heightElements:[10,2],widthElements:[3,7]},EVENT_TIMER_LINE:{d:"M {mx},{my} m {e.x0},{e.y0} l -{e.x1},{e.y1} ",height:36,width:36,heightElements:[10,3],widthElements:[0,0]},EVENT_MULTIPLE:{d:"m {mx},{my} {e.x1},-{e.y0} {e.x1},{e.y0} -{e.x0},{e.y1} -{e.x2},0 z",height:36,width:36,heightElements:[6.28099,12.56199],widthElements:[3.1405,9.42149,12.56198]},EVENT_PARALLEL_MULTIPLE:{d:"m {mx},{my} {e.x0},0 0,{e.y1} {e.x1},0 0,{e.y0} -{e.x1},0 0,{e.y1} -{e.x0},0 0,-{e.y1} -{e.x1},0 0,-{e.y0} {e.x1},0 z",height:36,width:36,heightElements:[2.56228,7.68683],widthElements:[2.56228,7.68683]},GATEWAY_EXCLUSIVE:{d:"m {mx},{my} {e.x0},{e.y0} {e.x1},{e.y0} {e.x2},0 {e.x4},{e.y2} {e.x4},{e.y1} {e.x2},0 {e.x1},{e.y3} {e.x0},{e.y3} {e.x3},0 {e.x5},{e.y1} {e.x5},{e.y2} {e.x3},0 z",height:17.5,width:17.5,heightElements:[8.5,6.5312,-6.5312,-8.5],widthElements:[6.5,-6.5,3,-3,5,-5]},GATEWAY_PARALLEL:{d:"m {mx},{my} 0,{e.y1} -{e.x1},0 0,{e.y0} {e.x1},0 0,{e.y1} {e.x0},0 0,-{e.y1} {e.x1},0 0,-{e.y0} -{e.x1},0 0,-{e.y1} -{e.x0},0 z",height:30,width:30,heightElements:[5,12.5],widthElements:[5,12.5]},GATEWAY_EVENT_BASED:{d:"m {mx},{my} {e.x0},{e.y0} {e.x0},{e.y1} {e.x1},{e.y2} {e.x2},0 z",height:11,width:11,heightElements:[-6,6,12,-12],widthElements:[9,-3,-12]},GATEWAY_COMPLEX:{d:"m {mx},{my} 0,{e.y0} -{e.x0},-{e.y1} -{e.x1},{e.y2} {e.x0},{e.y1} -{e.x2},0 0,{e.y3} {e.x2},0  -{e.x0},{e.y1} l {e.x1},{e.y2} {e.x0},-{e.y1} 0,{e.y0} {e.x3},0 0,-{e.y0} {e.x0},{e.y1} {e.x1},-{e.y2} -{e.x0},-{e.y1} {e.x2},0 0,-{e.y3} -{e.x2},0 {e.x0},-{e.y1} -{e.x1},-{e.y2} -{e.x0},{e.y1} 0,-{e.y0} -{e.x3},0 z",height:17.125,width:17.125,heightElements:[4.875,3.4375,2.125,3],widthElements:[3.4375,2.125,4.875,3]},DATA_OBJECT_PATH:{d:"m 0,0 {e.x1},0 {e.x0},{e.y0} 0,{e.y1} -{e.x2},0 0,-{e.y2} {e.x1},0 0,{e.y0} {e.x0},0",height:61,width:51,heightElements:[10,50,60],widthElements:[10,40,50,60]},DATA_OBJECT_COLLECTION_PATH:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},DATA_ARROW:{d:"m 5,9 9,0 0,-3 5,5 -5,5 0,-3 -9,0 z",height:61,width:51,heightElements:[],widthElements:[]},DATA_STORE:{d:"m  {mx},{my} l  0,{e.y2} c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 l  0,-{e.y2} c -{e.x0},-{e.y1} -{e.x1},-{e.y1} -{e.x2},0c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0 m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1} {e.x2},0m  -{e.x2},{e.y0}c  {e.x0},{e.y1} {e.x1},{e.y1}  {e.x2},0",height:61,width:61,heightElements:[7,10,45],widthElements:[2,58,60]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",height:30,width:10,heightElements:[30],widthElements:[10]},MARKER_SUB_PROCESS:{d:"m{mx},{my} m 7,2 l 0,10 m -5,-5 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_PARALLEL:{d:"m{mx},{my} m 3,2 l 0,10 m 3,-10 l 0,10 m 3,-10 l 0,10",height:10,width:10,heightElements:[],widthElements:[]},MARKER_SEQUENTIAL:{d:"m{mx},{my} m 0,3 l 10,0 m -10,3 l 10,0 m -10,3 l 10,0",height:10,width:10,heightElements:[],widthElements:[]},MARKER_COMPENSATION:{d:"m {mx},{my} 7,-5 0,10 z m 7.1,-0.3 6.9,-4.7 0,10 -6.9,-4.7 z",height:10,width:21,heightElements:[],widthElements:[]},MARKER_LOOP:{d:"m {mx},{my} c 3.526979,0 6.386161,-2.829858 6.386161,-6.320661 0,-3.490806 -2.859182,-6.320661 -6.386161,-6.320661 -3.526978,0 -6.38616,2.829855 -6.38616,6.320661 0,1.745402 0.714797,3.325567 1.870463,4.469381 0.577834,0.571908 1.265885,1.034728 2.029916,1.35457 l -0.718163,-3.909793 m 0.718163,3.909793 -3.885211,0.802902",height:13.9,width:13.7,heightElements:[],widthElements:[]},MARKER_ADHOC:{d:"m {mx},{my} m 0.84461,2.64411 c 1.05533,-1.23780996 2.64337,-2.07882 4.29653,-1.97997996 2.05163,0.0805 3.85579,1.15803 5.76082,1.79107 1.06385,0.34139996 2.24454,0.1438 3.18759,-0.43767 0.61743,-0.33642 1.2775,-0.64078 1.7542,-1.17511 0,0.56023 0,1.12046 0,1.6807 -0.98706,0.96237996 -2.29792,1.62393996 -3.6918,1.66181996 -1.24459,0.0927 -2.46671,-0.2491 -3.59505,-0.74812 -1.35789,-0.55965 -2.75133,-1.33436996 -4.27027,-1.18121996 -1.37741,0.14601 -2.41842,1.13685996 -3.44288,1.96782996 z",height:4,width:15,heightElements:[],widthElements:[]},TASK_TYPE_SEND:{d:"m {mx},{my} l 0,{e.y1} l {e.x1},0 l 0,-{e.y1} z l {e.x0},{e.y0} l {e.x0},-{e.y0}",height:14,width:21,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_SCRIPT:{d:"m {mx},{my} c 9.966553,-6.27276 -8.000926,-7.91932 2.968968,-14.938 l -8.802728,0 c -10.969894,7.01868 6.997585,8.66524 -2.968967,14.938 z m -7,-12 l 5,0 m -4.5,3 l 4.5,0 m -3,3 l 5,0m -4,3 l 5,0",height:15,width:12.6,heightElements:[6,14],widthElements:[10.5,21]},TASK_TYPE_USER_1:{d:"m {mx},{my} c 0.909,-0.845 1.594,-2.049 1.594,-3.385 0,-2.554 -1.805,-4.62199999 -4.357,-4.62199999 -2.55199998,0 -4.28799998,2.06799999 -4.28799998,4.62199999 0,1.348 0.974,2.562 1.89599998,3.405 -0.52899998,0.187 -5.669,2.097 -5.794,4.7560005 v 6.718 h 17 v -6.718 c 0,-2.2980005 -5.5279996,-4.5950005 -6.0509996,-4.7760005 zm -8,6 l 0,5.5 m 11,0 l 0,-5"},TASK_TYPE_USER_2:{d:"m {mx},{my} m 2.162,1.009 c 0,2.4470005 -2.158,4.4310005 -4.821,4.4310005 -2.66499998,0 -4.822,-1.981 -4.822,-4.4310005 "},TASK_TYPE_USER_3:{d:"m {mx},{my} m -6.9,-3.80 c 0,0 2.25099998,-2.358 4.27399998,-1.177 2.024,1.181 4.221,1.537 4.124,0.965 -0.098,-0.57 -0.117,-3.79099999 -4.191,-4.13599999 -3.57499998,0.001 -4.20799998,3.36699999 -4.20699998,4.34799999 z"},TASK_TYPE_MANUAL:{d:"m {mx},{my} c 0.234,-0.01 5.604,0.008 8.029,0.004 0.808,0 1.271,-0.172 1.417,-0.752 0.227,-0.898 -0.334,-1.314 -1.338,-1.316 -2.467,-0.01 -7.886,-0.004 -8.108,-0.004 -0.014,-0.079 0.016,-0.533 0,-0.61 0.195,-0.042 8.507,0.006 9.616,0.002 0.877,-0.007 1.35,-0.438 1.353,-1.208 0.003,-0.768 -0.479,-1.09 -1.35,-1.091 -2.968,-0.002 -9.619,-0.013 -9.619,-0.013 v -0.591 c 0,0 5.052,-0.016 7.225,-0.016 0.888,-0.002 1.354,-0.416 1.351,-1.193 -0.006,-0.761 -0.492,-1.196 -1.361,-1.196 -3.473,-0.005 -10.86,-0.003 -11.0829995,-0.003 -0.022,-0.047 -0.045,-0.094 -0.069,-0.139 0.3939995,-0.319 2.0409995,-1.626 2.4149995,-2.017 0.469,-0.4870005 0.519,-1.1650005 0.162,-1.6040005 -0.414,-0.511 -0.973,-0.5 -1.48,-0.236 -1.4609995,0.764 -6.5999995,3.6430005 -7.7329995,4.2710005 -0.9,0.499 -1.516,1.253 -1.882,2.19 -0.37000002,0.95 -0.17,2.01 -0.166,2.979 0.004,0.718 -0.27300002,1.345 -0.055,2.063 0.629,2.087 2.425,3.312 4.859,3.318 4.6179995,0.014 9.2379995,-0.139 13.8569995,-0.158 0.755,-0.004 1.171,-0.301 1.182,-1.033 0.012,-0.754 -0.423,-0.969 -1.183,-0.973 -1.778,-0.01 -5.824,-0.004 -6.04,-0.004 10e-4,-0.084 0.003,-0.586 10e-4,-0.67 z"},TASK_TYPE_INSTANTIATING_SEND:{d:"m {mx},{my} l 0,8.4 l 12.6,0 l 0,-8.4 z l 6.3,3.6 l 6.3,-3.6"},TASK_TYPE_SERVICE:{d:"m {mx},{my} v -1.71335 c 0.352326,-0.0705 0.703932,-0.17838 1.047628,-0.32133 0.344416,-0.14465 0.665822,-0.32133 0.966377,-0.52145 l 1.19431,1.18005 1.567487,-1.57688 -1.195028,-1.18014 c 0.403376,-0.61394 0.683079,-1.29908 0.825447,-2.01824 l 1.622133,-0.01 v -2.2196 l -1.636514,0.01 c -0.07333,-0.35153 -0.178319,-0.70024 -0.323564,-1.04372 -0.145244,-0.34406 -0.321407,-0.6644 -0.522735,-0.96217 l 1.131035,-1.13631 -1.583305,-1.56293 -1.129598,1.13589 c -0.614052,-0.40108 -1.302883,-0.68093 -2.022633,-0.82247 l 0.0093,-1.61852 h -2.241173 l 0.0042,1.63124 c -0.353763,0.0736 -0.705369,0.17977 -1.049785,0.32371 -0.344415,0.14437 -0.665102,0.32092 -0.9635006,0.52046 l -1.1698628,-1.15823 -1.5667691,1.5792 1.1684265,1.15669 c -0.4026573,0.61283 -0.68308,1.29797 -0.8247287,2.01713 l -1.6588041,0.003 v 2.22174 l 1.6724648,-0.006 c 0.073327,0.35077 0.1797598,0.70243 0.3242851,1.04472 0.1452428,0.34448 0.3214064,0.6644 0.5227339,0.96066 l -1.1993431,1.19723 1.5840256,1.56011 1.1964668,-1.19348 c 0.6140517,0.40346 1.3028827,0.68232 2.0233517,0.82331 l 7.19e-4,1.69892 h 2.226848 z m 0.221462,-3.9957 c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_SERVICE_FILL:{d:"m {mx},{my} c -1.788948,0.7502 -3.8576,-0.0928 -4.6097055,-1.87438 -0.7521065,-1.78321 0.090598,-3.84627 1.8802645,-4.59604 1.78823,-0.74936 3.856881,0.0929 4.608987,1.87437 0.752106,1.78165 -0.0906,3.84612 -1.879546,4.59605 z"},TASK_TYPE_BUSINESS_RULE_HEADER:{d:"m {mx},{my} 0,4 20,0 0,-4 z"},TASK_TYPE_BUSINESS_RULE_MAIN:{d:"m {mx},{my} 0,12 20,0 0,-12 zm 0,8 l 20,0 m -13,-4 l 0,8"},MESSAGE_FLOW_MARKER:{d:"m {mx},{my} m -10.5 ,-7 l 0,14 l 21,0 l 0,-14 z l 10.5,6 l 10.5,-6"}},this.getRawPath=function(t){return this.pathMap[t].d},this.getScaledPath=function(t,n){var i=this.pathMap[t],r,a;n.abspos?(r=n.abspos.x,a=n.abspos.y):(r=n.containerWidth*n.position.mx,a=n.containerHeight*n.position.my);var s={};if(n.position){for(var l=n.containerHeight/i.height*n.yScaleFactor,u=n.containerWidth/i.width*n.xScaleFactor,f=0;f<i.heightElements.length;f++)s["y"+f]=i.heightElements[f]*l;for(var p=0;p<i.widthElements.length;p++)s["x"+p]=i.widthElements[p]*u}var d=T7(i.d,{mx:r,my:a,e:s});return d}}var A7=/\{([^{}]+)\}/g,N7=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;function C7(e,t,n){var i=n;return t.replace(N7,function(r,a,s,l,u){a=a||l,i&&(a in i&&(i=i[a]),typeof i=="function"&&u&&(i=i()))}),i=(i==null||i==n?e:i)+"",i}function T7(e,t){return String(e).replace(A7,function(n,i){return C7(n,i,t)})}const R7={__init__:["bpmnRenderer"],bpmnRenderer:["type",rh],textRenderer:["type",gA],pathMap:["type",S7]};function M7(e,t){return t=t||{},e.replace(/{([^}]+)}/g,function(n,i){return t[i]||"{"+i+"}"})}const Sy={translate:["value",M7]};function Mv(e,t,n){return Ne({id:e.id,type:e.$type,businessObject:e,di:t},n)}function P7(e,t,n){var i=e.waypoint;return!i||i.length<2?[Ct(t),Ct(n)]:i.map(function(r){return{x:r.x,y:r.y}})}function vA(e,t,n){return new Error(`element ${zr(t)} referenced by ${zr(e)}#${n} not yet drawn`)}function hc(e,t,n,i,r){this._eventBus=e,this._canvas=t,this._elementFactory=n,this._elementRegistry=i,this._textRenderer=r}hc.$inject=["eventBus","canvas","elementFactory","elementRegistry","textRenderer"];hc.prototype.add=function(e,t,n){var i,r,a;if(U(t,"bpmndi:BPMNPlane")){var s=U(e,"bpmn:SubProcess")?{id:e.id+"_plane"}:{};i=this._elementFactory.createRoot(Mv(e,t,s)),this._canvas.addRootElement(i)}else if(U(t,"bpmndi:BPMNShape")){var l=!Jt(e,t),u=D7(e);r=n&&(n.hidden||n.collapsed);var f=t.bounds;i=this._elementFactory.createShape(Mv(e,t,{collapsed:l,hidden:r,x:Math.round(f.x),y:Math.round(f.y),width:Math.round(f.width),height:Math.round(f.height),isFrame:u})),U(e,"bpmn:BoundaryEvent")&&this._attachBoundary(e,i),U(e,"bpmn:Lane")&&(a=0),U(e,"bpmn:DataStoreReference")&&(L7(n,Ct(f))||(n=this._canvas.findRoot(n))),this._canvas.addShape(i,n,a)}else if(U(t,"bpmndi:BPMNEdge")){var p=this._getSource(e),d=this._getTarget(e);r=n&&(n.hidden||n.collapsed),i=this._elementFactory.createConnection(Mv(e,t,{hidden:r,source:p,target:d,waypoints:P7(t,p,d)})),U(e,"bpmn:DataAssociation")&&(n=this._canvas.findRoot(n)),this._canvas.addConnection(i,n,a)}else throw new Error(`unknown di ${zr(t)} for element ${zr(e)}`);return Zf(e)&&bs(i)&&this.addLabel(e,t,i),this._eventBus.fire("bpmnElement.added",{element:i}),i};hc.prototype._attachBoundary=function(e,t){var n=e.attachedToRef;if(!n)throw new Error(`missing ${zr(e)}#attachedToRef`);var i=this._elementRegistry.get(n.id),r=i&&i.attachers;if(!i)throw vA(e,n,"attachedToRef");t.host=i,r||(i.attachers=r=[]),r.indexOf(t)===-1&&r.push(t)};hc.prototype.addLabel=function(e,t,n){var i,r,a;return i=XP(t,n),r=bs(n),r&&(i=this._textRenderer.getExternalLabelBounds(i,r)),a=this._elementFactory.createLabel(Mv(e,t,{id:e.id+"_label",labelTarget:n,type:"label",hidden:n.hidden||!bs(n),x:Math.round(i.x),y:Math.round(i.y),width:Math.round(i.width),height:Math.round(i.height)})),this._canvas.addShape(a,n.parent)};hc.prototype._getConnectedElement=function(e,t){var n,i,r=e.$type;if(i=e[t+"Ref"],t==="source"&&r==="bpmn:DataInputAssociation"&&(i=i&&i[0]),(t==="source"&&r==="bpmn:DataOutputAssociation"||t==="target"&&r==="bpmn:DataInputAssociation")&&(i=e.$parent),n=i&&this._getElement(i),n)return n;throw i?vA(e,i,t+"Ref"):new Error(`${zr(e)}#${t} Ref not specified`)};hc.prototype._getSource=function(e){return this._getConnectedElement(e,"source")};hc.prototype._getTarget=function(e){return this._getConnectedElement(e,"target")};hc.prototype._getElement=function(e){return this._elementRegistry.get(e.id)};function L7(e,t){var n=t.x,i=t.y;return n>=e.x&&n<=e.x+e.width&&i>=e.y&&i<=e.y+e.height}function D7(e){return U(e,"bpmn:Group")}const O7={__depends__:[Sy],bpmnImporter:["type",hc]},B7={__depends__:[R7,O7]};function Am(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(Math.random()*1e9)+"-"}Am.prototype.next=function(){return this._prefix+ ++this._counter};var k7=new Am("ov"),j7=500;function wr(e,t,n,i){this._eventBus=t,this._canvas=n,this._elementRegistry=i,this._ids=k7,this._overlayDefaults=Ne({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=I7(n.getContainer()),this._init()}wr.$inject=["config.overlays","eventBus","canvas","elementRegistry"];wr.prototype.get=function(e){if(Ia(e)&&(e={id:e}),Ia(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?Yt(t.overlays,gs({type:e.type})):t.overlays.slice():[]}else return e.type?Yt(this._overlays,gs({type:e.type})):e.id?this._overlays[e.id]:null};wr.prototype.add=function(e,t,n){if(_r(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var i=this._ids.next();return n=Ne({},this._overlayDefaults,n,{id:i,type:t,element:e,html:n.html}),this._addOverlay(n),i};wr.prototype.remove=function(e){var t=this.get(e)||[];Tt(t)||(t=[t]);var n=this;ve(t,function(i){var r=n._getOverlayContainer(i.element,!0);if(i&&(gl(i.html),gl(i.htmlContainer),delete i.htmlContainer,delete i.element,delete n._overlays[i.id]),r){var a=r.overlays.indexOf(i);a!==-1&&r.overlays.splice(a,1)}})};wr.prototype.isShown=function(){return this._overlayRoot.style.display!=="none"};wr.prototype.show=function(){Ay(this._overlayRoot)};wr.prototype.hide=function(){Ay(this._overlayRoot,!1)};wr.prototype.clear=function(){this._overlays={},this._overlayContainers=[],dy(this._overlayRoot)};wr.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,i=t.x,r=t.y;if(t.waypoints){var a=Ji(t);i=a.x,r=a.y}yA(n,i,r),Ur(e.html,"data-container-id",t.id)};wr.prototype._updateOverlay=function(e){var t=e.position,n=e.htmlContainer,i=e.element,r=t.left,a=t.top;if(t.right!==void 0){var s;i.waypoints?s=Ji(i).width:s=i.width,r=t.right*-1+s}if(t.bottom!==void 0){var l;i.waypoints?l=Ji(i).height:l=i.height,a=t.bottom*-1+l}yA(n,r||0,a||0),this._updateOverlayVisibilty(e,this._canvas.viewbox())};wr.prototype._createOverlayContainer=function(e){var t=Zt('<div class="djs-overlays" />');Hr(t,{position:"absolute"}),this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n};wr.prototype._updateRoot=function(e){var t=e.scale||1,n="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";bA(this._overlayRoot,n)};wr.prototype._getOverlayContainer=function(e,t){var n=mn(this._overlayContainers,function(i){return i.element===e});return!n&&!t?this._createOverlayContainer(e):n};wr.prototype._addOverlay=function(e){var t=e.id,n=e.element,i=e.html,r,a;i.get&&i.constructor.prototype.jquery&&(i=i.get(0)),Ia(i)&&(i=Zt(i)),a=this._getOverlayContainer(n),r=Zt('<div class="djs-overlay" data-overlay-id="'+t+'">'),Hr(r,{position:"absolute"}),r.appendChild(i),e.type&&gi(r).add("djs-overlay-"+e.type);var s=this._canvas.findRoot(n),l=this._canvas.getRootElement();Ay(r,s===l),e.htmlContainer=r,a.overlays.push(e),a.html.appendChild(r),this._overlays[t]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())};wr.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,i=this._canvas.findRoot(e.element),r=n&&n.minZoom,a=n&&n.maxZoom,s=e.htmlContainer,l=this._canvas.getRootElement(),u=!0;(i!==l||n&&(br(r)&&r>t.scale||br(a)&&a<t.scale))&&(u=!1),Ay(s,u),this._updateOverlayScale(e,t)};wr.prototype._updateOverlayScale=function(e,t){var n=e.scale,i,r,a=e.htmlContainer,s,l="";n!==!0&&(n===!1?(i=1,r=1):(i=n.min,r=n.max),br(i)&&t.scale<i&&(s=(1/t.scale||1)*i),br(r)&&t.scale>r&&(s=(1/t.scale||1)*r)),br(s)&&(l="scale("+s+","+s+")"),bA(a,l)};wr.prototype._updateOverlaysVisibilty=function(e){var t=this;ve(this._overlays,function(n){t._updateOverlayVisibilty(n,e)})};wr.prototype._init=function(){var e=this._eventBus,t=this;function n(i){t._updateRoot(i),t._updateOverlaysVisibilty(i),t.show()}e.on("canvas.viewbox.changing",function(i){t.hide()}),e.on("canvas.viewbox.changed",function(i){n(i.viewbox)}),e.on(["shape.remove","connection.remove"],function(i){var r=i.element,a=t.get({element:r});ve(a,function(u){t.remove(u.id)});var s=t._getOverlayContainer(r);if(s){gl(s.html);var l=t._overlayContainers.indexOf(s);l!==-1&&t._overlayContainers.splice(l,1)}}),e.on("element.changed",j7,function(i){var r=i.element,a=t._getOverlayContainer(r,!0);a&&(ve(a.overlays,function(s){t._updateOverlay(s)}),t._updateOverlayContainer(a))}),e.on("element.marker.update",function(i){var r=t._getOverlayContainer(i.element,!0);r&&gi(r.html)[i.add?"add":"remove"](i.marker)}),e.on("root.set",function(){t._updateOverlaysVisibilty(t._canvas.viewbox())}),e.on("diagram.clear",this.clear,this)};function I7(e){var t=Zt('<div class="djs-overlay-container" />');return Hr(t,{position:"absolute",width:0,height:0}),e.insertBefore(t,e.firstChild),t}function yA(e,t,n){Hr(e,{left:t+"px",top:n+"px"})}function Ay(e,t){e.style.display=t===!1?"none":""}function bA(e,t){e.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(n){e.style[n+"transform"]=t})}const Ny={__init__:["overlays"],overlays:["type",wr]};function _A(e,t,n,i){e.on("element.changed",function(r){var a=r.element;(a.parent||a===t.getRootElement())&&(r.gfx=n.getGraphics(a)),r.gfx&&e.fire(L4(a)+".changed",r)}),e.on("elements.changed",function(r){var a=r.elements;a.forEach(function(s){e.fire("element.changed",{element:s})}),i.updateContainments(a)}),e.on("shape.changed",function(r){i.update("shape",r.element,r.gfx)}),e.on("connection.changed",function(r){i.update("connection",r.element,r.gfx)})}_A.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const Db={__init__:["changeSupport"],changeSupport:["type",_A]};var F7=1e3;function tt(e){this._eventBus=e}tt.$inject=["eventBus"];function z7(e,t){return function(n){return e.call(t||null,n.context,n.command,n)}}tt.prototype.on=function(e,t,n,i,r,a){if((fr(t)||Nt(t))&&(a=r,r=i,i=n,n=t,t=null),fr(n)&&(a=r,r=i,i=n,n=F7),_r(r)&&(a=r,r=!1),!fr(i))throw new Error("handlerFn must be a function");Tt(e)||(e=[e]);var s=this._eventBus;ve(e,function(l){var u=["commandStack",l,t].filter(function(f){return f}).join(".");s.on(u,n,r?z7(i,a):i,a)})};tt.prototype.canExecute=pc("canExecute");tt.prototype.preExecute=pc("preExecute");tt.prototype.preExecuted=pc("preExecuted");tt.prototype.execute=pc("execute");tt.prototype.executed=pc("executed");tt.prototype.postExecute=pc("postExecute");tt.prototype.postExecuted=pc("postExecuted");tt.prototype.revert=pc("revert");tt.prototype.reverted=pc("reverted");function pc(e){return function(n,i,r,a,s){(fr(n)||Nt(n))&&(s=a,a=r,r=i,i=n,n=null),this.on(n,e,i,r,a,s)}}function Ob(e,t){t.invoke(tt,this),this.executed(function(n){var i=n.context;i.rootElement?e.setRootElement(i.rootElement):i.rootElement=e.getRootElement()}),this.revert(function(n){var i=n.context;i.rootElement&&e.setRootElement(i.rootElement)})}dt(Ob,tt);Ob.$inject=["canvas","injector"];const H7={__init__:["rootElementsBehavior"],rootElementsBehavior:["type",Ob]};function lm(e){return CSS.escape(e)}var U7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function yu(e){return e=""+e,e&&e.replace(/[&<>"']/g,function(t){return U7[t]})}var wA="_plane";function Gx(e){var t=e.id;return q7(t)}function rc(e){var t=e.id;return U(e,"bpmn:SubProcess")?xA(t):t}function Bf(e){return xA(e)}function Pv(e){var t=hn(e);return U(t,"bpmndi:BPMNPlane")}function xA(e){return e+wA}function q7(e){return e.replace(new RegExp(wA+"$"),"")}var V7="bjs-breadcrumbs-shown";function EA(e,t,n){var i=Zt('<ul class="bjs-breadcrumbs"></ul>'),r=n.getContainer(),a=gi(r);r.appendChild(i);var s=[];e.on("element.changed",function(u){var f=u.element,p=rt(f),d=mn(s,function(v){return v===p});d&&l()});function l(u){u&&(s=$7(u));var f=s.flatMap(function(d){var v=n.findRoot(rc(d))||n.findRoot(d.id);if(!v&&U(d,"bpmn:Process")){var g=t.find(function(E){var R=rt(E);return R&&R.get("processRef")===d});v=g&&n.findRoot(g.id)}if(!v)return[];var w=yu(d.name||d.id),x=Zt('<li><span class="bjs-crumb"><a title="'+w+'">'+w+"</a></span></li>");return x.addEventListener("click",function(){n.setRootElement(v)}),x});i.innerHTML="";var p=f.length>1;a.toggle(V7,p),f.forEach(function(d){i.appendChild(d)})}e.on("root.set",function(u){l(u.element)})}EA.$inject=["eventBus","elementRegistry","canvas"];function $7(e){for(var t=rt(e),n=[],i=t;i;i=i.$parent)(U(i,"bpmn:SubProcess")||U(i,"bpmn:Process"))&&n.push(i);return n.reverse()}function SA(e,t){var n=null,i=new G7;e.on("root.set",function(r){var a=r.element,s=t.viewbox(),l=i.get(a);if(i.set(n,{x:s.x,y:s.y,zoom:s.scale}),n=a,!(!U(a,"bpmn:SubProcess")&&!l)){l=l||{x:0,y:0,zoom:1};var u=(s.x-l.x)*s.scale,f=(s.y-l.y)*s.scale;(u!==0||f!==0)&&t.scroll({dx:u,dy:f}),l.zoom!==s.scale&&t.zoom(l.zoom,{x:0,y:0})}}),e.on("diagram.clear",function(){i.clear(),n=null})}SA.$inject=["eventBus","canvas"];function G7(){this._entries=[],this.set=function(e,t){var n=!1;for(var i in this._entries)if(this._entries[i][0]===e){this._entries[i][1]=t,n=!0;break}n||this._entries.push([e,t])},this.get=function(e){for(var t in this._entries)if(this._entries[t][0]===e)return this._entries[t][1];return null},this.clear=function(){this._entries.length=0},this.remove=function(e){var t=-1;for(var n in this._entries)if(this._entries[n][0]===e){t=n;break}t!==-1&&this._entries.splice(t,1)}}var Yx={x:180,y:160};function ah(e,t){this._eventBus=e,this._moddle=t;var n=this;e.on("import.render.start",1500,function(i,r){n._handleImport(r.definitions)})}ah.prototype._handleImport=function(e){if(e.diagrams){var t=this;this._definitions=e,this._processToDiagramMap={},e.diagrams.forEach(function(i){!i.plane||!i.plane.bpmnElement||(t._processToDiagramMap[i.plane.bpmnElement.id]=i)});var n=e.diagrams.filter(i=>i.plane).flatMap(i=>t._createNewDiagrams(i.plane));n.forEach(function(i){t._movePlaneElementsToOrigin(i.plane)})}};ah.prototype._createNewDiagrams=function(e){var t=this,n=[],i=[];e.get("planeElement").forEach(function(a){var s=a.bpmnElement;if(s){var l=s.$parent;U(s,"bpmn:SubProcess")&&!a.isExpanded&&n.push(s),W7(s,e)&&i.push({diElement:a,parent:l})}});var r=[];return n.forEach(function(a){if(!t._processToDiagramMap[a.id]){var s=t._createDiagram(a);t._processToDiagramMap[a.id]=s,r.push(s)}}),i.forEach(function(a){for(var s=a.diElement,l=a.parent;l&&n.indexOf(l)===-1;)l=l.$parent;if(l){var u=t._processToDiagramMap[l.id];t._moveToDiPlane(s,u.plane)}}),r};ah.prototype._movePlaneElementsToOrigin=function(e){var t=e.get("planeElement"),n=Y7(e),i={x:n.x-Yx.x,y:n.y-Yx.y};t.forEach(function(r){r.waypoint?r.waypoint.forEach(function(a){a.x=a.x-i.x,a.y=a.y-i.y}):r.bounds&&(r.bounds.x=r.bounds.x-i.x,r.bounds.y=r.bounds.y-i.y)})};ah.prototype._moveToDiPlane=function(e,t){var n=AA(e),i=n.plane.get("planeElement");i.splice(i.indexOf(e),1),t.get("planeElement").push(e)};ah.prototype._createDiagram=function(e){var t=this._moddle.create("bpmndi:BPMNPlane",{bpmnElement:e}),n=this._moddle.create("bpmndi:BPMNDiagram",{plane:t});return t.$parent=n,t.bpmnElement=e,n.$parent=this._definitions,this._definitions.diagrams.push(n),n};ah.$inject=["eventBus","moddle"];function AA(e){return U(e,"bpmndi:BPMNDiagram")?e:AA(e.$parent)}function Y7(e){var t={top:1/0,right:-1/0,bottom:-1/0,left:1/0};return e.planeElement.forEach(function(n){if(n.bounds){var i=_t(n.bounds);t.top=Math.min(i.top,t.top),t.left=Math.min(i.left,t.left)}}),yy(t)}function W7(e,t){var n=e.$parent;return!(!U(n,"bpmn:SubProcess")||n===t.bpmnElement||Wt(e,["bpmn:DataInputAssociation","bpmn:DataOutputAssociation"]))}var Zg=250,X7='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.81801948,3.50735931 L10.4996894,9.1896894 L10.5,4 L12,4 L12,12 L4,12 L4,10.5 L9.6896894,10.4996894 L3.75735931,4.56801948 C3.46446609,4.27512627 3.46446609,3.80025253 3.75735931,3.50735931 C4.05025253,3.21446609 4.52512627,3.21446609 4.81801948,3.50735931 Z"/></svg>',K7="bjs-drilldown-empty";function ku(e,t,n,i,r){tt.call(this,t),this._canvas=e,this._eventBus=t,this._elementRegistry=n,this._overlays=i,this._translate=r;var a=this;this.executed("shape.toggleCollapse",Zg,function(s){var l=s.shape;a._canDrillDown(l)?a._addOverlay(l):a._removeOverlay(l)},!0),this.reverted("shape.toggleCollapse",Zg,function(s){var l=s.shape;a._canDrillDown(l)?a._addOverlay(l):a._removeOverlay(l)},!0),this.executed(["shape.create","shape.move","shape.delete"],Zg,function(s){var l=s.oldParent,u=s.newParent||s.parent,f=s.shape;a._canDrillDown(f)&&a._addOverlay(f),a._updateDrilldownOverlay(l),a._updateDrilldownOverlay(u),a._updateDrilldownOverlay(f)},!0),this.reverted(["shape.create","shape.move","shape.delete"],Zg,function(s){var l=s.oldParent,u=s.newParent||s.parent,f=s.shape;a._canDrillDown(f)&&a._addOverlay(f),a._updateDrilldownOverlay(l),a._updateDrilldownOverlay(u),a._updateDrilldownOverlay(f)},!0),t.on("import.render.complete",function(){n.filter(function(s){return a._canDrillDown(s)}).map(function(s){a._addOverlay(s)})})}dt(ku,tt);ku.prototype._updateDrilldownOverlay=function(e){var t=this._canvas;if(e){var n=t.findRoot(e);n&&this._updateOverlayVisibility(n)}};ku.prototype._canDrillDown=function(e){var t=this._canvas;return U(e,"bpmn:SubProcess")&&t.findRoot(rc(e))};ku.prototype._updateOverlayVisibility=function(e){var t=this._overlays,n=rt(e),i=t.get({element:n.id,type:"drilldown"})[0];if(i){var r=n&&n.get("flowElements")&&n.get("flowElements").length;gi(i.html).toggle(K7,!r)}};ku.prototype._addOverlay=function(e){var t=this._canvas,n=this._overlays,i=rt(e),r=n.get({element:e,type:"drilldown"});r.length&&this._removeOverlay(e);var a=Zt('<button type="button" class="bjs-drilldown">'+X7+"</button>"),s=i.get("name")||i.get("id"),l=this._translate("Open {element}",{element:s});a.setAttribute("title",l),a.addEventListener("click",function(){t.setRootElement(t.findRoot(rc(e)))}),n.add(e,"drilldown",{position:{bottom:-7,right:-8},html:a}),this._updateOverlayVisibility(e)};ku.prototype._removeOverlay=function(e){var t=this._overlays;t.remove({element:e,type:"drilldown"})};ku.$inject=["canvas","eventBus","elementRegistry","overlays","translate"];const Z7={__depends__:[Ny,Db,H7],__init__:["drilldownBreadcrumbs","drilldownOverlayBehavior","drilldownCentering","subprocessCompatibility"],drilldownBreadcrumbs:["type",EA],drilldownCentering:["type",SA],drilldownOverlayBehavior:["type",ku],subprocessCompatibility:["type",ah]};function Wx(e){!e||typeof e.stopPropagation!="function"||e.stopPropagation()}function Lp(e){return e.originalEvent||e.srcEvent}function B1(e){Wx(e),Wx(Lp(e))}function Qf(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}function NA(){return/mac/i.test(navigator.platform)}function CA(e,t){return(Lp(e)||e).button===t}function ju(e){return CA(e,0)}function Q7(e){return CA(e,1)}function cm(e){var t=Lp(e)||e;return ju(e)?NA()?t.metaKey:t.ctrlKey:!1}function Qv(e){var t=Lp(e)||e;return ju(e)&&t.shiftKey}function J7(e){return!0}function Qg(e){return ju(e)||Q7(e)}var Xx=500;function TA(e,t,n){var i=this;function r(z,ie,le){if(!l(z,ie)){var H,j,ae;le?j=t.getGraphics(le):(H=ie.delegateTarget||ie.target,H&&(j=H,le=t.get(j))),!(!j||!le)&&(ae=e.fire(z,{element:le,gfx:j,originalEvent:ie}),ae===!1&&(ie.stopPropagation(),ie.preventDefault()))}}var a={};function s(z){return a[z]}function l(z,ie){var le=f[z]||ju;return!le(ie)}var u={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},f={"element.contextmenu":J7,"element.mousedown":Qg,"element.mouseup":Qg,"element.click":Qg,"element.dblclick":Qg};function p(z,ie,le){var H=u[z];if(!H)throw new Error("unmapped DOM event name <"+z+">");return r(H,ie,le)}var d="svg, .djs-element";function v(z,ie,le,H){var j=a[le]=function(ae){r(le,ae)};H&&(f[le]=H),j.$delegate=ja.bind(z,d,ie,j)}function g(z,ie,le){var H=s(le);H&&ja.unbind(z,ie,H.$delegate)}function w(z){ve(u,function(ie,le){v(z,le,ie)})}function x(z){ve(u,function(ie,le){g(z,le,ie)})}e.on("canvas.destroy",function(z){x(z.svg)}),e.on("canvas.init",function(z){w(z.svg)}),e.on(["shape.added","connection.added"],function(z){var ie=z.element,le=z.gfx;e.fire("interactionEvents.createHit",{element:ie,gfx:le})}),e.on(["shape.changed","connection.changed"],Xx,function(z){var ie=z.element,le=z.gfx;e.fire("interactionEvents.updateHit",{element:ie,gfx:le})}),e.on("interactionEvents.createHit",Xx,function(z){var ie=z.element,le=z.gfx;i.createDefaultHit(ie,le)}),e.on("interactionEvents.updateHit",function(z){var ie=z.element,le=z.gfx;i.updateDefaultHit(ie,le)});var E=k("djs-hit djs-hit-stroke"),R=k("djs-hit djs-hit-click-stroke"),L=k("djs-hit djs-hit-all"),M=k("djs-hit djs-hit-no-move"),P={all:L,"click-stroke":R,stroke:E,"no-move":M};function k(z,ie){return ie=Ne({stroke:"white",strokeWidth:15},ie||{}),n.cls(z,["no-fill","no-border"],ie)}function W(z,ie){var le=P[ie];if(!le)throw new Error("invalid hit type <"+ie+">");return ft(z,le),z}function Q(z,ie){Mt(z,ie)}this.removeHits=function(z){var ie=b2(".djs-hit",z);ve(ie,Qi)},this.createDefaultHit=function(z,ie){var le=z.waypoints,H=z.isFrame,j;return le?this.createWaypointsHit(ie,le):(j=H?"stroke":"all",this.createBoxHit(ie,j,{width:z.width,height:z.height}))},this.createWaypointsHit=function(z,ie){var le=gy(ie);return W(le,"stroke"),Q(z,le),le},this.createBoxHit=function(z,ie,le){le=Ne({x:0,y:0},le);var H=yt("rect");return W(H,ie),ft(H,le),Q(z,H),H},this.updateDefaultHit=function(z,ie){var le=Pn(".djs-hit",ie);if(le)return z.waypoints?R4(le,z.waypoints):ft(le,{width:z.width,height:z.height}),le},this.fire=r,this.triggerMouseEvent=p,this.mouseHandler=s,this.registerEvent=v,this.unregisterEvent=g}TA.$inject=["eventBus","elementRegistry","styles"];const Cy={__init__:["interactionEvents"],interactionEvents:["type",TA]};function Dp(e,t){this._eventBus=e,this._canvas=t,this._selectedElements=[];var n=this;e.on(["shape.remove","connection.remove"],function(i){var r=i.element;n.deselect(r)}),e.on(["diagram.clear","root.set"],function(i){n.select(null)})}Dp.$inject=["eventBus","canvas"];Dp.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(n!==-1){var i=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:t})}};Dp.prototype.get=function(){return this._selectedElements};Dp.prototype.isSelected=function(e){return this._selectedElements.indexOf(e)!==-1};Dp.prototype.select=function(e,t){var n=this._selectedElements,i=n.slice();Tt(e)||(e=e?[e]:[]);var r=this._canvas,a=r.getRootElement();e=e.filter(function(s){var l=r.findRoot(s);return a===l}),t?ve(e,function(s){n.indexOf(s)===-1&&n.push(s)}):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:i,newSelection:n})};var Kx="hover",Zx="selected";function RA(e,t){this._canvas=e;function n(r,a){e.addMarker(r,a)}function i(r,a){e.removeMarker(r,a)}t.on("element.hover",function(r){n(r.element,Kx)}),t.on("element.out",function(r){i(r.element,Kx)}),t.on("selection.changed",function(r){function a(f){i(f,Zx)}function s(f){n(f,Zx)}var l=r.oldSelection,u=r.newSelection;ve(l,function(f){u.indexOf(f)===-1&&a(f)}),ve(u,function(f){l.indexOf(f)===-1&&s(f)})})}RA.$inject=["canvas","eventBus"];function MA(e,t,n,i){e.on("create.end",500,function(r){var a=r.context,s=a.canExecute,l=a.elements,u=a.hints||{},f=u.autoSelect;if(s){if(f===!1)return;Tt(f)?t.select(f):t.select(l.filter(eL))}}),e.on("connect.end",500,function(r){var a=r.context,s=a.connection;s&&t.select(s)}),e.on("shape.move.end",500,function(r){var a=r.previousSelection||[],s=i.get(r.context.shape.id),l=mn(a,function(u){return s.id===u.id});l||t.select(s)}),e.on("element.click",function(r){if(ju(r)){var a=r.element;a===n.getRootElement()&&(a=null);var s=t.isSelected(a),l=t.get().length>1,u=Qv(r);if(s&&l)return u?t.deselect(a):t.select(a);s?t.deselect(a):t.select(a,u)}})}MA.$inject=["eventBus","selection","canvas","elementRegistry"];function eL(e){return!e.hidden}const _s={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Cy],selection:["type",Dp],selectionVisuals:["type",RA],selectionBehavior:["type",MA]};function Iu(e){oi.call(this,e)}dt(Iu,oi);Iu.prototype._modules=[B7,Z7,Ny,_s,Sy];Iu.prototype._moddleExtensions={};var tL=["c","C"],nL=["v","V"],iL=["y","Y"],PA=["z","Z"];function rL(e){return e.ctrlKey||e.metaKey||e.shiftKey||e.altKey}function Mo(e){return e.altKey?!1:e.ctrlKey||e.metaKey}function yr(e,t){return e=Tt(e)?e:[e],e.indexOf(t.key)!==-1||e.indexOf(t.code)!==-1}function Bb(e){return e.shiftKey}function aL(e){return Mo(e)&&yr(tL,e)}function oL(e){return Mo(e)&&yr(nL,e)}function sL(e){return Mo(e)&&!Bb(e)&&yr(PA,e)}function lL(e){return Mo(e)&&(yr(iL,e)||yr(PA,e)&&Bb(e))}var Ty="keyboard.keydown",cL="keyboard.keyup",uL=1e3,LA="Keyboard binding is now implicit; explicit binding to an element got removed. For more information, see https://github.com/bpmn-io/diagram-js/issues/661";function la(e,t){var n=this;this._config=e=e||{},this._eventBus=t,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),t.on("diagram.destroy",function(){n._fire("destroy"),n.unbind()}),e.bindTo&&console.error("unsupported configuration <keyboard.bindTo>",new Error(LA));var i=e&&e.bind!==!1;t.on("canvas.init",function(r){n._target=r.svg,i&&n.bind(),n._fire("init")})}la.$inject=["config.keyboard","eventBus"];la.prototype._keydownHandler=function(e){this._keyHandler(e,Ty)};la.prototype._keyupHandler=function(e){this._keyHandler(e,cL)};la.prototype._keyHandler=function(e,t){var n;if(!this._isEventIgnored(e)){var i={keyEvent:e};n=this._eventBus.fire(t||Ty,i),n&&e.preventDefault()}};la.prototype._isEventIgnored=function(e){return!1};la.prototype.bind=function(e){e&&console.error("unsupported argument <node>",new Error(LA)),this.unbind(),e=this._node=this._target,Bt.bind(e,"keydown",this._keydownHandler),Bt.bind(e,"keyup",this._keyupHandler),this._fire("bind")};la.prototype.getBinding=function(){return this._node};la.prototype.unbind=function(){var e=this._node;e&&(this._fire("unbind"),Bt.unbind(e,"keydown",this._keydownHandler),Bt.unbind(e,"keyup",this._keyupHandler)),this._node=null};la.prototype._fire=function(e){this._eventBus.fire("keyboard."+e,{node:this._node})};la.prototype.addListener=function(e,t,n){fr(e)&&(n=t,t=e,e=uL),this._eventBus.on(n||Ty,e,t)};la.prototype.removeListener=function(e,t){this._eventBus.off(t||Ty,e)};la.prototype.hasModifier=rL;la.prototype.isCmd=Mo;la.prototype.isShift=Bb;la.prototype.isKey=yr;var fL=500;function Op(e,t){var n=this;e.on("editorActions.init",fL,function(i){var r=i.editorActions;n.registerBindings(t,r)})}Op.$inject=["eventBus","keyboard"];Op.prototype.registerBindings=function(e,t){function n(i,r){t.isRegistered(i)&&e.addListener(r)}n("undo",function(i){var r=i.keyEvent;if(sL(r))return t.trigger("undo"),!0}),n("redo",function(i){var r=i.keyEvent;if(lL(r))return t.trigger("redo"),!0}),n("copy",function(i){var r=i.keyEvent;if(aL(r))return t.trigger("copy"),!0}),n("paste",function(i){var r=i.keyEvent;if(oL(r))return t.trigger("paste"),!0}),n("stepZoom",function(i){var r=i.keyEvent;if(yr(["+","Add","="],r)&&Mo(r))return t.trigger("stepZoom",{value:1}),!0}),n("stepZoom",function(i){var r=i.keyEvent;if(yr(["-","Subtract"],r)&&Mo(r))return t.trigger("stepZoom",{value:-1}),!0}),n("zoom",function(i){var r=i.keyEvent;if(yr("0",r)&&Mo(r))return t.trigger("zoom",{value:1}),!0}),n("removeSelection",function(i){var r=i.keyEvent;if(yr(["Backspace","Delete","Del"],r))return t.trigger("removeSelection"),!0})};const kb={__init__:["keyboard","keyboardBindings"],keyboard:["type",la],keyboardBindings:["type",Op]};var hL={moveSpeed:50,moveSpeedAccelerated:200};function DA(e,t,n){var i=this;this._config=Ne({},hL,e||{}),t.addListener(r);function r(a){var s=a.keyEvent,l=i._config;if(t.isCmd(s)&&t.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],s)){var u=t.isShift(s)?l.moveSpeedAccelerated:l.moveSpeed,f;switch(s.key){case"ArrowLeft":case"Left":f="left";break;case"ArrowUp":case"Up":f="up";break;case"ArrowRight":case"Right":f="right";break;case"ArrowDown":case"Down":f="down";break}return i.moveCanvas({speed:u,direction:f}),!0}}this.moveCanvas=function(a){var s=0,l=0,u=a.speed,f=u/Math.min(Math.sqrt(n.viewbox().scale),1);switch(a.direction){case"left":s=f;break;case"up":l=f;break;case"right":s=-f;break;case"down":l=-f;break}n.scroll({dx:s,dy:l})}}DA.$inject=["config.keyboardMove","keyboard","canvas"];const OA={__depends__:[kb],__init__:["keyboardMove"],keyboardMove:["type",DA]};var pL=/^djs-cursor-.*$/;function Ry(e){var t=gi(document.body);t.removeMatching(pL),e&&t.add("djs-cursor-"+e)}function BA(){Ry(null)}var dL=5e3;function kA(e,t){t=t||"element.click";function n(){return!1}return e.once(t,dL,n),function(){e.off(t,n)}}function tm(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}function vs(e,t){return{x:e.x-t.x,y:e.y-t.y}}var mL=15;function jA(e,t){var n;function i(l){return s(l.originalEvent)}e.on("canvas.focus.changed",function(l){l.focused?e.on("element.mousedown",500,i):e.off("element.mousedown",i)});function r(l){var u=n.start,f=n.button,p=Qf(l),d=vs(p,u);if(!n.dragging&&gL(d)>mL&&(n.dragging=!0,f===0&&kA(e),Ry("grab")),n.dragging){var v=n.last||n.start;d=vs(p,v),t.scroll({dx:d.x,dy:d.y}),n.last=p}l.preventDefault()}function a(l){Bt.unbind(document,"mousemove",r),Bt.unbind(document,"mouseup",a),n=null,BA()}function s(l){if(!Tp(l.target,".djs-draggable")){var u=l.button;if(!(u>=2||l.ctrlKey||l.shiftKey||l.altKey))return n={button:u,start:Qf(l)},Bt.bind(document,"mousemove",r),Bt.bind(document,"mouseup",a),!0}}this.isActive=function(){return!!n}}jA.$inject=["eventBus","canvas"];function gL(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}const IA={__init__:["moveCanvas"],moveCanvas:["type",jA]};function M2(e){return Math.log(e)/Math.log(10)}function FA(e,t){var n=M2(e.min),i=M2(e.max),r=Math.abs(n)+Math.abs(i);return r/t}function vL(e,t){return Math.max(e.min,Math.min(e.max,t))}var yL=Math.sign||function(e){return e>=0?1:-1},jb={min:.2,max:4},zA=10,bL=.1,_L=.75;function bl(e,t,n){e=e||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=Ea(this._handleWheel,this),this._totalDelta=0,this._scale=e.scale||_L;var i=this;t.on("canvas.focus.changed",function(r){i._init(r.focused&&e.enabled!==!1)})}bl.$inject=["config.zoomScroll","eventBus","canvas"];bl.prototype.scroll=function(t){this._canvas.scroll(t)};bl.prototype.reset=function(){this._canvas.zoom("fit-viewport")};bl.prototype.zoom=function(t,n){var i=FA(jb,zA*2);this._totalDelta+=t,Math.abs(this._totalDelta)>bL&&(this._zoom(t,n,i),this._totalDelta=0)};bl.prototype._handleWheel=function(t){if(this._canvas.isFocused()){var n=this._container;t.preventDefault();var i=t.ctrlKey||NA()&&t.metaKey,r=t.shiftKey,a=-1*this._scale,s;if(i?a*=t.deltaMode===0?.02:.32:a*=t.deltaMode===0?1:16,i){var l=n.getBoundingClientRect(),u={x:t.clientX-l.left,y:t.clientY-l.top};s=Math.sqrt(Math.pow(t.deltaY,2)+Math.pow(t.deltaX,2))*yL(t.deltaY)*a,this.zoom(s,u)}else r?s={dx:a*t.deltaY,dy:0}:s={dx:a*t.deltaX,dy:a*t.deltaY},this.scroll(s)}};bl.prototype.stepZoom=function(t,n){var i=FA(jb,zA);this._zoom(t,n,i)};bl.prototype._zoom=function(e,t,n){var i=this._canvas,r=e>0?1:-1,a=M2(i.zoom()),s=Math.round(a/n)*n;s+=n*r;var l=Math.pow(10,s);i.zoom(vL(jb,l),t)};bl.prototype.toggle=function(t){var n=this._container,i=this._handleWheel,r=this._enabled;return typeof t>"u"&&(t=!r),r!==t&&Bt[t?"bind":"unbind"](n,"wheel",i,!1),this._enabled=t,t};bl.prototype._init=function(e){this.toggle(e)};const HA={__init__:["zoomScroll"],zoomScroll:["type",bl]};function um(e){Iu.call(this,e)}dt(um,Iu);um.prototype._navigationModules=[OA,IA,HA];um.prototype._modules=[].concat(Iu.prototype._modules,um.prototype._navigationModules);function k1(e){return e&&e[e.length-1]}function Qx(e){return e.y}function Jx(e){return e.x}var wL={left:Jx,center:Jx,right:function(e){return e.x+e.width},top:Qx,middle:Qx,bottom:function(e){return e.y+e.height}};function Bp(e,t){this._modeling=e,this._rules=t}Bp.$inject=["modeling","rules"];Bp.prototype._getOrientationDetails=function(e){var t=["top","bottom","middle"],n="x",i="width";return t.indexOf(e)!==-1&&(n="y",i="height"),{axis:n,dimension:i}};Bp.prototype._isType=function(e,t){return t.indexOf(e)!==-1};Bp.prototype._alignmentPosition=function(e,t){var n=this._getOrientationDetails(e),i=n.axis,r=n.dimension,a={},s={},l=!1,u,f,p;function d(v,g){return Math.round((v[i]+g[i]+g[r])/2)}if(this._isType(e,["left","top"]))a[e]=t[0][i];else if(this._isType(e,["right","bottom"]))p=k1(t),a[e]=p[i]+p[r];else if(this._isType(e,["center","middle"])){if(ve(t,function(v){var g=v[i]+Math.round(v[r]/2);s[g]?s[g].elements.push(v):s[g]={elements:[v],center:g}}),u=ml(s,function(v){return v.elements.length>1&&(l=!0),v.elements.length}),l)return a[e]=k1(u).center,a;f=t[0],t=ml(t,function(v){return v[i]+v[r]}),p=k1(t),a[e]=d(f,p)}return a};Bp.prototype.trigger=function(e,t){var n=this._modeling,i,r=Yt(e,function(u){return!(u.waypoints||u.host||u.labelTarget)});if(i=this._rules.allowed("elements.align",{elements:r}),Tt(i)&&(r=i),!(r.length<2||!i)){var a=wL[t],s=ml(r,a),l=this._alignmentPosition(t,s);n.alignElements(s,l)}};const xL={__init__:["alignElements"],alignElements:["type",Bp]},EL=new Am;function kp(e){this._scheduled={},e.on("diagram.destroy",()=>{Object.keys(this._scheduled).forEach(t=>{this.cancel(t)})})}kp.$inject=["eventBus"];kp.prototype.schedule=function(e,t=EL.next()){this.cancel(t);const n=this._schedule(e,t);return this._scheduled[t]=n,n.promise};kp.prototype._schedule=function(e,t){const n=SL();return{executionId:setTimeout(()=>{try{this._scheduled[t]=null;try{n.resolve(e())}catch(r){n.reject(r)}}catch(r){console.error("Scheduler#_schedule execution failed",r)}}),promise:n.promise}};kp.prototype.cancel=function(e){const t=this._scheduled[e];t&&(this._cancel(t),this._scheduled[e]=null)};kp.prototype._cancel=function(e){clearTimeout(e.executionId)};function SL(){const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}const AL={scheduler:["type",kp]};var NL="djs-element-hidden",Jg=".entry",CL=1e3,eE=8,TL=300;function Ii(e,t,n,i){this._canvas=e,this._elementRegistry=t,this._eventBus=n,this._scheduler=i,this._current=null,this._init()}Ii.$inject=["canvas","elementRegistry","eventBus","scheduler"];Ii.prototype._init=function(){var e=this;this._eventBus.on("selection.changed",function(t){var n=t.newSelection,i=n.length?n.length===1?n[0]:n:null;i?e.open(i,!0):e.close()}),this._eventBus.on("elements.changed",function(t){var n=t.elements,i=e._current;if(i){var r=i.target,a=Tt(r)?r:[r],s=a.filter(function(u){return n.includes(u)});if(s.length){e.close();var l=a.filter(function(u){return e._elementRegistry.get(u.id)});l.length&&e._updateAndOpen(l.length>1?l:l[0])}}}),this._eventBus.on("canvas.viewbox.changed",function(){e._updatePosition()}),this._eventBus.on("element.marker.update",function(t){if(e.isOpen()){var n=t.element,i=e._current,r=Tt(i.target)?i.target:[i.target];r.includes(n)&&e._updateVisibility()}}),this._container=this._createContainer()};Ii.prototype._createContainer=function(){var e=Zt('<div class="djs-context-pad-parent"></div>');return this._canvas.getContainer().appendChild(e),e};Ii.prototype.registerProvider=function(e,t){t||(t=e,e=CL),this._eventBus.on("contextPad.getProviders",e,function(n){n.providers.push(t)})};Ii.prototype.getEntries=function(e){var t=this._getProviders(),n=Tt(e)?"getMultiElementContextPadEntries":"getContextPadEntries",i={};return ve(t,function(r){if(fr(r[n])){var a=r[n](e);fr(a)?i=a(i):ve(a,function(s,l){i[l]=s})}}),i};Ii.prototype.trigger=function(e,t,n){var i=this,r,a,s=t.delegateTarget||t.target;if(!s)return t.preventDefault();if(r=Ur(s,"data-action"),a=t.originalEvent||t,e==="mouseover"){this._timeout=setTimeout(function(){i._mouseout=i.triggerEntry(r,"hover",a,n)},TL);return}else if(e==="mouseout"){clearTimeout(this._timeout),this._mouseout&&(this._mouseout(),this._mouseout=null);return}return this.triggerEntry(r,e,a,n)};Ii.prototype.triggerEntry=function(e,t,n,i){if(this.isShown()){var r=this._current.target,a=this._current.entries,s=a[e];if(s){var l=s.action;if(this._eventBus.fire("contextPad.trigger",{entry:s,event:n})!==!1){if(fr(l)){if(t==="click")return l(n,r,i)}else if(l[t])return l[t](n,r,i);n.preventDefault()}}}};Ii.prototype.open=function(e,t){!t&&this.isOpen(e)||(this.close(),this._updateAndOpen(e))};Ii.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(e),e.providers};Ii.prototype._updateAndOpen=function(e){var t=this.getEntries(e),n=this._createHtml(e),i;ve(t,function(r,a){var s=r.group||"default",l=Zt(r.html||'<div class="entry" draggable="true"></div>'),u;Ur(l,"data-action",a),u=Pn("[data-group="+lm(s)+"]",n),u||(u=Zt('<div class="group"></div>'),Ur(u,"data-group",s),n.appendChild(u)),u.appendChild(l),r.className&&RL(l,r.className),r.title&&Ur(l,"title",r.title),r.imageUrl&&(i=Zt("<img>"),Ur(i,"src",r.imageUrl),i.style.width="100%",i.style.height="100%",l.appendChild(i))}),gi(n).add("open"),this._current={entries:t,html:n,target:e},this._updatePosition(),this._updateVisibility(),this._eventBus.fire("contextPad.open",{current:this._current})};Ii.prototype._createHtml=function(e){var t=this,n=Zt('<div class="djs-context-pad"></div>');return ja.bind(n,Jg,"click",function(i){t.trigger("click",i)}),ja.bind(n,Jg,"dragstart",function(i){t.trigger("dragstart",i)}),ja.bind(n,Jg,"mouseover",function(i){t.trigger("mouseover",i)}),ja.bind(n,Jg,"mouseout",function(i){t.trigger("mouseout",i)}),Bt.bind(n,"mousedown",function(i){i.stopPropagation()}),this._container.appendChild(n),this._eventBus.fire("contextPad.create",{target:e,pad:n}),n};Ii.prototype.getPad=function(e){console.warn(new Error("ContextPad#getPad is deprecated and will be removed in future library versions, cf. https://github.com/bpmn-io/diagram-js/pull/888"));let t;return this.isOpen()&&PL(this._current.target,e)?t=this._current.html:t=this._createHtml(e),{html:t}};Ii.prototype.close=function(){this.isOpen()&&(clearTimeout(this._timeout),this._container.innerHTML="",this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)};Ii.prototype.isOpen=function(e){var t=this._current;if(!t)return!1;if(!e)return!0;var n=t.target;return Tt(e)!==Tt(n)?!1:Tt(e)?e.length===n.length&&eh(e,function(i){return n.includes(i)}):n===e};Ii.prototype.isShown=function(){return this.isOpen()&&gi(this._current.html).has("open")};Ii.prototype.show=function(){this.isOpen()&&(gi(this._current.html).add("open"),this._updatePosition(),this._eventBus.fire("contextPad.show",{current:this._current}))};Ii.prototype.hide=function(){this.isOpen()&&(gi(this._current.html).remove("open"),this._eventBus.fire("contextPad.hide",{current:this._current}))};Ii.prototype._getPosition=function(e){if(!Tt(e)&&Ln(e)){var t=this._canvas.viewbox(),n=ML(e),i=n.x*t.scale-t.x*t.scale,r=n.y*t.scale-t.y*t.scale;return{left:i+eE*this._canvas.zoom(),top:r}}var a=this._canvas.getContainer(),s=a.getBoundingClientRect(),l=this._getTargetBounds(e);return{left:l.right-s.left+eE*this._canvas.zoom(),top:l.top-s.top}};Ii.prototype._updatePosition=function(){const e=()=>{if(this.isOpen()){var t=this._current.html,n=this._getPosition(this._current.target);"x"in n&&"y"in n?(t.style.left=n.x+"px",t.style.top=n.y+"px"):["top","right","bottom","left"].forEach(function(i){i in n&&(t.style[i]=n[i]+"px")})}};this._scheduler.schedule(e,"ContextPad#_updatePosition")};Ii.prototype._updateVisibility=function(){const e=()=>{if(this.isOpen()){var t=this,n=this._current.target,i=Tt(n)?n:[n],r=i.some(function(a){return t._canvas.hasMarker(a,NL)});r?t.hide():t.show()}};this._scheduler.schedule(e,"ContextPad#_updateVisibility")};Ii.prototype._getTargetBounds=function(e){var t=this,n=Tt(e)?e:[e],i=n.map(function(r){return t._canvas.getGraphics(r)});return i.reduce(function(r,a){const s=a.getBoundingClientRect();return r.top=Math.min(r.top,s.top),r.right=Math.max(r.right,s.right),r.bottom=Math.max(r.bottom,s.bottom),r.left=Math.min(r.left,s.left),r.x=r.left,r.y=r.top,r.width=r.right-r.left,r.height=r.bottom-r.top,r},{top:1/0,right:-1/0,bottom:-1/0,left:1/0})};function RL(e,t){var n=gi(e);t=Tt(t)?t:t.split(/\s+/g),t.forEach(function(i){n.add(i)})}function ML(e){return e.waypoints[e.waypoints.length-1]}function PL(e,t){return e=Tt(e)?e:[e],t=Tt(t)?t:[t],e.length===t.length&&eh(e,function(n){return t.includes(n)})}const UA={__depends__:[Cy,AL,Ny],contextPad:["type",Ii]};var My,ri,qA,Uf,tE,VA,$A,GA,Ib,P2,L2,fm={},YA=[],LL=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Py=Array.isArray;function oc(e,t){for(var n in t)e[n]=t[n];return e}function Fb(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function WA(e,t,n){var i,r,a,s={};for(a in t)a=="key"?i=t[a]:a=="ref"?r=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?My.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)s[a]===void 0&&(s[a]=e.defaultProps[a]);return Lv(e,s,i,r,null)}function Lv(e,t,n,i,r){var a={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:r??++qA,__i:-1,__u:0};return r==null&&ri.vnode!=null&&ri.vnode(a),a}function Ly(e){return e.children}function Dv(e,t){this.props=e,this.context=t}function _p(e,t){if(t==null)return e.__?_p(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?_p(e):null}function XA(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return XA(e)}}function nE(e){(!e.__d&&(e.__d=!0)&&Uf.push(e)&&!Jv.__r++||tE!=ri.debounceRendering)&&((tE=ri.debounceRendering)||VA)(Jv)}function Jv(){for(var e,t,n,i,r,a,s,l=1;Uf.length;)Uf.length>l&&Uf.sort($A),e=Uf.shift(),l=Uf.length,e.__d&&(n=void 0,r=(i=(t=e).__v).__e,a=[],s=[],t.__P&&((n=oc({},i)).__v=i.__v+1,ri.vnode&&ri.vnode(n),zb(t.__P,n,i,t.__n,t.__P.namespaceURI,32&i.__u?[r]:null,a,r??_p(i),!!(32&i.__u),s),n.__v=i.__v,n.__.__k[n.__i]=n,QA(a,n,s),n.__e!=r&&XA(n)));Jv.__r=0}function KA(e,t,n,i,r,a,s,l,u,f,p){var d,v,g,w,x,E,R=i&&i.__k||YA,L=t.length;for(u=DL(n,t,R,u,L),d=0;d<L;d++)(g=n.__k[d])!=null&&(v=g.__i==-1?fm:R[g.__i]||fm,g.__i=d,E=zb(e,g,v,r,a,s,l,u,f,p),w=g.__e,g.ref&&v.ref!=g.ref&&(v.ref&&Hb(v.ref,null,g),p.push(g.ref,g.__c||w,g)),x==null&&w!=null&&(x=w),4&g.__u||v.__k===g.__k?u=ZA(g,u,e):typeof g.type=="function"&&E!==void 0?u=E:w&&(u=w.nextSibling),g.__u&=-7);return n.__e=x,u}function DL(e,t,n,i,r){var a,s,l,u,f,p=n.length,d=p,v=0;for(e.__k=new Array(r),a=0;a<r;a++)(s=t[a])!=null&&typeof s!="boolean"&&typeof s!="function"?(u=a+v,(s=e.__k[a]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Lv(null,s,null,null,null):Py(s)?Lv(Ly,{children:s},null,null,null):s.constructor==null&&s.__b>0?Lv(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,l=null,(f=s.__i=OL(s,n,u,d))!=-1&&(d--,(l=n[f])&&(l.__u|=2)),l==null||l.__v==null?(f==-1&&(r>p?v--:r<p&&v++),typeof s.type!="function"&&(s.__u|=4)):f!=u&&(f==u-1?v--:f==u+1?v++:(f>u?v--:v++,s.__u|=4))):e.__k[a]=null;if(d)for(a=0;a<p;a++)(l=n[a])!=null&&(2&l.__u)==0&&(l.__e==i&&(i=_p(l)),e6(l,l));return i}function ZA(e,t,n){var i,r;if(typeof e.type=="function"){for(i=e.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=e,t=ZA(i[r],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=_p(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function OL(e,t,n,i){var r,a,s=e.key,l=e.type,u=t[n];if(u===null&&e.key==null||u&&s==u.key&&l==u.type&&(2&u.__u)==0)return n;if(i>(u!=null&&(2&u.__u)==0?1:0))for(r=n-1,a=n+1;r>=0||a<t.length;){if(r>=0){if((u=t[r])&&(2&u.__u)==0&&s==u.key&&l==u.type)return r;r--}if(a<t.length){if((u=t[a])&&(2&u.__u)==0&&s==u.key&&l==u.type)return a;a++}}return-1}function iE(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||LL.test(t)?n:n+"px"}function ev(e,t,n,i,r){var a,s;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof i=="string"&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||iE(e.style,t,"");if(n)for(t in n)i&&n[t]==i[t]||iE(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")a=t!=(t=t.replace(GA,"$1")),s=t.toLowerCase(),t=s in e||t=="onFocusOut"||t=="onFocusIn"?s.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=n,n?i?n.u=i.u:(n.u=Ib,e.addEventListener(t,a?L2:P2,a)):e.removeEventListener(t,a?L2:P2,a);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function rE(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Ib++;else if(t.t<n.u)return;return n(ri.event?ri.event(t):t)}}}function zb(e,t,n,i,r,a,s,l,u,f){var p,d,v,g,w,x,E,R,L,M,P,k,W,Q,z,ie,le,H=t.type;if(t.constructor!=null)return null;128&n.__u&&(u=!!(32&n.__u),a=[l=t.__e=n.__e]),(p=ri.__b)&&p(t);e:if(typeof H=="function")try{if(R=t.props,L="prototype"in H&&H.prototype.render,M=(p=H.contextType)&&i[p.__c],P=p?M?M.props.value:p.__:i,n.__c?E=(d=t.__c=n.__c).__=d.__E:(L?t.__c=d=new H(R,P):(t.__c=d=new Dv(R,P),d.constructor=H,d.render=kL),M&&M.sub(d),d.props=R,d.state||(d.state={}),d.context=P,d.__n=i,v=d.__d=!0,d.__h=[],d._sb=[]),L&&d.__s==null&&(d.__s=d.state),L&&H.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=oc({},d.__s)),oc(d.__s,H.getDerivedStateFromProps(R,d.__s))),g=d.props,w=d.state,d.__v=t,v)L&&H.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),L&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(L&&H.getDerivedStateFromProps==null&&R!==g&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(R,P),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(R,d.__s,P)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(d.props=R,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(j){j&&(j.__=t)}),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[],d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(R,d.__s,P),L&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(g,w,x)})}if(d.context=P,d.props=R,d.__P=e,d.__e=!1,W=ri.__r,Q=0,L){for(d.state=d.__s,d.__d=!1,W&&W(t),p=d.render(d.props,d.state,d.context),z=0;z<d._sb.length;z++)d.__h.push(d._sb[z]);d._sb=[]}else do d.__d=!1,W&&W(t),p=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++Q<25);d.state=d.__s,d.getChildContext!=null&&(i=oc(oc({},i),d.getChildContext())),L&&!v&&d.getSnapshotBeforeUpdate!=null&&(x=d.getSnapshotBeforeUpdate(g,w)),ie=p,p!=null&&p.type===Ly&&p.key==null&&(ie=JA(p.props.children)),l=KA(e,Py(ie)?ie:[ie],t,n,i,r,a,s,l,u,f),d.base=t.__e,t.__u&=-161,d.__h.length&&s.push(d),E&&(d.__E=d.__=null)}catch(j){if(t.__v=null,u||a!=null)if(j.then){for(t.__u|=u?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;a[a.indexOf(l)]=null,t.__e=l}else for(le=a.length;le--;)Fb(a[le]);else t.__e=n.__e,t.__k=n.__k;ri.__e(j,t,n)}else a==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):l=t.__e=BL(n.__e,t,n,i,r,a,s,u,f);return(p=ri.diffed)&&p(t),128&t.__u?void 0:l}function QA(e,t,n){for(var i=0;i<n.length;i++)Hb(n[i],n[++i],n[++i]);ri.__c&&ri.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(a){a.call(r)})}catch(a){ri.__e(a,r.__v)}})}function JA(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Py(e)?e.map(JA):oc({},e)}function BL(e,t,n,i,r,a,s,l,u){var f,p,d,v,g,w,x,E=n.props,R=t.props,L=t.type;if(L=="svg"?r="http://www.w3.org/2000/svg":L=="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),a!=null){for(f=0;f<a.length;f++)if((g=a[f])&&"setAttribute"in g==!!L&&(L?g.localName==L:g.nodeType==3)){e=g,a[f]=null;break}}if(e==null){if(L==null)return document.createTextNode(R);e=document.createElementNS(r,L,R.is&&R),l&&(ri.__m&&ri.__m(t,a),l=!1),a=null}if(L==null)E===R||l&&e.data==R||(e.data=R);else{if(a=a&&My.call(e.childNodes),E=n.props||fm,!l&&a!=null)for(E={},f=0;f<e.attributes.length;f++)E[(g=e.attributes[f]).name]=g.value;for(f in E)if(g=E[f],f!="children"){if(f=="dangerouslySetInnerHTML")d=g;else if(!(f in R)){if(f=="value"&&"defaultValue"in R||f=="checked"&&"defaultChecked"in R)continue;ev(e,f,null,g,r)}}for(f in R)g=R[f],f=="children"?v=g:f=="dangerouslySetInnerHTML"?p=g:f=="value"?w=g:f=="checked"?x=g:l&&typeof g!="function"||E[f]===g||ev(e,f,g,E[f],r);if(p)l||d&&(p.__html==d.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),t.__k=[];else if(d&&(e.innerHTML=""),KA(t.type=="template"?e.content:e,Py(v)?v:[v],t,n,i,L=="foreignObject"?"http://www.w3.org/1999/xhtml":r,a,s,a?a[0]:n.__k&&_p(n,0),l,u),a!=null)for(f=a.length;f--;)Fb(a[f]);l||(f="value",L=="progress"&&w==null?e.removeAttribute("value"):w!=null&&(w!==e[f]||L=="progress"&&!w||L=="option"&&w!=E[f])&&ev(e,f,w,E[f],r),f="checked",x!=null&&x!=e[f]&&ev(e,f,x,E[f],r))}return e}function Hb(e,t,n){try{if(typeof e=="function"){var i=typeof e.__u=="function";i&&e.__u(),i&&t==null||(e.__u=e(t))}else e.current=t}catch(r){ri.__e(r,n)}}function e6(e,t,n){var i,r;if(ri.unmount&&ri.unmount(e),(i=e.ref)&&(i.current&&i.current!=e.__e||Hb(i,null,t)),(i=e.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){ri.__e(a,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&e6(i[r],t,n||typeof e.type!="function");n||Fb(e.__e),e.__c=e.__=e.__e=void 0}function kL(e,t,n){return this.constructor(e,n)}function t6(e,t,n){var i,r,a,s;t==document&&(t=document.documentElement),ri.__&&ri.__(e,t),r=(i=!1)?null:t.__k,a=[],s=[],zb(t,e=t.__k=WA(Ly,null,[e]),r||fm,fm,t.namespaceURI,r?null:t.firstChild?My.call(t.childNodes):null,a,r?r.__e:t.firstChild,i,s),QA(a,e,s)}My=YA.slice,ri={__e:function(e,t,n,i){for(var r,a,s;t=t.__;)if((r=t.__c)&&!r.__)try{if((a=r.constructor)&&a.getDerivedStateFromError!=null&&(r.setState(a.getDerivedStateFromError(e)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,i||{}),s=r.__d),s)return r.__E=r}catch(l){e=l}throw e}},qA=0,Dv.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=oc({},this.state),typeof e=="function"&&(e=e(oc({},n),this.props)),e&&oc(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),nE(this))},Dv.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),nE(this))},Dv.prototype.render=Ly,Uf=[],VA=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$A=function(e,t){return e.__v.__b-t.__v.__b},Jv.__r=0,GA=/(PointerCapture)$|Capture$/i,Ib=0,P2=rE(!1),L2=rE(!0);var n6=function(e,t,n,i){var r;t[0]=0;for(var a=1;a<t.length;a++){var s=t[a++],l=t[a]?(t[0]|=s?1:2,n[t[a++]]):t[++a];s===3?i[0]=l:s===4?i[1]=Object.assign(i[1]||{},l):s===5?(i[1]=i[1]||{})[t[++a]]=l:s===6?i[1][t[++a]]+=l+"":s?(r=e.apply(l,n6(e,l,n,["",null])),i.push(r),l[0]?t[0]|=2:(t[a-2]=0,t[a]=r)):i.push(l)}return i},aE=new Map;function jL(e){var t=aE.get(this);return t||(t=new Map,aE.set(this,t)),(t=n6(this,t.get(e)||(t.set(e,t=function(n){for(var i,r,a=1,s="",l="",u=[0],f=function(v){a===1&&(v||(s=s.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?u.push(0,v,s):a===3&&(v||s)?(u.push(3,v,s),a=2):a===2&&s==="..."&&v?u.push(4,v,0):a===2&&s&&!v?u.push(5,0,!0,s):a>=5&&((s||!v&&a===5)&&(u.push(a,0,s,r),a=6),v&&(u.push(a,v,0,r),a=6)),s=""},p=0;p<n.length;p++){p&&(a===1&&f(),f(p));for(var d=0;d<n[p].length;d++)i=n[p][d],a===1?i==="<"?(f(),u=[u],a=3):s+=i:a===4?s==="--"&&i===">"?(a=1,s=""):s=i+s[0]:l?i===l?l="":s+=i:i==='"'||i==="'"?l=i:i===">"?(f(),a=1):a&&(i==="="?(a=5,r=s,s=""):i==="/"&&(a<5||n[p][d+1]===">")?(f(),a===3&&(u=u[0]),a=u,(u=u[0]).push(2,0,a),a=0):i===" "||i==="	"||i===`
`||i==="\r"?(f(),a=2):s+=i),a===3&&s==="!--"&&(a=4,u=u[0])}return f(),u}(e)),t),arguments,[])).length>1?t:t[0]}var Ai=jL.bind(WA),wp,Oi,j1,oE,hm=0,i6=[],Yi=ri,sE=Yi.__b,lE=Yi.__r,cE=Yi.diffed,uE=Yi.__c,fE=Yi.unmount,hE=Yi.__;function Dy(e,t){Yi.__h&&Yi.__h(Oi,e,hm||t),hm=0;var n=Oi.__H||(Oi.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function I1(e){return hm=1,IL(a6,e)}function IL(e,t,n){var i=Dy(wp++,2);if(i.t=e,!i.__c&&(i.__=[a6(void 0,t),function(l){var u=i.__N?i.__N[0]:i.__[0],f=i.t(u,l);u!==f&&(i.__N=[f,i.__[1]],i.__c.setState({}))}],i.__c=Oi,!Oi.__f)){var r=function(l,u,f){if(!i.__c.__H)return!0;var p=i.__c.__H.__.filter(function(v){return!!v.__c});if(p.every(function(v){return!v.__N}))return!a||a.call(this,l,u,f);var d=i.__c.props!==l;return p.forEach(function(v){if(v.__N){var g=v.__[0];v.__=v.__N,v.__N=void 0,g!==v.__[0]&&(d=!0)}}),a&&a.call(this,l,u,f)||d};Oi.__f=!0;var a=Oi.shouldComponentUpdate,s=Oi.componentWillUpdate;Oi.componentWillUpdate=function(l,u,f){if(this.__e){var p=a;a=void 0,r(l,u,f),a=p}s&&s.call(this,l,u,f)},Oi.shouldComponentUpdate=r}return i.__N||i.__}function D2(e,t){var n=Dy(wp++,3);!Yi.__s&&Ub(n.__H,t)&&(n.__=e,n.u=t,Oi.__H.__h.push(n))}function O2(e,t){var n=Dy(wp++,4);!Yi.__s&&Ub(n.__H,t)&&(n.__=e,n.u=t,Oi.__h.push(n))}function r6(e){return hm=5,xp(function(){return{current:e}},[])}function xp(e,t){var n=Dy(wp++,7);return Ub(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Fd(e,t){return hm=8,xp(function(){return e},t)}function FL(){for(var e;e=i6.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ov),e.__H.__h.forEach(B2),e.__H.__h=[]}catch(t){e.__H.__h=[],Yi.__e(t,e.__v)}}Yi.__b=function(e){Oi=null,sE&&sE(e)},Yi.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),hE&&hE(e,t)},Yi.__r=function(e){lE&&lE(e),wp=0;var t=(Oi=e.__c).__H;t&&(j1===Oi?(t.__h=[],Oi.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Ov),t.__h.forEach(B2),t.__h=[],wp=0)),j1=Oi},Yi.diffed=function(e){cE&&cE(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(i6.push(t)!==1&&oE===Yi.requestAnimationFrame||((oE=Yi.requestAnimationFrame)||zL)(FL)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),j1=Oi=null},Yi.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Ov),n.__h=n.__h.filter(function(i){return!i.__||B2(i)})}catch(i){t.some(function(r){r.__h&&(r.__h=[])}),t=[],Yi.__e(i,n.__v)}}),uE&&uE(e,t)},Yi.unmount=function(e){fE&&fE(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{Ov(i)}catch(r){t=r}}),n.__H=void 0,t&&Yi.__e(t,n.__v))};var pE=typeof requestAnimationFrame=="function";function zL(e){var t,n=function(){clearTimeout(i),pE&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,35);pE&&(t=requestAnimationFrame(n))}function Ov(e){var t=Oi,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Oi=t}function B2(e){var t=Oi;e.__c=e.__(),Oi=t}function Ub(e,t){return!e||e.length!==t.length||t.some(function(n,i){return n!==e[i]})}function a6(e,t){return typeof t=="function"?t(e):t}function o6(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=o6(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function ey(){for(var e,t,n=0,i="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=o6(e))&&(i&&(i+=" "),i+=t);return i}function HL(e){const{headerEntries:t,onSelect:n,selectedEntry:i,setSelectedEntry:r,title:a}=e,s=xp(()=>UL(t),[t]);return Ai`
    <div class="djs-popup-header">
      <h3 class="djs-popup-title" title=${a}>${a}</h3>
      ${s.map(l=>Ai`
        <ul key=${l.id} class="djs-popup-header-group" data-header-group=${l.id}>

          ${l.entries.map(u=>Ai`
            <li key=${u.id}>
              <${u.action?"button":"span"}
                class=${qL(u,u===i)}
                onClick=${f=>u.action&&n(f,u)}
                title=${u.title||u.label}
                data-id=${u.id}
                onMouseEnter=${()=>u.action&&r(u)}
                onMouseLeave=${()=>u.action&&r(null)}
                onFocus=${()=>u.action&&r(u)}
                onBlur=${()=>u.action&&r(null)}
              >
                ${u.imageUrl&&Ai`<img class="djs-popup-entry-icon" src=${u.imageUrl} alt="" />`||u.imageHtml&&Ai`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:u.imageHtml}} />`}
                ${u.label?Ai`
                  <span class="djs-popup-label">${u.label}</span>
                `:null}
              </${u.action?"button":"span"}>
            </li>
          `)}
        </ul>
      `)}
    </div>
  `}function UL(e){return e.reduce((t,n)=>{const i=n.group||"default",r=t.find(a=>a.id===i);return r?r.entries.push(n):t.push({id:i,entries:[n]}),t},[])}function qL(e,t){return ey("entry",e.className,e.active?"active":"",e.disabled?"disabled":"",t?"selected":"")}function VL(e){const{entry:t,selected:n,onMouseEnter:i,onMouseLeave:r,onAction:a}=e;return Ai`
    <li
      class=${ey("entry",{selected:n})}
      data-id=${t.id}
      title=${t.title||t.label}
      tabIndex="0"
      onClick=${a}
      onFocus=${i}
      onBlur=${r}
      onMouseEnter=${i}
      onMouseLeave=${r}
      onDragStart=${s=>a(s,t,"dragstart")}
      draggable=${!0}
    >
      <div class="djs-popup-entry-content">
        <span
          class=${ey("djs-popup-entry-name",t.className)}
        >
          ${t.imageUrl&&Ai`<img class="djs-popup-entry-icon" src=${t.imageUrl} alt="" />`||t.imageHtml&&Ai`<div class="djs-popup-entry-icon" dangerouslySetInnerHTML=${{__html:t.imageHtml}} />`}

          ${t.label?Ai`
            <span class="djs-popup-label">
              ${t.label}
            </span>
          `:null}
        </span>
        ${t.description&&Ai`
          <span
            class="djs-popup-entry-description"
            title=${t.description}
          >
            ${t.description}
          </span>
        `}
      </div>
      ${t.documentationRef&&Ai`
        <div class="djs-popup-entry-docs">
          <a
            href="${t.documentationRef}"
            onClick=${s=>s.stopPropagation()}
            title="Open element documentation"
            target="_blank"
            rel="noopener"
          >
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.6368 10.6375V5.91761H11.9995V10.6382C11.9995 10.9973 11.8623 11.3141 11.5878 11.5885C11.3134 11.863 10.9966 12.0002 10.6375 12.0002H1.36266C0.982345 12.0002 0.660159 11.8681 0.396102 11.6041C0.132044 11.34 1.52588e-05 11.0178 1.52588e-05 10.6375V1.36267C1.52588e-05 0.98236 0.132044 0.660173 0.396102 0.396116C0.660159 0.132058 0.982345 2.95639e-05 1.36266 2.95639e-05H5.91624V1.36267H1.36266V10.6375H10.6368ZM12 0H7.2794L7.27873 1.36197H9.68701L3.06507 7.98391L4.01541 8.93425L10.6373 2.31231V4.72059H12V0Z" fill="#818798"/>
            </svg>
          </a>
        </div>
      `}
    </li>
  `}function $L(e){const{selectedEntry:t,setSelectedEntry:n,entries:i,...r}=e,a=r6(),s=xp(()=>GL(i),[i]);return O2(()=>{const l=a.current;if(!l)return;const u=l.querySelector(".selected");u&&YL(u)},[t]),Ai`
    <div class="djs-popup-results" ref=${a}>
      ${s.map(l=>Ai`
        ${l.name&&Ai`
          <div key=${l.id} class="entry-header" title=${l.name}>
            ${l.name}
          </div>
        `}
        <ul class="djs-popup-group" data-group=${l.id}>
          ${l.entries.map(u=>Ai`
            <${VL}
              key=${u.id}
              entry=${u}
              selected=${u===t}
              onMouseEnter=${()=>n(u)}
              onMouseLeave=${()=>n(null)}
              ...${r}
            />
          `)}
        </ul>
      `)}
    </div>
  `}function GL(e){const t=[],n=a=>t.find(s=>a.id===s.id),i=a=>!!n(a),r=a=>typeof a=="string"?{id:a}:a;return e.forEach(a=>{const s=a.group?r(a.group):{id:"default"};i(s)?n(s).entries.push(a):t.push({...s,entries:[a]})}),t}function YL(e){typeof e.scrollIntoViewIfNeeded=="function"?e.scrollIntoViewIfNeeded():e.scrollIntoView({scrollMode:"if-needed",block:"nearest"})}function WL(e){const{onClose:t,onSelect:n,className:i,headerEntries:r,position:a,title:s,width:l,scale:u,search:f,emptyPlaceholder:p,searchFn:d,entries:v,onOpened:g,onClosed:w}=e,x=xp(()=>br(f)?v.length>5:!1,[f,v]),[E,R]=I1(""),L=Fd((j,ae)=>{if(!x)return j;if(!ae.trim())return j.filter(({rank:xe=0})=>xe>=0);const oe=j.filter(({searchable:xe})=>xe!==!1);return d(oe,ae,{keys:["label","search","description"]}).map(({item:xe})=>xe)},[x]),[M,P]=I1(L(v,E)),[k,W]=I1(M[0]),Q=Fd(j=>{W(j[0]),P(j)},[k,P,W]);D2(()=>{Q(L(v,E))},[E,v]);const z=Fd(j=>{let oe=M.indexOf(k)+j;oe<0&&(oe=M.length-1),oe>=M.length&&(oe=0),W(M[oe])},[M,k,W]),ie=Fd(j=>{if(j.key==="Enter"&&k)return n(j,k);if(j.key==="ArrowUp")return z(-1),j.preventDefault();if(j.key==="ArrowDown")return z(1),j.preventDefault()},[n,k,z]),le=Fd(j=>{x4(j.target,"input")&&R(()=>j.target.value)},[R]);D2(()=>(g(),()=>{w()}),[]);const H=xp(()=>s||r.length>0,[s,r]);return Ai`
    <${dE}
      onClose=${t}
      onKeyup=${le}
      onKeydown=${ie}
      className=${i}
      position=${a}
      width=${l}
      scale=${u}
    >
      ${H&&Ai`
        <${HL}
          headerEntries=${r}
          onSelect=${n}
          selectedEntry=${k}
          setSelectedEntry=${W}
          title=${s}
        />
      `}
      ${v.length>0&&Ai`
        <div class="djs-popup-body">

          ${x&&Ai`
          <div class="djs-popup-search">
            <svg class="djs-popup-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
            </svg>
            <input type="text" spellcheck=${!1} aria-label="${s}" />
          </div>
          `}

          <${$L}
            entries=${M}
            selectedEntry=${k}
            setSelectedEntry=${W}
            onAction=${n}
          />
        </div>
      `}
    ${p&&M.length===0&&Ai`
      <div class="djs-popup-no-results">${fr(p)?p(E):p}</div>
    `}
    </${dE}>
  `}function dE(e){const{onClose:t,onKeydown:n,onKeyup:i,className:r,children:a,position:s}=e,l=r6();return O2(()=>{if(typeof s!="function")return;const u=l.current,f=s(u);u.style.left=`${f.x}px`,u.style.top=`${f.y}px`},[l.current,s]),O2(()=>{const u=l.current;if(!u)return;(u.querySelector("input")||u).focus()},[]),D2(()=>{const u=p=>{if(p.key==="Escape")return p.preventDefault(),t()},f=p=>{if(!Tp(p.target,".djs-popup",!0))return t()};return document.documentElement.addEventListener("keydown",u),document.body.addEventListener("click",f),()=>{document.documentElement.removeEventListener("keydown",u),document.body.removeEventListener("click",f)}},[]),Ai`
    <div
      class=${ey("djs-popup",r)}
      style=${XL(e)}
      onKeydown=${n}
      onKeyup=${i}
      ref=${l}
      tabIndex="-1"
    >
      ${a}
    </div>
  `}function XL(e){return{transform:`scale(${e.scale})`,width:`${e.width}px`,"transform-origin":"top left"}}var KL="data-id",s6=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],ZL=1e3;function si(e,t,n,i){this._eventBus=t,this._canvas=n,this._search=i,this._current=null;var r=br(e&&e.scale)?e.scale:{min:1,max:1};this._config={scale:r},t.on("diagram.destroy",()=>{this.close()}),t.on("element.changed",a=>{const s=this.isOpen()&&this._current.target;a.element===s&&this.refresh()})}si.$inject=["config.popupMenu","eventBus","canvas","search"];si.prototype._render=function(){const{position:e,providerId:t,entries:n,headerEntries:i,emptyPlaceholder:r,options:a}=this._current,s=Object.entries(n).map(([v,g])=>({id:v,...g})),l=Object.entries(i).map(([v,g])=>({id:v,...g})),u=e&&(v=>this._ensureVisible(v,e)),f=this._updateScale(this._current.container);t6(Ai`
      <${WL}
        onClose=${v=>this.close(v)}
        onSelect=${(v,g,w)=>this.trigger(v,g,w)}
        position=${u}
        className=${t}
        entries=${s}
        headerEntries=${l}
        emptyPlaceholder=${r}
        scale=${f}
        onOpened=${this._onOpened.bind(this)}
        onClosed=${this._onClosed.bind(this)}
        searchFn=${this._search}
        ...${{...a}}
      />
    `,this._current.container)};si.prototype.open=function(e,t,n,i){if(!e)throw new Error("target is missing");if(!t)throw new Error("providers for <"+t+"> not found");if(!n)throw new Error("position is missing");this.isOpen()&&this.close();const{entries:r,headerEntries:a,emptyPlaceholder:s}=this._getContext(e,t);this._current={position:n,providerId:t,target:e,entries:r,headerEntries:a,emptyPlaceholder:s,container:this._createContainer({provider:t}),options:i},this._emit("open"),this._bindAutoClose(),this._render()};si.prototype.refresh=function(){if(!this.isOpen())return;const{target:e,providerId:t}=this._current,{entries:n,headerEntries:i,emptyPlaceholder:r}=this._getContext(e,t);this._current={...this._current,entries:n,headerEntries:i,emptyPlaceholder:r},this._emit("refresh"),this._render()};si.prototype._getContext=function(e,t){const n=this._getProviders(t);if(!n||!n.length)throw new Error("provider for <"+t+"> not found");const i=this._getEntries(e,n),r=this._getHeaderEntries(e,n),a=this._getEmptyPlaceholder(n);return{entries:i,headerEntries:r,emptyPlaceholder:a,empty:!(Object.keys(i).length||Object.keys(r).length)}};si.prototype.close=function(){this.isOpen()&&(this._emit("close"),this.reset(),this._canvas.restoreFocus(),this._current=null)};si.prototype.reset=function(){const e=this._current.container;t6(null,e),gl(e)};si.prototype._emit=function(e,t){this._eventBus.fire(`popupMenu.${e}`,t)};si.prototype._onOpened=function(){this._emit("opened")};si.prototype._onClosed=function(){this._emit("closed")};si.prototype._createContainer=function(e){var t=this._canvas,n=t.getContainer();const i=Zt(`<div class="djs-popup-parent djs-scrollable" data-popup=${e.provider}></div>`);return n.appendChild(i),i};si.prototype._bindAutoClose=function(){this._eventBus.once(s6,this.close,this)};si.prototype._unbindAutoClose=function(){this._eventBus.off(s6,this.close,this)};si.prototype._updateScale=function(){var e=this._canvas.zoom(),t=this._config.scale,n,i,r=e;return t!==!0&&(t===!1?(n=1,i=1):(n=t.min,i=t.max),br(n)&&e<n&&(r=n),br(i)&&e>i&&(r=i)),r};si.prototype._ensureVisible=function(e,t){var n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect(),r={},a=t.x,s=t.y;return t.x+i.width>n.width&&(r.x=!0),t.y+i.height>n.height&&(r.y=!0),r.x&&r.y?(a=t.x-i.width,s=t.y-i.height):r.x?(a=t.x-i.width,s=t.y):r.y&&t.y<i.height?(a=t.x,s=10):r.y&&(a=t.x,s=t.y-i.height),t.y<n.top&&(s=t.y+i.height),{x:a,y:s}};si.prototype.isEmpty=function(e,t){if(!e)throw new Error("target is missing");if(!t)throw new Error("provider ID is missing");const n=this._getProviders(t);return!n||!n.length?!0:this._getContext(e,t).empty};si.prototype.registerProvider=function(e,t,n){n||(n=t,t=ZL),this._eventBus.on("popupMenu.getProviders."+e,t,function(i){i.providers.push(n)})};si.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"popupMenu.getProviders."+e,providers:[]});return this._eventBus.fire(t),t.providers};si.prototype._getEntries=function(e,t){var n={};return ve(t,function(i){if(!i.getPopupMenuEntries){ve(i.getEntries(e),function(a){var s=a.id;if(!s)throw new Error("entry ID is missing");n[s]=vl(a,["id"])});return}var r=i.getPopupMenuEntries(e);fr(r)?n=r(n):ve(r,function(a,s){n[s]=a})}),n};si.prototype._getHeaderEntries=function(e,t){var n={};return ve(t,function(i){if(!i.getPopupMenuHeaderEntries){if(!i.getHeaderEntries)return;ve(i.getHeaderEntries(e),function(a){var s=a.id;if(!s)throw new Error("entry ID is missing");n[s]=vl(a,["id"])});return}var r=i.getPopupMenuHeaderEntries(e);fr(r)?n=r(n):ve(r,function(a,s){n[s]=a})}),n};si.prototype._getEmptyPlaceholder=function(e){const t=e.find(n=>fr(n.getEmptyPlaceholder));return t&&t.getEmptyPlaceholder()};si.prototype.isOpen=function(){return!!this._current};si.prototype.trigger=function(e,t,n="click"){if(e.preventDefault(),!t){let r=Tp(e.delegateTarget||e.target,".entry",!0),a=Ur(r,KL);t={id:a,...this._getEntry(a)}}const i=t.action;if(this._emit("trigger",{entry:t,event:e})!==!1){if(fr(i)){if(n==="click")return i(e,t)}else if(i[n])return i[n](e,t)}};si.prototype._getEntry=function(e){var t=this._current.entries[e]||this._current.headerEntries[e];if(!t)throw new Error("entry not found");return t};function QL(e,t,n){const{keys:i}=n;if(t=t.trim().toLowerCase(),!t)throw new Error("<pattern> must not be empty");const r=t.trim().toLowerCase().split(/\s+/);return e.flatMap(a=>{const s=JL(a,r,i);return s?{item:a,tokens:s}:[]}).sort(eD(i))}function JL(e,t,n){const{matchedWords:i,tokens:r}=n.reduce((a,s)=>{const l=e[s],{tokens:u,matchedWords:f}=Tt(l)?l.reduce((p,d)=>{const{tokens:v,matchedWords:g}=vE(d,t);return{tokens:[...p.tokens,v],matchedWords:{...p.matchedWords,...g}}},{matchedWords:{},tokens:[]}):vE(l,t);return{tokens:{...a.tokens,[s]:u},matchedWords:{...a.matchedWords,...f}}},{matchedWords:{},tokens:{}});return Object.keys(i).length!==t.length?null:r}function eD(e){return(t,n)=>{let i=0,r=1;for(const a of e){const s=tD(t.tokens[a],n.tokens[a]);if(s!==0){i+=s*r,r*=.9;continue}const l=nD(t.item[a],n.item[a]);if(l!==0){i+=l*r,r*=.9;continue}}return i}}function tD(e,t){return mE(t)-mE(e)}function mE(e){return e.reduce((t,n)=>t+l6(n),0)}function l6(e){if(Tt(e))return Math.max(...e.map(l6));const t=Math.log(e.value.length);return e.match?(e.start?e.end?131.9:7.87:e.wordStart?2.19:1)*t:-.07*t}function gE(e=""){return Tt(e)?e.join(", "):e}function nD(e,t){return gE(e).localeCompare(gE(t))}function vE(e,t){if(!e)return{tokens:[],matchedWords:{}};const n=[],i={},r=t.map(iD),a=[`(?<all>${r.join("\\s+")})`,...r].join("|"),s=new RegExp(a,"ig");let l,u=0;for(;l=s.exec(e);){const[f]=l,p=l.index,d=l.index+f.length,v=p===0,g=d===e.length,w=!!l.groups.all,x=v||/\s/.test(e.charAt(p-1)),E=g||/\s/.test(e.charAt(d));l.index>u&&n.push({value:e.slice(u,l.index),index:u}),n.push({value:f,index:l.index,match:!0,wordStart:x,wordEnd:E,start:v,end:g,all:w});const R=w?t:[f];for(const L of R)i[L.toLowerCase()]=!0;u=l.index+f.length}return u<e.length&&n.push({value:e.slice(u),index:u}),{tokens:n,matchedWords:i}}function iD(e){return e.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&")}const c6={search:["value",QL]},qb={__depends__:[c6],__init__:["popupMenu"],popupMenu:["type",si]};var u6={align:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 2000 2000">
              <line x1="200" y1="150" x2="200" y2="1850" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
              <rect x="500" y="150" width="1300" height="700" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
              <rect x="500" y="1150" width="700" height="700" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,bottom:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="1650" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="350" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="850" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,center:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="900" y1="150" x2="900" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="250" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="500" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,left:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="100" y1="150" x2="100" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="100" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="100" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,right:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="1650" y1="150" x2="1650" y2="1650" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="350" y="150" width="1300" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="850" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,top:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="150" x2="1650" y2="150" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="150" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="150" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`,middle:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
            <line x1="150" y1="900" x2="1650" y2="900" style="stroke:currentColor;stroke-width:100;stroke-linecap:round;"/>
            <rect x="150" y="250" width="600" height="1300" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
            <rect x="1050" y="500" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
          </svg>`},rD=900;function jp(e,t,n,i){e.registerProvider(rD,this),this._contextPad=e,this._popupMenu=t,this._translate=n,this._canvas=i}jp.$inject=["contextPad","popupMenu","translate","canvas"];jp.prototype.getMultiElementContextPadEntries=function(e){var t={};return this._isAllowed(e)&&Ne(t,this._getEntries(e)),t};jp.prototype._isAllowed=function(e){return!this._popupMenu.isEmpty(e,"align-elements")};jp.prototype._getEntries=function(){var e=this;return{"align-elements":{group:"align-elements",title:e._translate("Align elements"),html:`<div class="entry">${u6.align}</div>`,action:{click:function(t,n){var i=e._getMenuPosition(n);Ne(i,{cursor:{x:t.x,y:t.y}}),e._popupMenu.open(n,"align-elements",i)}}}}};jp.prototype._getMenuPosition=function(e){var t=5,n=this._contextPad.getPad(e).html,i=n.getBoundingClientRect(),r={x:i.left,y:i.bottom+t};return r};var aD=["left","center","right","top","middle","bottom"];function Nm(e,t,n,i){this._alignElements=t,this._translate=n,this._popupMenu=e,this._rules=i,e.registerProvider("align-elements",this)}Nm.$inject=["popupMenu","alignElements","translate","rules"];Nm.prototype.getPopupMenuEntries=function(e){var t={};return this._isAllowed(e)&&Ne(t,this._getEntries(e)),t};Nm.prototype._isAllowed=function(e){return this._rules.allowed("elements.align",{elements:e})};Nm.prototype._getEntries=function(e){var t=this._alignElements,n=this._translate,i=this._popupMenu,r={};return ve(aD,function(a){r["align-elements-"+a]={group:"align",title:n("Align elements "+a),className:"bjs-align-elements-menu-entry",imageHtml:u6[a],action:function(){t.trigger(e,a),i.close()}}}),r};function Do(e){tt.call(this,e),this.init()}Do.$inject=["eventBus"];dt(Do,tt);Do.prototype.addRule=function(e,t,n){var i=this;typeof e=="string"&&(e=[e]),e.forEach(function(r){i.canExecute(r,t,function(a,s,l){return n(a)},!0)})};Do.prototype.init=function(){};function Oy(e){Do.call(this,e)}Oy.$inject=["eventBus"];dt(Oy,Do);Oy.prototype.init=function(){this.addRule("elements.align",function(e){var t=e.elements,n=Yt(t,function(i){return!(i.waypoints||i.host||i.labelTarget)});return n=vy(n),n.length<2?!1:n})};const oD={__depends__:[xL,UA,qb],__init__:["alignElementsContextPadProvider","alignElementsMenuProvider","bpmnAlignElements"],alignElementsContextPadProvider:["type",jp],alignElementsMenuProvider:["type",Nm],bpmnAlignElements:["type",Oy]};var sD=10,f6=50,lD=250;function Vb(e,t,n,i){for(var r;r=cD(e,n,t);)n=i(t,n,r);return n}function $b(e){return function(t,n,i){var r={x:n.x,y:n.y};return["x","y"].forEach(function(a){var s=e[a];if(s){var l=a==="x"?"width":"height",u=s.margin,f=s.minDistance;u<0?r[a]=Math.min(i[a]+u-t[l]/2,n[a]-f+u):r[a]=Math.max(i[a]+i[l]+u+t[l]/2,n[a]+f+u)}}),r}}function cD(e,t,n){var i={x:t.x-n.width/2,y:t.y-n.height/2,width:n.width,height:n.height},r=fD(e);return mn(r,function(a){if(a===n)return!1;var s=$r(a,i,sD);return s==="intersect"})}function uD(e,t){t||(t={});function n(w){return w.source===e?1:-1}var i=t.defaultDistance||f6,r=t.direction||"e",a=t.filter,s=t.getWeight||n,l=t.maxDistance||lD,u=t.reference||"start";a||(a=dD);function f(w,x){return r==="n"?u==="start"?_t(w).top-_t(x).bottom:u==="center"?_t(w).top-Ct(x).y:_t(w).top-_t(x).top:r==="w"?u==="start"?_t(w).left-_t(x).right:u==="center"?_t(w).left-Ct(x).x:_t(w).left-_t(x).left:r==="s"?u==="start"?_t(x).top-_t(w).bottom:u==="center"?Ct(x).y-_t(w).bottom:_t(x).bottom-_t(w).bottom:u==="start"?_t(x).left-_t(w).right:u==="center"?Ct(x).x-_t(w).right:_t(x).right-_t(w).right}var p=e.incoming.filter(a).map(function(w){var x=s(w),E=x<0?f(w.source,e):f(e,w.source);return{id:w.source.id,distance:E,weight:x}}),d=e.outgoing.filter(a).map(function(w){var x=s(w),E=x>0?f(e,w.target):f(w.target,e);return{id:w.target.id,distance:E,weight:x}}),v=p.concat(d).reduce(function(w,x){return w[x.id+"__weight_"+x.weight]=x,w},{}),g=xa(v,function(w,x){var E=x.distance,R=x.weight;return E<0||E>l||(w[String(E)]||(w[String(E)]=0),w[String(E)]+=1*R,(!w.distance||w[w.distance]<w[String(E)])&&(w.distance=E)),w},{});return g.distance||i}function fD(e){var t=F1(e);return e.host&&(t=t.concat(F1(e.host))),e.attachers&&(t=t.concat(e.attachers.reduce(function(n,i){return n.concat(F1(i))},[]))),t}function F1(e){return pD(e).concat(hD(e))}function hD(e){return e.incoming.map(function(t){return t.source})}function pD(e){return e.outgoing.map(function(t){return t.target})}function dD(){return!0}var mD=100;function h6(e,t,n){e.on("autoPlace",mD,function(i){var r=i.shape,a=i.source;return gD(a,r)}),e.on("autoPlace.end",function(i){n.scrollToElement(i.shape)}),this.append=function(i,r,a){e.fire("autoPlace.start",{source:i,shape:r});var s=e.fire("autoPlace",{source:i,shape:r}),l=t.appendShape(i,r,s,i.parent,a);return e.fire("autoPlace.end",{source:i,shape:l}),l}}h6.$inject=["eventBus","modeling","canvas"];function gD(e,t,n){n||(n={});var i=n.defaultDistance||f6,r=Ct(e),a=_t(e);return{x:a.right+i+t.width/2,y:r.y}}function p6(e,t){e.on("autoPlace.end",500,function(n){t.select(n.shape)})}p6.$inject=["eventBus","selection"];const vD={__init__:["autoPlaceSelectionBehavior"],autoPlace:["type",h6],autoPlaceSelectionBehavior:["type",p6]};function Ep(e,t){for(Ia(t)&&(t=[t]);e=e.parent;)if(Wt(e,t))return e;return null}function d6(e,t){var n=Ep(e,"bpmn:Process");if(n)return!0;var i=["bpmn:Participant","bpmn:Lane"];if(n=Ep(e,i),n)return hr(n);if(Wt(e,i))return hr(e);var r;for(r=rt(e);r&&!U(r,"bpmn:Process");r=r.$parent);if(!t)return!0;var a=t.find(function(s){var l=rt(s);return l&&l.get("processRef")===r});return a?hr(a):!0}function m6(e,t,n){var i=d6(e,n);if(U(t,"bpmn:TextAnnotation"))return bD(e,t,i);if(Wt(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"]))return _D(e,t,i);if(U(t,"bpmn:FlowNode"))return yD(e,t,i)}function yD(e,t,n){var i=_t(e),r=Ct(e),a=n?{directionHint:"e",minDistance:80,baseOrientation:"left",boundaryOrientation:"top",start:"top",end:"bottom"}:{directionHint:"s",minDistance:90,baseOrientation:"top",boundaryOrientation:"left",start:"left",end:"right"},s=uD(e,{filter:function(g){return U(g,"bpmn:SequenceFlow")},direction:a.directionHint}),l=30,u=a.minDistance,f=a.baseOrientation;U(e,"bpmn:BoundaryEvent")&&(f=$r(e,e.host,-25),f.indexOf(a.boundaryOrientation)!==-1&&(l*=-1));var p=n?{x:i.right+s+t.width/2,y:r.y+yE(f,u,a)}:{x:r.x+yE(f,u,a),y:i.bottom+s+t.height/2},d={margin:l,minDistance:u},v=n?{y:d}:{x:d};return Vb(e,t,p,$b(v))}function yE(e,t,n){return e.includes(n.start)?-1*t:e.includes(n.end)?t:0}function bD(e,t,n){var i=_t(e),r=n?{x:i.right+t.width/2,y:i.top-50-t.height/2}:{x:i.right+50+t.width/2,y:i.bottom+t.height/2};Ln(e)&&(r=Ct(e),n?(r.x+=100,r.y-=50):(r.x+=100,r.y+=50));var a={margin:n?-30:30,minDistance:20},s=n?{y:a}:{x:a};return Vb(e,t,r,$b(s))}function _D(e,t,n){var i=_t(e),r=n?{x:i.right-10+t.width/2,y:i.bottom+40+t.width/2}:{x:i.left-40-t.width/2,y:i.bottom-10+t.height/2},a={margin:30,minDistance:30},s=n?{x:a}:{y:a};return Vb(e,t,r,$b(s))}function g6(e,t){e.on("autoPlace",function(n){var i=n.shape,r=n.source;return m6(r,i,t)})}g6.$inject=["eventBus","elementRegistry"];const Gb={__depends__:[vD],__init__:["bpmnAutoPlace"],bpmnAutoPlace:["type",g6]};function dc(e,t,n,i){tt.call(this,e),this._elementRegistry=t,this._modeling=n,this._rules=i;var r=this;this.postExecuted(["shape.create"],function(a){var s=a.context,l=s.hints||{},u=s.shape,f=s.parent||s.newParent;l.autoResize!==!1&&r._expand([u],f)}),this.postExecuted(["elements.move"],function(a){var s=a.context,l=mb(hy(s.closure.topLevel)),u=s.hints,f=u?u.autoResize:!0;if(f!==!1){var p=Lu(l,function(d){return d.parent.id});ve(p,function(d,v){Tt(f)&&(d=d.filter(function(g){return mn(f,gs({id:g.id}))})),r._expand(d,v)})}}),this.postExecuted(["shape.toggleCollapse"],function(a){var s=a.context,l=s.hints,u=s.shape;l&&l.autoResize===!1||u.collapsed||r._expand(u.children||[],u)}),this.postExecuted(["shape.resize"],function(a){var s=a.context,l=s.hints,u=s.shape,f=u.parent;l&&l.autoResize===!1||f&&r._expand([u],f)})}dc.$inject=["eventBus","elementRegistry","modeling","rules"];dt(dc,tt);dc.prototype._getOptimalBounds=function(e,t){var n=this.getOffset(t),i=this.getPadding(t),r=_t(Ji(e)),a=_t(t),s={};return r.top-a.top<i.top&&(s.top=r.top-n.top),r.left-a.left<i.left&&(s.left=r.left-n.left),a.right-r.right<i.right&&(s.right=r.right+n.right),a.bottom-r.bottom<i.bottom&&(s.bottom=r.bottom+n.bottom),yy(Ne({},a,s))};dc.prototype._expand=function(e,t){typeof t=="string"&&(t=this._elementRegistry.get(t));var n=this._rules.allowed("element.autoResize",{elements:e,target:t});if(n){var i=this._getOptimalBounds(e,t);if(wD(i,t)){var r=xD(ys(t,["x","y","width","height"]),i);this.resize(t,i,{autoResize:r});var a=t.parent;a&&this._expand([t],a)}}};dc.prototype.getOffset=function(e){return{top:60,bottom:60,left:100,right:100}};dc.prototype.getPadding=function(e){return{top:2,bottom:2,left:15,right:15}};dc.prototype.resize=function(e,t,n){this._modeling.resizeShape(e,t,null,n)};function wD(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}function xD(e,t){var n="";return e=_t(e),t=_t(t),e.top>t.top&&(n=n.concat("n")),e.right<t.right&&(n=n.concat("w")),e.bottom<t.bottom&&(n=n.concat("s")),e.left>t.left&&(n=n.concat("e")),n}function By(e){e.invoke(dc,this)}By.$inject=["injector"];dt(By,dc);By.prototype.resize=function(e,t,n){U(e,"bpmn:Participant")?this._modeling.resizeLane(e,t,null,n):this._modeling.resizeShape(e,t,null,n)};function Cm(e){Do.call(this,e);var t=this;this.addRule("element.autoResize",function(n){return t.canResize(n.elements,n.target)})}Cm.$inject=["eventBus"];dt(Cm,Do);Cm.prototype.canResize=function(e,t){return!1};function ky(e,t){Cm.call(this,e),this._modeling=t}dt(ky,Cm);ky.$inject=["eventBus","modeling"];ky.prototype.canResize=function(e,t){if(U(t.di,"bpmndi:BPMNPlane")||!U(t,"bpmn:Participant")&&!U(t,"bpmn:Lane")&&!U(t,"bpmn:SubProcess"))return!1;var n=!0;return ve(e,function(i){if(U(i,"bpmn:Lane")||pn(i)){n=!1;return}}),n};const ED={__init__:["bpmnAutoResize","bpmnAutoResizeProvider"],bpmnAutoResize:["type",By],bpmnAutoResizeProvider:["type",ky]};var bE=1500;function v6(e,t,n){var i=this,r=n.get("dragging",!1);function a(s){if(!s.hover){var l=s.originalEvent,u=i._findTargetGfx(l),f=u&&e.get(u);u&&f&&(s.stopPropagation(),r.hover({element:f,gfx:u}),r.move(l))}}r&&t.on("drag.start",function(s){t.once("drag.move",bE,function(l){a(l)})}),function(){var s,l;t.on("element.hover",function(u){s=u.gfx,l=u.element}),t.on("element.hover",bE,function(u){l&&t.fire("element.out",{element:l,gfx:s})}),t.on("element.out",function(){s=null,l=null})}(),this._findTargetGfx=function(s){var l,u;if(s instanceof MouseEvent)return l=Qf(s),u=document.elementFromPoint(l.x,l.y),SD(u)}}v6.$inject=["elementRegistry","eventBus","injector"];function SD(e){return Tp(e,"svg, .djs-element",!0)}const AD={__init__:["hoverFix"],hoverFix:["type",v6]};var tp=Math.round,_E="djs-drag-active";function kf(e){e.preventDefault()}function ND(e){return typeof TouchEvent<"u"&&e instanceof TouchEvent}function CD(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function y6(e,t,n,i){var r={threshold:5,trapClick:!0},a;function s(M){var P=t.viewbox(),k=t._container.getBoundingClientRect();return{x:P.x+(M.x-k.left)/P.scale,y:P.y+(M.y-k.top)/P.scale}}function l(M,P){P=P||a;var k=e.createEvent(Ne({},P.payload,P.data,{isTouch:P.isTouch}));return e.fire("drag."+M,k)===!1?!1:e.fire(P.prefix+"."+M,k)}function u(M){var P=M.filter(function(k){return i.get(k.id)});P.length&&n.select(P)}function f(M,P){var k=a.payload,W=a.displacement,Q=a.globalStart,z=Qf(M),ie=vs(z,Q),le=a.localStart,H=s(z),j=vs(H,le);if(!a.active&&(P||CD(ie)>a.threshold)){if(Ne(k,{x:tp(le.x+W.x),y:tp(le.y+W.y),dx:0,dy:0},{originalEvent:M}),l("start")===!1)return E();a.active=!0,a.keepSelection||(k.previousSelection=n.get(),n.select(null)),a.cursor&&Ry(a.cursor),t.addMarker(t.getRootElement(),_E)}B1(M),a.active&&(Ne(k,{x:tp(H.x+W.x),y:tp(H.y+W.y),dx:tp(j.x),dy:tp(j.y)},{originalEvent:M}),l("move"))}function p(M){var P,k=!0;a.active&&(M&&(a.payload.originalEvent=M,B1(M)),k=l("end")),k===!1&&l("rejected"),P=R(k!==!0),l("ended",P)}function d(M){yr("Escape",M)&&(kf(M),E())}function v(M){var P;a.active&&(P=kA(e),setTimeout(P,400),kf(M)),p(M)}function g(M){f(M)}function w(M){var P=a.payload;P.hoverGfx=M.gfx,P.hover=M.element,l("hover")}function x(M){l("out");var P=a.payload;P.hoverGfx=null,P.hover=null}function E(M){var P;if(a){var k=a.active;k&&l("cancel"),P=R(M),k&&l("canceled",P)}}function R(M){var P,k;l("cleanup"),BA(),a.trapClick?k=v:k=p,Bt.unbind(document,"mousemove",f),Bt.unbind(document,"dragstart",kf),Bt.unbind(document,"selectstart",kf),Bt.unbind(document,"mousedown",k,!0),Bt.unbind(document,"mouseup",k,!0),Bt.unbind(document,"keyup",d),Bt.unbind(document,"touchstart",g,!0),Bt.unbind(document,"touchcancel",E,!0),Bt.unbind(document,"touchmove",f,!0),Bt.unbind(document,"touchend",p,!0),e.off("element.hover",w),e.off("element.out",x),t.removeMarker(t.getRootElement(),_E);var W=a.payload.previousSelection;return M!==!1&&W&&!n.get().length&&u(W),P=a,a=null,P}function L(M,P,k,W){a&&E(!1),typeof P=="string"&&(W=k,k=P,P=null),W=Ne({},r,W||{});var Q=W.data||{},z,ie,le,H,j;W.trapClick?H=v:H=p,M?(z=Lp(M)||M,ie=Qf(M),B1(M),z.type==="dragstart"&&kf(z)):(z=null,ie={x:0,y:0}),le=s(ie),P||(P=le),j=ND(z),a=Ne({prefix:k,data:Q,payload:{},globalStart:ie,displacement:vs(P,le),localStart:le,isTouch:j},W),W.manual||(j?(Bt.bind(document,"touchstart",g,!0),Bt.bind(document,"touchcancel",E,!0),Bt.bind(document,"touchmove",f,!0),Bt.bind(document,"touchend",p,!0)):(Bt.bind(document,"mousemove",f),Bt.bind(document,"dragstart",kf),Bt.bind(document,"selectstart",kf),Bt.bind(document,"mousedown",H,!0),Bt.bind(document,"mouseup",H,!0)),Bt.bind(document,"keyup",d),e.on("element.hover",w),e.on("element.out",x)),l("init"),W.autoActivate&&f(M,!0)}e.on("diagram.destroy",E),this.init=L,this.move=f,this.hover=w,this.out=x,this.end=p,this.cancel=E,this.context=function(){return a},this.setOptions=function(M){Ne(r,M)}}y6.$inject=["eventBus","canvas","selection","elementRegistry"];const mc={__depends__:[AD,_s],dragging:["type",y6]};function Ip(e,t,n){this._canvas=n,this._opts=Ne({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},e);var i=this;t.on("drag.move",function(r){var a=i._toBorderPoint(r);i.startScroll(a)}),t.on(["drag.cleanup"],function(){i.stopScroll()})}Ip.$inject=["config.autoScroll","eventBus","canvas"];Ip.prototype.startScroll=function(e){var t=this._canvas,n=this._opts,i=this,r=t.getContainer().getBoundingClientRect(),a=[e.x,e.y,r.width-e.x,r.height-e.y];this.stopScroll();for(var s=0,l=0,u=0;u<4;u++)TD(a[u],n.scrollThresholdOut[u],n.scrollThresholdIn[u])&&(u===0?s=n.scrollStep:u==1?l=n.scrollStep:u==2?s=-n.scrollStep:u==3&&(l=-n.scrollStep));(s!==0||l!==0)&&(t.scroll({dx:s,dy:l}),this._scrolling=setTimeout(function(){i.startScroll(e)},n.scrollRepeatTimeout))};function TD(e,t,n){return t<e&&e<n}Ip.prototype.stopScroll=function(){clearTimeout(this._scrolling)};Ip.prototype.setOptions=function(e){this._opts=Ne({},this._opts,e)};Ip.prototype._toBorderPoint=function(e){var t=this._canvas._container.getBoundingClientRect(),n=Qf(e.originalEvent);return{x:n.x-t.left,y:n.y-t.top}};const RD={__depends__:[mc],__init__:["autoScroll"],autoScroll:["type",Ip]};function Yb(e){this._commandStack=e.get("commandStack",!1)}Yb.$inject=["injector"];Yb.prototype.allowed=function(e,t){var n=!0,i=this._commandStack;return i&&(n=i.canExecute(e,t)),n===void 0?!0:n};const _l={__init__:["rules"],rules:["type",Yb]};var tv=Math.round,MD=Math.max;function PD(e,t){var n=e.x,i=e.y;return[["M",n,i],["m",0,-t],["a",t,t,0,1,1,0,2*t],["a",t,t,0,1,1,0,-2*t],["z"]]}function LD(e){var t=[];return e.forEach(function(n,i){t.push([i===0?"M":"L",n.x,n.y])}),t}var b6=10;function DD(e,t){var n,i;for(n=0;i=e[n];n++)if(bm(i,t)<=b6)return{point:e[n],bendpoint:!0,index:n};return null}function OD(e,t){var n=B4(PD(t,b6),LD(e)),i=n[0],r=n[n.length-1],a;return i?i!==r?i.segment2!==r.segment2?(a=MD(i.segment2,r.segment2)-1,{point:e[a],bendpoint:!0,index:a}):{point:{x:tv(i.x+r.x)/2,y:tv(i.y+r.y)/2},index:i.segment2}:{point:{x:tv(i.x),y:tv(i.y)},index:i.segment2}:null}function k2(e,t){return DD(e,t)||OD(e,t)}function _6(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}function wE(e){return Math.atan((e[1].y-e[0].y)/(e[1].x-e[0].x))}function BD(e,t){return t?{x:Math.cos(t)*e.x-Math.sin(t)*e.y,y:Math.sin(t)*e.x+Math.cos(t)*e.y}:e}function kD(e,t,n){var i=[{n:e[0]-n[0],lambda:t[0]},{n:e[1]-n[1],lambda:t[1]}],r=i[0].n*t[0]+i[1].n*t[1],a=i[0].lambda*t[0]+i[1].lambda*t[1];return-r/a}function Wb(e,t){var n=t[0],i=t[1],r={x:i.x-n.x,y:i.y-n.y},a=kD([n.x,n.y],[r.x,r.y],[e.x,e.y]);return{x:n.x+a*r.x,y:n.y+a*r.y}}function w6(e,t){var n=Wb(e,t),i={x:n.x-e.x,y:n.y-e.y};return _6(i)}function ty(e,t){return _6({x:e.x-t.x,y:e.y-t.y})}var x6="djs-bendpoint",E6="djs-segment-dragger";function jD(e,t){var n=Qf(t),i=e._container.getBoundingClientRect(),r;r={x:i.left,y:i.top};var a=e.viewbox();return{x:a.x+(n.x-r.x)/a.scale,y:a.y+(n.y-r.y)/a.scale}}function j2(e,t,n){var i=jD(e,n),r=k2(t,i);return r}function I2(e,t){var n=yt("g");fn(n).add(x6),Mt(e,n);var i=yt("circle");ft(i,{cx:0,cy:0,r:4}),fn(i).add("djs-visual"),Mt(n,i);var r=yt("circle");return ft(r,{cx:0,cy:0,r:10}),fn(r).add("djs-hit"),Mt(n,r),t&&fn(n).add(t),n}function ID(e,t,n,i){var r=yt("g");Mt(e,r);var a=18,s=6,l=11,u=zD(t,n,i),f=s+l,p=yt("rect");ft(p,{x:-a/2,y:-s/2,width:a,height:s}),fn(p).add("djs-visual"),Mt(r,p);var d=yt("rect");return ft(d,{x:-u/2,y:-f/2,width:u,height:f}),fn(d).add("djs-hit"),Mt(r,d),X4(r,i==="v"?90:0),r}function S6(e,t,n){var i=yt("g"),r=x2(t,n),a=ac(t,n);return Mt(e,i),ID(i,t,n,a),fn(i).add(E6),fn(i).add(a==="h"?"horizontal":"vertical"),Mr(i,r.x,r.y),i}function F2(e){return Math.abs(Math.round(e*2/3))}function FD(e,t){var n=HD(e,t);return Wb(e,n)}function zD(e,t,n){var i=t.x-e.x,r=t.y-e.y;return F2(n==="h"?i:r)}function HD(e,t){for(var n=t.waypoints,i=1/0,r,a=0;a<n.length-1;a++){var s=n[a],l=n[a+1],u=w6(e,[s,l]);u<i&&(i=u,r=a)}return[n[r],n[r+1]]}function A6(e,t,n,i,r){function a(M,P,k){var W=M.index,Q=M.point,z,ie,le,H,j,ae;return W<=0||M.bendpoint?!1:(z=P[W-1],ie=P[W],le=x2(z,ie),H=ac(z,ie),j=Math.abs(Q.x-le.x),ae=Math.abs(Q.y-le.y),H&&j<=k&&ae<=k)}function s(M,P){var k=M.waypoints,W,Q,z,ie;return P.index<=0||P.bendpoint||(W={start:k[P.index-1],end:k[P.index]},Q=ac(W.start,W.end),!Q)?null:(Q==="h"?z=W.end.x-W.start.x:z=W.end.y-W.start.y,ie=F2(z)/2,ie)}function l(M,P){var k=P.waypoints,W=j2(t,k,M),Q;if(W)return Q=s(P,W),a(W,k,Q)?r.start(M,P,W.index):i.start(M,P,W.index,!W.bendpoint),!0}function u(M,P,k){Bt.bind(M,P,function(W){n.triggerMouseEvent(P,W,k),W.stopPropagation()})}function f(M,P){var k=t.getLayer("overlays"),W=Pn('.djs-bendpoints[data-element-id="'+lm(M.id)+'"]',k);return!W&&P&&(W=yt("g"),ft(W,{"data-element-id":M.id}),fn(W).add("djs-bendpoints"),Mt(k,W),u(W,"mousedown",M),u(W,"click",M),u(W,"dblclick",M)),W}function p(M,P){return Pn('.djs-segment-dragger[data-segment-idx="'+M+'"]',P)}function d(M,P){P.waypoints.forEach(function(k,W){var Q=I2(M);Mt(M,Q),Mr(Q,k.x,k.y)}),I2(M,"floating")}function v(M,P){for(var k=P.waypoints,W,Q,z,ie=1;ie<k.length;ie++)W=k[ie-1],Q=k[ie],ac(W,Q)&&(z=S6(M,W,Q),ft(z,{"data-segment-idx":ie}),u(z,"mousemove",P))}function g(M){ve(b2("."+x6,M),function(P){Qi(P)})}function w(M){ve(b2("."+E6,M),function(P){Qi(P)})}function x(M){var P=f(M);return P||(P=f(M,!0),d(P,M),v(P,M)),P}function E(M){var P=f(M);P&&(w(P),g(P),v(P,M),d(P,M))}function R(M,P){var k=Pn(".floating",M),W=P.point;k&&Mr(k,W.x,W.y)}function L(M,P,k){var W=p(P.index,M),Q=k[P.index-1],z=k[P.index],ie=P.point,le=x2(Q,z),H=ac(Q,z),j,ae;W&&(j=UD(W),ae={x:ie.x-le.x,y:ie.y-le.y},H==="v"&&(ae={x:ae.y,y:ae.x}),Mr(j,ae.x,ae.y))}e.on("connection.changed",function(M){E(M.element)}),e.on("connection.remove",function(M){var P=f(M.element);P&&Qi(P)}),e.on("element.marker.update",function(M){var P=M.element,k;P.waypoints&&(k=x(P),M.add?fn(k).add(M.marker):fn(k).remove(M.marker))}),e.on("element.mousemove",function(M){var P=M.element,k=P.waypoints,W,Q;if(k){if(W=f(P,!0),Q=j2(t,k,M.originalEvent),!Q)return;R(W,Q),Q.bendpoint||L(W,Q,k)}}),e.on("element.mousedown",function(M){if(ju(M)){var P=M.originalEvent,k=M.element;if(k.waypoints)return l(P,k)}}),e.on("selection.changed",function(M){var P=M.newSelection,k=P[0];k&&k.waypoints&&x(k)}),e.on("element.hover",function(M){var P=M.element;P.waypoints&&(x(P),n.registerEvent(M.gfx,"mousemove","element.mousemove"))}),e.on("element.out",function(M){n.unregisterEvent(M.gfx,"mousemove","element.mousemove")}),e.on("element.updateId",function(M){var P=M.element,k=M.newId;if(P.waypoints){var W=f(P);W&&ft(W,{"data-element-id":k})}}),this.addHandles=x,this.updateHandles=E,this.getBendpointsContainer=f,this.getSegmentDragger=p}A6.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function UD(e){return Pn(".djs-visual",e)}var xE=Math.round,If="reconnectStart",Ff="reconnectEnd",zd="updateWaypoints";function Xb(e,t,n,i,r,a){this._injector=e,this.start=function(s,l,u,f){var p=n.getGraphics(l),d=l.source,v=l.target,g=l.waypoints,w;!f&&u===0?w=If:!f&&u===g.length-1?w=Ff:w=zd;var x=w===zd?"connection.updateWaypoints":"connection.reconnect",E=r.allowed(x,{connection:l,source:d,target:v});E===!1&&(E=r.allowed(x,{connection:l,source:v,target:d})),E!==!1&&i.init(s,"bendpoint.move",{data:{connection:l,connectionGfx:p,context:{allowed:E,bendpointIndex:u,connection:l,source:d,target:v,insert:f,type:w}}})},t.on("bendpoint.move.hover",function(s){var l=s.context,u=l.connection,f=u.source,p=u.target,d=s.hover,v=l.type;l.hover=d;var g;if(d){var w=v===zd?"connection.updateWaypoints":"connection.reconnect";if(g=l.allowed=r.allowed(w,{connection:u,source:v===If?d:f,target:v===Ff?d:p}),g){l.source=v===If?d:f,l.target=v===Ff?d:p;return}g===!1&&(g=l.allowed=r.allowed(w,{connection:u,source:v===Ff?d:p,target:v===If?d:f})),g&&(l.source=v===Ff?d:p,l.target=v===If?d:f)}}),t.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(s){var l=s.context,u=l.type;l.hover=null,l.source=null,l.target=null,u!==zd&&(l.allowed=!1)}),t.on("bendpoint.move.end",function(s){var l=s.context,u=l.allowed,f=l.bendpointIndex,p=l.connection,d=l.insert,v=p.waypoints.slice(),g=l.source,w=l.target,x=l.type,E=l.hints||{},R={x:xE(s.x),y:xE(s.y)};if(!u)return!1;x===zd?(d?v.splice(f,0,R):v[f]=R,E.bendpointMove={insert:d,bendpointIndex:f},v=this.cropWaypoints(p,v),a.updateWaypoints(p,IR(v),E)):(x===If?(E.docking="source",ny(l)&&(E.docking="target",E.newWaypoints=v.reverse())):x===Ff&&(E.docking="target",ny(l)&&(E.docking="source",E.newWaypoints=v.reverse())),a.reconnect(p,g,w,R,E))},this)}Xb.$inject=["injector","eventBus","canvas","dragging","rules","modeling"];Xb.prototype.cropWaypoints=function(e,t){var n=this._injector.get("connectionDocking",!1);if(!n)return t;var i=e.waypoints;return e.waypoints=t,e.waypoints=n.getCroppedWaypoints(e),t=e.waypoints,e.waypoints=i,t};function ny(e){var t=e.hover,n=e.source,i=e.target,r=e.type;if(r===If)return t&&i&&t===i&&n!==i;if(r===Ff)return t&&n&&t===n&&n!==i}var qD="reconnectStart",VD="reconnectEnd",EE="updateWaypoints",Hd="connect-ok",nv="connect-not-ok",SE="connect-hover",AE="djs-updating",NE="djs-dragging",CE=1100;function N6(e,t,n,i){this._injector=t;var r=t.get("connectionPreview",!1);n.on("bendpoint.move.start",function(a){var s=a.context,l=s.bendpointIndex,u=s.connection,f=s.insert,p=u.waypoints,d=p.slice();s.waypoints=p,f&&d.splice(l,0,{x:a.x,y:a.y}),u.waypoints=d;var v=s.draggerGfx=I2(i.getLayer("overlays"));fn(v).add("djs-dragging"),i.addMarker(u,NE),i.addMarker(u,AE)}),n.on("bendpoint.move.hover",function(a){var s=a.context,l=s.allowed,u=s.hover,f=s.type;if(u){if(i.addMarker(u,SE),f===EE)return;l?(i.removeMarker(u,nv),i.addMarker(u,Hd)):l===!1&&(i.removeMarker(u,Hd),i.addMarker(u,nv))}}),n.on(["bendpoint.move.out","bendpoint.move.cleanup"],CE,function(a){var s=a.context,l=s.hover,u=s.target;l&&(i.removeMarker(l,SE),i.removeMarker(l,u?Hd:nv))}),n.on("bendpoint.move.move",function(a){var s=a.context,l=s.allowed,u=s.bendpointIndex,f=s.draggerGfx,p=s.hover,d=s.type,v=s.connection,g=v.source,w=v.target,x=v.waypoints.slice(),E={x:a.x,y:a.y},R=s.hints||{},L={};r&&(R.connectionStart&&(L.connectionStart=R.connectionStart),R.connectionEnd&&(L.connectionEnd=R.connectionEnd),d===qD?ny(s)?(L.connectionEnd=L.connectionEnd||E,L.source=w,L.target=p||g,x=x.reverse()):(L.connectionStart=L.connectionStart||E,L.source=p||g,L.target=w):d===VD?ny(s)?(L.connectionStart=L.connectionStart||E,L.source=p||w,L.target=g,x=x.reverse()):(L.connectionEnd=L.connectionEnd||E,L.source=g,L.target=p||w):(L.noCropping=!0,L.noLayout=!0,x[u]=E),d===EE&&(x=e.cropWaypoints(v,x)),L.waypoints=x,r.drawPreview(s,l,L)),Mr(f,a.x,a.y)},this),n.on(["bendpoint.move.end","bendpoint.move.cancel"],CE,function(a){var s=a.context,l=s.connection,u=s.draggerGfx,f=s.hover,p=s.target,d=s.waypoints;l.waypoints=d,Qi(u),i.removeMarker(l,AE),i.removeMarker(l,NE),f&&(i.removeMarker(f,Hd),i.removeMarker(f,p?Hd:nv)),r&&r.cleanUp(s)})}N6.$inject=["bendpointMove","injector","eventBus","canvas"];var TE="connect-hover",RE="djs-updating";function ME(e,t,n){return Kb(e,t,e[t]+n)}function Kb(e,t,n){return{x:t==="x"?n:e.x,y:t==="y"?n:e.y}}function $D(e,t,n,i){var r=Math.max(t[i],n[i]),a=Math.min(t[i],n[i]),s=20,l=Math.min(Math.max(a+s,e[i]),r-s);return Kb(t,i,l)}function C6(e){return e==="x"?"y":"x"}function PE(e,t,n){var i,r;return e.original?e.original:(i=Ct(t),r=C6(n),Kb(e,r,i[r]))}function T6(e,t,n,i,r,a){var s=e.get("connectionDocking",!1);this.start=function(d,v,g){var w,x=n.getGraphics(v),E=g-1,R=g,L=v.waypoints,M=L[E],P=L[R],k=j2(n,L,d),W,Q,z;W=ac(M,P),W&&(Q=W==="v"?"x":"y",E===0&&(M=PE(M,v.source,Q)),R===L.length-1&&(P=PE(P,v.target,Q)),k?z=k.point:z={x:(M.x+P.x)/2,y:(M.y+P.y)/2},w={connection:v,segmentStartIndex:E,segmentEndIndex:R,segmentStart:M,segmentEnd:P,axis:Q,dragPosition:z},i.init(d,z,"connectionSegment.move",{cursor:Q==="x"?"resize-ew":"resize-ns",data:{connection:v,connectionGfx:x,context:w}}))};function l(d,v){if(!s)return v;var g=d.waypoints,w;return d.waypoints=v,w=s.getCroppedWaypoints(d),d.waypoints=g,w}function u(d){r.update("connection",d.connection,d.connectionGfx)}function f(d,v,g){var w=d.newWaypoints,x=d.segmentStartIndex+v,E=w[x],R=d.segmentEndIndex+v,L=w[R],M=C6(d.axis),P=$D(g,E,L,M);Mr(d.draggerGfx,P.x,P.y)}function p(d,v){var g=0,w=d.filter(function(x,E){return wb(d[E-1],d[E+1],x)?(g=E<=v?g-1:g,!1):!0});return{waypoints:w,segmentOffset:g}}t.on("connectionSegment.move.start",function(d){var v=d.context,g=d.connection,w=n.getLayer("overlays");v.originalWaypoints=g.waypoints.slice(),v.draggerGfx=S6(w,v.segmentStart,v.segmentEnd),fn(v.draggerGfx).add("djs-dragging"),n.addMarker(g,RE)}),t.on("connectionSegment.move.move",function(d){var v=d.context,g=v.connection,w=v.segmentStartIndex,x=v.segmentEndIndex,E=v.segmentStart,R=v.segmentEnd,L=v.axis,M=v.originalWaypoints.slice(),P=ME(E,L,d["d"+L]),k=ME(R,L,d["d"+L]),W=M.length,Q=0;M[w]=P,M[x]=k;var z,ie;w<2&&(z=$r(g.source,P),w===1?z==="intersect"&&(M.shift(),M[0]=P,Q--):z!=="intersect"&&(M.unshift(E),Q++)),x>W-3&&(ie=$r(g.target,k),x===W-2?ie==="intersect"&&(M.pop(),M[M.length-1]=k):ie!=="intersect"&&M.push(R)),v.newWaypoints=g.waypoints=l(g,M),f(v,Q,d),v.newSegmentStartIndex=w+Q,u(d)}),t.on("connectionSegment.move.hover",function(d){d.context.hover=d.hover,n.addMarker(d.hover,TE)}),t.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(d){var v=d.context.hover;v&&n.removeMarker(v,TE)}),t.on("connectionSegment.move.cleanup",function(d){var v=d.context,g=v.connection;v.draggerGfx&&Qi(v.draggerGfx),n.removeMarker(g,RE)}),t.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(d){var v=d.context,g=v.connection;g.waypoints=v.originalWaypoints,u(d)}),t.on("connectionSegment.move.end",function(d){var v=d.context,g=v.connection,w=v.newWaypoints,x=v.newSegmentStartIndex;w=w.map(function(k){return{original:k.original,x:Math.round(k.x),y:Math.round(k.y)}});var E=p(w,x),R=E.waypoints,L=l(g,R),M=E.segmentOffset,P={segmentMove:{segmentStartIndex:v.segmentStartIndex,newSegmentStartIndex:x+M}};a.updateWaypoints(g,L,P)})}T6.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"];var GD=Math.abs,LE=Math.round;function YD(e,t,n){n=n===void 0?10:n;var i,r;for(i=0;i<t.length;i++)if(r=t[i],GD(r-e)<=n)return r}function R6(e){return{x:e.x,y:e.y}}function M6(e){return{x:e.x+e.width,y:e.y+e.height}}function Ro(e,t){return!e||isNaN(e.x)||isNaN(e.y)?t:{x:LE(e.x+e.width/2),y:LE(e.y+e.height/2)}}function Sp(e,t){var n=e.snapped;return n?typeof t=="string"?n[t]:n.x&&n.y:!1}function Bi(e,t,n){if(typeof t!="string")throw new Error("axis must be in [x, y]");if(typeof n!="number"&&n!==!1)throw new Error("value must be Number or false");var i,r=e[t],a=e.snapped=e.snapped||{};return n===!1?a[t]=!1:(a[t]=!0,i=n-r,e[t]+=i,e["d"+t]+=i),r}function P6(e){return e.children||[]}var WD=Math.abs,DE=Math.round,z1=10;function L6(e){function t(a,s){if(Tt(a)){for(var l=a.length;l--;)if(WD(a[l]-s)<=z1)return a[l]}else{a=+a;var u=s%a;if(u<z1)return s-u;if(u>a-z1)return s-u+a}return s}function n(a,s){if(a.waypoints)return FD(s,a);if(a.width)return{x:DE(a.width/2+a.x),y:DE(a.height/2+a.y)}}function i(a){var s=a.context,l=s.snapPoints,u=s.connection,f=u.waypoints,p=s.segmentStart,d=s.segmentStartIndex,v=s.segmentEnd,g=s.segmentEndIndex,w=s.axis;if(l)return l;var x=[f[d-1],p,v,f[g+1]];return d<2&&x.unshift(n(u.source,a)),g>f.length-3&&x.unshift(n(u.target,a)),s.snapPoints=l={horizontal:[],vertical:[]},ve(x,function(E){E&&(E=E.original||E,w==="y"&&l.horizontal.push(E.y),w==="x"&&l.vertical.push(E.x))}),l}e.on("connectionSegment.move.move",1500,function(a){var s=i(a),l=a.x,u=a.y,f,p;if(s){f=t(s.vertical,l),p=t(s.horizontal,u);var d=l-f,v=u-p;Ne(a,{dx:a.dx-d,dy:a.dy-v,x:f,y:p}),(d||s.vertical.indexOf(l)!==-1)&&Bi(a,"x",f),(v||s.horizontal.indexOf(u)!==-1)&&Bi(a,"y",p)}});function r(a){var s=a.snapPoints,l=a.connection.waypoints,u=a.bendpointIndex;if(s)return s;var f=[l[u-1],l[u+1]];return a.snapPoints=s={horizontal:[],vertical:[]},ve(f,function(p){p&&(p=p.original||p,s.horizontal.push(p.y),s.vertical.push(p.x))}),s}e.on(["connect.hover","connect.move","connect.end"],1500,function(a){var s=a.context,l=s.hover,u=l&&n(l,a);!Ln(l)||!u||!u.x||!u.y||(Bi(a,"x",u.x),Bi(a,"y",u.y))}),e.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(a){var s=a.context,l=r(s),u=s.hover,f=u&&n(u,a),p=a.x,d=a.y,v,g;if(l){v=t(f?l.vertical.concat([f.x]):l.vertical,p),g=t(f?l.horizontal.concat([f.y]):l.horizontal,d);var w=p-v,x=d-g;Ne(a,{dx:a.dx-w,dy:a.dy-x,x:a.x-w,y:a.y-x}),(w||l.vertical.indexOf(p)!==-1)&&Bi(a,"x",v),(x||l.horizontal.indexOf(d)!==-1)&&Bi(a,"y",g)}})}L6.$inject=["eventBus"];const XD={__depends__:[mc,_l],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",A6],bendpointMove:["type",Xb],bendpointMovePreview:["type",N6],connectionSegmentMove:["type",T6],bendpointSnapping:["type",L6]};function D6(e,t,n,i){function r(s,l){return i.allowed("connection.create",{source:s,target:l})}function a(s,l){return r(l,s)}e.on("connect.hover",function(s){var l=s.context,u=l.start,f=s.hover,p;if(l.hover=f,p=l.canExecute=r(u,f),!am(p)){if(p!==!1){l.source=u,l.target=f;return}p=l.canExecute=a(u,f),!am(p)&&p!==!1&&(l.source=f,l.target=u)}}),e.on(["connect.out","connect.cleanup"],function(s){var l=s.context;l.hover=null,l.source=null,l.target=null,l.canExecute=!1}),e.on("connect.end",function(s){var l=s.context,u=l.canExecute,f=l.connectionStart,p={x:s.x,y:s.y},d=l.source,v=l.target;if(!u)return!1;var g=null,w={connectionStart:z2(l)?p:f,connectionEnd:z2(l)?f:p};_r(u)&&(g=u),l.connection=n.connect(d,v,g,w)}),this.start=function(s,l,u,f){_r(u)||(f=u,u=Ct(l)),t.init(s,"connect",{autoActivate:f,data:{shape:l,context:{start:l,connectionStart:u}}})}}D6.$inject=["eventBus","dragging","modeling","rules"];function z2(e){var t=e.hover,n=e.source,i=e.target;return t&&n&&t===n&&n!==i}var KD=1100,ZD=900,OE="connect-ok",BE="connect-not-ok";function O6(e,t,n){var i=e.get("connectionPreview",!1);i&&t.on("connect.move",function(r){var a=r.context,s=a.canExecute,l=a.hover,u=a.source,f=a.start,p=a.startPosition,d=a.target,v=a.connectionStart||p,g=a.connectionEnd||{x:r.x,y:r.y},w=v,x=g;z2(a)&&(w=g,x=v),i.drawPreview(a,s,{source:u||f,target:d||l,connectionStart:w,connectionEnd:x})}),t.on("connect.hover",ZD,function(r){var a=r.context,s=r.hover,l=a.canExecute;l!==null&&n.addMarker(s,l?OE:BE)}),t.on(["connect.out","connect.cleanup"],KD,function(r){var a=r.hover;a&&(n.removeMarker(a,OE),n.removeMarker(a,BE))}),i&&t.on("connect.cleanup",function(r){i.cleanUp(r.context)})}O6.$inject=["injector","eventBus","canvas"];const Zb={__depends__:[_s,_l,mc],__init__:["connectPreview"],connect:["type",D6],connectPreview:["type",O6]};var QD="djs-dragger";function gc(e,t,n,i){this._canvas=t,this._graphicsFactory=n,this._elementFactory=i,this._connectionDocking=e.get("connectionDocking",!1),this._layouter=e.get("layouter",!1)}gc.$inject=["injector","canvas","graphicsFactory","elementFactory"];gc.prototype.drawPreview=function(e,t,n){n=n||{};var i=e.connectionPreviewGfx,r=e.getConnection,a=n.source,s=n.target,l=n.waypoints,u=n.connectionStart,f=n.connectionEnd,p=n.noLayout,d=n.noCropping,v=n.noNoop,g,w=this;if(i||(i=e.connectionPreviewGfx=this.createConnectionPreviewGfx()),my(i),r||(r=e.getConnection=JD(function(x,E,R){return w.getConnection(x,E,R)})),t&&(g=r(t,a,s)),!g){!v&&this.drawNoopPreview(i,n);return}g.waypoints=l||[],this._layouter&&!p&&(g.waypoints=this._layouter.layoutConnection(g,{source:a,target:s,connectionStart:u,connectionEnd:f,waypoints:n.waypoints||g.waypoints})),(!g.waypoints||!g.waypoints.length)&&(g.waypoints=[a?Ct(a):u,s?Ct(s):f]),this._connectionDocking&&(a||s)&&!d&&(g.waypoints=this._connectionDocking.getCroppedWaypoints(g,a,s)),this._graphicsFactory.drawConnection(i,g,{stroke:"var(--element-dragger-color)"})};gc.prototype.drawNoopPreview=function(e,t){var n=t.source,i=t.target,r=t.connectionStart||Ct(n),a=t.connectionEnd||Ct(i),s=this.cropWaypoints(r,a,n,i),l=this.createNoopConnection(s[0],s[1]);Mt(e,l)};gc.prototype.cropWaypoints=function(e,t,n,i){var r=this._graphicsFactory,a=n&&r.getShapePath(n),s=i&&r.getShapePath(i),l=r.getConnectionPath({waypoints:[e,t]});return e=n&&S2(a,l,!0)||e,t=i&&S2(s,l,!1)||t,[e,t]};gc.prototype.cleanUp=function(e){e&&e.connectionPreviewGfx&&Qi(e.connectionPreviewGfx)};gc.prototype.getConnection=function(e){var t=eO(e);return this._elementFactory.createConnection(t)};gc.prototype.createConnectionPreviewGfx=function(){var e=yt("g");return ft(e,{pointerEvents:"none"}),fn(e).add(QD),Mt(this._canvas.getActiveLayer(),e),e};gc.prototype.createNoopConnection=function(e,t){return gy([e,t],{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"})};function JD(e){var t={};return function(n){var i=JSON.stringify(n),r=t[i];return r||(r=t[i]=e.apply(null,arguments)),r}}function eO(e){return _r(e)?e:{}}const tO={__init__:["connectionPreview"],connectionPreview:["type",gc]},nO=new Am("ps");var iO=["marker-start","marker-mid","marker-end"],rO=["circle","ellipse","line","path","polygon","polyline","path","rect"];function Fu(e,t,n,i){this._elementRegistry=e,this._canvas=n,this._styles=i}Fu.$inject=["elementRegistry","eventBus","canvas","styles"];Fu.prototype.cleanUp=function(){console.warn("PreviewSupport#cleanUp is deprecated and will be removed in future versions. You do not need to manually clean up previews anymore. cf. https://github.com/bpmn-io/diagram-js/pull/906")};Fu.prototype.getGfx=function(e){return this._elementRegistry.getGraphics(e)};Fu.prototype.addDragger=function(e,t,n,i="djs-dragger"){n=n||this.getGfx(e);var r=A4(n),a=n.getBoundingClientRect();return this._cloneMarkers(Yf(r),i),ft(r,this._styles.cls(i,[],{x:a.top,y:a.left})),Mt(t,r),ft(r,"data-preview-support-element-id",e.id),r};Fu.prototype.addFrame=function(e,t){var n=yt("rect",{class:"djs-resize-overlay",width:e.width,height:e.height,x:e.x,y:e.y});return Mt(t,n),ft(n,"data-preview-support-element-id",e.id),n};Fu.prototype._cloneMarkers=function(e,t="djs-dragger",n=e){var i=this;e.childNodes&&e.childNodes.forEach(r=>{i._cloneMarkers(r,t,n)}),lO(e)&&iO.forEach(function(r){if(ft(e,r)){var a=aO(e,r,i._canvas.getContainer());a&&i._cloneMarker(n,e,a,r,t)}})};Fu.prototype._cloneMarker=function(e,t,n,i,r="djs-dragger"){var a=[n.id,r,nO.next()].join("-"),s=Pn("marker#"+n.id,e);e=e||this._canvas._svg;var l=s||A4(n);l.id=a,fn(l).add(r);var u=Pn(":scope > defs",e);u||(u=yt("defs"),Mt(e,u)),Mt(u,l);var f=sO(l.id);ft(t,i,f)};function aO(e,t,n){var i=oO(ft(e,t));return Pn("marker#"+i,n||document)}function oO(e){return e.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function sO(e){return"url(#"+e+")"}function lO(e){return rO.indexOf(e.nodeName)!==-1}const Fp={__init__:["previewSupport"],previewSupport:["type",Fu]},iv="complex-preview";class B6{constructor(t,n,i){this._canvas=t,this._graphicsFactory=n,this._previewSupport=i,this._markers=[]}create(t){this.cleanUp();const{created:n=[],moved:i=[],removed:r=[],resized:a=[]}=t,s=this._canvas.getLayer(iv);n.filter(l=>!cO(l)).forEach(l=>{let u;Ln(l)?(u=this._graphicsFactory._createContainer("connection",yt("g")),this._graphicsFactory.drawConnection(Yf(u),l)):(u=this._graphicsFactory._createContainer("shape",yt("g")),this._graphicsFactory.drawShape(Yf(u),l),Mr(u,l.x,l.y)),this._previewSupport.addDragger(l,s,u)}),i.forEach(({element:l,delta:u})=>{this._previewSupport.addDragger(l,s,void 0,"djs-dragging"),this._canvas.addMarker(l,"djs-element-hidden"),this._markers.push([l,"djs-element-hidden"]);const f=this._previewSupport.addDragger(l,s);Ln(l)?Mr(f,u.x,u.y):Mr(f,l.x+u.x,l.y+u.y)}),r.forEach(l=>{this._previewSupport.addDragger(l,s,void 0,"djs-dragging"),this._canvas.addMarker(l,"djs-element-hidden"),this._markers.push([l,"djs-element-hidden"])}),a.forEach(({shape:l,bounds:u})=>{this._canvas.addMarker(l,"djs-hidden"),this._markers.push([l,"djs-hidden"]),this._previewSupport.addDragger(l,s,void 0,"djs-dragging");const f=this._graphicsFactory._createContainer("shape",yt("g"));this._graphicsFactory.drawShape(Yf(f),l,{width:u.width,height:u.height}),Mr(f,u.x,u.y),this._previewSupport.addDragger(l,s,f)})}cleanUp(){my(this._canvas.getLayer(iv)),this._markers.forEach(([t,n])=>this._canvas.removeMarker(t,n)),this._markers=[]}show(){this._canvas.showLayer(iv)}hide(){this._canvas.hideLayer(iv)}}B6.$inject=["canvas","graphicsFactory","previewSupport"];function cO(e){return e.hidden}const uO={__depends__:[Fp],__init__:["complexPreview"],complexPreview:["type",B6]};var Qb=["top","bottom","left","right"],rv=10;function Jb(e,t){tt.call(this,e),this.postExecuted(["connection.create","connection.layout","connection.updateWaypoints"],function(r){var a=r.context,s=a.connection,l=s.source,u=s.target,f=a.hints||{};f.createElementsBehavior!==!1&&(n(l),n(u))}),this.postExecuted(["label.create"],function(r){var a=r.context,s=a.shape,l=a.hints||{};l.createElementsBehavior!==!1&&n(s.labelTarget)}),this.postExecuted(["elements.create"],function(r){var a=r.context,s=a.elements,l=a.hints||{};l.createElementsBehavior!==!1&&s.forEach(function(u){n(u)})});function n(r){if(xy(r)&&!Ln(r)){var a=pO(r);a&&i(r,a)}}function i(r,a){var s=Ct(r),l=r.label,u=Ct(l);if(l.parent){var f=_t(r),p;switch(a){case"top":p={x:s.x,y:f.top-rv-l.height/2};break;case"left":p={x:f.left-rv-l.width/2,y:s.y};break;case"bottom":p={x:s.x,y:f.bottom+rv+l.height/2};break;case"right":p={x:f.right+rv+l.width/2,y:s.y};break}var d=vs(p,u);t.moveShape(l,d)}}}dt(Jb,tt);Jb.$inject=["eventBus","modeling"];function fO(e){var t=e.host,n=Ct(e),i=$r(n,t),r;i.indexOf("-")>=0?r=i.split("-"):r=[i];var a=Qb.filter(function(s){return r.indexOf(s)===-1});return a}function hO(e){var t=Ct(e),n=[].concat(e.incoming.map(function(i){return i.waypoints[i.waypoints.length-2]}),e.outgoing.map(function(i){return i.waypoints[1]})).map(function(i){return k6(t,i)});return n}function pO(e){var t=Ct(e.label),n=Ct(e),i=k6(n,t);if(dO(i)){var r=hO(e);if(e.host){var a=fO(e);r=r.concat(a)}var s=Qb.filter(function(l){return r.indexOf(l)===-1});if(s.indexOf(i)===-1)return s[0]}}function k6(e,t){return $r(t,e,5)}function dO(e){return Qb.indexOf(e)!==-1}function e5(e){tt.call(this,e),this.preExecute("shape.append",function(t){var n=t.source,i=t.shape;t.position||(U(i,"bpmn:TextAnnotation")?t.position={x:n.x+n.width/2+75,y:n.y-50-i.height/2}:t.position={x:n.x+n.width+80+i.width/2,y:n.y+n.height/2})},!0)}dt(e5,tt);e5.$inject=["eventBus"];function t5(e,t){e.invoke(tt,this),this.postExecute("shape.move",function(n){var i=n.newParent,r=n.shape,a=Yt(r.incoming.concat(r.outgoing),function(s){return U(s,"bpmn:Association")});ve(a,function(s){t.moveConnection(s,{x:0,y:0},i)})},!0)}dt(t5,tt);t5.$inject=["injector","modeling"];var kE=500;function jy(e,t){t.invoke(tt,this),this._bpmnReplace=e;var n=this;this.postExecuted("elements.create",kE,function(i){var r=i.elements;r=r.filter(function(a){var s=a.host;return jE(a,s)}),r.length===1&&r.map(function(a){return r.indexOf(a)}).forEach(function(a){var s=r[a];i.elements[a]=n._replaceShape(r[a],s)})},!0),this.preExecute("elements.move",kE,function(i){var r=i.shapes,a=i.newHost;if(r.length===1){var s=r[0];jE(s,a)&&(i.shapes=[n._replaceShape(s,a)])}},!0)}jy.$inject=["bpmnReplace","injector"];dt(jy,tt);jy.prototype._replaceShape=function(e,t){var n=mO(e),i={type:"bpmn:BoundaryEvent",host:t};return n&&(i.eventDefinitionType=n.$type),this._bpmnReplace.replaceElement(e,i,{layoutConnection:!1})};function mO(e){var t=rt(e),n=t.eventDefinitions;return n&&n[0]}function jE(e,t){return!pn(e)&&Wt(e,["bpmn:IntermediateThrowEvent","bpmn:IntermediateCatchEvent"])&&!!t}function n5(e,t){tt.call(this,e);function n(i){return Yt(i.attachers,function(r){return U(r,"bpmn:BoundaryEvent")})}this.postExecute("connection.create",function(i){var r=i.context.source,a=i.context.target,s=n(a);U(r,"bpmn:EventBasedGateway")&&U(a,"bpmn:ReceiveTask")&&s.length>0&&t.removeElements(s)}),this.postExecute("connection.reconnect",function(i){var r=i.context.oldSource,a=i.context.newSource;U(r,"bpmn:Gateway")&&U(a,"bpmn:EventBasedGateway")&&ve(a.outgoing,function(s){var l=s.target,u=n(l);U(l,"bpmn:ReceiveTask")&&u.length>0&&t.removeElements(u)})})}n5.$inject=["eventBus","modeling"];dt(n5,tt);function i5(e,t,n){tt.call(this,e),this.preExecute("shape.replace",l,!0),this.postExecuted("shape.replace",u,!0),this.preExecute("connection.create",r,!0),this.postExecuted("connection.delete",i,!0),this.postExecuted("connection.reconnect",a,!0),this.postExecuted("element.updateProperties",s,!0);function i(E){const R=E.source,L=E.target;np(R)&&Ud(L)&&p(L)}function r(E){const R=E.connection,L=E.source,M=E.target;np(L)&&av(M)&&(f(M),v(L,[R]))}function a(E){const R=E.newTarget,L=E.oldSource,M=E.oldTarget;if(M!==R){const P=L;Ud(M)&&p(M),np(P)&&av(R)&&f(R)}}function s(E){const{element:R}=E;Ud(R)?(d(R),g(R)):av(R)&&w(R)}function l(E){const{newData:R,oldShape:L}=E;if(np(E.oldShape)&&R.eventDefinitionType!=="bpmn:CompensateEventDefinition"||R.type!=="bpmn:BoundaryEvent"){const M=L.outgoing.find(({target:P})=>Ud(P));M&&M.target&&(E._connectionTarget=M.target)}else if(!np(E.oldShape)&&R.eventDefinitionType==="bpmn:CompensateEventDefinition"&&R.type==="bpmn:BoundaryEvent"){const M=L.outgoing.find(({target:P})=>av(P));M&&M.target&&(E._connectionTarget=M.target),x(L)}}function u(E){const{_connectionTarget:R,newShape:L}=E;R&&t.connect(L,R)}function f(E){t.updateProperties(E,{isForCompensation:!0})}function p(E){t.updateProperties(E,{isForCompensation:void 0})}function d(E){for(const R of E.incoming)n.canConnect(R.source,E)||t.removeConnection(R);for(const R of E.outgoing)n.canConnect(E,R.target)||t.removeConnection(R)}function v(E,R){E.outgoing.filter(P=>U(P,"bpmn:Association")).filter(P=>Ud(P.target)&&!R.includes(P)).forEach(P=>t.removeConnection(P))}function g(E){const R=E.attachers.slice();R.length&&t.removeElements(R)}function w(E){const R=E.incoming.filter(L=>np(L.source));t.removeElements(R)}function x(E){const R=E.outgoing.filter(L=>U(L,"bpmn:SequenceFlow"));t.removeElements(R)}}dt(i5,tt);i5.$inject=["eventBus","modeling","bpmnRules"];function Ud(e){const t=rt(e);return t&&t.get("isForCompensation")}function np(e){return e&&U(e,"bpmn:BoundaryEvent")&&Pp(e,"bpmn:CompensateEventDefinition")}function av(e){return e&&U(e,"bpmn:Activity")&&!Vr(e)}function r5(e){e.invoke(tt,this),this.preExecute("shape.create",1500,function(t){var n=t.context,i=n.parent,r=n.shape;U(i,"bpmn:Lane")&&!U(r,"bpmn:Lane")&&(n.parent=Ep(i,"bpmn:Participant"))})}r5.$inject=["injector"];dt(r5,tt);function a5(e,t){tt.call(this,e),this.preExecute("shape.create",function(n){var i=n.context,r=i.shape;if(U(r,"bpmn:DataObjectReference")&&r.type!=="label"){var a=t.create("bpmn:DataObject");r.businessObject.dataObjectRef=a}})}a5.$inject=["eventBus","bpmnFactory"];dt(a5,tt);var H2=20,U2=20,j6=30,ov=2e3;function o5(e,t,n){tt.call(this,t),t.on(["create.start","shape.move.start"],ov,function(r){var a=r.context,s=a.shape,l=e.getRootElement();if(!(!U(s,"bpmn:Participant")||!U(l,"bpmn:Process")||!l.children.length)){var u=l.children.filter(function(d){return!U(d,"bpmn:Group")&&!pn(d)&&!Ln(d)});if(u.length){var f=Ji(u),p=gO(s,f);Ne(s,p),a.createConstraints=vO(s,f)}}}),t.on("create.start",ov,function(r){var a=r.context,s=a.shape,l=e.getRootElement(),u=e.getGraphics(l);function f(p){p.element=l,p.gfx=u}U(s,"bpmn:Participant")&&U(l,"bpmn:Process")&&(t.on("element.hover",ov,f),t.once("create.cleanup",function(){t.off("element.hover",f)}))});function i(){var r=e.getRootElement();return U(r,"bpmn:Collaboration")?r:n.makeCollaboration()}this.preExecute("elements.create",ov,function(r){var a=r.elements,s=r.parent,l=yO(a),u;l&&U(s,"bpmn:Process")&&(r.parent=i(),u=r.hints=r.hints||{},u.participant=l,u.process=s,u.processRef=rt(l).get("processRef"))},!0),this.preExecute("shape.create",function(r){var a=r.parent,s=r.shape;U(s,"bpmn:Participant")&&U(a,"bpmn:Process")&&(r.parent=i(),r.process=a,r.processRef=rt(s).get("processRef"))},!0),this.execute("shape.create",function(r){var a=r.hints||{},s=r.process||a.process,l=r.shape,u=a.participant;s&&(!u||l===u)&&rt(l).set("processRef",rt(s))},!0),this.revert("shape.create",function(r){var a=r.hints||{},s=r.process||a.process,l=r.processRef||a.processRef,u=r.shape,f=a.participant;s&&(!f||u===f)&&rt(u).set("processRef",l)},!0),this.postExecute("shape.create",function(r){var a=r.hints||{},s=r.process||r.hints.process,l=r.shape,u=a.participant;if(s){var f=s.children.slice();u?l===u&&n.moveElements(f,{x:0,y:0},u):n.moveElements(f,{x:0,y:0},l)}},!0)}o5.$inject=["canvas","eventBus","modeling"];dt(o5,tt);function gO(e,t){t={width:t.width+H2*2+j6,height:t.height+U2*2};var n=Math.max(e.width,t.width),i=Math.max(e.height,t.height);return{x:-n/2,y:-i/2,width:n,height:i}}function vO(e,t){return t=_t(t),{bottom:t.top+e.height/2-U2,left:t.right-e.width/2+H2,top:t.bottom-e.height/2+U2,right:t.left+e.width/2-H2-j6}}function yO(e){return mn(e,function(t){return U(t,"bpmn:Participant")})}var IE="__targetRef_placeholder";function s5(e,t){tt.call(this,e),this.executed(["connection.create","connection.delete","connection.move","connection.reconnect"],FE(a)),this.reverted(["connection.create","connection.delete","connection.move","connection.reconnect"],FE(a));function n(s,l,u){var f=s.get("dataInputAssociations");return mn(f,function(p){return p!==u&&p.targetRef===l})}function i(s,l){var u=s.get("properties"),f=mn(u,function(p){return p.name===IE});return!f&&l&&(f=t.create("bpmn:Property",{name:IE}),er(u,f)),f}function r(s,l){var u=i(s);u&&(n(s,u,l)||ki(s.get("properties"),u))}function a(s){var l=s.context,u=l.connection,f=u.businessObject,p=u.target,d=p&&p.businessObject,v=l.newTarget,g=v&&v.businessObject,w=l.oldTarget||l.target,x=w&&w.businessObject,E=u.businessObject,R;x&&x!==d&&r(x,f),g&&g!==d&&r(g,f),d?(R=i(d,!0),E.targetRef=R):E.targetRef=null}}s5.$inject=["eventBus","bpmnFactory"];dt(s5,tt);function FE(e){return function(t){var n=t.context,i=n.connection;if(U(i,"bpmn:DataInputAssociation"))return e(t)}}function Iy(e){this._bpmnUpdater=e}Iy.$inject=["bpmnUpdater"];Iy.prototype.execute=function(e){var t=e.dataStoreBo,n=e.dataStoreDi,i=e.newSemanticParent,r=e.newDiParent;return e.oldSemanticParent=t.$parent,e.oldDiParent=n.$parent,this._bpmnUpdater.updateSemanticParent(t,i),this._bpmnUpdater.updateDiParent(n,r),[]};Iy.prototype.revert=function(e){var t=e.dataStoreBo,n=e.dataStoreDi,i=e.oldSemanticParent,r=e.oldDiParent;return this._bpmnUpdater.updateSemanticParent(t,i),this._bpmnUpdater.updateDiParent(n,r),[]};function l5(e,t,n,i){tt.call(this,i),t.registerHandler("dataStore.updateContainment",Iy);function r(){return n.filter(function(l){return U(l,"bpmn:Participant")&&rt(l).processRef})[0]}function a(l){return l.children.filter(function(u){return U(u,"bpmn:DataStoreReference")&&!u.labelTarget})}function s(l,u){var f=l.businessObject||l;if(u=u||r(),u){var p=u.businessObject||u;t.execute("dataStore.updateContainment",{dataStoreBo:f,dataStoreDi:hn(l),newSemanticParent:p.processRef||p,newDiParent:hn(u)})}}this.preExecute("shape.create",function(l){var u=l.context,f=u.shape;U(f,"bpmn:DataStoreReference")&&f.type!=="label"&&(u.hints||(u.hints={}),u.hints.autoResize=!1)}),this.preExecute("elements.move",function(l){var u=l.context,f=u.shapes,p=f.filter(function(d){return U(d,"bpmn:DataStoreReference")});p.length&&(u.hints||(u.hints={}),u.hints.autoResize=f.filter(function(d){return!U(d,"bpmn:DataStoreReference")}))}),this.postExecute("shape.create",function(l){var u=l.context,f=u.shape,p=f.parent;U(f,"bpmn:DataStoreReference")&&f.type!=="label"&&U(p,"bpmn:Collaboration")&&s(f)}),this.postExecute("shape.move",function(l){var u=l.context,f=u.shape,p=u.oldParent,d=f.parent;if(!U(p,"bpmn:Collaboration")&&U(f,"bpmn:DataStoreReference")&&f.type!=="label"&&U(d,"bpmn:Collaboration")){var v=U(p,"bpmn:Participant")?p:_O(p,"bpmn:Participant");s(f,v)}}),this.postExecute("shape.delete",function(l){var u=l.context,f=u.shape,p=e.getRootElement();Wt(f,["bpmn:Participant","bpmn:SubProcess"])&&U(p,"bpmn:Collaboration")&&a(p).filter(function(d){return bO(d,f)}).forEach(function(d){s(d)})}),this.postExecute("canvas.updateRoot",function(l){var u=l.context,f=u.oldRoot,p=u.newRoot,d=a(f);d.forEach(function(v){U(p,"bpmn:Process")&&s(v,p)})})}l5.$inject=["canvas","commandStack","elementRegistry","eventBus"];dt(l5,tt);function bO(e,t){for(var n=e.businessObject||e,i=t.businessObject||t;n.$parent;){if(n.$parent===i.processRef||i)return!0;n=n.$parent}return!1}function _O(e,t){for(;e.parent;){if(U(e.parent,t))return e.parent;e=e.parent}}var iy=Math.max,ry=Math.min,wO=20;function I6(e,t){return{top:e.top-t.top,right:e.right-t.right,bottom:e.bottom-t.bottom,left:e.left-t.left}}function xO(e,t,n){var i=n.x,r=n.y,a={x:e.x,y:e.y,width:e.width,height:e.height};return t.indexOf("n")!==-1?(a.y=e.y+r,a.height=e.height-r):t.indexOf("s")!==-1&&(a.height=e.height+r),t.indexOf("e")!==-1?a.width=e.width+i:t.indexOf("w")!==-1&&(a.x=e.x+i,a.width=e.width-i),a}function EO(e,t){return{x:e.x+(t.left||0),y:e.y+(t.top||0),width:e.width-(t.left||0)+(t.right||0),height:e.height-(t.top||0)+(t.bottom||0)}}function sv(e,t,n){var i=t[e],r=n.min&&n.min[e],a=n.max&&n.max[e];return Nt(r)&&(i=(/top|left/.test(e)?ry:iy)(i,r)),Nt(a)&&(i=(/top|left/.test(e)?iy:ry)(i,a)),i}function SO(e,t){if(!t)return e;var n=_t(e);return yy({top:sv("top",n,t),right:sv("right",n,t),bottom:sv("bottom",n,t),left:sv("left",n,t)})}function AO(e,t,n,i){var r=_t(t),a={top:/n/.test(e)?r.bottom-n.height:r.top,left:/w/.test(e)?r.right-n.width:r.left,bottom:/s/.test(e)?r.top+n.height:r.bottom,right:/e/.test(e)?r.left+n.width:r.right},s=i?_t(i):a,l={top:ry(a.top,s.top),left:ry(a.left,s.left),bottom:iy(a.bottom,s.bottom),right:iy(a.right,s.right)};return yy(l)}function qd(e,t){return typeof e<"u"?e:wO}function NO(e,t){var n,i,r,a;return typeof t=="object"?(n=qd(t.left),i=qd(t.right),r=qd(t.top),a=qd(t.bottom)):n=i=r=a=qd(t),{x:e.x-n,y:e.y-r,width:e.width+n+i,height:e.height+r+a}}function CO(e){return!(e.waypoints||e.type==="label")}function F6(e,t){var n;if(e.length===void 0?n=Yt(e.children,CO):n=e,n.length)return NO(Ji(n),t)}var hu=Math.abs;function TO(e,t){return I6(_t(t),_t(e))}var RO=["bpmn:Participant","bpmn:Process","bpmn:SubProcess"],Co=30;function Fy(e,t){return t=t||[],e.children.filter(function(n){U(n,"bpmn:Lane")&&(Fy(n,t),t.push(n))}),t}function zu(e){return e.children.filter(function(t){return U(t,"bpmn:Lane")})}function To(e){return Ep(e,RO)||e}function MO(e,t){var n=To(e),i=U(n,"bpmn:Process")?[]:[n],r=Fy(n,i),a=_t(e),s=_t(t),l=TO(e,t),u=[],f=hr(e);return r.forEach(function(p){if(p!==e){var d=f?0:l.top,v=f?l.right:0,g=f?0:l.bottom,w=f?l.left:0,x=_t(p);l.top&&(hu(x.bottom-a.top)<10&&(g=s.top-x.bottom),hu(x.top-a.top)<5&&(d=s.top-x.top)),l.left&&(hu(x.right-a.left)<10&&(v=s.left-x.right),hu(x.left-a.left)<5&&(w=s.left-x.left)),l.bottom&&(hu(x.top-a.bottom)<10&&(d=s.bottom-x.top),hu(x.bottom-a.bottom)<5&&(g=s.bottom-x.bottom)),l.right&&(hu(x.left-a.right)<10&&(w=s.right-x.left),hu(x.right-a.right)<5&&(v=s.right-x.right)),(d||v||g||w)&&u.push({shape:p,newBounds:EO(p,{top:d,right:v,bottom:g,left:w})})}}),u}var PO=500;function c5(e,t){tt.call(this,e);function n(i,r){var a=hr(i),s=zu(r),l=[],u=[],f=[],p=[];if(nh(s,function(E){return a?E.y>i.y?u.push(E):l.push(E):E.x>i.x?p.push(E):f.push(E),E.children}),!!s.length){var d;a?u.length&&l.length?d=i.height/2:d=i.height:p.length&&f.length?d=i.width/2:d=i.width;var v,g,w,x;l.length&&(v=t.calculateAdjustments(l,"y",d,i.y-10),t.makeSpace(v.movingShapes,v.resizingShapes,{x:0,y:d},"s")),u.length&&(g=t.calculateAdjustments(u,"y",-d,i.y+i.height+10),t.makeSpace(g.movingShapes,g.resizingShapes,{x:0,y:-d},"n")),f.length&&(w=t.calculateAdjustments(f,"x",d,i.x-10),t.makeSpace(w.movingShapes,w.resizingShapes,{x:d,y:0},"e")),p.length&&(x=t.calculateAdjustments(p,"x",-d,i.x+i.width+10),t.makeSpace(x.movingShapes,x.resizingShapes,{x:-d,y:0},"w"))}}this.postExecuted("shape.delete",PO,function(i){var r=i.context,a=r.hints,s=r.shape,l=r.oldParent;U(s,"bpmn:Lane")&&(a&&a.nested||n(s,l))})}c5.$inject=["eventBus","spaceTool"];dt(c5,tt);var zE=500;function zy(e,t){t.invoke(tt,this),this._bpmnReplace=e;var n=this;this.postExecuted("elements.create",zE,function(i){var r=i.elements;r.filter(function(a){var s=a.host;return HE(a,s)}).map(function(a){return r.indexOf(a)}).forEach(function(a){i.elements[a]=n._replaceShape(r[a])})},!0),this.preExecute("elements.move",zE,function(i){var r=i.shapes,a=i.newHost;r.forEach(function(s,l){var u=s.host;HE(s,DO(r,u)?u:a)&&(r[l]=n._replaceShape(s))})},!0)}zy.$inject=["bpmnReplace","injector"];dt(zy,tt);zy.prototype._replaceShape=function(e){var t=LO(e),n;return t?n={type:"bpmn:IntermediateCatchEvent",eventDefinitionType:t.$type}:n={type:"bpmn:IntermediateThrowEvent"},this._bpmnReplace.replaceElement(e,n,{layoutConnection:!1})};function LO(e){var t=rt(e),n=t.eventDefinitions;return n&&n[0]}function HE(e,t){return!pn(e)&&U(e,"bpmn:BoundaryEvent")&&!t}function DO(e,t){return e.indexOf(t)!==-1}function u5(e,t,n){tt.call(this,e);function i(r,a,s){var l=a.waypoints,u,f,p,d,v,g,w,x=r.outgoing.slice(),E=r.incoming.slice(),R;Nt(s.width)?R=Ct(s):R=s;var L=k2(l,R);if(L){if(u=l.slice(0,L.index),f=l.slice(L.index+(L.bendpoint?1:0)),!u.length||!f.length)return;p=L.bendpoint?l[L.index]:R,(u.length===1||!UE(r,u[u.length-1]))&&u.push(qE(p)),(f.length===1||!UE(r,f[0]))&&f.unshift(qE(p))}d=a.source,v=a.target,t.canConnect(d,r,a)&&(n.reconnectEnd(a,r,u||R),g=a),t.canConnect(r,v,a)&&(g?w=n.connect(r,v,{type:a.type,waypoints:f}):(n.reconnectStart(a,r,f||R),w=a));var M=[].concat(g&&Yt(E,function(P){return P.source===g.source})||[],w&&Yt(x,function(P){return P.target===w.target})||[]);M.length&&n.removeElements(M)}this.preExecute("elements.move",function(r){var a=r.newParent,s=r.shapes,l=r.delta,u=s[0];if(!(!u||!a)){a&&a.waypoints&&(r.newParent=a=a.parent);var f=Ct(u),p={x:f.x+l.x,y:f.y+l.y},d=mn(a.children,function(v){var g=t.canInsert(s,v);return g&&k2(v.waypoints,p)});d&&(r.targetFlow=d,r.position=p)}},!0),this.postExecuted("elements.move",function(r){var a=r.shapes,s=r.targetFlow,l=r.position;s&&i(a[0],s,l)},!0),this.preExecute("shape.create",function(r){var a=r.parent,s=r.shape;t.canInsert(s,a)&&(r.targetFlow=a,r.parent=a.parent)},!0),this.postExecuted("shape.create",function(r){var a=r.shape,s=r.targetFlow,l=r.position;s&&i(a,s,l)},!0)}dt(u5,tt);u5.$inject=["eventBus","bpmnRules","modeling"];function UE(e,t){var n=t.x,i=t.y;return n>=e.x&&n<=e.x+e.width&&i>=e.y&&i<=e.y+e.height}function qE(e){return Ne({},e)}function f5(e,t){tt.call(this,e),this.preExecuted("connection.create",function(n){var i=n.context,r=i.connection,a=i.source,s=i.target,l=i.hints;if(!(l&&l.createElementsBehavior===!1)&&ip(r)){var u=[];U(a,"bpmn:EventBasedGateway")?u=s.incoming.filter(f=>f!==r&&ip(f)):u=s.incoming.filter(f=>f!==r&&ip(f)&&U(f.source,"bpmn:EventBasedGateway")),u.forEach(function(f){t.removeConnection(f)})}}),this.preExecuted("shape.replace",function(n){var i=n.context,r=i.newShape;if(U(r,"bpmn:EventBasedGateway")){var a=r.outgoing.filter(ip).reduce(function(s,l){return s.includes(l.target)?s:s.concat(l.target)},[]);a.forEach(function(s){s.incoming.filter(ip).forEach(function(l){const u=s.incoming.filter(ip).filter(function(f){return f.source===r});(l.source!==r||u.length>1)&&t.removeConnection(l)})})}})}f5.$inject=["eventBus","modeling"];dt(f5,tt);function ip(e){return U(e,"bpmn:SequenceFlow")}var lv=1500,VE=2e3;function z6(e,t,n){t.on(["create.hover","create.move","create.out","create.end","shape.move.hover","shape.move.move","shape.move.out","shape.move.end"],lv,function(i){var r=i.context,a=r.shape||i.shape,s=i.hover;U(s,"bpmn:Lane")&&!Wt(a,["bpmn:Lane","bpmn:Participant"])&&(i.hover=To(s),i.hoverGfx=e.getGraphics(i.hover));var l=n.getRootElement();s!==l&&(a.labelTarget||Wt(a,["bpmn:Group","bpmn:TextAnnotation"]))&&(i.hover=l,i.hoverGfx=e.getGraphics(i.hover))}),t.on(["connect.hover","connect.out","connect.end","connect.cleanup","global-connect.hover","global-connect.out","global-connect.end","global-connect.cleanup"],lv,function(i){var r=i.hover;U(r,"bpmn:Lane")&&(i.hover=To(r)||r,i.hoverGfx=e.getGraphics(i.hover))}),t.on(["bendpoint.move.hover"],lv,function(i){var r=i.context,a=i.hover,s=r.type;U(a,"bpmn:Lane")&&/reconnect/.test(s)&&(i.hover=To(a)||a,i.hoverGfx=e.getGraphics(i.hover))}),t.on(["connect.start"],lv,function(i){var r=i.context,a=r.start;U(a,"bpmn:Lane")&&(r.start=To(a)||a)}),t.on("shape.move.start",VE,function(i){var r=i.shape;U(r,"bpmn:Lane")&&(i.shape=To(r)||r)}),t.on("spaceTool.move",VE,function(i){var r=i.hover;r&&U(r,"bpmn:Lane")&&(i.hover=To(r))})}z6.$inject=["elementRegistry","eventBus","canvas"];function OO(e){return e.create("bpmn:Category")}function BO(e){return e.create("bpmn:CategoryValue")}function kO(e,t,n){return er(t.get("categoryValue"),e),e.$parent=t,er(n.get("rootElements"),t),t.$parent=n,e}function jO(e){var t=e.$parent;return t&&(ki(t.get("categoryValue"),e),e.$parent=null),e}function IO(e){var t=e.$parent;return t&&(ki(t.get("rootElements"),e),e.$parent=null),e}var $E=770;function h5(e,t,n,i,r,a){r.invoke(tt,this);function s(){return n.filter(function(w){return U(w,"bpmn:Group")})}function l(w,x){return w.some(function(E){var R=rt(E),L=R.categoryValueRef&&R.categoryValueRef.$parent;return L===x})}function u(w,x){return w.some(function(E){var R=rt(E);return R.categoryValueRef===x})}function f(w,x,E){var R=s().filter(function(L){return L.businessObject!==E});x&&!l(R,x)&&IO(x),w&&!u(R,w)&&jO(w)}function p(w,x){return kO(w,x,t.getDefinitions())}function d(w,x){var E=rt(w),R=E.categoryValueRef;R||(R=E.categoryValueRef=x.categoryValue=x.categoryValue||BO(e));var L=R.$parent;L||(L=R.$parent=x.category=x.category||OO(e)),p(R,L,t.getDefinitions())}function v(w,x){var E=x.category,R=x.categoryValue,L=rt(w);R?(L.categoryValueRef=null,f(R,E,L)):f(null,L.categoryValueRef.$parent,L)}this.execute("label.create",function(w){var x=w.context,E=x.labelTarget;U(E,"bpmn:Group")&&d(E,x)}),this.revert("label.create",function(w){var x=w.context,E=x.labelTarget;U(E,"bpmn:Group")&&v(E,x)}),this.execute("shape.delete",function(w){var x=w.context,E=x.shape,R=rt(E);if(!(!U(E,"bpmn:Group")||E.labelTarget)){var L=x.categoryValue=R.categoryValueRef,M;L&&(M=x.category=L.$parent,f(L,M,R),R.categoryValueRef=null)}}),this.reverted("shape.delete",function(w){var x=w.context,E=x.shape;if(!(!U(E,"bpmn:Group")||E.labelTarget)){var R=x.category,L=x.categoryValue,M=rt(E);L&&(M.categoryValueRef=L,p(L,R))}}),this.execute("shape.create",function(w){var x=w.context,E=x.shape;!U(E,"bpmn:Group")||E.labelTarget||rt(E).categoryValueRef&&d(E,x)}),this.reverted("shape.create",function(w){var x=w.context,E=x.shape;!U(E,"bpmn:Group")||E.labelTarget||rt(E).categoryValueRef&&v(E,x)});function g(w,x){var E=e.create(w.$type);return a.copyElement(w,E,null,x)}i.on("copyPaste.copyElement",$E,function(w){var x=w.descriptor,E=w.element;if(!(!U(E,"bpmn:Group")||E.labelTarget)){var R=rt(E);if(R.categoryValueRef){var L=R.categoryValueRef;x.categoryValue=g(L,!0),L.$parent&&(x.category=g(L.$parent,!0))}}}),i.on("copyPaste.pasteElement",$E,function(w){var x=w.descriptor,E=x.businessObject,R=x.categoryValue,L=x.category;R&&(R=E.categoryValueRef=g(R)),L&&(R.$parent=g(L)),delete x.category,delete x.categoryValue})}h5.$inject=["bpmnFactory","bpmnjs","elementRegistry","eventBus","injector","moddleCopy"];dt(h5,tt);function q2(e,t,n,i){var r,a,s,l,u;return r=(i.y-n.y)*(t.x-e.x)-(i.x-n.x)*(t.y-e.y),r==0?null:(a=e.y-n.y,s=e.x-n.x,u=(i.x-n.x)*a-(i.y-n.y)*s,l=u/r,{x:Math.round(e.x+l*(t.x-e.x)),y:Math.round(e.y+l*(t.y-e.y))})}function H6(e){function t(i,r,a){var s={x:a.x,y:a.y-50},l={x:a.x-50,y:a.y},u=q2(i,r,a,s),f=q2(i,r,a,l),p;u&&f?GE(u,a)>GE(f,a)?p=f:p=u:p=u||f,i.original=p}function n(i){var r=i.waypoints;t(r[0],r[1],Ct(i.source)),t(r[r.length-1],r[r.length-2],Ct(i.target))}e.on("bpmnElement.added",function(i){var r=i.element;r.waypoints&&n(r)})}H6.$inject=["eventBus"];function GE(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function p5(e){tt.call(this,e);var t=["bpmn:Participant","bpmn:Lane"];this.executed(["shape.move","shape.create","shape.resize"],function(n){var i=n.context.shape,r=rt(i),a=hn(i);if(Wt(r,t)){var s=a.get("isHorizontal");s===void 0&&(s=!0),a.set("isHorizontal",s)}})}p5.$inject=["eventBus"];dt(p5,tt);var U6=Math.sqrt,q6=Math.min,FO=Math.max,YE=Math.abs;function WE(e){return Math.pow(e,2)}function Vd(e,t){return U6(WE(e.x-t.x)+WE(e.y-t.y))}function zO(e,t){var n=0,i,r,a,s,l,u,f,p,d,v,g;for(n=0;n<t.length-1;n++){if(i=t[n],r=t[n+1],KE(i,r)?f=[i]:(a=Vd(e,i),s=Vd(e,r),u=q6(a,s),f=HO(i,r,e,u)),f.length<1)throw new Error("expected between [1, 2] circle -> line intersections");f.length===1&&(p={type:"bendpoint",position:f[0],segmentIndex:n,bendpointIndex:KE(i,f[0])?n:n+1}),f.length===2&&(l=qO(f[0],f[1]),p={type:"segment",position:l,segmentIndex:n,relativeLocation:Vd(i,l)/Vd(i,r)}),d=Vd(p.position,e),(!g||v>d)&&(g=p,v=d)}return g}function HO(e,t,n,i){var r=t.x-e.x,a=t.y-e.y,s=n.x-e.x,l=n.y-e.y,u=r*r+a*a,f=r*s+a*l,p=s*s+l*l-i*i,d=f/u,v=p/u,g=d*d-v;if(g<0&&g>-1e-6&&(g=0),g<0)return[];var w=U6(g),x=-d+w,E=-d-w,R={x:e.x-r*x,y:e.y-a*x};if(g===0)return[R];var L={x:e.x-r*E,y:e.y-a*E};return[R,L].filter(function(M){return UO(M,e,t)})}function UO(e,t,n){return XE(e.x,t.x,n.x)&&XE(e.y,t.y,n.y)}function XE(e,t,n){return e>=q6(t,n)-ay&&e<=FO(t,n)+ay}function qO(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}var ay=.1;function KE(e,t){return YE(e.x-t.x)<=ay&&YE(e.y-t.y)<=ay}function VO(e,t,n,i){var r=n.segmentIndex,a=t.length-e.length;if(i.segmentMove){var s=i.segmentMove.segmentStartIndex,l=i.segmentMove.newSegmentStartIndex;return r===s?l:r>=l?r+a<l?l:r+a:r}if(i.bendpointMove){var u=i.bendpointMove.insert,f=i.bendpointMove.bendpointIndex,p;if(a===0)return r;if(r>=f&&(p=u?r+1:r-1),r<f&&(p=r,u&&n.type!=="bendpoint"&&f-1===r)){var d=$6(t,f);d<n.relativeLocation&&p++}return p}return a===0?r:i.connectionStart&&r===0?0:i.connectionEnd&&r===e.length-2?t.length-2:Math.floor((t.length-2)/2)}function V6(e,t,n,i){var r=0,a=0,s={point:e,delta:{x:0,y:0}},l=zO(e,n),u=l.segmentIndex,f=VO(n,t,l,i);if(f<0||f>t.length-2||f===null)return s;var p=ZE(n,u),d=ZE(t,f),v=l.position,g=GO(p,v),w=$O(p,d);if(l.type==="bendpoint"){var x=t.length-n.length,E=l.bendpointIndex,R=n[E];if(t.indexOf(R)!==-1)return s;if(x===0){var L=t[E];return r=L.x-l.position.x,a=L.y-l.position.y,{delta:{x:r,y:a},point:{x:e.x+r,y:e.y+a}}}x<0&&E!==0&&E<n.length-1&&(g=$6(n,E))}var M={x:(d[1].x-d[0].x)*g+d[0].x,y:(d[1].y-d[0].y)*g+d[0].y},P=BD({x:e.x-v.x,y:e.y-v.y},w);return r=M.x+P.x-e.x,a=M.y+P.y-e.y,{point:sc(M),delta:sc({x:r,y:a})}}function $6(e,t){var n=ty(e[t-1],e[t]),i=ty(e[t],e[t+1]),r=n/(n+i);return r}function $O(e,t){var n=wE(e),i=wE(t);return i-n}function ZE(e,t){return[e[t],e[t+1]]}function GO(e,t){var n=ty(e[0],e[1]),i=ty(e[0],t);return n===0?0:i/n}function YO(e,t,n,i){var r=Ct(e);return V6(r,t,n,i).delta}function Tm(e,t,n){var i=tm(t),r=tm(n),a=vs(e,i),s={x:a.x*(n.width/t.width),y:a.y*(n.height/t.height)};return sc({x:r.x+s.x,y:r.y+s.y})}function QE(e,t,n){var i=tm(e),r=tm(t),a=tm(n),s=vs(e,i),l=vs(i,r),u=WO(i,t,n);if(u)return u;var f={x:l.x*(n.width/t.width),y:l.y*(n.height/t.height)},p={x:a.x+f.x,y:a.y+f.y};return sc({x:p.x+s.x-e.x,y:p.y+s.y-e.y})}function WO(e,t,n){var i=_t(t),r=_t(n);if(XO(i,r))return null;var a=$r(t,e),s,l,u;if(a==="top")s={x:0,y:r.bottom-i.bottom};else if(a==="bottom")s={x:0,y:r.top-i.top};else if(a==="right")s={x:r.left-i.left,y:0};else if(a==="left")s={x:r.right-i.right,y:0};else return null;return l={x:e.x+s.x,y:e.y+s.y},u=$r(n,l),u!==a?null:s}function XO(e,t){return KO(e,t)||ZO(e,t)}function KO(e,t){return e.right!==t.right&&e.left!==t.left}function ZO(e,t){return e.top!==t.top&&e.bottom!==t.bottom}var JE="name",e3="text";function d5(e,t,n,i){tt.call(this,e),this.postExecute("element.updateProperties",r),this.postExecute("element.updateModdleProperties",s=>{rt(s.context.element)===s.context.moddleElement&&r(s)});function r(s){var l=s.context,u=l.element,f=l.properties;if(JE in f&&t.updateLabel(u,f[JE]),e3 in f&&U(u,"bpmn:TextAnnotation")){var p=i.getTextAnnotationBounds({x:u.x,y:u.y,width:u.width,height:u.height},f[e3]||"");t.updateLabel(u,f.text,p)}}this.postExecute(["shape.create","connection.create"],function(s){var l=s.context,u=l.hints||{};if(u.createElementsBehavior!==!1){var f=l.shape||l.connection;pn(f)||!Zf(f)||bs(f)&&t.updateLabel(f,bs(f))}}),this.postExecute("shape.delete",function(s){var l=s.context,u=l.labelTarget,f=l.hints||{};u&&f.unsetLabel!==!1&&t.updateLabel(u,null,null,{removeShape:!1})});function a(s){var l=s.context,u=l.connection,f=u.label,p=Ne({},l.hints),d=l.newWaypoints||u.waypoints,v=l.oldWaypoints;return typeof p.startChanged>"u"&&(p.startChanged=!!p.connectionStart),typeof p.endChanged>"u"&&(p.endChanged=!!p.connectionEnd),YO(f,d,v,p)}this.postExecute(["connection.layout","connection.updateWaypoints"],function(s){var l=s.context,u=l.hints||{};if(u.labelBehavior!==!1){var f=l.connection,p=f.label,d;!p||!p.parent||(d=a(s),t.moveShape(p,d))}}),this.postExecute(["shape.replace"],function(s){var l=s.context,u=l.newShape,f=l.oldShape,p=rt(u);p&&Zf(p)&&f.label&&u.label&&(u.label.x=f.label.x,u.label.y=f.label.y)}),this.postExecute("shape.resize",function(s){var l=s.context,u=l.shape,f=l.newBounds,p=l.oldBounds;if(xy(u)){var d=u.label,v=Ct(d),g=eB(p),w=JO(v,g),x=QO(w,p,f);t.moveShape(d,x)}})}dt(d5,tt);d5.$inject=["eventBus","modeling","bpmnFactory","textRenderer"];function QO(e,t,n){var i=Tm(e,t,n);return sc(vs(i,e))}function JO(e,t){if(t.length){var n=tB(e,t);return Wb(e,n)}}function eB(e){return[[{x:e.x,y:e.y},{x:e.x+(e.width||0),y:e.y}],[{x:e.x+(e.width||0),y:e.y},{x:e.x+(e.width||0),y:e.y+(e.height||0)}],[{x:e.x,y:e.y+(e.height||0)},{x:e.x+(e.width||0),y:e.y+(e.height||0)}],[{x:e.x,y:e.y},{x:e.x,y:e.y+(e.height||0)}]]}function tB(e,t){var n=t.map(function(r){return{line:r,distance:w6(e,r)}}),i=ml(n,"distance");return i[0].line}function nB(e,t,n,i){return V6(e,t,n,i).point}function m5(e,t){tt.call(this,e);function n(i,r){var a=i.context,s=a.connection,l=Ne({},a.hints),u=a.newWaypoints||s.waypoints,f=a.oldWaypoints;return typeof l.startChanged>"u"&&(l.startChanged=!!l.connectionStart),typeof l.endChanged>"u"&&(l.endChanged=!!l.connectionEnd),nB(r,u,f,l)}this.postExecute(["connection.layout","connection.updateWaypoints"],function(i){var r=i.context,a=r.connection,s=a.outgoing,l=a.incoming;l.forEach(function(u){var f=u.waypoints[u.waypoints.length-1],p=n(i,f),d=[].concat(u.waypoints.slice(0,-1),[p]);t.updateWaypoints(u,d)}),s.forEach(function(u){var f=u.waypoints[0],p=n(i,f),d=[].concat([p],u.waypoints.slice(1));t.updateWaypoints(u,d)})}),this.postExecute(["connection.move"],function(i){var r=i.context,a=r.connection,s=a.outgoing,l=a.incoming,u=r.delta;l.forEach(function(f){var p=f.waypoints[f.waypoints.length-1],d={x:p.x+u.x,y:p.y+u.y},v=[].concat(f.waypoints.slice(0,-1),[d]);t.updateWaypoints(f,v)}),s.forEach(function(f){var p=f.waypoints[0],d={x:p.x+u.x,y:p.y+u.y},v=[].concat([d],f.waypoints.slice(1));t.updateWaypoints(f,v)})})}dt(m5,tt);m5.$inject=["eventBus","modeling"];function Hy(e,t,n){var i=qy(e),r=Y6(i,t),a=i[0];return r.length?r[r.length-1]:Tm(a.original||a,n,t)}function Uy(e,t,n){var i=qy(e),r=Y6(i,t),a=i[i.length-1];return r.length?r[0]:Tm(a.original||a,n,t)}function g5(e,t,n){var i=qy(e),r=G6(t,n),a=i[0];return Tm(a.original||a,r,t)}function v5(e,t,n){var i=qy(e),r=G6(t,n),a=i[i.length-1];return Tm(a.original||a,r,t)}function G6(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function qy(e){var t=e.waypoints;if(!t.length)throw new Error("connection#"+e.id+": no waypoints");return t}function Y6(e,t){var n=Pr(e,rB);return Yt(n,function(i){return iB(i,t)})}function iB(e,t){return $r(t,e,1)==="intersect"}function rB(e){return e.original||e}function y5(e,t){tt.call(this,e),this.postExecute("shape.replace",function(n){var i=n.oldShape,r=n.newShape;if(aB(i,r)){var a=oB(i);a.incoming.forEach(function(s){var l=Uy(s,r,i);t.reconnectEnd(s,r,l)}),a.outgoing.forEach(function(s){var l=Hy(s,r,i);t.reconnectStart(s,r,l)})}},!0)}y5.$inject=["eventBus","modeling"];dt(y5,tt);function aB(e,t){return U(e,"bpmn:Participant")&&Jt(e)&&U(t,"bpmn:Participant")&&!Jt(t)}function oB(e){var t=ym([e],!1),n=[],i=[];return t.forEach(function(r){r!==e&&(r.incoming.forEach(function(a){U(a,"bpmn:MessageFlow")&&n.push(a)}),r.outgoing.forEach(function(a){U(a,"bpmn:MessageFlow")&&i.push(a)}))},[]),{incoming:n,outgoing:i}}const sB=["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:EscalationEventDefinition","bpmn:ConditionalEventDefinition","bpmn:SignalEventDefinition"];function W6(e){const t=rt(e);if(!U(t,"bpmn:BoundaryEvent")&&!(U(t,"bpmn:StartEvent")&&Vr(t.$parent)))return!1;const n=t.get("eventDefinitions");return!n||!n.length?!1:sB.some(i=>U(n[0],i))}function X6(e){return U(e,"bpmn:BoundaryEvent")?"cancelActivity":"isInterrupting"}function b5(e,t){e.invoke(tt,this),this.postExecuted("shape.replace",function(n){const i=n.context.oldShape,r=n.context.newShape,a=n.context.hints;if(!W6(r))return;const s=X6(r);if(a.targetElement&&a.targetElement[s]!==void 0)return;const u=rt(i).get(s),f=rt(r).get(s);u!==f&&t.updateProperties(r,{[s]:u})})}b5.$inject=["injector","modeling"];dt(b5,tt);function _5(e,t){tt.call(this,e),this.preExecute("shape.resize",function(n){var i=n.shape,r=hn(i),a=r&&r.get("label"),s=a&&a.get("bounds");s&&t.updateModdleProperties(i,a,{bounds:void 0})},!0)}dt(_5,tt);_5.$inject=["eventBus","modeling"];function w5(e,t,n){tt.call(this,e),this.preExecute("shape.delete",function(i){var r=i.context.shape;if(!(r.incoming.length!==1||r.outgoing.length!==1)){var a=r.incoming[0],s=r.outgoing[0];if(!(!U(a,"bpmn:SequenceFlow")||!U(s,"bpmn:SequenceFlow"))&&t.canConnect(a.source,s.target,a)){var l=lB(a.waypoints,s.waypoints);n.reconnectEnd(a,s.target,l)}}})}dt(w5,tt);w5.$inject=["eventBus","bpmnRules","modeling"];function rp(e){return e.original||e}function lB(e,t){var n=q2(rp(e[e.length-2]),rp(e[e.length-1]),rp(t[1]),rp(t[0]));return n?[].concat(e.slice(0,e.length-1),[n],t.slice(1)):[rp(e[0]),rp(t[t.length-1])]}function x5(e,t){tt.call(this,e),this.preExecute("shape.delete",function(n){var i=n.shape,r=i.parent;U(i,"bpmn:Participant")&&(n.collaborationRoot=r)},!0),this.postExecute("shape.delete",function(n){var i=n.collaborationRoot;if(i&&!i.businessObject.participants.length){var r=t.makeProcess(),a=i.children.slice();t.moveElements(a,{x:0,y:0},r)}},!0)}x5.$inject=["eventBus","modeling"];dt(x5,tt);function E5(e,t,n,i){tt.call(this,e);var r=i.get("dragging",!1);function a(u){var f=u.source,p=u.target,d=u.parent;if(d){var v,g;U(u,"bpmn:SequenceFlow")&&(n.canConnectSequenceFlow(f,p)||(g=!0),n.canConnectMessageFlow(f,p)&&(v="bpmn:MessageFlow")),U(u,"bpmn:MessageFlow")&&(n.canConnectMessageFlow(f,p)||(g=!0),n.canConnectSequenceFlow(f,p)&&(v="bpmn:SequenceFlow")),g&&t.removeConnection(u),v&&t.connect(f,p,{type:v,waypoints:u.waypoints.slice()})}}function s(u){var f=u.context,p=f.connection,d=f.newSource||p.source,v=f.newTarget||p.target,g,w;g=n.canConnect(d,v),!(!g||g.type===p.type)&&(w=t.connect(d,v,{type:g.type,associationDirection:g.associationDirection,waypoints:p.waypoints.slice()}),p.parent&&t.removeConnection(p),f.connection=w,r&&l(p,w))}function l(u,f){var p=r.context(),d=p&&p.payload.previousSelection,v;!d||!d.length||(v=d.indexOf(u),v!==-1&&d.splice(v,1,f))}this.postExecuted("elements.move",function(u){var f=u.closure,p=f.allConnections;ve(p,a)},!0),this.preExecute("connection.reconnect",s),this.postExecuted("element.updateProperties",function(u){var f=u.context,p=f.properties,d=f.element,v=d.businessObject,g;p.default&&(g=mn(d.outgoing,gs({id:d.businessObject.default.id})),g&&t.updateProperties(g,{conditionExpression:void 0})),p.conditionExpression&&v.sourceRef.default===v&&t.updateProperties(d.source,{default:void 0})})}dt(E5,tt);E5.$inject=["eventBus","modeling","bpmnRules","injector"];function Vy(e,t,n,i,r,a){i.invoke(tt,this),this._bpmnReplace=e,this._elementRegistry=n,this._selection=a,this.postExecuted(["elements.create"],500,function(s){var l=s.context,u=l.parent,f=l.elements,p=xa(f,function(d,v){var g=t.canReplace([v],v.host||v.parent||u);return g?d.concat(g.replacements):d},[]);p.length&&this._replaceElements(f,p)},this),this.postExecuted(["elements.move"],500,function(s){var l=s.context,u=l.newParent,f=l.newHost,p=[];ve(l.closure.topLevel,function(v){Vr(v)?p=p.concat(v.children):p=p.concat(v)}),p.length===1&&f&&(u=f);var d=t.canReplace(p,u);d&&this._replaceElements(p,d.replacements,f)},this),this.postExecute(["shape.replace"],1500,function(s){var l=s.context,u=l.oldShape,f=l.newShape,p=u.attachers,d;p&&p.length&&(d=t.canReplace(p,f),this._replaceElements(p,d.replacements))},this),this.postExecuted(["shape.replace"],1500,function(s){var l=s.context,u=l.oldShape,f=l.newShape;r.unclaimId(u.businessObject.id,u.businessObject),r.updateProperties(f,{id:u.id})})}dt(Vy,tt);Vy.prototype._replaceElements=function(e,t){var n=this._elementRegistry,i=this._bpmnReplace,r=this._selection;ve(t,function(a){var s={type:a.newElementType},l=n.get(a.oldElementId),u=e.indexOf(l);e[u]=i.replaceElement(l,s,{select:!1})}),t&&r.select(e)};Vy.$inject=["bpmnReplace","bpmnRules","elementRegistry","injector","modeling","selection"];var cB=1500,uB={width:140,height:120},S5={width:300,height:60},A5={width:60,height:300},Bv={width:300,height:150},kv={width:150,height:300},K6={width:140,height:120},Z6={width:50,height:30};function Q6(e){e.on("resize.start",cB,function(t){var n=t.context,i=n.shape,r=n.direction,a=n.balanced;(U(i,"bpmn:Lane")||U(i,"bpmn:Participant"))&&(n.resizeConstraints=mB(i,r,a)),U(i,"bpmn:SubProcess")&&Jt(i)&&(n.minDimensions=K6),U(i,"bpmn:TextAnnotation")&&(n.minDimensions=Z6)})}Q6.$inject=["eventBus"];var pu=Math.abs,fB=Math.min,hB=Math.max;function J6(e,t,n,i){var r=e[t];e[t]=r===void 0?n:i(n,r)}function ap(e,t,n){return J6(e,t,n,fB)}function op(e,t,n){return J6(e,t,n,hB)}var pB={top:20,left:50,right:20,bottom:20},dB={top:50,left:20,right:20,bottom:20};function mB(e,t,n){var i=To(e),r=!0,a=!0,s=Fy(i,[i]),l=_t(e),u={},f={},p=hr(e),d=p?S5:A5;/n/.test(t)?f.top=l.bottom-d.height:/e/.test(t)?f.right=l.left+d.width:/s/.test(t)?f.bottom=l.top+d.height:/w/.test(t)&&(f.left=l.right-d.width),s.forEach(function(w){var x=_t(w);p?(x.top<l.top-10&&(r=!1),x.bottom>l.bottom+10&&(a=!1)):(x.left<l.left-10&&(r=!1),x.right>l.right+10&&(a=!1)),/n/.test(t)&&(n&&pu(l.top-x.bottom)<10&&op(u,"top",x.top+d.height),pu(l.top-x.top)<5&&ap(f,"top",x.bottom-d.height)),/e/.test(t)&&(n&&pu(l.right-x.left)<10&&ap(u,"right",x.right-d.width),pu(l.right-x.right)<5&&op(f,"right",x.left+d.width)),/s/.test(t)&&(n&&pu(l.bottom-x.top)<10&&ap(u,"bottom",x.bottom-d.height),pu(l.bottom-x.bottom)<5&&op(f,"bottom",x.top+d.height)),/w/.test(t)&&(n&&pu(l.left-x.right)<10&&op(u,"left",x.left+d.width),pu(l.left-x.left)<5&&ap(f,"left",x.right-d.width))});var v=i.children.filter(function(w){return!w.hidden&&!w.waypoints&&(U(w,"bpmn:FlowElement")||U(w,"bpmn:Artifact"))}),g=p?pB:dB;return v.forEach(function(w){var x=_t(w);/n/.test(t)&&(!p||r)&&ap(f,"top",x.top-g.top),/e/.test(t)&&(p||a)&&op(f,"right",x.right+g.right),/s/.test(t)&&(!p||a)&&op(f,"bottom",x.bottom+g.bottom),/w/.test(t)&&(p||r)&&ap(f,"left",x.left-g.left)}),{min:f,max:u}}var t3=1001;function eN(e,t){e.on("resize.start",t3+500,function(n){var i=n.context,r=i.shape;(U(r,"bpmn:Lane")||U(r,"bpmn:Participant"))&&(i.balanced=!cm(n))}),e.on("resize.end",t3,function(n){var i=n.context,r=i.shape,a=i.canExecute,s=i.newBounds;if(U(r,"bpmn:Lane")||U(r,"bpmn:Participant"))return a&&(s=j4(s),t.resizeLane(r,s,i.balanced)),!1})}eN.$inject=["eventBus","modeling"];var gB=500;function N5(e,t,n,i,r){n.invoke(tt,this);function a(p){return Wt(p,["bpmn:ReceiveTask","bpmn:SendTask"])||vB(p,["bpmn:ErrorEventDefinition","bpmn:EscalationEventDefinition","bpmn:MessageEventDefinition","bpmn:SignalEventDefinition"])}function s(p){var d=e.getDefinitions(),v=d.get("rootElements");return!!mn(v,gs({id:p.id}))}function l(p){if(U(p,"bpmn:ErrorEventDefinition"))return"errorRef";if(U(p,"bpmn:EscalationEventDefinition"))return"escalationRef";if(U(p,"bpmn:MessageEventDefinition"))return"messageRef";if(U(p,"bpmn:SignalEventDefinition"))return"signalRef"}function u(p){if(Wt(p,["bpmn:ReceiveTask","bpmn:SendTask"]))return p.get("messageRef");var d=p.get("eventDefinitions"),v=d[0];return v.get(l(v))}function f(p,d){if(Wt(p,["bpmn:ReceiveTask","bpmn:SendTask"]))return p.set("messageRef",d);var v=p.get("eventDefinitions"),g=v[0];return g.set(l(g),d)}this.executed(["shape.create","element.updateProperties","element.updateModdleProperties"],function(p){var d=p.shape||p.element;if(a(d)){var v=rt(d),g=u(v),w;g&&!s(g)&&(w=e.getDefinitions().get("rootElements"),er(w,g),p.addedRootElement=g)}},!0),this.reverted(["shape.create","element.updateProperties","element.updateModdleProperties"],function(p){var d=p.addedRootElement;if(d){var v=e.getDefinitions().get("rootElements");ki(v,d)}},!0),t.on("copyPaste.copyElement",function(p){var d=p.descriptor,v=p.element;if(!(v.labelTarget||!a(v))){var g=rt(v),w=u(g);w&&(d.referencedRootElement=w)}}),t.on("copyPaste.pasteElement",gB,function(p){var d=p.descriptor,v=d.businessObject,g=d.referencedRootElement;g&&(s(g)||(g=i.copyElement(g,r.create(g.$type))),f(v,g),delete d.referencedRootElement)})}N5.$inject=["bpmnjs","eventBus","injector","moddleCopy","bpmnFactory"];dt(N5,tt);function vB(e,t){return Tt(t)||(t=[t]),Pu(t,function(n){return Pp(e,n)})}var tN=Math.max;function nN(e){e.on("spaceTool.getMinDimensions",function(t){var n=t.shapes,i=t.axis,r=t.start,a={};return ve(n,function(s){var l=s.id;U(s,"bpmn:Participant")&&(a[l]=bB(s,i,r)),U(s,"bpmn:Lane")&&(a[l]=hr(s)?S5:A5),U(s,"bpmn:SubProcess")&&Jt(s)&&(a[l]=K6),U(s,"bpmn:TextAnnotation")&&(a[l]=Z6),U(s,"bpmn:Group")&&(a[l]=uB)}),a})}nN.$inject=["eventBus"];function yB(e){return e==="x"}function bB(e,t,n){var i=hr(e);if(!xB(e))return i?Bv:kv;var r=yB(t),a={};return r?i?a=Bv:a={width:wB(e,n,r),height:kv.height}:i?a={width:Bv.width,height:_B(e,n,r)}:a=kv,a}function _B(e,t,n){var i;return i=EB(e,t,n),tN(Bv.height,i)}function wB(e,t,n){var i;return i=SB(e,t,n),tN(kv.width,i)}function xB(e){return!!zu(e).length}function EB(e,t,n){var i=zu(e),r;return r=C5(i,t,n),e.height-r.height+S5.height}function SB(e,t,n){var i=zu(e),r;return r=C5(i,t,n),e.width-r.width+A5.width}function C5(e,t,n){var i,r,a;for(i=0;i<e.length;i++)if(r=e[i],!n&&t>=r.y&&t<=r.y+r.height||n&&t>=r.x&&t<=r.x+r.width)return a=zu(r),a.length?C5(a,t,n):r}var n3=400,AB=600,i3={x:180,y:160};function Hu(e,t,n,i,r,a,s){tt.call(this,t),this._canvas=e,this._eventBus=t,this._modeling=n,this._elementFactory=i,this._bpmnFactory=r,this._bpmnjs=a,this._elementRegistry=s;var l=this;function u(d){return U(d,"bpmn:SubProcess")&&!Jt(d)}function f(d){var v=d.shape,g=d.newRootElement,w=rt(v);g=l._addDiagram(g||w),d.newRootElement=e.addRootElement(g)}function p(d){var v=d.shape,g=rt(v);l._removeDiagram(g);var w=d.newRootElement=s.get(rc(g));e.removeRootElement(w)}this.executed("shape.create",function(d){var v=d.shape;u(v)&&f(d)},!0),this.postExecuted("shape.create",function(d){var v=d.shape,g=d.newRootElement;!g||!v.children||(l._showRecursively(v.children),l._moveChildrenToShape(v,g))},!0),this.reverted("shape.create",function(d){var v=d.shape;u(v)&&p(d)},!0),this.preExecuted("shape.delete",function(d){var v=d.shape;if(u(v)){var g=s.get(rc(v));g&&n.removeElements(g.children.slice())}},!0),this.executed("shape.delete",function(d){var v=d.shape;u(v)&&p(d)},!0),this.reverted("shape.delete",function(d){var v=d.shape;u(v)&&f(d)},!0),this.preExecuted("shape.replace",function(d){var v=d.oldShape,g=d.newShape;!u(v)||!u(g)||(d.oldRoot=e.removeRootElement(rc(v)))},!0),this.postExecuted("shape.replace",function(d){var v=d.newShape,g=d.oldRoot,w=e.findRoot(rc(v));if(!(!g||!w)){var x=g.children;n.moveElements(x,{x:0,y:0},w)}},!0),this.executed("element.updateProperties",function(d){var v=d.element;if(U(v,"bpmn:SubProcess")){var g=d.properties,w=d.oldProperties,x=w.id,E=g.id;if(x!==E){if(Pv(v)){s.updateId(v,Bf(E)),s.updateId(x,E);return}var R=s.get(Bf(x));R&&s.updateId(Bf(x),Bf(E))}}},!0),this.reverted("element.updateProperties",function(d){var v=d.element;if(U(v,"bpmn:SubProcess")){var g=d.properties,w=d.oldProperties,x=w.id,E=g.id;if(x!==E){if(Pv(v)){s.updateId(v,Bf(x)),s.updateId(E,x);return}var R=s.get(Bf(E));R&&s.updateId(R,Bf(x))}}},!0),t.on("element.changed",function(d){var v=d.element;if(Pv(v)){var g=v,w=s.get(Gx(g));!w||w===g||t.fire("element.changed",{element:w})}}),this.executed("shape.toggleCollapse",n3,function(d){var v=d.shape;U(v,"bpmn:SubProcess")&&(Jt(v)?p(d):(f(d),l._showRecursively(v.children)))},!0),this.reverted("shape.toggleCollapse",n3,function(d){var v=d.shape;U(v,"bpmn:SubProcess")&&(Jt(v)?p(d):(f(d),l._showRecursively(v.children)))},!0),this.postExecuted("shape.toggleCollapse",AB,function(d){var v=d.shape;if(U(v,"bpmn:SubProcess")){var g=d.newRootElement;g&&(Jt(v)?l._moveChildrenToShape(g,v):l._moveChildrenToShape(v,g))}},!0),t.on("copyPaste.createTree",function(d){var v=d.element,g=d.children;if(u(v)){var w=rc(v),x=s.get(w);x&&g.push.apply(g,x.children)}}),t.on("copyPaste.copyElement",function(d){var v=d.descriptor,g=d.element,w=d.elements,x=g.parent,E=U(hn(x),"bpmndi:BPMNPlane");if(E){var R=Gx(x),L=mn(w,function(M){return M.id===R});L&&(v.parent=L.id)}}),t.on("copyPaste.pasteElement",function(d){var v=d.descriptor;v.parent&&(u(v.parent)||v.parent.hidden)&&(v.hidden=!0)})}dt(Hu,tt);Hu.prototype._moveChildrenToShape=function(e,t){var n=this._modeling,i=e.children,r;if(i){i=i.concat(i.reduce(function(f,p){return p.label&&p.label.parent!==e?f.concat(p.label):f},[]));var a=i.filter(function(f){return!f.hidden});if(!a.length){n.moveElements(i,{x:0,y:0},t,{autoResize:!1});return}var s=Ji(a);if(!t.x)r={x:i3.x-s.x,y:i3.y-s.y};else{var l=Ct(t),u=Ct(s);r={x:l.x-u.x,y:l.y-u.y}}n.moveElements(i,r,t,{autoResize:!1})}};Hu.prototype._showRecursively=function(e,t){var n=this,i=[];return e.forEach(function(r){r.hidden=!!t,i=i.concat(r),r.children&&(i=i.concat(n._showRecursively(r.children,r.collapsed||t)))}),i};Hu.prototype._addDiagram=function(e){var t=this._bpmnjs,n=t.getDefinitions().diagrams;return e.businessObject||(e=this._createNewDiagram(e)),n.push(e.di.$parent),e};Hu.prototype._createNewDiagram=function(e){var t=this._bpmnFactory,n=this._elementFactory,i=t.create("bpmndi:BPMNPlane",{bpmnElement:e}),r=t.create("bpmndi:BPMNDiagram",{plane:i});i.$parent=r;var a=n.createRoot({id:rc(e),type:e.$type,di:i,businessObject:e,collapsed:!0});return a};Hu.prototype._removeDiagram=function(e){var t=this._bpmnjs,n=t.getDefinitions().diagrams,i=mn(n,function(r){return r.plane.bpmnElement.id===e.id});return n.splice(n.indexOf(i),1),i};Hu.$inject=["canvas","eventBus","modeling","elementFactory","bpmnFactory","bpmnjs","elementRegistry"];function T5(e,t){e.invoke(tt,this),this.postExecuted("shape.replace",function(n){var i=n.context.oldShape,r=n.context.newShape;if(!(!U(r,"bpmn:SubProcess")||U(r,"bpmn:AdHocSubProcess")||!(U(i,"bpmn:Task")||U(i,"bpmn:CallActivity"))||!Jt(r))){var a=NB(r);t.createShape({type:"bpmn:StartEvent"},a,r)}})}T5.$inject=["injector","modeling"];dt(T5,tt);function NB(e){return{x:e.x+e.width/6,y:e.y+e.height/2}}function R5(e){tt.call(this,e),this.preExecute("connection.create",function(t){const{target:n}=t;U(n,"bpmn:TextAnnotation")&&(t.parent=n.parent)},!0),this.preExecute(["shape.create","shape.resize","elements.move"],function(t){const n=t.shapes||[t.shape];n.length===1&&U(n[0],"bpmn:TextAnnotation")&&(t.hints=t.hints||{},t.hints.autoResize=!1)},!0)}dt(R5,tt);R5.$inject=["eventBus"];function M5(e,t){tt.call(this,e),this.postExecuted("shape.toggleCollapse",1500,function(n){var i=n.shape;if(Jt(i))return;var r=ym(i);r.forEach(function(s){var l=s.incoming.slice(),u=s.outgoing.slice();ve(l,function(f){a(f,!0)}),ve(u,function(f){a(f,!1)})});function a(s,l){r.indexOf(s.source)!==-1&&r.indexOf(s.target)!==-1||(l?t.reconnectEnd(s,i,Ct(i)):t.reconnectStart(s,i,Ct(i)))}},!0)}dt(M5,tt);M5.$inject=["eventBus","modeling"];var H1=500;function P5(e,t,n){tt.call(this,e);function i(s){s.length&&s.forEach(function(l){l.type==="label"&&!l.businessObject.name&&(l.hidden=!0)})}function r(s,l){var u=s.children,f=l,p,d;return p=CB(u).concat([s]),d=F6(p),d?(f.width=Math.max(d.width,f.width),f.height=Math.max(d.height,f.height),f.x=d.x+(d.width-f.width)/2,f.y=d.y+(d.height-f.height)/2):(f.x=s.x+(s.width-f.width)/2,f.y=s.y+(s.height-f.height)/2),f}function a(s,l){return{x:s.x+(s.width-l.width)/2,y:s.y+(s.height-l.height)/2,width:l.width,height:l.height}}this.executed(["shape.toggleCollapse"],H1,function(s){var l=s.context,u=l.shape;U(u,"bpmn:SubProcess")&&(u.collapsed?hn(u).isExpanded=!1:(i(u.children),hn(u).isExpanded=!0))}),this.reverted(["shape.toggleCollapse"],H1,function(s){var l=s.context,u=l.shape;u.collapsed?hn(u).isExpanded=!1:hn(u).isExpanded=!0}),this.postExecuted(["shape.toggleCollapse"],H1,function(s){var l=s.context.shape,u=t.getDefaultSize(l),f;l.collapsed?f=a(l,u):f=r(l,u),n.resizeShape(l,f,null,{autoResize:l.collapsed?!1:"nwse"})})}dt(P5,tt);P5.$inject=["eventBus","elementFactory","modeling"];function CB(e){return e.filter(function(t){return!t.hidden})}function L5(e,t,n,i){t.invoke(tt,this),this.preExecute("shape.delete",function(r){var a=r.context,s=a.shape,l=s.businessObject;pn(s)||(U(s,"bpmn:Participant")&&Jt(s)&&n.ids.unclaim(l.processRef.id),i.unclaimId(l.id,l))}),this.preExecute("connection.delete",function(r){var a=r.context,s=a.connection,l=s.businessObject;i.unclaimId(l.id,l)}),this.preExecute("canvas.updateRoot",function(){var r=e.getRootElement(),a=r.businessObject;U(r,"bpmn:Collaboration")&&n.ids.unclaim(a.id)})}dt(L5,tt);L5.$inject=["canvas","injector","moddle","modeling"];function D5(e,t){tt.call(this,e),this.preExecute("connection.delete",function(n){var i=n.context,r=i.connection,a=r.source;TB(r,a)&&t.updateProperties(a,{default:null})})}dt(D5,tt);D5.$inject=["eventBus","modeling"];function TB(e,t){if(!U(e,"bpmn:SequenceFlow"))return!1;var n=rt(t),i=rt(e);return n.get("default")===i}var RB=500,MB=5e3;function O5(e,t){tt.call(this,e);var n;function i(){return n=n||new PB,n.enter(),n}function r(){if(!n)throw new Error("out of bounds release");return n}function a(){if(!n)throw new Error("out of bounds release");var l=n.leave();return l&&(t.updateLaneRefs(n.flowNodes,n.lanes),n=null),l}var s=["spaceTool","lane.add","lane.resize","lane.split","elements.create","elements.delete","elements.move","shape.create","shape.delete","shape.move","shape.resize"];this.preExecute(s,MB,function(l){i()}),this.postExecuted(s,RB,function(l){a()}),this.preExecute(["shape.create","shape.move","shape.delete","shape.resize"],function(l){var u=l.context,f=u.shape,p=r();f.labelTarget||(U(f,"bpmn:Lane")&&p.addLane(f),U(f,"bpmn:FlowNode")&&p.addFlowNode(f))})}O5.$inject=["eventBus","modeling"];dt(O5,tt);function PB(){this.flowNodes=[],this.lanes=[],this.counter=0,this.addLane=function(e){this.lanes.push(e)},this.addFlowNode=function(e){this.flowNodes.push(e)},this.enter=function(){this.counter++},this.leave=function(){return this.counter--,!this.counter}}function B5(e,t){tt.call(this,e),this.postExecuted("elements.create",function(n){const i=n.context,r=i.elements;for(const a of r)LB(a)&&!OB(a)&&t.updateProperties(a,{isForCompensation:void 0})})}dt(B5,tt);B5.$inject=["eventBus","modeling"];function LB(e){const t=rt(e);return t&&t.isForCompensation}function DB(e){return e&&U(e,"bpmn:BoundaryEvent")&&Pp(e,"bpmn:CompensateEventDefinition")}function OB(e){return e.incoming.filter(n=>DB(n.source)).length>0}const BB={__init__:["adaptiveLabelPositioningBehavior","appendBehavior","associationBehavior","attachEventBehavior","boundaryEventBehavior","compensateBoundaryEventBehaviour","createBehavior","createDataObjectBehavior","createParticipantBehavior","dataInputAssociationBehavior","dataStoreBehavior","deleteLaneBehavior","detachEventBehavior","dropOnFlowBehavior","eventBasedGatewayBehavior","fixHoverBehavior","groupBehavior","importDockingFix","isHorizontalFix","labelBehavior","layoutConnectionBehavior","messageFlowBehavior","nonInterruptingBehavior","removeElementBehavior","removeEmbeddedLabelBoundsBehavior","removeParticipantBehavior","replaceConnectionBehavior","replaceElementBehaviour","resizeBehavior","resizeLaneBehavior","rootElementReferenceBehavior","spaceToolBehavior","subProcessPlaneBehavior","subProcessStartEventBehavior","textAnnotationBehavior","toggleCollapseConnectionBehaviour","toggleElementCollapseBehaviour","unclaimIdBehavior","updateFlowNodeRefsBehavior","unsetDefaultFlowBehavior","setCompensationActivityAfterPasteBehavior"],adaptiveLabelPositioningBehavior:["type",Jb],appendBehavior:["type",e5],associationBehavior:["type",t5],attachEventBehavior:["type",jy],boundaryEventBehavior:["type",n5],compensateBoundaryEventBehaviour:["type",i5],createBehavior:["type",r5],createDataObjectBehavior:["type",a5],createParticipantBehavior:["type",o5],dataInputAssociationBehavior:["type",s5],dataStoreBehavior:["type",l5],deleteLaneBehavior:["type",c5],detachEventBehavior:["type",zy],dropOnFlowBehavior:["type",u5],eventBasedGatewayBehavior:["type",f5],fixHoverBehavior:["type",z6],groupBehavior:["type",h5],importDockingFix:["type",H6],isHorizontalFix:["type",p5],labelBehavior:["type",d5],layoutConnectionBehavior:["type",m5],messageFlowBehavior:["type",y5],nonInterruptingBehavior:["type",b5],removeElementBehavior:["type",w5],removeEmbeddedLabelBoundsBehavior:["type",_5],removeParticipantBehavior:["type",x5],replaceConnectionBehavior:["type",E5],replaceElementBehaviour:["type",Vy],resizeBehavior:["type",Q6],resizeLaneBehavior:["type",eN],rootElementReferenceBehavior:["type",N5],spaceToolBehavior:["type",nN],subProcessPlaneBehavior:["type",Hu],subProcessStartEventBehavior:["type",T5],textAnnotationBehavior:["type",R5],toggleCollapseConnectionBehaviour:["type",M5],toggleElementCollapseBehaviour:["type",P5],unclaimIdBehavior:["type",L5],unsetDefaultFlowBehavior:["type",D5],updateFlowNodeRefsBehavior:["type",O5],setCompensationActivityAfterPasteBehavior:["type",B5]};function iN(e,t){var n=$r(e,t,-15);return n!=="intersect"?n:null}function Lr(e){Do.call(this,e)}dt(Lr,Do);Lr.$inject=["eventBus"];Lr.prototype.init=function(){this.addRule("connection.start",function(e){var t=e.source;return kB(t)}),this.addRule("connection.create",function(e){var t=e.source,n=e.target,i=e.hints||{},r=i.targetParent,a=i.targetAttach;if(a)return!1;r&&(n.parent=r);try{return jv(t,n)}finally{r&&(n.parent=null)}}),this.addRule("connection.reconnect",function(e){var t=e.connection,n=e.source,i=e.target;return jv(n,i,t)}),this.addRule("connection.updateWaypoints",function(e){return{type:e.connection.type}}),this.addRule("shape.resize",function(e){var t=e.shape,n=e.newBounds;return hN(t,n)}),this.addRule("elements.create",function(e){var t=e.elements,n=e.position,i=e.target;return Ln(i)&&!oy(t,i)?!1:eh(t,function(r){return Ln(r)?jv(r.source,r.target,r):r.host?nm(r,r.host,null,n):Y2(r,i,null)})}),this.addRule("elements.move",function(e){var t=e.target,n=e.shapes,i=e.position;return nm(n,t,null,i)||uN(n,t,i)||fN(n,t)||oy(n,t)}),this.addRule("shape.create",function(e){return Y2(e.shape,e.target,e.source,e.position)}),this.addRule("shape.attach",function(e){return nm(e.shape,e.target,null,e.position)}),this.addRule("element.copy",function(e){var t=e.element,n=e.elements;return vN(n,t)})};Lr.prototype.canConnectMessageFlow=mN;Lr.prototype.canConnectSequenceFlow=gN;Lr.prototype.canConnectDataAssociation=j5;Lr.prototype.canConnectAssociation=pN;Lr.prototype.canConnectCompensationAssociation=dN;Lr.prototype.canMove=fN;Lr.prototype.canAttach=nm;Lr.prototype.canReplace=uN;Lr.prototype.canDrop=Ap;Lr.prototype.canInsert=oy;Lr.prototype.canCreate=Y2;Lr.prototype.canConnect=jv;Lr.prototype.canResize=hN;Lr.prototype.canCopy=vN;function kB(e){return V2(e)?null:Wt(e,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference","bpmn:Group","bpmn:TextAnnotation"])}function V2(e){return!e||pn(e)}function jB(e,t){return e===t}function r3(e){do{if(U(e,"bpmn:Process"))return rt(e);if(U(e,"bpmn:Participant"))return rt(e).processRef||rt(e)}while(e=e.parent)}function $2(e){return U(e,"bpmn:TextAnnotation")}function k5(e){return U(e,"bpmn:Group")&&!e.labelTarget}function rN(e){return U(e,"bpmn:BoundaryEvent")&&ul(e,"bpmn:CompensateEventDefinition")}function $y(e){return rt(e).isForCompensation}function IB(e,t){var n=r3(e),i=r3(t);return n===i}function FB(e){return U(e,"bpmn:InteractionNode")&&!U(e,"bpmn:BoundaryEvent")&&(!U(e,"bpmn:Event")||U(e,"bpmn:ThrowEvent")&&oN(e,"bpmn:MessageEventDefinition"))}function zB(e){return U(e,"bpmn:InteractionNode")&&!$y(e)&&(!U(e,"bpmn:Event")||U(e,"bpmn:CatchEvent")&&oN(e,"bpmn:MessageEventDefinition"))&&!(U(e,"bpmn:BoundaryEvent")&&!ul(e,"bpmn:MessageEventDefinition"))}function a3(e){for(var t=e;t=t.parent;){if(U(t,"bpmn:FlowElementsContainer"))return rt(t);if(U(t,"bpmn:Participant"))return rt(t).processRef}return null}function aN(e,t){var n=a3(e),i=a3(t);return n===i}function ul(e,t){var n=rt(e);return!!mn(n.eventDefinitions||[],function(i){return U(i,t)})}function oN(e,t){var n=rt(e);return(n.eventDefinitions||[]).every(function(i){return U(i,t)})}function HB(e){return U(e,"bpmn:FlowNode")&&!U(e,"bpmn:EndEvent")&&!Vr(e)&&!(U(e,"bpmn:IntermediateThrowEvent")&&ul(e,"bpmn:LinkEventDefinition"))&&!rN(e)&&!$y(e)}function UB(e){return U(e,"bpmn:FlowNode")&&!U(e,"bpmn:StartEvent")&&!U(e,"bpmn:BoundaryEvent")&&!Vr(e)&&!(U(e,"bpmn:IntermediateCatchEvent")&&ul(e,"bpmn:LinkEventDefinition"))&&!$y(e)}function qB(e){return U(e,"bpmn:ReceiveTask")||U(e,"bpmn:IntermediateCatchEvent")&&(ul(e,"bpmn:MessageEventDefinition")||ul(e,"bpmn:TimerEventDefinition")||ul(e,"bpmn:ConditionalEventDefinition")||ul(e,"bpmn:SignalEventDefinition"))}function VB(e){for(var t=[];e;)e=e.parent,e&&t.push(e);return t}function G2(e,t){var n=VB(t);return n.indexOf(e)!==-1}function jv(e,t,n){if(V2(e)||V2(t))return null;if(!U(n,"bpmn:DataAssociation")){if(mN(e,t))return{type:"bpmn:MessageFlow"};if(gN(e,t))return{type:"bpmn:SequenceFlow"}}var i=j5(e,t);return i||(dN(e,t)?{type:"bpmn:Association",associationDirection:"One"}:pN(e,t)?{type:"bpmn:Association",associationDirection:"None"}:!1)}function Ap(e,t){return pn(e)||k5(e)?!0:U(t,"bpmn:Participant")&&!Jt(t)?!1:U(e,"bpmn:Participant")?U(t,"bpmn:Process")||U(t,"bpmn:Collaboration"):Wt(e,["bpmn:DataInput","bpmn:DataOutput"])&&e.parent?t===e.parent:U(e,"bpmn:Lane")?U(t,"bpmn:Participant")||U(t,"bpmn:Lane"):U(e,"bpmn:BoundaryEvent")&&!$B(e)?!1:U(e,"bpmn:FlowElement")&&!U(e,"bpmn:DataStoreReference")?U(t,"bpmn:FlowElementsContainer")?Jt(t):Wt(t,["bpmn:Participant","bpmn:Lane"]):U(e,"bpmn:DataStoreReference")&&U(t,"bpmn:Collaboration")?Pu(rt(t).get("participants"),function(n){return!!n.get("processRef")}):Wt(e,["bpmn:Artifact","bpmn:DataAssociation","bpmn:DataStoreReference"])?Wt(t,["bpmn:Collaboration","bpmn:Lane","bpmn:Participant","bpmn:Process","bpmn:SubProcess"]):U(e,"bpmn:MessageFlow")?U(t,"bpmn:Collaboration")||e.source.parent==t||e.target.parent==t:!1}function $B(e){return rt(e).cancelActivity&&(sN(e)||lN(e))}function GB(e){return!pn(e)&&U(e,"bpmn:BoundaryEvent")}function YB(e){return U(e,"bpmn:Lane")}function WB(e){return GB(e)||U(e,"bpmn:IntermediateThrowEvent")&&sN(e)?!0:U(e,"bpmn:IntermediateCatchEvent")&&lN(e)}function sN(e){var t=rt(e);return t&&!(t.eventDefinitions&&t.eventDefinitions.length)}function lN(e){return cN(e,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])}function cN(e,t){return t.some(function(n){return ul(e,n)})}function XB(e){return U(e,"bpmn:ReceiveTask")&&mn(e.incoming,function(t){return U(t.source,"bpmn:EventBasedGateway")})}function nm(e,t,n,i){if(Array.isArray(e)||(e=[e]),e.length!==1)return!1;var r=e[0];return pn(r)||!WB(r)||Vr(t)||!U(t,"bpmn:Activity")||$y(t)||i&&!iN(i,t)||XB(t)?!1:"attach"}function uN(e,t,n){if(!t)return!1;var i={replacements:[]};return ve(e,function(r){Vr(t)||U(r,"bpmn:StartEvent")&&r.type!=="label"&&Ap(r,t)&&(qP(r)||i.replacements.push({oldElementId:r.id,newElementType:"bpmn:StartEvent"}),(VP(r)||$P(r)||GP(r))&&i.replacements.push({oldElementId:r.id,newElementType:"bpmn:StartEvent"}),cN(r,["bpmn:MessageEventDefinition","bpmn:TimerEventDefinition","bpmn:SignalEventDefinition","bpmn:ConditionalEventDefinition"])&&U(t,"bpmn:SubProcess")&&i.replacements.push({oldElementId:r.id,newElementType:"bpmn:StartEvent"})),U(t,"bpmn:Transaction")||ul(r,"bpmn:CancelEventDefinition")&&r.type!=="label"&&(U(r,"bpmn:EndEvent")&&Ap(r,t)&&i.replacements.push({oldElementId:r.id,newElementType:"bpmn:EndEvent"}),U(r,"bpmn:BoundaryEvent")&&nm(r,t,null,n)&&i.replacements.push({oldElementId:r.id,newElementType:"bpmn:BoundaryEvent"}))}),i.replacements.length?i:!1}function fN(e,t){return Pu(e,YB)?!1:t?e.every(function(n){return Ap(n,t)}):!0}function Y2(e,t,n,i){return t?pn(e)||k5(e)?!0:jB(n,t)||n&&G2(n,t)?!1:Ap(e,t)||oy(e,t):!1}function hN(e,t){return U(e,"bpmn:SubProcess")?Jt(e)&&(!t||t.width>=100&&t.height>=80):!!(U(e,"bpmn:Lane")||U(e,"bpmn:Participant")||$2(e)||k5(e))}function KB(e,t){var n=$2(e),i=$2(t);return(n||i)&&n!==i}function pN(e,t){return G2(t,e)||G2(e,t)?!1:KB(e,t)?!0:!!j5(e,t)}function dN(e,t){return aN(e,t)&&rN(e)&&U(t,"bpmn:Activity")&&!QB(t,e)&&!Vr(t)}function mN(e,t){return o3(e)&&!o3(t)?!1:FB(e)&&zB(t)&&!IB(e,t)}function gN(e,t){return HB(e)&&UB(t)&&aN(e,t)&&!(U(e,"bpmn:EventBasedGateway")&&!qB(t))}function j5(e,t){return Wt(e,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Wt(t,["bpmn:Activity","bpmn:ThrowEvent"])?{type:"bpmn:DataInputAssociation"}:Wt(t,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Wt(e,["bpmn:Activity","bpmn:CatchEvent"])?{type:"bpmn:DataOutputAssociation"}:!1}function oy(e,t,n){if(!t)return!1;if(Array.isArray(e)){if(e.length!==1)return!1;e=e[0]}return t.source===e||t.target===e?!1:Wt(t,["bpmn:SequenceFlow","bpmn:MessageFlow"])&&!pn(t)&&U(e,"bpmn:FlowNode")&&!U(e,"bpmn:BoundaryEvent")&&Ap(e,t.parent)}function ZB(e,t){return e&&t&&e.indexOf(t)!==-1}function vN(e,t){return pn(t)?!0:!(U(t,"bpmn:Lane")&&!ZB(e,t.parent))}function o3(e){return Ep(e,"bpmn:Process")||Ep(e,"bpmn:Collaboration")}function QB(e,t){return e.attachers.includes(t)}const JB={__depends__:[_l],__init__:["bpmnRules"],bpmnRules:["type",Lr]};var e9=2e3;function yN(e,t){e.on("saveXML.start",e9,n);function n(){var i=t.getRootElements();ve(i,function(r){var a=hn(r),s,l;s=ym([r],!1),s=Yt(s,function(u){return u!==r&&!u.labelTarget}),l=Pr(s,hn),a.set("planeElement",l)})}}yN.$inject=["eventBus","canvas"];const t9={__init__:["bpmnDiOrdering"],bpmnDiOrdering:["type",yN]};function Gy(e){tt.call(this,e);var t=this;this.preExecute(["shape.create","connection.create"],function(n){var i=n.context,r=i.shape||i.connection,a=i.parent,s=t.getOrdering(r,a);s&&(s.parent!==void 0&&(i.parent=s.parent),i.parentIndex=s.index)}),this.preExecute(["shape.move","connection.move"],function(n){var i=n.context,r=i.shape||i.connection,a=i.newParent||r.parent,s=t.getOrdering(r,a);s&&(s.parent!==void 0&&(i.newParent=s.parent),i.newParentIndex=s.index)})}Gy.prototype.getOrdering=function(e,t){return null};dt(Gy,tt);function I5(e,t){Gy.call(this,e);var n=[{type:"bpmn:SubProcess",order:{level:6}},{type:"bpmn:SequenceFlow",order:{level:9,containers:["bpmn:Participant","bpmn:FlowElementsContainer"]}},{type:"bpmn:DataAssociation",order:{level:9,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:TextAnnotation",order:{level:9}},{type:"bpmn:MessageFlow",order:{level:9,containers:["bpmn:Collaboration"]}},{type:"bpmn:Association",order:{level:6,containers:["bpmn:Participant","bpmn:FlowElementsContainer","bpmn:Collaboration"]}},{type:"bpmn:BoundaryEvent",order:{level:8}},{type:"bpmn:Group",order:{level:10,containers:["bpmn:Collaboration","bpmn:FlowElementsContainer"]}},{type:"bpmn:FlowElement",order:{level:5}},{type:"bpmn:Participant",order:{level:-2}},{type:"bpmn:Lane",order:{level:-1}}];function i(s){if(s.labelTarget)return{level:10};var l=mn(n,function(u){return Wt(s,[u.type])});return l&&l.order||{level:1}}function r(s){var l=s.order;if(l||(s.order=l=i(s)),!l)throw new Error(`no order for <${s.id}>`);return l}function a(s,l,u){for(var f=l;f&&!Wt(f,u);)f=f.parent;if(!f)throw new Error(`no parent for <${s.id}> in <${l&&l.id}>`);return f}this.getOrdering=function(s,l){if(s.labelTarget||U(s,"bpmn:TextAnnotation"))return{parent:t.findRoot(l)||t.getRootElement(),index:-1};var u=r(s);u.containers&&(l=a(s,l,u.containers));var f=l.children.indexOf(s),p=g4(l.children,function(d){return!s.labelTarget&&d.labelTarget?!1:u.level<r(d).level});return p!==-1&&f!==-1&&f<p&&(p-=1),{index:p,parent:l}}}I5.$inject=["eventBus","canvas"];dt(I5,Gy);const n9={__init__:["bpmnOrderingProvider"],bpmnOrderingProvider:["type",I5]};function Rm(){}Rm.prototype.get=function(){return this._data};Rm.prototype.set=function(e){this._data=e};Rm.prototype.clear=function(){var e=this._data;return delete this._data,e};Rm.prototype.isEmpty=function(){return!this._data};const i9={clipboard:["type",Rm]};var r9="drop-ok",s3="drop-not-ok",l3="attach-ok",c3="new-parent",u3="create",a9=2e3;function bN(e,t,n,i,r){function a(u,f,p,d,v){if(!f)return!1;u=Yt(u,function(L){var M=L.labelTarget;return!L.parent&&!(pn(L)&&u.indexOf(M)!==-1)});var g=mn(u,function(L){return!Ln(L)}),w=!1,x=!1,E=!1;h3(u)&&(w=r.allowed("shape.attach",{position:p,shape:g,target:f})),w||(h3(u)?E=r.allowed("shape.create",{position:p,shape:g,source:d,target:f}):E=r.allowed("elements.create",{elements:u,position:p,target:f}));var R=v.connectionTarget;return E||w?(g&&d&&(x=r.allowed("connection.create",{source:R===d?g:d,target:R===d?d:g,hints:{targetParent:f,targetAttach:w}})),{attach:w,connect:x}):E===null||w===null?null:!1}function s(u,f){[l3,r9,s3,c3].forEach(function(p){p===f?e.addMarker(u,p):e.removeMarker(u,p)})}n.on(["create.move","create.hover"],function(u){var f=u.context,p=f.elements,d=u.hover,v=f.source,g=f.hints||{};if(!d){f.canExecute=!1,f.target=null;return}f3(u);var w={x:u.x,y:u.y},x=f.canExecute=d&&a(p,d,w,v,g);d&&x!==null&&(f.target=d,x&&x.attach?s(d,l3):s(d,x?c3:s3))}),n.on(["create.end","create.out","create.cleanup"],function(u){var f=u.hover;f&&s(f,null)}),n.on("create.end",function(u){var f=u.context,p=f.source,d=f.shape,v=f.elements,g=f.target,w=f.canExecute,x=w&&w.attach,E=w&&w.connect,R=f.hints||{};if(w===!1||!g)return!1;f3(u);var L={x:u.x,y:u.y};E?d=i.appendShape(p,d,L,g,{attach:x,connection:E===!0?{}:E,connectionTarget:R.connectionTarget}):(v=i.createElements(v,L,g,Ne({},R,{attach:x})),d=mn(v,function(M){return!Ln(M)})),Ne(f,{elements:v,shape:d}),Ne(u,{elements:v,shape:d})});function l(){var u=t.context();u&&u.prefix===u3&&t.cancel()}n.on("create.init",function(){n.on("elements.changed",l),n.once(["create.cancel","create.end"],a9,function(){n.off("elements.changed",l)})}),this.start=function(u,f,p){Tt(f)||(f=[f]);var d=mn(f,function(w){return!Ln(w)});if(d){p=Ne({elements:f,hints:{},shape:d},p||{}),ve(f,function(w){Nt(w.x)||(w.x=0),Nt(w.y)||(w.y=0)});var v=Yt(f,function(w){return!w.hidden}),g=Ji(v);ve(f,function(w){Ln(w)&&(w.waypoints=Pr(w.waypoints,function(x){return{x:x.x-g.x-g.width/2,y:x.y-g.y-g.height/2}})),Ne(w,{x:w.x-g.x-g.width/2,y:w.y-g.y-g.height/2})}),t.init(u,u3,{cursor:"grabbing",autoActivate:!0,data:{shape:d,elements:f,context:p}})}}}bN.$inject=["canvas","dragging","eventBus","modeling","rules"];function f3(e){var t=e.context,n=t.createConstraints;n&&(n.left&&(e.x=Math.max(e.x,n.left)),n.right&&(e.x=Math.min(e.x,n.right)),n.top&&(e.y=Math.max(e.y,n.top)),n.bottom&&(e.y=Math.min(e.y,n.bottom)))}function h3(e){return e&&e.length===1&&!Ln(e[0])}var o9=750;function _N(e,t,n,i,r){function a(s){var l=yt("g");ft(l,r.cls("djs-drag-group",["no-events"]));var u=yt("g");return s.forEach(function(f){var p;f.hidden||(f.waypoints?(p=n._createContainer("connection",u),n.drawConnection(Yf(p),f)):(p=n._createContainer("shape",u),n.drawShape(Yf(p),f),Mr(p,f.x,f.y)),i.addDragger(f,l,p))}),l}t.on("create.move",o9,function(s){var l=s.hover,u=s.context,f=u.elements,p=u.dragGroup;p||(p=u.dragGroup=a(f));var d;l?(p.parentNode||(d=e.getActiveLayer(),Mt(d,p)),Mr(p,s.x,s.y)):Qi(p)}),t.on("create.cleanup",function(s){var l=s.context,u=l.dragGroup;u&&Qi(u)})}_N.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const Yy={__depends__:[mc,Fp,_l,_s],__init__:["create","createPreview"],create:["type",bN],createPreview:["type",_N]};function F5(e){var t=this;this._lastMoveEvent=null;function n(i){t._lastMoveEvent=i}e.on("canvas.init",function(i){var r=t._svg=i.svg;r.addEventListener("mousemove",n)}),e.on("canvas.destroy",function(){t._lastMouseEvent=null,t._svg.removeEventListener("mousemove",n)})}F5.$inject=["eventBus"];F5.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||s9(0,0)};function s9(e,t){var n=document.createEvent("MouseEvent"),i=e,r=t,a=e,s=t;return n.initMouseEvent&&n.initMouseEvent("mousemove",!0,!0,window,0,i,r,a,s,!1,!1,!1,!1,0,null),n}const Mm={__init__:["mouse"],mouse:["type",F5]};function ws(e,t,n,i,r,a,s,l){this._canvas=e,this._create=t,this._clipboard=n,this._elementFactory=i,this._eventBus=r,this._modeling=a,this._mouse=s,this._rules=l,r.on("copyPaste.copyElement",function(u){var f=u.descriptor,p=u.element,d=u.elements;f.priority=1,f.id=p.id;var v=mn(d,function(g){return g===p.parent});v&&(f.parent=p.parent.id),l9(p)&&(f.priority=2,f.host=p.host.id),Ln(p)&&(f.priority=3,f.source=p.source.id,f.target=p.target.id,f.waypoints=c9(p)),pn(p)&&(f.priority=4,f.labelTarget=p.labelTarget.id),ve(["x","y","width","height"],function(g){Nt(p[g])&&(f[g]=p[g])}),f.hidden=p.hidden,f.collapsed=p.collapsed}),r.on("copyPaste.pasteElements",function(u){var f=u.hints;Ne(f,{createElementsBehavior:!1})})}ws.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"];ws.prototype.copy=function(e){var t,n;return Tt(e)||(e=e?[e]:[]),t=this._eventBus.fire("copyPaste.canCopyElements",{elements:e}),t===!1?n={}:n=this.createTree(Tt(t)?t:e),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:e,tree:n}),n};ws.prototype.paste=function(e){var t=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=e&&e.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var i=this._createElements(t);if(e&&e.element&&e.point)return this._paste(i,e.element,e.point,n);this._create.start(this._mouse.getLastMoveEvent(),i,{hints:n||{}})}};ws.prototype._paste=function(e,t,n,i){ve(e,function(a){Nt(a.x)||(a.x=0),Nt(a.y)||(a.y=0)});var r=Ji(e);return ve(e,function(a){Ln(a)&&(a.waypoints=Pr(a.waypoints,function(s){return{x:s.x-r.x-r.width/2,y:s.y-r.y-r.height/2}})),Ne(a,{x:a.x-r.x-r.width/2,y:a.y-r.y-r.height/2})}),this._modeling.createElements(e,n,t,Ne({},i))};ws.prototype._createElements=function(e){var t=this,n=this._eventBus,i={},r=[];return ve(e,function(a,s){a=ml(a,"priority"),ve(a,function(l){var u=Ne({},vl(l,["priority"]));i[l.parent]?u.parent=i[l.parent]:delete u.parent,n.fire("copyPaste.pasteElement",{cache:i,descriptor:u});var f;if(Ln(u)){u.source=i[l.source],u.target=i[l.target],f=i[l.id]=t.createConnection(u),r.push(f);return}if(pn(u)){u.labelTarget=i[u.labelTarget],f=i[l.id]=t.createLabel(u),r.push(f);return}u.host&&(u.host=i[u.host]),f=i[l.id]=t.createShape(u),r.push(f)})}),r};ws.prototype.createConnection=function(e){var t=this._elementFactory.createConnection(vl(e,["id"]));return t};ws.prototype.createLabel=function(e){var t=this._elementFactory.createLabel(vl(e,["id"]));return t};ws.prototype.createShape=function(e){var t=this._elementFactory.createShape(vl(e,["id"]));return t};ws.prototype.hasRelations=function(e,t){var n,i,r;return!(Ln(e)&&(i=mn(t,gs({id:e.source.id})),r=mn(t,gs({id:e.target.id})),!i||!r)||pn(e)&&(n=mn(t,gs({id:e.labelTarget.id})),!n))};ws.prototype.createTree=function(e){var t=this._rules,n=this,i={},r=[],a=vy(e);function s(f,p){return t.allowed("element.copy",{element:f,elements:p})}function l(f,p){var d=mn(r,function(v){return f===v.element});if(!d){r.push({element:f,depth:p});return}d.depth<p&&(r=u(d,r),r.push({element:d.element,depth:p}))}function u(f,p){var d=p.indexOf(f);return d!==-1&&p.splice(d,1),p}return nh(a,function(f,p,d){if(pn(f))return;ve(f.labels,function(w){l(w,d)});function v(w){w&&w.length&&ve(w,function(x){ve(x.labels,function(E){l(E,d)}),l(x,d)})}ve([f.attachers,f.incoming,f.outgoing],v),l(f,d);var g=[];return f.children&&(g=f.children.slice()),n._eventBus.fire("copyPaste.createTree",{element:f,children:g}),g}),e=Pr(r,function(f){return f.element}),r=Pr(r,function(f){return f.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:f.descriptor,element:f.element,elements:e}),f}),r=ml(r,function(f){return f.descriptor.priority}),e=Pr(r,function(f){return f.element}),ve(r,function(f){var p=f.depth;if(!n.hasRelations(f.element,e)){d3(f.element,e);return}if(!s(f.element,e)){d3(f.element,e);return}i[p]||(i[p]=[]),i[p].push(f.descriptor)}),i};function l9(e){return!!e.host}function c9(e){return Pr(e.waypoints,function(t){return t=p3(t),t.original&&(t.original=p3(t.original)),t})}function p3(e){return Ne({},e)}function d3(e,t){var n=t.indexOf(e);return n===-1?t:t.splice(n,1)}const u9={__depends__:[i9,Yy,Mm,_l],__init__:["copyPaste"],copyPaste:["type",ws]};function U1(e,t,n){Tt(n)||(n=[n]),ve(n,function(i){Xf(e[i])||(t[i]=e[i])})}var q1=750;function wN(e,t,n){function i(u,f){var p=e.create(u.$type);return n.copyElement(u,p,null,f)}t.on("copyPaste.copyElement",q1,function(u){var f=u.descriptor,p=u.element,d=rt(p);if(pn(p))return f;var v=f.businessObject=i(d,!0),g=f.di=i(hn(p),!0);g.bpmnElement=v,U1(v,f,"name"),U1(g,f,"isExpanded"),d.default&&(f.default=d.default.id)});var r="-bpmn-js-refs";function a(u){return u[r]=u[r]||{}}function s(u,f){u[r]=f}function l(u,f,p){var d=rt(u);return u.default&&(p[u.default]={element:d,property:"default"}),u.host&&(rt(u).attachedToRef=rt(f[u.host])),vl(p,xa(p,function(v,g,w){var x=g.element,E=g.property;return w===u.id&&(x.set(E,d),v.push(u.id)),v},[]))}t.on("copyPaste.pasteElement",function(u){var f=u.cache,p=u.descriptor,d=p.businessObject,v=p.di;if(pn(p)){p.businessObject=rt(f[p.labelTarget]),p.di=hn(f[p.labelTarget]);return}d=p.businessObject=i(d),v=p.di=i(v),v.bpmnElement=d,U1(p,d,["isExpanded","name"]),p.type=d.$type}),t.on("copyPaste.copyElement",q1,function(u){var f=u.descriptor,p=u.element;if(U(p,"bpmn:Participant")){var d=rt(p);d.processRef&&(f.processRef=i(d.processRef,!0))}}),t.on("copyPaste.pasteElement",function(u){var f=u.descriptor,p=f.processRef;p&&(f.processRef=i(p))}),t.on("copyPaste.pasteElement",q1,function(u){var f=u.cache,p=u.descriptor;s(f,l(p,f,a(f)))})}wN.$inject=["bpmnFactory","eventBus","moddleCopy"];const f9=["artifacts","dataInputAssociations","dataOutputAssociations","default","flowElements","lanes","incoming","outgoing","categoryValue"],h9=["errorRef","escalationRef","messageRef","signalRef"];function Pm(e,t,n){this._bpmnFactory=t,this._eventBus=e,this._moddle=n,e.on("moddleCopy.canCopyProperties",i=>{const{propertyNames:r}=i;if(!(!r||!r.length))return ml(r,a=>a==="extensionElements")}),e.on("moddleCopy.canCopyProperty",i=>{const{parent:r,property:a,propertyName:s}=i,l=_r(r)&&r.$descriptor;if(s&&h9.includes(s))return a;if(s&&f9.includes(s)||s&&l&&!mn(l.properties,gs({name:s})))return!1}),e.on("moddleCopy.canSetCopiedProperty",i=>{const{property:r}=i;if(U(r,"bpmn:ExtensionElements")&&(!r.values||!r.values.length))return!1})}Pm.$inject=["eventBus","bpmnFactory","moddle"];Pm.prototype.copyElement=function(e,t,n,i=!1){n&&!Tt(n)&&(n=[n]),n=n||W2(e.$descriptor);const r=this._eventBus.fire("moddleCopy.canCopyProperties",{propertyNames:n,sourceElement:e,targetElement:t,clone:i});return r===!1||(Tt(r)&&(n=r),ve(n,a=>{let s;wa(e,a)&&(s=e.get(a));const l=this.copyProperty(s,t,a,i);!br(l)||this._eventBus.fire("moddleCopy.canSetCopiedProperty",{parent:t,property:l,propertyName:a})===!1||t.set(a,l)})),t};Pm.prototype.copyProperty=function(e,t,n,i=!1){let r=this._eventBus.fire("moddleCopy.canCopyProperty",{parent:t,property:e,propertyName:n,clone:i});if(r===!1)return;if(r)return _r(r)&&r.$type&&!r.$parent&&(r.$parent=t),r;const a=this._moddle.getPropertyDescriptor(t,n);if(!a.isReference)return a.isId?e&&this._copyId(e,t,i):Tt(e)?xa(e,(s,l)=>{const u=this.copyProperty(l,t,n,i);return u?s.concat(u):s},[]):_r(e)&&e.$type?this._moddle.getElementDescriptor(e).isGeneric?void 0:(r=this._bpmnFactory.create(e.$type),r.$parent=t,r=this.copyElement(e,r,null,i),r):e};Pm.prototype._copyId=function(e,t,n=!1){if(n)return e;if(!this._moddle.ids.assigned(e))return this._moddle.ids.claim(e,t),e};function W2(e,t){return xa(e.properties,(n,i)=>t&&i.default?n:n.concat(i.name),[])}const xN={__depends__:[u9],__init__:["bpmnCopyPaste","moddleCopy"],bpmnCopyPaste:["type",wN],moddleCopy:["type",Pm]};var m3=Math.round;function z5(e,t){this._modeling=e,this._eventBus=t}z5.$inject=["modeling","eventBus"];z5.prototype.replaceElement=function(e,t,n){if(e.waypoints)return null;var i=this._modeling,r=this._eventBus;r.fire("replace.start",{element:e,attrs:t,hints:n});var a=t.width||e.width,s=t.height||e.height,l=t.x||e.x,u=t.y||e.y,f=m3(l+a/2),p=m3(u+s/2),d=i.replaceShape(e,Ne({},t,{x:f,y:p,width:a,height:s}),n);return r.fire("replace.end",{element:e,newElement:d,hints:n}),d};function EN(e,t){t.on("replace.end",500,function(n){const{newElement:i,hints:r={}}=n;r.select!==!1&&e.select(i)})}EN.$inject=["selection","eventBus"];const p9={__init__:["replace","replaceSelectionBehavior"],replaceSelectionBehavior:["type",EN],replace:["type",z5]};function d9(e,t,n){Tt(n)||(n=[n]),ve(n,function(i){Xf(e[i])||(t[i]=e[i])})}var m9=["cancelActivity","instantiate","eventGatewayType","triggeredByEvent","isInterrupting"];function g9(e,t){var n=e&&wa(e,"collapsed")?e.collapsed:!Jt(e),i;return t&&(wa(t,"collapsed")||wa(t,"isExpanded"))?i=wa(t,"collapsed")?t.collapsed:!t.isExpanded:i=n,n!==i}function SN(e,t,n,i,r,a){function s(l,u,f){f=f||{};var p=u.type,d=l.businessObject;if(cv(d)&&(p==="bpmn:SubProcess"||p==="bpmn:AdHocSubProcess")&&g9(l,u))return i.toggleCollapse(l),l;var v=e.create(p),g={type:p,businessObject:v};g.di={},p==="bpmn:ExclusiveGateway"&&(g.di.isMarkerVisible=!0),d9(l.di,g.di,["fill","stroke","background-color","border-color","color"]);var w=W2(d.$descriptor),x=W2(v.$descriptor,!0),E=v9(w,x);Ne(v,ys(u,m9));var R=Yt(E,function(P){return P==="eventDefinitions"?g3(l,u.eventDefinitionType):P==="loopCharacteristics"?!Vr(v):wa(v,P)||P==="processRef"&&u.isExpanded===!1||P==="triggeredByEvent"?!1:P==="isForCompensation"?!Vr(v):!0});if(v=n.copyElement(d,v,R),u.eventDefinitionType&&(g3(v,u.eventDefinitionType)||(g.eventDefinitionType=u.eventDefinitionType,g.eventDefinitionAttrs=u.eventDefinitionAttrs)),U(d,"bpmn:Activity")){if(cv(d))g.isExpanded=Jt(l);else if(u&&wa(u,"isExpanded")){g.isExpanded=u.isExpanded;var L=t.getDefaultSize(v,{isExpanded:g.isExpanded});g.width=L.width,g.height=L.height,g.x=l.x-(g.width-l.width)/2,g.y=l.y-(g.height-l.height)/2}Jt(l)&&!U(d,"bpmn:Task")&&g.isExpanded&&(g.width=l.width,g.height=l.height)}if(cv(d)&&!cv(v)&&(f.moveChildren=!1),U(d,"bpmn:Participant")){u.isExpanded===!0?v.processRef=e.create("bpmn:Process"):f.moveChildren=!1;var M=hr(l);hn(l).isHorizontal||(hn(g).isHorizontal=M),g.width=M?l.width:t.getDefaultSize(g).width,g.height=M?t.getDefaultSize(g).height:l.height}return a.allowed("shape.resize",{shape:v})||(g.height=t.getDefaultSize(g).height,g.width=t.getDefaultSize(g).width),v.name=d.name,Wt(d,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&Wt(v,["bpmn:ExclusiveGateway","bpmn:InclusiveGateway","bpmn:Activity"])&&(v.default=d.default),u.host&&!U(d,"bpmn:BoundaryEvent")&&U(v,"bpmn:BoundaryEvent")&&(g.host=u.host),(g.type==="bpmn:DataStoreReference"||g.type==="bpmn:DataObjectReference")&&(g.x=l.x+(l.width-g.width)/2),r.replaceElement(l,g,{...f,targetElement:u})}this.replaceElement=s}SN.$inject=["bpmnFactory","elementFactory","moddleCopy","modeling","replace","rules"];function cv(e){return U(e,"bpmn:SubProcess")}function g3(e,t){var n=rt(e);return t&&n.get("eventDefinitions").some(function(i){return U(i,t)})}function v9(e,t){return e.filter(function(n){return t.includes(n)})}const AN={__depends__:[xN,p9,_s],bpmnReplace:["type",SN]};var y9=250;function oh(e){this._eventBus=e,this._tools=[],this._active=null}oh.$inject=["eventBus"];oh.prototype.registerTool=function(e,t){var n=this._tools;if(!t)throw new Error(`A tool has to be registered with it's "events"`);n.push(e),this.bindEvents(e,t)};oh.prototype.isActive=function(e){return e&&this._active===e};oh.prototype.length=function(e){return this._tools.length};oh.prototype.setActive=function(e){var t=this._eventBus;this._active!==e&&(this._active=e,t.fire("tool-manager.update",{tool:e}))};oh.prototype.bindEvents=function(e,t){var n=this._eventBus,i=[];n.on(t.tool+".init",function(r){var a=r.context;if(!a.reactivate&&this.isActive(e)){this.setActive(null);return}this.setActive(e)},this),ve(t,function(r){i.push(r+".ended"),i.push(r+".canceled")}),n.on(i,y9,function(r){this._active&&(b9(r)||this.setActive(null))},this)};function b9(e){var t=e.originalEvent&&e.originalEvent.target;return t&&Tp(t,'.group[data-group="tools"]')}const Wy={__depends__:[mc],__init__:["toolManager"],toolManager:["type",oh]};function _9(e,t){if(e==="x"){if(t>0)return"e";if(t<0)return"w"}if(e==="y"){if(t>0)return"s";if(t<0)return"n"}return null}function w9(e,t){var n=[];return ve(e.concat(t),function(i){var r=i.incoming,a=i.outgoing;ve(r.concat(a),function(s){var l=s.source,u=s.target;($d(e,l)||$d(e,u)||$d(t,l)||$d(t,u))&&($d(n,s)||n.push(s))})}),n}function $d(e,t){return e.indexOf(t)!==-1}function x9(e,t,n){var i=e.x,r=e.y,a=e.width,s=e.height,l=n.x,u=n.y;switch(t){case"n":return{x:i,y:r+u,width:a,height:s-u};case"s":return{x:i,y:r,width:a,height:s+u};case"w":return{x:i+l,y:r,width:a-l,height:s};case"e":return{x:i,y:r,width:a+l,height:s};default:throw new Error("unknown direction: "+t)}}var V1=Math.abs,E9=Math.round,ic={x:"width",y:"height"},NN="crosshair",du={n:"top",w:"left",s:"bottom",e:"right"},S9=1500,uv={n:"s",w:"e",s:"n",e:"w"},fv=20;function Oo(e,t,n,i,r,a,s){this._canvas=e,this._dragging=t,this._eventBus=n,this._modeling=i,this._rules=r,this._toolManager=a,this._mouse=s;var l=this;a.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),n.on("spaceTool.selection.end",function(u){n.once("spaceTool.selection.ended",function(){l.activateMakeSpace(u.originalEvent)})}),n.on("spaceTool.move",S9,function(u){var f=u.context,p=f.initialized;p||(p=f.initialized=l.init(u,f)),p&&y3(u)}),n.on("spaceTool.end",function(u){var f=u.context,p=f.axis,d=f.direction,v=f.movingShapes,g=f.resizingShapes,w=f.start;if(f.initialized){y3(u);var x={x:0,y:0};x[p]=E9(u["d"+p]),l.makeSpace(v,g,x,d,w),n.once("spaceTool.ended",function(E){l.activateSelection(E.originalEvent,!0,!0)})}})}Oo.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager","mouse"];Oo.prototype.activateSelection=function(e,t,n){this._dragging.init(e,"spaceTool.selection",{autoActivate:t,cursor:NN,data:{context:{reactivate:n}},trapClick:!1})};Oo.prototype.activateMakeSpace=function(e){this._dragging.init(e,"spaceTool",{autoActivate:!0,cursor:NN,data:{context:{}}})};Oo.prototype.makeSpace=function(e,t,n,i,r){return this._modeling.createSpace(e,t,n,i,r)};Oo.prototype.init=function(e,t){var n=V1(e.dx)>V1(e.dy)?"x":"y",i=e["d"+n],r=e[n]-i;if(V1(i)<5)return!1;i<0&&(i*=-1),cm(e)&&(i*=-1);var a=_9(n,i),s=this._canvas.getRootElement();!Qv(e)&&e.hover&&(s=e.hover);var l=[...ym(s,!0),...s.attachers||[]],u=this.calculateAdjustments(l,n,i,r),f=this._eventBus.fire("spaceTool.getMinDimensions",{axis:n,direction:a,shapes:u.resizingShapes,start:r}),p=A9(u,n,a,r,f);return Ne(t,u,{axis:n,direction:a,spaceToolConstraints:p,start:r}),Ry("resize-"+(n==="x"?"ew":"ns")),!0};Oo.prototype.calculateAdjustments=function(e,t,n,i){var r=this._rules,a=[],s=[],l=[],u=[];function f(v){a.includes(v)||a.push(v);var g=v.label;g&&!a.includes(g)&&a.push(g)}function p(v){s.includes(v)||s.push(v)}ve(e,function(v){if(!(!v.parent||pn(v))){if(Ln(v)){u.push(v);return}var g=v[t],w=g+v[ic[t]];if(N9(v)&&(n>0&&Ct(v)[t]>i||n<0&&Ct(v)[t]<i)){l.push(v);return}if(n>0&&g>i||n<0&&w<i){f(v);return}if(g<i&&w>i&&r.allowed("shape.resize",{shape:v})){p(v);return}}}),ve(a,function(v){var g=v.attachers;g&&ve(g,function(w){f(w)})});var d=a.concat(s);return ve(l,function(v){var g=v.host;Vf(d,g)&&f(v)}),d=a.concat(s),ve(u,function(v){var g=v.source,w=v.target,x=v.label;Vf(d,g)&&Vf(d,w)&&x&&f(x)}),{movingShapes:a,resizingShapes:s}};Oo.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)};Oo.prototype.isActive=function(){var e=this._dragging.context();return e?/^spaceTool/.test(e.prefix):!1};function v3(e){return{top:e.top-fv,right:e.right+fv,bottom:e.bottom+fv,left:e.left-fv}}function y3(e){var t=e.context,n=t.spaceToolConstraints;if(n){var i,r;Nt(n.left)&&(i=Math.max(e.x,n.left),e.dx=e.dx+i-e.x,e.x=i),Nt(n.right)&&(i=Math.min(e.x,n.right),e.dx=e.dx+i-e.x,e.x=i),Nt(n.top)&&(r=Math.max(e.y,n.top),e.dy=e.dy+r-e.y,e.y=r),Nt(n.bottom)&&(r=Math.min(e.y,n.bottom),e.dy=e.dy+r-e.y,e.y=r)}}function A9(e,t,n,i,r){var a=e.movingShapes,s=e.resizingShapes;if(s.length){var l={},u,f;return ve(s,function(p){var d=p.attachers,v=p.children,g=_t(p),w=Yt(v,function(le){return!Ln(le)&&!pn(le)&&!Vf(a,le)&&!Vf(s,le)}),x=Yt(v,function(le){return!Ln(le)&&!pn(le)&&Vf(a,le)}),E,R,L,M=[],P=[],k,W,Q,z;w.length&&(R=v3(_t(Ji(w))),E=i-g[du[n]]+R[du[n]],n==="n"?l.bottom=f=Nt(f)?Math.min(f,E):E:n==="w"?l.right=f=Nt(f)?Math.min(f,E):E:n==="s"?l.top=u=Nt(u)?Math.max(u,E):E:n==="e"&&(l.left=u=Nt(u)?Math.max(u,E):E)),x.length&&(L=v3(_t(Ji(x))),E=i-L[du[uv[n]]]+g[du[uv[n]]],n==="n"?l.bottom=f=Nt(f)?Math.min(f,E):E:n==="w"?l.right=f=Nt(f)?Math.min(f,E):E:n==="s"?l.top=u=Nt(u)?Math.max(u,E):E:n==="e"&&(l.left=u=Nt(u)?Math.max(u,E):E)),d&&d.length&&(d.forEach(function(le){Vf(a,le)?M.push(le):P.push(le)}),M.length&&(k=_t(Ji(M.map(Ct))),W=g[du[uv[n]]]-(k[du[uv[n]]]-i)),P.length&&(Q=_t(Ji(P.map(Ct))),z=Q[du[n]]-(g[du[n]]-i)),n==="n"?(E=Math.min(W||1/0,z||1/0),l.bottom=f=Nt(f)?Math.min(f,E):E):n==="w"?(E=Math.min(W||1/0,z||1/0),l.right=f=Nt(f)?Math.min(f,E):E):n==="s"?(E=Math.max(W||-1/0,z||-1/0),l.top=u=Nt(u)?Math.max(u,E):E):n==="e"&&(E=Math.max(W||-1/0,z||-1/0),l.left=u=Nt(u)?Math.max(u,E):E));var ie=r&&r[p.id];ie&&(n==="n"?(E=i+p[ic[t]]-ie[ic[t]],l.bottom=f=Nt(f)?Math.min(f,E):E):n==="w"?(E=i+p[ic[t]]-ie[ic[t]],l.right=f=Nt(f)?Math.min(f,E):E):n==="s"?(E=i-p[ic[t]]+ie[ic[t]],l.top=u=Nt(u)?Math.max(u,E):E):n==="e"&&(E=i-p[ic[t]]+ie[ic[t]],l.left=u=Nt(u)?Math.max(u,E):E))}),l}}function Vf(e,t){return e.indexOf(t)!==-1}function N9(e){return!!e.host}var $1="djs-dragging",b3="djs-resizing",C9=250,hv=Math.max;function CN(e,t,n,i,r){function a(s,l){ve(s,function(u){r.addDragger(u,l),n.addMarker(u,$1)})}e.on("spaceTool.selection.start",function(s){var l=n.getLayer("space"),u=s.context,f={x:"M 0,-10000 L 0,10000",y:"M -10000,0 L 10000,0"},p=yt("g");ft(p,i.cls("djs-crosshair-group",["no-events"])),Mt(l,p);var d=yt("path");ft(d,"d",f.x),fn(d).add("djs-crosshair"),Mt(p,d);var v=yt("path");ft(v,"d",f.y),fn(v).add("djs-crosshair"),Mt(p,v),u.crosshairGroup=p}),e.on("spaceTool.selection.move",function(s){var l=s.context.crosshairGroup;Mr(l,s.x,s.y)}),e.on("spaceTool.selection.cleanup",function(s){var l=s.context,u=l.crosshairGroup;u&&Qi(u)}),e.on("spaceTool.move",C9,function(s){var l=s.context,u=l.line,f=l.axis,p=l.movingShapes,d=l.resizingShapes;if(l.initialized){if(!l.dragGroup){var v=n.getLayer("space");u=yt("path"),ft(u,"d","M0,0 L0,0"),fn(u).add("djs-crosshair"),Mt(v,u),l.line=u;var g=yt("g");ft(g,i.cls("djs-drag-group",["no-events"])),Mt(n.getActiveLayer(),g),a(p,g);var w=l.movingConnections=t.filter(function(P){var k=!1;ve(p,function(ie){ve(ie.outgoing,function(le){P===le&&(k=!0)})});var W=!1;ve(p,function(ie){ve(ie.incoming,function(le){P===le&&(W=!0)})});var Q=!1;ve(d,function(ie){ve(ie.outgoing,function(le){P===le&&(Q=!0)})});var z=!1;return ve(d,function(ie){ve(ie.incoming,function(le){P===le&&(z=!0)})}),Ln(P)&&(k||Q)&&(W||z)});a(w,g),l.dragGroup=g}if(!l.frameGroup){var x=yt("g");ft(x,i.cls("djs-frame-group",["no-events"])),Mt(n.getActiveLayer(),x);var E=[];ve(d,function(P){var k=r.addFrame(P,x),W=k.getBBox();E.push({element:k,initialBounds:W}),n.addMarker(P,b3)}),l.frameGroup=x,l.frames=E}var R={x:"M"+s.x+", -10000 L"+s.x+", 10000",y:"M -10000, "+s.y+" L 10000, "+s.y};ft(u,{d:R[f]});var L={x:"y",y:"x"},M={x:s.dx,y:s.dy};M[L[l.axis]]=0,Mr(l.dragGroup,M.x,M.y),ve(l.frames,function(P){var k=P.element,W=P.initialBounds,Q,z;l.direction==="e"?ft(k,{width:hv(W.width+M.x,5)}):(Q=hv(W.width-M.x,5),ft(k,{width:Q,x:W.x+W.width-Q})),l.direction==="s"?ft(k,{height:hv(W.height+M.y,5)}):(z=hv(W.height-M.y,5),ft(k,{height:z,y:W.y+W.height-z}))})}}),e.on("spaceTool.cleanup",function(s){var l=s.context,u=l.movingShapes,f=l.movingConnections,p=l.resizingShapes,d=l.line,v=l.dragGroup,g=l.frameGroup;ve(u,function(w){n.removeMarker(w,$1)}),ve(f,function(w){n.removeMarker(w,$1)}),v&&(Qi(d),Qi(v)),ve(p,function(w){n.removeMarker(w,b3)}),g&&Qi(g)})}CN.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];const T9={__init__:["spaceToolPreview"],__depends__:[mc,_l,Wy,Fp,Mm],spaceTool:["type",Oo],spaceToolPreview:["type",CN]};function Xy(e,t){e.invoke(Oo,this),this._canvas=t}Xy.$inject=["injector","canvas"];dt(Xy,Oo);Xy.prototype.calculateAdjustments=function(e,t,n,i){var r=this._canvas.getRootElement(),a=e[0]===r?null:e[0],s=[];a&&(s=hy(P4(r.children.filter(f=>U(f,"bpmn:Artifact")),Ji(a))));const l=[...e,...s];var u=Oo.prototype.calculateAdjustments.call(this,l,t,n,i);return u.resizingShapes=u.resizingShapes.filter(function(f){return!(U(f,"bpmn:TextAnnotation")||R9(f)&&(t==="y"&&hr(f)||t==="x"&&!hr(f)))}),u};function R9(e){return U(e,"bpmn:Participant")&&!rt(e).processRef}const TN={__depends__:[T9],spaceTool:["type",Xy]};function li(e,t){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[],trigger:null},this._injector=t,this._eventBus=e,this._uid=1,e.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}li.$inject=["eventBus","injector"];li.prototype.execute=function(e,t){if(!e)throw new Error("command required");this._currentExecution.trigger="execute";const n={command:e,context:t};this._pushAction(n),this._internalExecute(n),this._popAction()};li.prototype.canExecute=function(e,t){const n={command:e,context:t},i=this._getHandler(e);let r=this._fire(e,"canExecute",n);if(r===void 0){if(!i)return!1;i.canExecute&&(r=i.canExecute(t))}return r};li.prototype.clear=function(e){this._stack.length=0,this._stackIdx=-1,e!==!1&&this._fire("changed",{trigger:"clear"})};li.prototype.undo=function(){let e=this._getUndoAction(),t;if(e){for(this._currentExecution.trigger="undo",this._pushAction(e);e&&(this._internalUndo(e),t=this._getUndoAction(),!(!t||t.id!==e.id));)e=t;this._popAction()}};li.prototype.redo=function(){let e=this._getRedoAction(),t;if(e){for(this._currentExecution.trigger="redo",this._pushAction(e);e&&(this._internalExecute(e,!0),t=this._getRedoAction(),!(!t||t.id!==e.id));)e=t;this._popAction()}};li.prototype.register=function(e,t){this._setHandler(e,t)};li.prototype.registerHandler=function(e,t){if(!e||!t)throw new Error("command and handlerCls must be defined");const n=this._injector.instantiate(t);this.register(e,n)};li.prototype.canUndo=function(){return!!this._getUndoAction()};li.prototype.canRedo=function(){return!!this._getRedoAction()};li.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]};li.prototype._getUndoAction=function(){return this._stack[this._stackIdx]};li.prototype._internalUndo=function(e){const t=e.command,n=e.context,i=this._getHandler(t);this._atomicDo(()=>{this._fire(t,"revert",e),i.revert&&this._markDirty(i.revert(n)),this._revertedAction(e),this._fire(t,"reverted",e)})};li.prototype._fire=function(e,t,n){arguments.length<3&&(n=t,t=null);const i=t?[e+"."+t,t]:[e];let r;n=this._eventBus.createEvent(n);for(const a of i)if(r=this._eventBus.fire("commandStack."+a,n),n.cancelBubble)break;return r};li.prototype._createId=function(){return this._uid++};li.prototype._atomicDo=function(e){const t=this._currentExecution;t.atomic=!0;try{e()}finally{t.atomic=!1}};li.prototype._internalExecute=function(e,t){const n=e.command,i=e.context,r=this._getHandler(n);if(!r)throw new Error("no command handler registered for <"+n+">");this._pushAction(e),t||(this._fire(n,"preExecute",e),r.preExecute&&r.preExecute(i),this._fire(n,"preExecuted",e)),this._atomicDo(()=>{this._fire(n,"execute",e),r.execute&&this._markDirty(r.execute(i)),this._executedAction(e,t),this._fire(n,"executed",e)}),t||(this._fire(n,"postExecute",e),r.postExecute&&r.postExecute(i),this._fire(n,"postExecuted",e)),this._popAction()};li.prototype._pushAction=function(e){const t=this._currentExecution,n=t.actions,i=n[0];if(t.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+e.command+")");e.id||(e.id=i&&i.id||this._createId()),n.push(e)};li.prototype._popAction=function(){const e=this._currentExecution,t=e.trigger,n=e.actions,i=e.dirty;n.pop(),n.length||(this._eventBus.fire("elements.changed",{elements:v4("id",i.reverse())}),i.length=0,this._fire("changed",{trigger:t}),e.trigger=null)};li.prototype._markDirty=function(e){const t=this._currentExecution;e&&(e=Tt(e)?e:[e],t.dirty=t.dirty.concat(e))};li.prototype._executedAction=function(e,t){const n=++this._stackIdx;t||this._stack.splice(n,this._stack.length,e)};li.prototype._revertedAction=function(e){this._stackIdx--};li.prototype._getHandler=function(e){return this._handlerMap[e]};li.prototype._setHandler=function(e,t){if(!e||!t)throw new Error("command and handler required");if(this._handlerMap[e])throw new Error("overriding handler for command <"+e+">");this._handlerMap[e]=t};const M9={commandStack:["type",li]};function Eu(e,t){if(typeof t!="function")throw new Error("removeFn iterator must be a function");if(e){for(var n;n=e[0];)t(n);return e}}var P9=250,_3=1400;function H5(e,t,n){tt.call(this,t);var i=e.get("movePreview",!1);t.on("shape.move.start",_3,function(r){var a=r.context,s=a.shapes,l=a.validatedShapes;a.shapes=w3(s),a.validatedShapes=w3(l)}),i&&t.on("shape.move.start",P9,function(r){var a=r.context,s=a.shapes,l=[];ve(s,function(u){ve(u.labels,function(f){!f.hidden&&a.shapes.indexOf(f)===-1&&l.push(f),u.labelTarget&&l.push(u)})}),ve(l,function(u){i.makeDraggable(a,u,!0)})}),this.preExecuted("elements.move",_3,function(r){var a=r.context,s=a.closure,l=s.enclosedElements,u=[];ve(l,function(f){ve(f.labels,function(p){l[p.id]||u.push(p)})}),s.addAll(u)}),this.preExecute(["connection.delete","shape.delete"],function(r){var a=r.context,s=a.connection||a.shape;Eu(s.labels,function(l){n.removeShape(l,{nested:!0})})}),this.execute("shape.delete",function(r){var a=r.context,s=a.shape,l=s.labelTarget;l&&(a.labelTargetIndex=_b(l.labels,s),a.labelTarget=l,s.labelTarget=null)}),this.revert("shape.delete",function(r){var a=r.context,s=a.shape,l=a.labelTarget,u=a.labelTargetIndex;l&&(er(l.labels,s,u),s.labelTarget=l)})}dt(H5,tt);H5.$inject=["injector","eventBus","modeling"];function w3(e){return Yt(e,function(t){return e.indexOf(t.labelTarget)===-1})}const L9={__init__:["labelSupport"],labelSupport:["type",H5]};var D9=251,x3=1401,E3="attach-ok";function U5(e,t,n,i,r){tt.call(this,t);var a=e.get("movePreview",!1);t.on("shape.move.start",x3,function(s){var l=s.context,u=l.shapes,f=l.validatedShapes;l.shapes=O9(u),l.validatedShapes=B9(f)}),a&&t.on("shape.move.start",D9,function(s){var l=s.context,u=l.shapes,f=X2(u);ve(f,function(p){a.makeDraggable(l,p,!0),ve(p.labels,function(d){a.makeDraggable(l,d,!0)})})}),a&&t.on("shape.move.start",function(s){var l=s.context,u=l.shapes;if(u.length===1){var f=u[0],p=f.host;p&&(n.addMarker(p,E3),t.once(["shape.move.out","shape.move.cleanup"],function(){n.removeMarker(p,E3)}))}}),this.preExecuted("elements.move",x3,function(s){var l=s.context,u=l.closure,f=l.shapes,p=X2(f);ve(p,function(d){u.add(d,u.topLevel[d.host.id])})}),this.postExecuted("elements.move",function(s){var l=s.context,u=l.shapes,f=l.newHost,p;f&&u.length!==1||(f?p=u:p=Yt(u,function(d){var v=d.host;return k9(d)&&!j9(u,v)}),ve(p,function(d){r.updateAttachment(d,f)}))}),this.postExecuted("elements.move",function(s){var l=s.context.shapes;ve(l,function(u){ve(u.attachers,function(f){ve(f.outgoing.slice(),function(p){var d=i.allowed("connection.reconnect",{connection:p,source:p.source,target:p.target});d||r.removeConnection(p)}),ve(f.incoming.slice(),function(p){var d=i.allowed("connection.reconnect",{connection:p,source:p.source,target:p.target});d||r.removeConnection(p)})})})}),this.postExecute("shape.create",function(s){var l=s.context,u=l.shape,f=l.host;f&&r.updateAttachment(u,f)}),this.postExecute("shape.replace",function(s){var l=s.context,u=l.oldShape,f=l.newShape;Eu(u.attachers,function(p){var d=i.allowed("elements.move",{target:f,shapes:[p]});d==="attach"?r.updateAttachment(p,f):r.removeShape(p)}),f.attachers.length&&ve(f.attachers,function(p){var d=QE(p,u,f);r.moveShape(p,d,p.parent)})}),this.postExecute("shape.resize",function(s){var l=s.context,u=l.shape,f=l.oldBounds,p=l.newBounds,d=u.attachers,v=l.hints||{};v.attachSupport!==!1&&ve(d,function(g){var w=QE(g,f,p);r.moveShape(g,w,g.parent),ve(g.labels,function(x){r.moveShape(x,w,x.parent)})})}),this.preExecute("shape.delete",function(s){var l=s.context.shape;Eu(l.attachers,function(u){r.removeShape(u)}),l.host&&r.updateAttachment(l,null)})}dt(U5,tt);U5.$inject=["injector","eventBus","canvas","rules","modeling"];function X2(e){return mb(Pr(e,function(t){return t.attachers||[]}))}function O9(e){var t=X2(e);return TT("id",e,t)}function B9(e){var t=Lu(e,"id");return Yt(e,function(n){for(;n;){if(n.host&&t[n.host.id])return!1;n=n.parent}return!0})}function k9(e){return!!e.host}function j9(e,t){return e.indexOf(t)!==-1}const I9={__depends__:[_l],__init__:["attachSupport"],attachSupport:["type",U5]};function Bo(e){this._model=e}Bo.$inject=["moddle"];Bo.prototype._needsId=function(e){return Wt(e,["bpmn:RootElement","bpmn:FlowElement","bpmn:MessageFlow","bpmn:DataAssociation","bpmn:Artifact","bpmn:Participant","bpmn:Lane","bpmn:LaneSet","bpmn:Process","bpmn:Collaboration","bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane","bpmn:Property","bpmn:CategoryValue"])};Bo.prototype._ensureId=function(e){if(e.id){this._model.ids.claim(e.id,e);return}var t;U(e,"bpmn:Activity")?t="Activity":U(e,"bpmn:Event")?t="Event":U(e,"bpmn:Gateway")?t="Gateway":Wt(e,["bpmn:SequenceFlow","bpmn:MessageFlow"])?t="Flow":t=(e.$type||"").replace(/^[^:]*:/g,""),t+="_",!e.id&&this._needsId(e)&&(e.id=this._model.ids.nextPrefixed(t,e))};Bo.prototype.create=function(e,t){var n=this._model.create(e,t||{});return this._ensureId(n),n};Bo.prototype.createDiLabel=function(){return this.create("bpmndi:BPMNLabel",{bounds:this.createDiBounds()})};Bo.prototype.createDiShape=function(e,t){return this.create("bpmndi:BPMNShape",Ne({bpmnElement:e,bounds:this.createDiBounds()},t))};Bo.prototype.createDiBounds=function(e){return this.create("dc:Bounds",e)};Bo.prototype.createDiWaypoints=function(e){var t=this;return Pr(e,function(n){return t.createDiWaypoint(n)})};Bo.prototype.createDiWaypoint=function(e){return this.create("dc:Point",ys(e,["x","y"]))};Bo.prototype.createDiEdge=function(e,t){return this.create("bpmndi:BPMNEdge",Ne({bpmnElement:e,waypoint:this.createDiWaypoints([])},t))};Bo.prototype.createDiPlane=function(e,t){return this.create("bpmndi:BPMNPlane",Ne({bpmnElement:e},t))};function za(e,t,n){tt.call(this,e),this._bpmnFactory=t;var i=this;function r(g){var w=g.context,x=w.hints||{},E;!w.cropped&&x.createElementsBehavior!==!1&&(E=w.connection,E.waypoints=n.getCroppedWaypoints(E),w.cropped=!0)}this.executed(["connection.layout","connection.create"],r),this.reverted(["connection.layout"],function(g){delete g.context.cropped});function a(g){var w=g.context;i.updateParent(w.shape||w.connection,w.oldParent)}function s(g){var w=g.context,x=w.shape||w.connection,E=w.parent||w.newParent;i.updateParent(x,E)}this.executed(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Ba(a)),this.reverted(["shape.move","shape.create","shape.delete","connection.create","connection.move","connection.delete"],Ba(s));function l(g){var w=g.context,x=w.oldRoot,E=x.children;ve(E,function(R){U(R,"bpmn:BaseElement")&&i.updateParent(R)})}this.executed(["canvas.updateRoot"],l),this.reverted(["canvas.updateRoot"],l);function u(g){var w=g.context.shape;U(w,"bpmn:BaseElement")&&i.updateBounds(w)}this.executed(["shape.move","shape.create","shape.resize"],Ba(function(g){g.context.shape.type!=="label"&&u(g)})),this.reverted(["shape.move","shape.create","shape.resize"],Ba(function(g){g.context.shape.type!=="label"&&u(g)})),e.on("shape.changed",function(g){g.element.type==="label"&&u({context:{shape:g.element}})});function f(g){i.updateConnection(g.context)}this.executed(["connection.create","connection.move","connection.delete","connection.reconnect"],Ba(f)),this.reverted(["connection.create","connection.move","connection.delete","connection.reconnect"],Ba(f));function p(g){i.updateConnectionWaypoints(g.context.connection)}this.executed(["connection.layout","connection.move","connection.updateWaypoints"],Ba(p)),this.reverted(["connection.layout","connection.move","connection.updateWaypoints"],Ba(p)),this.executed("connection.reconnect",Ba(function(g){var w=g.context,x=w.connection,E=w.oldSource,R=w.newSource,L=rt(x),M=rt(E),P=rt(R);L.conditionExpression&&!Wt(P,["bpmn:Activity","bpmn:ExclusiveGateway","bpmn:InclusiveGateway"])&&(w.oldConditionExpression=L.conditionExpression,delete L.conditionExpression),E!==R&&M.default===L&&(w.oldDefault=M.default,delete M.default)})),this.reverted("connection.reconnect",Ba(function(g){var w=g.context,x=w.connection,E=w.oldSource,R=w.newSource,L=rt(x),M=rt(E),P=rt(R);w.oldConditionExpression&&(L.conditionExpression=w.oldConditionExpression),w.oldDefault&&(M.default=w.oldDefault,delete P.default)}));function d(g){i.updateAttachment(g.context)}this.executed(["element.updateAttachment"],Ba(d)),this.reverted(["element.updateAttachment"],Ba(d)),this.executed("element.updateLabel",Ba(v)),this.reverted("element.updateLabel",Ba(v));function v(g){const{element:w}=g.context,x=bs(w),E=hn(w),R=E&&E.get("label");Zf(w)||Pv(w)||(x&&!R?E.set("label",t.create("bpmndi:BPMNLabel")):!x&&R&&E.set("label",void 0))}}dt(za,tt);za.$inject=["eventBus","bpmnFactory","connectionDocking"];za.prototype.updateAttachment=function(e){var t=e.shape,n=t.businessObject,i=t.host;n.attachedToRef=i&&i.businessObject};za.prototype.updateParent=function(e,t){if(!pn(e)&&!(U(e,"bpmn:DataStoreReference")&&e.parent&&U(e.parent,"bpmn:Collaboration"))){var n=e.parent,i=e.businessObject,r=hn(e),a=n&&n.businessObject,s=hn(n);U(e,"bpmn:FlowNode")&&this.updateFlowNodeRefs(i,a,t&&t.businessObject),U(e,"bpmn:DataOutputAssociation")&&(e.source?a=e.source.businessObject:a=null),U(e,"bpmn:DataInputAssociation")&&(e.target?a=e.target.businessObject:a=null),this.updateSemanticParent(i,a),U(e,"bpmn:DataObjectReference")&&i.dataObjectRef&&this.updateSemanticParent(i.dataObjectRef,a),this.updateDiParent(r,s)}};za.prototype.updateBounds=function(e){var t=hn(e),n=z9(e);if(n){var i=vs(n,t.get("bounds"));Ne(n,{x:e.x+i.x,y:e.y+i.y})}var r=pn(e)?this._getLabel(t):t,a=r.bounds;a||(a=this._bpmnFactory.createDiBounds(),r.set("bounds",a)),Ne(a,{x:e.x,y:e.y,width:e.width,height:e.height})};za.prototype.updateFlowNodeRefs=function(e,t,n){if(n!==t){var i,r;U(n,"bpmn:Lane")&&(i=n.get("flowNodeRef"),ki(i,e)),U(t,"bpmn:Lane")&&(r=t.get("flowNodeRef"),er(r,e))}};za.prototype.updateDiConnection=function(e,t,n){var i=hn(e),r=hn(t),a=hn(n);i.sourceElement&&i.sourceElement.bpmnElement!==rt(t)&&(i.sourceElement=t&&r),i.targetElement&&i.targetElement.bpmnElement!==rt(n)&&(i.targetElement=n&&a)};za.prototype.updateDiParent=function(e,t){if(t&&!U(t,"bpmndi:BPMNPlane")&&(t=t.$parent),e.$parent!==t){var n=(t||e.$parent).get("planeElement");t?(n.push(e),e.$parent=t):(ki(n,e),e.$parent=null)}};function F9(e){for(;e&&!U(e,"bpmn:Definitions");)e=e.$parent;return e}za.prototype.getLaneSet=function(e){var t,n;return U(e,"bpmn:Lane")?(t=e.childLaneSet,t||(t=this._bpmnFactory.create("bpmn:LaneSet"),e.childLaneSet=t,t.$parent=e),t):(U(e,"bpmn:Participant")&&(e=e.processRef),n=e.get("laneSets"),t=n[0],t||(t=this._bpmnFactory.create("bpmn:LaneSet"),t.$parent=e,n.push(t)),t)};za.prototype.updateSemanticParent=function(e,t,n){var i;if(e.$parent!==t&&!((U(e,"bpmn:DataInput")||U(e,"bpmn:DataOutput"))&&(U(t,"bpmn:Participant")&&"processRef"in t&&(t=t.processRef),"ioSpecification"in t&&t.ioSpecification===e.$parent))){if(U(e,"bpmn:Lane"))t&&(t=this.getLaneSet(t)),i="lanes";else if(U(e,"bpmn:FlowElement")){if(t){if(U(t,"bpmn:Participant"))t=t.processRef;else if(U(t,"bpmn:Lane"))do t=t.$parent.$parent;while(U(t,"bpmn:Lane"))}i="flowElements"}else if(U(e,"bpmn:Artifact")){for(;t&&!U(t,"bpmn:Process")&&!U(t,"bpmn:SubProcess")&&!U(t,"bpmn:Collaboration");)if(U(t,"bpmn:Participant")){t=t.processRef;break}else t=t.$parent;i="artifacts"}else if(U(e,"bpmn:MessageFlow"))i="messageFlows";else if(U(e,"bpmn:Participant")){i="participants";var r=e.processRef,a;r&&(a=F9(e.$parent||t),e.$parent&&(ki(a.get("rootElements"),r),r.$parent=null),t&&(er(a.get("rootElements"),r),r.$parent=a))}else U(e,"bpmn:DataOutputAssociation")?i="dataOutputAssociations":U(e,"bpmn:DataInputAssociation")&&(i="dataInputAssociations");if(!i)throw new Error(`no parent for <${e.id}> in <${t.id}>`);var s;if(e.$parent&&(s=e.$parent.get(i),ki(s,e)),t?(s=t.get(i),s.push(e),e.$parent=t):e.$parent=null,n){var l=n.get(i);ki(s,e),t&&(l||(l=[],t.set(i,l)),l.push(e))}}};za.prototype.updateConnectionWaypoints=function(e){var t=hn(e);t.set("waypoint",this._bpmnFactory.createDiWaypoints(e.waypoints))};za.prototype.updateConnection=function(e){var t=e.connection,n=rt(t),i=t.source,r=rt(i),a=t.target,s=rt(t.target),l;if(U(n,"bpmn:DataAssociation"))U(n,"bpmn:DataInputAssociation")?(n.get("sourceRef")[0]=r,l=e.parent||e.newParent||s,this.updateSemanticParent(n,s,l)):U(n,"bpmn:DataOutputAssociation")&&(l=e.parent||e.newParent||r,this.updateSemanticParent(n,r,l),n.targetRef=s);else{var u=U(n,"bpmn:SequenceFlow");n.sourceRef!==r&&(u&&(ki(n.sourceRef&&n.sourceRef.get("outgoing"),n),r&&r.get("outgoing")&&r.get("outgoing").push(n)),n.sourceRef=r),n.targetRef!==s&&(u&&(ki(n.targetRef&&n.targetRef.get("incoming"),n),s&&s.get("incoming")&&s.get("incoming").push(n)),n.targetRef=s)}this.updateConnectionWaypoints(t),this.updateDiConnection(t,i,a)};za.prototype._getLabel=function(e){return e.label||(e.label=this._bpmnFactory.createDiLabel()),e.label};function Ba(e){return function(t){var n=t.context,i=n.shape||n.connection||n.element;U(i,"bpmn:BaseElement")&&e(t)}}function z9(e){if(U(e,"bpmn:Activity")){var t=hn(e);if(t){var n=t.get("label");if(n)return n.get("bounds")}}}function Uu(e,t){fc.call(this),this._bpmnFactory=e,this._moddle=t}dt(Uu,fc);Uu.$inject=["bpmnFactory","moddle"];Uu.prototype._baseCreate=fc.prototype.create;Uu.prototype.create=function(e,t){if(e==="label"){var n=t.di||this._bpmnFactory.createDiLabel();return this._baseCreate(e,Ne({type:"label",di:n},sm,t))}return this.createElement(e,t)};Uu.prototype.createElement=function(e,t){t=Ne({},t||{});var n,i=t.businessObject,r=t.di;if(!i){if(!t.type)throw new Error("no shape type specified");i=this._bpmnFactory.create(t.type),uA(i)}if(!U9(r)){var a=Ne({},r||{},{id:i.id+"_di"});e==="root"?r=this._bpmnFactory.createDiPlane(i,a):e==="connection"?r=this._bpmnFactory.createDiEdge(i,a):r=this._bpmnFactory.createDiShape(i,a)}U(i,"bpmn:Group")&&(t=Ne({isFrame:!0},t)),t=H9(i,t,["processRef","isInterrupting","associationDirection","isForCompensation"]),t.isExpanded&&(t=K2(r,t,"isExpanded")),Wt(i,["bpmn:Lane","bpmn:Participant"])&&(t=K2(r,t,"isHorizontal")),U(i,"bpmn:SubProcess")&&(t.collapsed=!Jt(i,r)),U(i,"bpmn:ExclusiveGateway")&&(wa(r,"isMarkerVisible")?r.isMarkerVisible===void 0&&(r.isMarkerVisible=!1):r.isMarkerVisible=!0),br(t.triggeredByEvent)&&(i.triggeredByEvent=t.triggeredByEvent,delete t.triggeredByEvent),br(t.cancelActivity)&&(i.cancelActivity=t.cancelActivity,delete t.cancelActivity);var s,l;return t.eventDefinitionType&&(s=i.get("eventDefinitions")||[],l=this._bpmnFactory.create(t.eventDefinitionType,t.eventDefinitionAttrs),t.eventDefinitionType==="bpmn:ConditionalEventDefinition"&&(l.condition=this._bpmnFactory.create("bpmn:FormalExpression")),s.push(l),l.$parent=i,i.eventDefinitions=s,delete t.eventDefinitionType),n=this.getDefaultSize(i,r),t=Ne({id:i.id},n,t,{businessObject:i,di:r}),this._baseCreate(e,t)};Uu.prototype.getDefaultSize=function(e,t){var n=rt(e);if(t=t||hn(e),U(n,"bpmn:SubProcess"))return Jt(n,t)?{width:350,height:200}:{width:100,height:80};if(U(n,"bpmn:Task"))return{width:100,height:80};if(U(n,"bpmn:Gateway"))return{width:50,height:50};if(U(n,"bpmn:Event"))return{width:36,height:36};if(U(n,"bpmn:Participant")){var i=t.isHorizontal===void 0||t.isHorizontal===!0;return Jt(n,t)?i?{width:600,height:250}:{width:250,height:600}:i?{width:400,height:60}:{width:60,height:400}}return U(n,"bpmn:Lane")?{width:400,height:100}:U(n,"bpmn:DataObjectReference")?{width:36,height:50}:U(n,"bpmn:DataStoreReference")?{width:50,height:50}:U(n,"bpmn:TextAnnotation")?{width:100,height:30}:U(n,"bpmn:Group")?{width:300,height:300}:{width:100,height:80}};Uu.prototype.createParticipantShape=function(e){return _r(e)||(e={isExpanded:e}),e=Ne({type:"bpmn:Participant"},e||{}),e.isExpanded!==!1&&(e.processRef=this._bpmnFactory.create("bpmn:Process")),this.createShape(e)};function H9(e,t,n){return ve(n,function(i){t=K2(e,t,i)}),t}function K2(e,t,n){return t[n]===void 0?t:(e[n]=t[n],vl(t,[n]))}function U9(e){return Wt(e,["bpmndi:BPMNShape","bpmndi:BPMNEdge","bpmndi:BPMNDiagram","bpmndi:BPMNPlane"])}function Ky(e,t){this._modeling=e,this._canvas=t}Ky.$inject=["modeling","canvas"];Ky.prototype.preExecute=function(e){var t=this._modeling,n=e.elements,i=e.alignment;ve(n,function(r){var a={x:0,y:0};br(i.left)?a.x=i.left-r.x:br(i.right)?a.x=i.right-r.width-r.x:br(i.center)?a.x=i.center-Math.round(r.width/2)-r.x:br(i.top)?a.y=i.top-r.y:br(i.bottom)?a.y=i.bottom-r.height-r.y:br(i.middle)&&(a.y=i.middle-Math.round(r.height/2)-r.y),t.moveElements([r],a,r.parent)})};Ky.prototype.postExecute=function(e){};function Zy(e){this._modeling=e}Zy.$inject=["modeling"];Zy.prototype.preExecute=function(e){var t=e.source;if(!t)throw new Error("source required");var n=e.target||t.parent,i=e.shape,r=e.hints||{};i=e.shape=this._modeling.createShape(i,e.position,n,{attach:r.attach}),e.shape=i};Zy.prototype.postExecute=function(e){var t=e.hints||{};q9(e.source,e.shape)||(t.connectionTarget===e.source?this._modeling.connect(e.shape,e.source,e.connection):this._modeling.connect(e.source,e.shape,e.connection))};function q9(e,t){return Pu(e.outgoing,function(n){return n.target===t})}function Qy(e,t){this._canvas=e,this._layouter=t}Qy.$inject=["canvas","layouter"];Qy.prototype.execute=function(e){var t=e.connection,n=e.source,i=e.target,r=e.parent,a=e.parentIndex,s=e.hints;if(!n||!i)throw new Error("source and target required");if(!r)throw new Error("parent required");return t.source=n,t.target=i,t.waypoints||(t.waypoints=this._layouter.layoutConnection(t,s)),this._canvas.addConnection(t,r,a),t};Qy.prototype.revert=function(e){var t=e.connection;return this._canvas.removeConnection(t),t.source=null,t.target=null,t};var pv=Math.round;function q5(e){this._modeling=e}q5.$inject=["modeling"];q5.prototype.preExecute=function(e){var t=e.elements,n=e.parent,i=e.parentIndex,r=e.position,a=e.hints,s=this._modeling;ve(t,function(d){Nt(d.x)||(d.x=0),Nt(d.y)||(d.y=0)});var l=Yt(t,function(d){return!d.hidden}),u=Ji(l);ve(t,function(d){Ln(d)&&(d.waypoints=Pr(d.waypoints,function(v){return{x:pv(v.x-u.x-u.width/2+r.x),y:pv(v.y-u.y-u.height/2+r.y)}})),Ne(d,{x:pv(d.x-u.x-u.width/2+r.x),y:pv(d.y-u.y-u.height/2+r.y)})});var f=vy(t),p={};ve(t,function(d){if(Ln(d)){p[d.id]=Nt(i)?s.createConnection(p[d.source.id],p[d.target.id],i,d,d.parent||n,a):s.createConnection(p[d.source.id],p[d.target.id],d,d.parent||n,a);return}var v=Ne({},a);f.indexOf(d)===-1&&(v.autoResize=!1),pn(d)&&(v=vl(v,["attach"])),p[d.id]=Nt(i)?s.createShape(d,ys(d,["x","y","width","height"]),d.parent||n,i,v):s.createShape(d,ys(d,["x","y","width","height"]),d.parent||n,v)}),e.elements=hy(p)};var S3=Math.round;function qu(e){this._canvas=e}qu.$inject=["canvas"];qu.prototype.execute=function(e){var t=e.shape,n=e.position,i=e.parent,r=e.parentIndex;if(!i)throw new Error("parent required");if(!n)throw new Error("position required");return n.width!==void 0?Ne(t,n):Ne(t,{x:n.x-S3(t.width/2),y:n.y-S3(t.height/2)}),this._canvas.addShape(t,i,r),t};qu.prototype.revert=function(e){var t=e.shape;return this._canvas.removeShape(t),t};function Lm(e){qu.call(this,e)}dt(Lm,qu);Lm.$inject=["canvas"];var V9=qu.prototype.execute;Lm.prototype.execute=function(e){var t=e.shape;return G9(t),t.labelTarget=e.labelTarget,V9.call(this,e)};var $9=qu.prototype.revert;Lm.prototype.revert=function(e){return e.shape.labelTarget=null,$9.call(this,e)};function G9(e){["width","height"].forEach(function(t){typeof e[t]>"u"&&(e[t]=0)})}function Dm(e,t){this._canvas=e,this._modeling=t}Dm.$inject=["canvas","modeling"];Dm.prototype.preExecute=function(e){var t=this._modeling,n=e.connection;Eu(n.incoming,function(i){t.removeConnection(i,{nested:!0})}),Eu(n.outgoing,function(i){t.removeConnection(i,{nested:!0})})};Dm.prototype.execute=function(e){var t=e.connection,n=t.parent;return e.parent=n,e.parentIndex=_b(n.children,t),e.source=t.source,e.target=t.target,this._canvas.removeConnection(t),t.source=null,t.target=null,t};Dm.prototype.revert=function(e){var t=e.connection,n=e.parent,i=e.parentIndex;return t.source=e.source,t.target=e.target,er(n.children,t,i),this._canvas.addConnection(t,n),t};function V5(e,t){this._modeling=e,this._elementRegistry=t}V5.$inject=["modeling","elementRegistry"];V5.prototype.postExecute=function(e){var t=this._modeling,n=this._elementRegistry,i=e.elements;ve(i,function(r){n.get(r.id)&&(r.waypoints?t.removeConnection(r):t.removeShape(r))})};function Om(e,t){this._canvas=e,this._modeling=t}Om.$inject=["canvas","modeling"];Om.prototype.preExecute=function(e){var t=this._modeling,n=e.shape;Eu(n.incoming,function(i){t.removeConnection(i,{nested:!0})}),Eu(n.outgoing,function(i){t.removeConnection(i,{nested:!0})}),Eu(n.children,function(i){Ln(i)?t.removeConnection(i,{nested:!0}):t.removeShape(i,{nested:!0})})};Om.prototype.execute=function(e){var t=this._canvas,n=e.shape,i=n.parent;return e.oldParent=i,e.oldParentIndex=_b(i.children,n),t.removeShape(n),n};Om.prototype.revert=function(e){var t=this._canvas,n=e.shape,i=e.oldParent,r=e.oldParentIndex;return er(i.children,n,r),t.addShape(n,i),n};function Jy(e){this._modeling=e}Jy.$inject=["modeling"];var A3={x:"y",y:"x"};Jy.prototype.preExecute=function(e){var t=this._modeling,n=e.groups,i=e.axis,r=e.dimension;function a(E,R){E.range.min=Math.min(R[i],E.range.min),E.range.max=Math.max(R[i]+R[r],E.range.max)}function s(E){return E[i]+E[r]/2}function l(E){return E.length-1}function u(E){return E.max-E.min}function f(E,R){var L={y:0};L[i]=E-s(R),L[i]&&(L[A3[i]]=0,t.moveElements([R],L,R.parent))}var p=n[0],d=l(n),v=n[d],g,w,x=0;ve(n,function(E,R){var L,M,P;if(E.elements.length<2){R&&R!==n.length-1&&(a(E,E.elements[0]),x+=u(E.range));return}L=ml(E.elements,i),M=L[0],R===d&&(M=L[l(L)]),P=s(M),E.range=null,ve(L,function(k){if(f(P,k),E.range===null){E.range={min:k[i],max:k[i]+k[r]};return}a(E,k)}),R&&R!==n.length-1&&(x+=u(E.range))}),w=Math.abs(v.range.min-p.range.max),g=Math.round((w-x)/(n.length-1)),!(g<n.length-1)&&ve(n,function(E,R){var L={},M;E===p||E===v||(M=n[R-1],E.range.max=0,ve(E.elements,function(P,k){L[A3[i]]=0,L[i]=M.range.max-P[i]+g,E.range.min!==P[i]&&(L[i]+=P[i]-E.range.min),L[i]&&t.moveElements([P],L,P.parent),E.range.max=Math.max(P[i]+P[r],k?E.range.max:0)}))})};Jy.prototype.postExecute=function(e){};function e0(e,t){this._layouter=e,this._canvas=t}e0.$inject=["layouter","canvas"];e0.prototype.execute=function(e){var t=e.connection,n=t.waypoints;return Ne(e,{oldWaypoints:n}),t.waypoints=this._layouter.layoutConnection(t,e.hints),t};e0.prototype.revert=function(e){var t=e.connection;return t.waypoints=e.oldWaypoints,t};function $5(){}$5.prototype.execute=function(e){var t=e.connection,n=e.delta,i=e.newParent||t.parent,r=e.newParentIndex,a=t.parent;return e.oldParent=a,e.oldParentIndex=ki(a.children,t),er(i.children,t,r),t.parent=i,ve(t.waypoints,function(s){s.x+=n.x,s.y+=n.y,s.original&&(s.original.x+=n.x,s.original.y+=n.y)}),t};$5.prototype.revert=function(e){var t=e.connection,n=t.parent,i=e.oldParent,r=e.oldParentIndex,a=e.delta;return ki(n.children,t),er(i.children,t,r),t.parent=i,ve(t.waypoints,function(s){s.x-=a.x,s.y-=a.y,s.original&&(s.original.x-=a.x,s.original.y-=a.y)}),t};function G5(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}G5.prototype.add=function(e,t){return this.addAll([e],t)};G5.prototype.addAll=function(e,t){var n=yR(e,!!t,this);return Ne(this,n),this};function Bm(e){this._modeling=e}Bm.prototype.moveRecursive=function(e,t,n){return e?this.moveClosure(this.getClosure(e),t,n):[]};Bm.prototype.moveClosure=function(e,t,n,i,r){var a=this._modeling,s=e.allShapes,l=e.allConnections,u=e.enclosedConnections,f=e.topLevel,p=!1;r&&r.parent===n&&(p=!0),ve(s,function(d){a.moveShape(d,t,f[d.id]&&!p&&n,{recurse:!1,layout:!1})}),ve(l,function(d){var v=!!s[d.source.id],g=!!s[d.target.id];u[d.id]&&v&&g?a.moveConnection(d,t,f[d.id]&&!p&&n):a.layoutConnection(d,{connectionStart:v&&g5(d,d.source,t),connectionEnd:g&&v5(d,d.target,t)})})};Bm.prototype.getClosure=function(e){return new G5().addAll(e,!0)};function t0(e){this._helper=new Bm(e)}t0.$inject=["modeling"];t0.prototype.preExecute=function(e){e.closure=this._helper.getClosure(e.shapes)};t0.prototype.postExecute=function(e){var t=e.hints,n;t&&t.primaryShape&&(n=t.primaryShape,t.oldParent=n.parent),this._helper.moveClosure(e.closure,e.delta,e.newParent,e.newHost,n)};function sh(e){this._modeling=e,this._helper=new Bm(e)}sh.$inject=["modeling"];sh.prototype.execute=function(e){var t=e.shape,n=e.delta,i=e.newParent||t.parent,r=e.newParentIndex,a=t.parent;return e.oldBounds=ys(t,["x","y","width","height"]),e.oldParent=a,e.oldParentIndex=ki(a.children,t),er(i.children,t,r),Ne(t,{parent:i,x:t.x+n.x,y:t.y+n.y}),t};sh.prototype.postExecute=function(e){var t=e.shape,n=e.delta,i=e.hints,r=this._modeling;i.layout!==!1&&(ve(t.incoming,function(a){r.layoutConnection(a,{connectionEnd:v5(a,t,n)})}),ve(t.outgoing,function(a){r.layoutConnection(a,{connectionStart:g5(a,t,n)})})),i.recurse!==!1&&this.moveChildren(e)};sh.prototype.revert=function(e){var t=e.shape,n=e.oldParent,i=e.oldParentIndex,r=e.delta;return er(n.children,t,i),Ne(t,{parent:n,x:t.x-r.x,y:t.y-r.y}),t};sh.prototype.moveChildren=function(e){var t=e.delta,n=e.shape;this._helper.moveRecursive(n.children,t,null)};sh.prototype.getNewParent=function(e){return e.newParent||e.shape.parent};function km(e){this._modeling=e}km.$inject=["modeling"];km.prototype.execute=function(e){var t=e.newSource,n=e.newTarget,i=e.connection,r=e.dockingOrPoints;if(!t&&!n)throw new Error("newSource or newTarget required");return Tt(r)&&(e.oldWaypoints=i.waypoints,i.waypoints=r),t&&(e.oldSource=i.source,i.source=t),n&&(e.oldTarget=i.target,i.target=n),i};km.prototype.postExecute=function(e){var t=e.connection,n=e.newSource,i=e.newTarget,r=e.dockingOrPoints,a=e.hints||{},s={};a.connectionStart&&(s.connectionStart=a.connectionStart),a.connectionEnd&&(s.connectionEnd=a.connectionEnd),a.layoutConnection!==!1&&(n&&(!i||a.docking==="source")&&(s.connectionStart=s.connectionStart||N3(Tt(r)?r[0]:r)),i&&(!n||a.docking==="target")&&(s.connectionEnd=s.connectionEnd||N3(Tt(r)?r[r.length-1]:r)),a.newWaypoints&&(s.waypoints=a.newWaypoints),this._modeling.layoutConnection(t,s))};km.prototype.revert=function(e){var t=e.oldSource,n=e.oldTarget,i=e.oldWaypoints,r=e.connection;return t&&(r.source=t),n&&(r.target=n),i&&(r.waypoints=i),r};function N3(e){return e.original||e}function vc(e,t){this._modeling=e,this._rules=t}vc.$inject=["modeling","rules"];vc.prototype.preExecute=function(e){var t=this,n=this._modeling,i=this._rules,r=e.oldShape,a=e.newData,s=e.hints||{},l;function u(w,x,E){return i.allowed("connection.reconnect",{connection:E,source:w,target:x})}var f={x:a.x,y:a.y},p={x:r.x,y:r.y,width:r.width,height:r.height};l=e.newShape=e.newShape||t.createShape(a,f,r.parent,s),r.host&&n.updateAttachment(l,r.host);var d;s.moveChildren!==!1&&(d=r.children.slice(),n.moveElements(d,{x:0,y:0},l,s));var v=r.incoming.slice(),g=r.outgoing.slice();ve(v,function(w){var x=w.source,E=u(x,l,w);E&&t.reconnectEnd(w,l,Uy(w,l,p),s)}),ve(g,function(w){var x=w.target,E=u(l,x,w);E&&t.reconnectStart(w,l,Hy(w,l,p),s)})};vc.prototype.postExecute=function(e){var t=e.oldShape;this._modeling.removeShape(t)};vc.prototype.execute=function(e){};vc.prototype.revert=function(e){};vc.prototype.createShape=function(e,t,n,i){return this._modeling.createShape(e,t,n,i)};vc.prototype.reconnectStart=function(e,t,n,i){this._modeling.reconnectStart(e,t,n,i)};vc.prototype.reconnectEnd=function(e,t,n,i){this._modeling.reconnectEnd(e,t,n,i)};function jm(e){this._modeling=e}jm.$inject=["modeling"];jm.prototype.execute=function(e){var t=e.shape,n=e.newBounds,i=e.minBounds;if(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(i&&(n.width<i.width||n.height<i.height))throw new Error("width and height cannot be less than minimum height and width");if(!i&&n.width<10||n.height<10)throw new Error("width and height cannot be less than 10px");return e.oldBounds={width:t.width,height:t.height,x:t.x,y:t.y},Ne(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t};jm.prototype.postExecute=function(e){var t=this._modeling,n=e.shape,i=e.oldBounds,r=e.hints||{};r.layout!==!1&&(ve(n.incoming,function(a){t.layoutConnection(a,{connectionEnd:Uy(a,n,i)})}),ve(n.outgoing,function(a){t.layoutConnection(a,{connectionStart:Hy(a,n,i)})}))};jm.prototype.revert=function(e){var t=e.shape,n=e.oldBounds;return Ne(t,{width:n.width,height:n.height,x:n.x,y:n.y}),t};function Vu(e){this._modeling=e}Vu.$inject=["modeling"];Vu.prototype.preExecute=function(e){var t=e.delta,n=e.direction,i=e.movingShapes,r=e.resizingShapes,a=e.start,s={};this.moveShapes(i,t),ve(r,function(l){s[l.id]=W9(l)}),this.resizeShapes(r,t,n),this.updateConnectionWaypoints(w9(i,r),t,n,a,i,r,s)};Vu.prototype.execute=function(){};Vu.prototype.revert=function(){};Vu.prototype.moveShapes=function(e,t){var n=this;ve(e,function(i){n._modeling.moveShape(i,t,null,{autoResize:!1,layout:!1,recurse:!1})})};Vu.prototype.resizeShapes=function(e,t,n){var i=this;ve(e,function(r){var a=x9(r,n,t);i._modeling.resizeShape(r,a,null,{attachSupport:!1,autoResize:!1,layout:!1})})};Vu.prototype.updateConnectionWaypoints=function(e,t,n,i,r,a,s){var l=this,u=r.concat(a);ve(e,function(f){var p=f.source,d=f.target,v=Y9(f),g=RN(n),w={};mu(u,p)&&mu(u,d)?(v=Pr(v,function(x){return T3(x,i,n)&&(x[g]=x[g]+t[g]),x.original&&T3(x.original,i,n)&&(x.original[g]=x.original[g]+t[g]),x}),l._modeling.updateWaypoints(f,v,{labelBehavior:!1})):(mu(u,p)||mu(u,d))&&(mu(r,p)?w.connectionStart=g5(f,p,t):mu(r,d)?w.connectionEnd=v5(f,d,t):mu(a,p)?w.connectionStart=Hy(f,p,s[p.id]):mu(a,d)&&(w.connectionEnd=Uy(f,d,s[d.id])),l._modeling.layoutConnection(f,w))})};function C3(e){return Ne({},e)}function Y9(e){return Pr(e.waypoints,function(t){return t=C3(t),t.original&&(t.original=C3(t.original)),t})}function RN(e){switch(e){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function T3(e,t,n){var i=RN(n);if(/e|s/.test(n))return e[i]>t;if(/n|w/.test(n))return e[i]<t}function mu(e,t){return e.indexOf(t)!==-1}function W9(e){return{x:e.x,y:e.y,height:e.height,width:e.width}}function n0(e){this._modeling=e}n0.$inject=["modeling"];n0.prototype.execute=function(e){var t=e.shape,n=t.children;e.oldChildrenVisibility=MN(n),t.collapsed=!t.collapsed;var i=PN(n,t.collapsed);return[t].concat(i)};n0.prototype.revert=function(e){var t=e.shape,n=e.oldChildrenVisibility,i=t.children,r=LN(i,n);return t.collapsed=!t.collapsed,[t].concat(r)};function MN(e){var t={};return ve(e,function(n){t[n.id]=n.hidden,n.children&&(t=Ne({},t,MN(n.children)))}),t}function PN(e,t){var n=[];return ve(e,function(i){i.hidden=t,n=n.concat(i),i.children&&(n=n.concat(PN(i.children,i.collapsed||t)))}),n}function LN(e,t){var n=[];return ve(e,function(i){i.hidden=t[i.id],n=n.concat(i),i.children&&(n=n.concat(LN(i.children,t)))}),n}function i0(e){this._modeling=e}i0.$inject=["modeling"];i0.prototype.execute=function(e){var t=e.shape,n=e.newHost,i=t.host;return e.oldHost=i,e.attacherIdx=DN(i,t),ON(n,t),t.host=n,t};i0.prototype.revert=function(e){var t=e.shape,n=e.newHost,i=e.oldHost,r=e.attacherIdx;return t.host=i,DN(n,t),ON(i,t,r),t};function DN(e,t){return ki(e&&e.attachers,t)}function ON(e,t,n){if(e){var i=e.attachers;i||(e.attachers=i=[]),er(i,t,n)}}function Y5(){}Y5.prototype.execute=function(e){var t=e.connection,n=e.newWaypoints;return e.oldWaypoints=t.waypoints,t.waypoints=n,t};Y5.prototype.revert=function(e){var t=e.connection,n=e.oldWaypoints;return t.waypoints=n,t};function Dn(e,t,n){this._eventBus=e,this._elementFactory=t,this._commandStack=n;var i=this;e.on("diagram.init",function(){i.registerHandlers(n)})}Dn.$inject=["eventBus","elementFactory","commandStack"];Dn.prototype.getHandlers=function(){return{"shape.append":Zy,"shape.create":qu,"shape.delete":Om,"shape.move":sh,"shape.resize":jm,"shape.replace":vc,"shape.toggleCollapse":n0,spaceTool:Vu,"label.create":Lm,"connection.create":Qy,"connection.delete":Dm,"connection.move":$5,"connection.layout":e0,"connection.updateWaypoints":Y5,"connection.reconnect":km,"elements.create":q5,"elements.move":t0,"elements.delete":V5,"elements.distribute":Jy,"elements.align":Ky,"element.updateAttachment":i0}};Dn.prototype.registerHandlers=function(e){ve(this.getHandlers(),function(t,n){e.registerHandler(n,t)})};Dn.prototype.moveShape=function(e,t,n,i,r){typeof i=="object"&&(r=i,i=null);var a={shape:e,delta:t,newParent:n,newParentIndex:i,hints:r||{}};this._commandStack.execute("shape.move",a)};Dn.prototype.updateAttachment=function(e,t){var n={shape:e,newHost:t};this._commandStack.execute("element.updateAttachment",n)};Dn.prototype.moveElements=function(e,t,n,i){i=i||{};var r=i.attach,a=n,s;r===!0?(s=n,a=n.parent):r===!1&&(s=null);var l={shapes:e,delta:t,newParent:a,newHost:s,hints:i};this._commandStack.execute("elements.move",l)};Dn.prototype.moveConnection=function(e,t,n,i,r){typeof i=="object"&&(r=i,i=void 0);var a={connection:e,delta:t,newParent:n,newParentIndex:i,hints:r||{}};this._commandStack.execute("connection.move",a)};Dn.prototype.layoutConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.layout",n)};Dn.prototype.createConnection=function(e,t,n,i,r,a){typeof n=="object"&&(a=r,r=i,i=n,n=void 0),i=this._create("connection",i);var s={source:e,target:t,parent:r,parentIndex:n,connection:i,hints:a};return this._commandStack.execute("connection.create",s),s.connection};Dn.prototype.createShape=function(e,t,n,i,r){typeof i!="number"&&(r=i,i=void 0),r=r||{};var a=r.attach,s,l;e=this._create("shape",e),a?(s=n.parent,l=n):s=n;var u={position:t,shape:e,parent:s,parentIndex:i,host:l,hints:r};return this._commandStack.execute("shape.create",u),u.shape};Dn.prototype.createElements=function(e,t,n,i,r){Tt(e)||(e=[e]),typeof i!="number"&&(r=i,i=void 0),r=r||{};var a={position:t,elements:e,parent:n,parentIndex:i,hints:r};return this._commandStack.execute("elements.create",a),a.elements};Dn.prototype.createLabel=function(e,t,n,i){n=this._create("label",n);var r={labelTarget:e,position:t,parent:i||e.parent,shape:n};return this._commandStack.execute("label.create",r),r.shape};Dn.prototype.appendShape=function(e,t,n,i,r){r=r||{},t=this._create("shape",t);var a={source:e,position:n,target:i,shape:t,connection:r.connection,connectionParent:r.connectionParent,hints:r};return this._commandStack.execute("shape.append",a),a.shape};Dn.prototype.removeElements=function(e){var t={elements:e};this._commandStack.execute("elements.delete",t)};Dn.prototype.distributeElements=function(e,t,n){var i={groups:e,axis:t,dimension:n};this._commandStack.execute("elements.distribute",i)};Dn.prototype.removeShape=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.delete",n)};Dn.prototype.removeConnection=function(e,t){var n={connection:e,hints:t||{}};this._commandStack.execute("connection.delete",n)};Dn.prototype.replaceShape=function(e,t,n){var i={oldShape:e,newData:t,hints:n||{}};return this._commandStack.execute("shape.replace",i),i.newShape};Dn.prototype.alignElements=function(e,t){var n={elements:e,alignment:t};this._commandStack.execute("elements.align",n)};Dn.prototype.resizeShape=function(e,t,n,i){var r={shape:e,newBounds:t,minBounds:n,hints:i};this._commandStack.execute("shape.resize",r)};Dn.prototype.createSpace=function(e,t,n,i,r){var a={delta:n,direction:i,movingShapes:e,resizingShapes:t,start:r};this._commandStack.execute("spaceTool",a)};Dn.prototype.updateWaypoints=function(e,t,n){var i={connection:e,newWaypoints:t,hints:n||{}};this._commandStack.execute("connection.updateWaypoints",i)};Dn.prototype.reconnect=function(e,t,n,i,r){var a={connection:e,newSource:t,newTarget:n,dockingOrPoints:i,hints:r||{}};this._commandStack.execute("connection.reconnect",a)};Dn.prototype.reconnectStart=function(e,t,n,i){i||(i={}),this.reconnect(e,t,e.target,n,Ne(i,{docking:"source"}))};Dn.prototype.reconnectEnd=function(e,t,n,i){i||(i={}),this.reconnect(e,e.source,t,n,Ne(i,{docking:"target"}))};Dn.prototype.connect=function(e,t,n,i){return this.createConnection(e,t,n||{},e.parent,i)};Dn.prototype._create=function(e,t){return ZR(t)?t:this._elementFactory.create(e,t)};Dn.prototype.toggleCollapse=function(e,t){var n={shape:e,hints:t||{}};this._commandStack.execute("shape.toggleCollapse",n)};function Im(e){this._elementRegistry=e}Im.$inject=["elementRegistry"];Im.prototype.execute=function(e){var t=e.element,n=e.moddleElement,i=e.properties;if(!n)throw new Error("<moddleElement> required");var r=e.changed||this._getVisualReferences(n).concat(t),a=e.oldProperties||X9(n,$v(i));return BN(n,i),e.oldProperties=a,e.changed=r,r};Im.prototype.revert=function(e){var t=e.oldProperties,n=e.moddleElement,i=e.changed;return BN(n,t),i};Im.prototype._getVisualReferences=function(e){var t=this._elementRegistry;return U(e,"bpmn:DataObject")?K9(e,t):[]};function X9(e,t){return xa(t,function(n,i){return n[i]=e.get(i),n},{})}function BN(e,t){ve(t,function(n,i){e.set(i,n)})}function K9(e,t){return t.filter(function(n){return U(n,"bpmn:DataObjectReference")&&rt(n).dataObjectRef===e})}var Gd="default",cc="id",kN="di",Z9={width:0,height:0};function Fm(e,t,n,i){this._elementRegistry=e,this._moddle=t,this._modeling=n,this._textRenderer=i}Fm.$inject=["elementRegistry","moddle","modeling","textRenderer"];Fm.prototype.execute=function(e){var t=e.element,n=[t];if(!t)throw new Error("element required");var i=this._elementRegistry,r=this._moddle.ids,a=t.businessObject,s=nk(e.properties),l=e.oldProperties||Q9(t,s);return jN(s,a)&&(r.unclaim(a[cc]),i.updateId(t,s[cc]),r.claim(s[cc],a)),Gd in s&&(s[Gd]&&n.push(i.get(s[Gd].id)),a[Gd]&&n.push(i.get(a[Gd].id))),IN(t,s),e.oldProperties=l,e.changed=n,n};Fm.prototype.postExecute=function(e){var t=e.element,n=t.label,i=n&&rt(n).name;if(i){var r=this._textRenderer.getExternalLabelBounds(n,i);this._modeling.resizeShape(n,r,Z9)}};Fm.prototype.revert=function(e){var t=e.element,n=e.properties,i=e.oldProperties,r=t.businessObject,a=this._elementRegistry,s=this._moddle.ids;return IN(t,i),jN(n,r)&&(s.unclaim(n[cc]),a.updateId(t,i[cc]),s.claim(i[cc],r)),e.changed};function jN(e,t){return cc in e&&e[cc]!==t[cc]}function Q9(e,t){var n=$v(t),i=e.businessObject,r=hn(e);return xa(n,function(a,s){return s!==kN?a[s]=i.get(s):a[s]=J9(r,$v(t.di)),a},{})}function J9(e,t){return xa(t,function(n,i){return n[i]=e&&e.get(i),n},{})}function IN(e,t){var n=e.businessObject,i=hn(e);ve(t,function(r,a){a!==kN?n.set(a,r):i&&ek(i,r)})}function ek(e,t){ve(t,function(n,i){e.set(i,n)})}var tk=["default"];function nk(e){var t=Ne({},e);return tk.forEach(function(n){n in e&&(t[n]=rt(t[n]))}),t}function r0(e,t){this._canvas=e,this._modeling=t}r0.$inject=["canvas","modeling"];r0.prototype.execute=function(e){var t=this._canvas,n=e.newRoot,i=n.businessObject,r=t.getRootElement(),a=r.businessObject,s=a.$parent,l=hn(r);return t.setRootElement(n),t.removeRootElement(r),er(s.rootElements,i),i.$parent=s,ki(s.rootElements,a),a.$parent=null,r.di=null,l.bpmnElement=i,n.di=l,e.oldRoot=r,[]};r0.prototype.revert=function(e){var t=this._canvas,n=e.newRoot,i=n.businessObject,r=e.oldRoot,a=r.businessObject,s=i.$parent,l=hn(n);return t.setRootElement(r),t.removeRootElement(n),ki(s.rootElements,i),i.$parent=null,er(s.rootElements,a),a.$parent=s,n.di=null,l.bpmnElement=a,r.di=l,[]};function W5(e,t){this._modeling=e,this._spaceTool=t}W5.$inject=["modeling","spaceTool"];W5.prototype.preExecute=function(e){var t=this._spaceTool,n=this._modeling,i=e.shape,r=e.location,a=To(i),s=a===i,l=s?i:i.parent,u=zu(l),f=hr(i);if(f?r==="left"?r="top":r==="right"&&(r="bottom"):r==="top"?r="left":r==="bottom"&&(r="right"),!u.length){var p=f?{x:i.x+Co,y:i.y,width:i.width-Co,height:i.height}:{x:i.x,y:i.y+Co,width:i.width,height:i.height-Co};n.createShape({type:"bpmn:Lane",isHorizontal:f},p,l)}var d=[];nh(a,function(P){return d.push(P),P.label&&d.push(P.label),P===i?[]:Yt(P.children,function(k){return k!==i})});var v,g,w,x,E;r==="top"?(v=-120,g=i.y,w=g+10,x="n",E="y"):r==="left"?(v=-120,g=i.x,w=g+10,x="w",E="x"):r==="bottom"?(v=120,g=i.y+i.height,w=g-10,x="s",E="y"):r==="right"&&(v=120,g=i.x+i.width,w=g-10,x="e",E="x");var R=t.calculateAdjustments(d,E,v,w),L=f?{x:0,y:v}:{x:v,y:0};t.makeSpace(R.movingShapes,R.resizingShapes,L,x,w);var M=f?{x:i.x+(s?Co:0),y:g-(r==="top"?120:0),width:i.width-(s?Co:0),height:120}:{x:g-(r==="left"?120:0),y:i.y+(s?Co:0),width:120,height:i.height-(s?Co:0)};e.newLane=n.createShape({type:"bpmn:Lane",isHorizontal:f},M,l)};function X5(e){this._modeling=e}X5.$inject=["modeling"];X5.prototype.preExecute=function(e){var t=this._modeling,n=e.shape,i=e.count,r=zu(n),a=r.length;if(a>i)throw new Error(`more than <${i}> child lanes`);var s=hr(n),l=s?n.height:n.width,u=Math.round(l/i),f,p,d,v;for(v=0;v<i;v++)v===i-1?f=l-u*v:f=u,p=s?{x:n.x+Co,y:n.y+v*u,width:n.width-Co,height:f}:{x:n.x+v*u,y:n.y+Co,width:f,height:n.height-Co},v<a?t.resizeShape(r[v],p):(d={type:"bpmn:Lane",isHorizontal:s},t.createShape(d,p,n))};function zm(e,t){this._modeling=e,this._spaceTool=t}zm.$inject=["modeling","spaceTool"];zm.prototype.preExecute=function(e){var t=e.shape,n=e.newBounds,i=e.balanced;i!==!1?this.resizeBalanced(t,n):this.resizeSpace(t,n)};zm.prototype.resizeBalanced=function(e,t){var n=this._modeling,i=MO(e,t);n.resizeShape(e,t),i.forEach(function(r){n.resizeShape(r.shape,r.newBounds)})};zm.prototype.resizeSpace=function(e,t){var n=this._spaceTool,i=_t(e),r=_t(t),a=I6(r,i),s=To(e),l=[],u=[];nh(s,function(w){return l.push(w),(U(w,"bpmn:Lane")||U(w,"bpmn:Participant"))&&u.push(w),w.children});var f,p,d,v,g;(a.bottom||a.top)&&(f=a.bottom||a.top,p=e.y+(a.bottom?e.height:0)+(a.bottom?-10:10),d=a.bottom?"s":"n",v=a.top>0||a.bottom<0?-f:f,g=n.calculateAdjustments(l,"y",v,p),n.makeSpace(g.movingShapes,g.resizingShapes,{x:0,y:f},d)),(a.left||a.right)&&(f=a.right||a.left,p=e.x+(a.right?e.width:0)+(a.right?-10:100),d=a.right?"e":"w",v=a.left>0||a.right<0?-f:f,g=n.calculateAdjustments(u,"x",v,p),n.makeSpace(g.movingShapes,g.resizingShapes,{x:f,y:0},d))};var pm="flowNodeRef",K5="lanes";function Hm(e){this._elementRegistry=e}Hm.$inject=["elementRegistry"];Hm.prototype._computeUpdates=function(e,t){var n=[],i=[],r={},a=[];function s(p,d){var v=_t(d),g={x:p.x+p.width/2,y:p.y+p.height/2};return g.x>v.left&&g.x<v.right&&g.y>v.top&&g.y<v.bottom}function l(p){n.indexOf(p)===-1&&(a.push(p),n.push(p))}function u(p){var d=To(p);return r[d.id]||(r[d.id]=Fy(d)),r[d.id]}function f(p){if(!p.parent)return[];var d=u(p);return d.filter(function(v){return s(p,v)}).map(function(v){return v.businessObject})}return t.forEach(function(p){var d=To(p);if(!(!d||n.indexOf(d)!==-1)){var v=d.children.filter(function(g){return U(g,"bpmn:FlowNode")});v.forEach(l),n.push(d)}}),e.forEach(l),a.forEach(function(p){var d=p.businessObject,v=d.get(K5),g=v.slice(),w=f(p);i.push({flowNode:d,remove:g,add:w})}),t.forEach(function(p){var d=p.businessObject;p.parent||d.get(pm).forEach(function(v){i.push({flowNode:v,remove:[d],add:[]})})}),i};Hm.prototype.execute=function(e){var t=e.updates;return t||(t=e.updates=this._computeUpdates(e.flowNodeShapes,e.laneShapes)),t.forEach(function(n){var i=n.flowNode,r=i.get(K5);n.remove.forEach(function(a){ki(r,a),ki(a.get(pm),i)}),n.add.forEach(function(a){er(r,a),er(a.get(pm),i)})}),[]};Hm.prototype.revert=function(e){var t=e.updates;return t.forEach(function(n){var i=n.flowNode,r=i.get(K5);n.add.forEach(function(a){ki(r,a),ki(a.get(pm),i)}),n.remove.forEach(function(a){er(r,a),er(a.get(pm),i)})}),[]};function a0(e){this._moddle=e}a0.$inject=["moddle"];a0.prototype.execute=function(e){var t=this._moddle.ids,n=e.id,i=e.element,r=e.claiming;return r?t.claim(n,i):t.unclaim(n),[]};a0.prototype.revert=function(e){var t=this._moddle.ids,n=e.id,i=e.element,r=e.claiming;return r?t.unclaim(n):t.claim(n,i),[]};var ik={fill:void 0,stroke:void 0};function Z5(e){this._commandStack=e,this._normalizeColor=function(t){if(t){if(Ia(t)){var n=rk(t);if(n)return n}throw new Error(`invalid color value: ${t}`)}}}Z5.$inject=["commandStack"];Z5.prototype.postExecute=function(e){var t=e.elements,n=e.colors||ik,i=this,r={};"fill"in n&&Ne(r,{"background-color":this._normalizeColor(n.fill)}),"stroke"in n&&Ne(r,{"border-color":this._normalizeColor(n.stroke)}),ve(t,function(a){var s=Ln(a)?ys(r,["border-color"]):r,l=hn(a);if(ak(s),pn(a))i._commandStack.execute("element.updateModdleProperties",{element:a,moddleElement:l.label,properties:{color:r["border-color"]}});else{if(!Wt(l,["bpmndi:BPMNEdge","bpmndi:BPMNShape"]))return;i._commandStack.execute("element.updateProperties",{element:a,properties:{di:s}})}})};function rk(e){var t=document.createElement("canvas").getContext("2d");return t.fillStyle="transparent",t.fillStyle=e,/^#[0-9a-fA-F]{6}$/.test(t.fillStyle)?t.fillStyle:null}function ak(e){"border-color"in e&&(e.stroke=e["border-color"]),"background-color"in e&&(e.fill=e["background-color"])}var ok={width:0,height:0};function FN(e,t,n){function i(u,f){var p=u.label||u,d=u.labelTarget||u;return ZP(p,f),[p,d]}function r(u){var f=u.element,p=f.businessObject,d=u.newLabel;if(!pn(f)&&Zf(f)&&!xy(f)&&!R3(d)){var v=7,g=Lb(f);g={x:g.x,y:g.y+v},e.createLabel(f,g,{id:p.id+"_label",businessObject:p,di:f.di})}}function a(u){return u.oldLabel=bs(u.element),i(u.element,u.newLabel)}function s(u){return i(u.element,u.oldLabel)}function l(u){var f=u.element,p=f.label||f,d=u.newLabel,v=u.newBounds,g=u.hints||{};if(!(!pn(p)&&!U(p,"bpmn:TextAnnotation"))){if(pn(p)&&R3(d)){g.removeShape!==!1&&e.removeShape(p,{unsetLabel:!1});return}var w=bs(f);typeof v>"u"&&(v=t.getExternalLabelBounds(p,w)),v&&e.resizeShape(p,v,ok)}}this.preExecute=r,this.execute=a,this.revert=s,this.postExecute=l}FN.$inject=["modeling","textRenderer","bpmnFactory"];function R3(e){return!e||!e.trim()}function Gr(e,t,n,i){Dn.call(this,e,t,n),this._bpmnRules=i}dt(Gr,Dn);Gr.$inject=["eventBus","elementFactory","commandStack","bpmnRules"];Gr.prototype.getHandlers=function(){var e=Dn.prototype.getHandlers.call(this);return e["element.updateModdleProperties"]=Im,e["element.updateProperties"]=Fm,e["canvas.updateRoot"]=r0,e["lane.add"]=W5,e["lane.resize"]=zm,e["lane.split"]=X5,e["lane.updateRefs"]=Hm,e["id.updateClaim"]=a0,e["element.setColor"]=Z5,e["element.updateLabel"]=FN,e};Gr.prototype.updateLabel=function(e,t,n,i){this._commandStack.execute("element.updateLabel",{element:e,newLabel:t,newBounds:n,hints:i||{}})};Gr.prototype.connect=function(e,t,n,i){var r=this._bpmnRules;if(n||(n=r.canConnect(e,t)),!!n)return this.createConnection(e,t,n,e.parent,i)};Gr.prototype.updateModdleProperties=function(e,t,n){this._commandStack.execute("element.updateModdleProperties",{element:e,moddleElement:t,properties:n})};Gr.prototype.updateProperties=function(e,t){this._commandStack.execute("element.updateProperties",{element:e,properties:t})};Gr.prototype.resizeLane=function(e,t,n){this._commandStack.execute("lane.resize",{shape:e,newBounds:t,balanced:n})};Gr.prototype.addLane=function(e,t){var n={shape:e,location:t};return this._commandStack.execute("lane.add",n),n.newLane};Gr.prototype.splitLane=function(e,t){this._commandStack.execute("lane.split",{shape:e,count:t})};Gr.prototype.makeCollaboration=function(){var e=this._create("root",{type:"bpmn:Collaboration"}),t={newRoot:e};return this._commandStack.execute("canvas.updateRoot",t),e};Gr.prototype.makeProcess=function(){var e=this._create("root",{type:"bpmn:Process"}),t={newRoot:e};return this._commandStack.execute("canvas.updateRoot",t),e};Gr.prototype.updateLaneRefs=function(e,t){this._commandStack.execute("lane.updateRefs",{flowNodeShapes:e,laneShapes:t})};Gr.prototype.claimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t,claiming:!0})};Gr.prototype.unclaimId=function(e,t){this._commandStack.execute("id.updateClaim",{id:e,element:t})};Gr.prototype.setColor=function(e,t){e.length||(e=[e]),this._commandStack.execute("element.setColor",{elements:e,colors:t})};function zN(){}zN.prototype.layoutConnection=function(e,t){return t=t||{},[t.connectionStart||Ct(t.source||e.source),t.connectionEnd||Ct(t.target||e.target)]};var dv=20,sk=5,sy=Math.round,M3=20,lk={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function ck(e,t){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[t].test(e)}function uk(e,t){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[e].test(t)}function HN(e,t,n){var i=$r(t,e,sk),r=n.split(":")[0],a=sy((t.x-e.x)/2+e.x),s=sy((t.y-e.y)/2+e.y),l,u,f=uk(r,i),p=/h|r|l/.test(r),d=!1,v=!1;return f?(l=p?{x:a,y:e.y}:{x:e.x,y:s},u=p?"h:h":"v:v"):(d=ck(i,r),u=p?"h:v":"v:h",d?p?(v=s===e.y,l={x:e.x+dv*(/l/.test(r)?-1:1),y:v?s+dv:s}):(v=a===e.x,l={x:v?a+dv:a,y:e.y+dv*(/t/.test(r)?-1:1)}):l={x:a,y:s}),{waypoints:Q5(e,l,u).concat(l),directions:u,turnNextDirections:v}}function fk(e,t,n){return HN(e,t,n)}function hk(e,t,n){var i=HN(t,e,P3(n));return{waypoints:i.waypoints.slice().reverse(),directions:P3(i.directions),turnNextDirections:i.turnNextDirections}}function pk(e,t){var n=e.directions.split(":")[1],i=t.directions.split(":")[0];e.turnNextDirections&&(n=n=="h"?"v":"h"),t.turnNextDirections&&(i=i=="h"?"v":"h");var r=n+":"+i,a=Q5(e.waypoints[e.waypoints.length-1],t.waypoints[0],r);return{waypoints:a,directions:r}}function P3(e){return e.split(":").reverse().join(":")}function dk(e,t,n){var i=sy((t.x-e.x)/2+e.x),r=sy((t.y-e.y)/2+e.y);if(n==="h:v")return[{x:t.x,y:e.y}];if(n==="v:h")return[{x:e.x,y:t.y}];if(n==="h:h")return[{x:i,y:e.y},{x:i,y:t.y}];if(n==="v:v")return[{x:e.x,y:r},{x:t.x,y:r}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function Q5(e,t,n){if(n=n||"h:h",!Ek(n))throw new Error("unknown directions: <"+n+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(UN(n)){var i=fk(e,t,n),r=hk(e,t,n),a=pk(i,r);return[].concat(i.waypoints,a.waypoints,r.waypoints)}return dk(e,t,n)}function mk(e,t,n){var i=Q5(e,t,n);return i.unshift(e),i.push(t),qN(i)}function gk(e,t,n,i,r){var a=r&&r.preferredLayouts||[],s=NT(a,"straight")[0]||"h:h",l=lk[s]||0,u=$r(e,t,l),f=xk(u,s);n=n||Ct(e),i=i||Ct(t);var p=f.split(":"),d=D3(n,e,p[0],Sk(u)),v=D3(i,t,p[1],u);return mk(d,v,f)}function vk(e,t,n,i,r,a){Tt(n)&&(r=n,a=i,n=Ct(e),i=Ct(t)),a=Ne({preferredLayouts:[]},a),r=r||[];var s=a.preferredLayouts,l=s.indexOf("straight")!==-1,u;return u=l&&bk(e,t,n,i,a),u||(u=a.connectionEnd&&wk(t,e,i,r),u)||(u=a.connectionStart&&_k(e,t,n,r),u)?u:!a.connectionStart&&!a.connectionEnd&&r&&r.length?r:gk(e,t,n,i,a)}function yk(e,t,n){return e>=t&&e<=n}function L3(e,t,n){var i={x:"width",y:"height"};return yk(t[e],n[e],n[e]+n[i[e]])}function bk(e,t,n,i,r){var a={},s,l;return l=$r(e,t),/^(top|bottom|left|right)$/.test(l)?(/top|bottom/.test(l)&&(s="x"),/left|right/.test(l)&&(s="y"),r.preserveDocking==="target"?L3(s,i,e)?(a[s]=i[s],[{x:a.x!==void 0?a.x:n.x,y:a.y!==void 0?a.y:n.y,original:{x:a.x!==void 0?a.x:n.x,y:a.y!==void 0?a.y:n.y}},{x:i.x,y:i.y}]):null:L3(s,n,t)?(a[s]=n[s],[{x:n.x,y:n.y},{x:a.x!==void 0?a.x:i.x,y:a.y!==void 0?a.y:i.y,original:{x:a.x!==void 0?a.x:i.x,y:a.y!==void 0?a.y:i.y}}]):null):null}function _k(e,t,n,i){return J5(e,t,n,i)}function wk(e,t,n,i){var r=i.slice().reverse();return r=J5(e,t,n,r),r?r.reverse():null}function J5(e,t,n,i){function r(p){return p.length<3?!0:p.length>4?!1:!!mn(p,function(d,v){var g=p[v-1];return g&&bm(d,g)<3})}function a(p,d,v){var g=ac(d,p);switch(g){case"v":return{x:v.x,y:p.y};case"h":return{x:p.x,y:v.y}}return{x:p.x,y:p.y}}function s(p,d,v){var g;for(g=p.length-2;g!==0;g--)if(Nx(p[g],d,M3)||Nx(p[g],v,M3))return p.slice(g);return p}if(r(i))return null;var l=i[0],u=i.slice(),f;return u[0]=n,u[1]=a(u[1],l,n),f=s(u,e,t),f!==u&&(u=J5(e,t,n,f)),u&&ac(u)?null:u}function xk(e,t){if(UN(t))return t;switch(e){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return t}}function Ek(e){return e&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(e)}function UN(e){return e&&/t|r|b|l/.test(e)}function Sk(e){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[e]}function D3(e,t,n,i){if(n==="h"&&(n=/left/.test(i)?"l":"r"),n==="v"&&(n=/top/.test(i)?"t":"b"),n==="t")return{original:e,x:e.x,y:t.y};if(n==="r")return{original:e,x:t.x+t.width,y:e.y};if(n==="b")return{original:e,x:e.x,y:t.y+t.height};if(n==="l")return{original:e,x:t.x,y:e.y};throw new Error("unexpected dockingDirection: <"+n+">")}function qN(e){return e.reduce(function(t,n,i){var r=t[t.length-1],a=e[i+1];return wb(r,a,n,0)||t.push(n),t},[])}var Ak=-10,Nk=40,Ck={default:["h:h"],fromGateway:["v:h"],toGateway:["h:v"],loop:{fromTop:["t:r"],fromRight:["r:b"],fromLeft:["l:t"],fromBottom:["b:l"]},boundaryLoop:{alternateHorizontalSide:"b",alternateVerticalSide:"l",default:"v"},messageFlow:["straight","v:v"],subProcess:["straight","h:h"],isHorizontal:!0},Tk={default:["v:v"],fromGateway:["h:v"],toGateway:["v:h"],loop:{fromTop:["t:l"],fromRight:["r:t"],fromLeft:["l:b"],fromBottom:["b:r"]},boundaryLoop:{alternateHorizontalSide:"t",alternateVerticalSide:"r",default:"h"},messageFlow:["straight","h:h"],subProcess:["straight","v:v"],isHorizontal:!1},e_={top:"bottom","top-right":"bottom-left","top-left":"bottom-right",right:"left",bottom:"top","bottom-right":"top-left","bottom-left":"top-right",left:"right"},Zd={top:"t",right:"r",bottom:"b",left:"l"};function o0(e){this._elementRegistry=e}dt(o0,zN);o0.prototype.layoutConnection=function(e,t){t||(t={});var n=t.source||e.source,i=t.target||e.target,r=t.waypoints||e.waypoints,a=t.connectionStart,s=t.connectionEnd,l=this._elementRegistry,u,f;if(a||(a=O3(r&&r[0],n)),s||(s=O3(r&&r[r.length-1],i)),(U(e,"bpmn:Association")||U(e,"bpmn:DataAssociation"))&&r&&!B3(n,i))return[].concat([a],r.slice(1,-1),[s]);var p=d6(n,l)?Ck:Tk;return U(e,"bpmn:MessageFlow")?u=Mk(n,i,p):(U(e,"bpmn:SequenceFlow")||B3(n,i))&&(n===i?u={preferredLayouts:kk(n,e,p)}:U(n,"bpmn:BoundaryEvent")?u={preferredLayouts:jk(n,i,s,p)}:dm(n)||dm(i)?u={preferredLayouts:p.subProcess,preserveDocking:Lk(n)}:U(n,"bpmn:Gateway")?u={preferredLayouts:p.fromGateway}:U(i,"bpmn:Gateway")?u={preferredLayouts:p.toGateway}:u={preferredLayouts:p.default}),u&&(u=Ne(u,t),f=qN(vk(n,i,a,s,r,u))),f||[a,s]};function Rk(e){var t=e.host;return $r(Ct(e),t,Ak)}function Mk(e,t,n){return{preferredLayouts:n.messageFlow,preserveDocking:Pk(e,t)}}function Pk(e,t){return U(t,"bpmn:Participant")?"source":U(e,"bpmn:Participant")?"target":dm(t)?"source":dm(e)||U(t,"bpmn:Event")?"target":U(e,"bpmn:Event")?"source":null}function Lk(e){return dm(e)?"target":"source"}function O3(e,t){return e?e.original||e:Ct(t)}function B3(e,t){return U(t,"bpmn:Activity")&&U(e,"bpmn:BoundaryEvent")&&t.businessObject.isForCompensation}function dm(e){return U(e,"bpmn:SubProcess")&&Jt(e)}function $f(e,t){return e===t}function Dk(e,t){return t.indexOf(e)!==-1}function Np(e){var t=/right|left/.exec(e);return t&&t[0]}function Cp(e){var t=/top|bottom/.exec(e);return t&&t[0]}function k3(e,t){return e_[e]===t}function Ok(e,t){var n=Np(e),i=e_[n];return t.indexOf(i)!==-1}function Bk(e,t){var n=Cp(e),i=e_[n];return t.indexOf(i)!==-1}function VN(e){return e==="right"||e==="left"}function kk(e,t,n){var i=t.waypoints,r=i&&i.length&&$r(i[0],e);return r==="top"?n.loop.fromTop:r==="right"?n.loop.fromRight:r==="left"?n.loop.fromLeft:n.loop.fromBottom}function jk(e,t,n,i){var r=Ct(e),a=Ct(t),s=Rk(e),l,u,f=$f(e.host,t),p=Dk(s,["top","right","bottom","left"]),d=$r(a,r,{x:e.width/2+t.width/2,y:e.height/2+t.height/2});return f?Ik(s,p,e,t,n,i):(l=Fk(s,d,p,i.isHorizontal),u=zk(s,d,p,i.isHorizontal),[l+":"+u])}function Ik(e,t,n,i,r,a){var s=t?e:a.isHorizontal?Cp(e):Np(e),l=Zd[s],u;return t?VN(e)?u=j3("y",n,i,r)?"h":a.boundaryLoop.alternateHorizontalSide:u=j3("x",n,i,r)?"v":a.boundaryLoop.alternateVerticalSide:u=a.boundaryLoop.default,[l+":"+u]}function j3(e,t,n,i){var r=Nk;return!(G1(e,i,n,r)||G1(e,i,{x:n.x+n.width,y:n.y+n.height},r)||G1(e,i,Ct(t),r))}function G1(e,t,n,i){return Math.abs(t[e]-n[e])<i}function Fk(e,t,n,i){if(n)return Zd[e];var r=Cp(e),a=Np(e),s=Cp(t),l=Np(t);if(i){if($f(r,s)||k3(a,l))return Zd[r]}else if($f(a,l)||k3(r,s))return Zd[a];return Zd[i?a:r]}function zk(e,t,n,i){return n?VN(e)?Ok(e,t)||$f(e,t)?"h":"v":Bk(e,t)||$f(e,t)?"v":"h":i?$f(Cp(e),Cp(t))?"h":"v":$f(Np(e),Np(t))?"v":"h"}o0.$inject=["elementRegistry"];function I3(e){return Ne({original:e.point.original||e.point},e.actual)}function $u(e,t){this._elementRegistry=e,this._graphicsFactory=t}$u.$inject=["elementRegistry","graphicsFactory"];$u.prototype.getCroppedWaypoints=function(e,t,n){t=t||e.source,n=n||e.target;var i=this.getDockingPoint(e,t,!0),r=this.getDockingPoint(e,n),a=e.waypoints.slice(i.idx+1,r.idx);return a.unshift(I3(i)),a.push(I3(r)),a};$u.prototype.getDockingPoint=function(e,t,n){var i=e.waypoints,r,a,s;return r=n?0:i.length-1,a=i[r],s=this._getIntersection(t,e,n),{point:a,actual:s||a,idx:r}};$u.prototype._getIntersection=function(e,t,n){var i=this._getShapePath(e),r=this._getConnectionPath(t);return S2(i,r,n)};$u.prototype._getConnectionPath=function(e){return this._graphicsFactory.getConnectionPath(e)};$u.prototype._getShapePath=function(e){return this._graphicsFactory.getShapePath(e)};$u.prototype._getGfx=function(e){return this._elementRegistry.getGraphics(e)};const $N={__init__:["modeling","bpmnUpdater"],__depends__:[BB,JB,t9,n9,AN,M9,L9,I9,_s,Db,TN],bpmnFactory:["type",Bo],bpmnUpdater:["type",za],elementFactory:["type",Uu],modeling:["type",Gr],layouter:["type",o0],connectionDocking:["type",$u]},F3=Math.round;function s0(e,t,n,i,r,a){this._complexPreview=e,this._connectionDocking=t,this._elementFactory=n,this._eventBus=i,this._layouter=r,this._rules=a}s0.prototype.create=function(e,t,n){const i=this._complexPreview,r=this._connectionDocking,a=this._elementFactory,s=this._eventBus,l=this._layouter,u=this._rules,f=a.createShape(Ne({type:t},n)),p=s.fire("autoPlace",{source:e,shape:f});if(!p)return;Ne(f,{x:p.x-F3(f.width/2),y:p.y-F3(f.height/2)});const d=u.allowed("connection.create",{source:e,target:f,hints:{targetParent:e.parent}});let v=null;d&&(v=a.createConnection(d),v.waypoints=l.layoutConnection(v,{source:e,target:f}),v.waypoints=r.getCroppedWaypoints(v,e,f)),i.create({created:[f,v].filter(g=>!am(g))})};s0.prototype.cleanUp=function(){this._complexPreview.cleanUp()};s0.$inject=["complexPreview","connectionDocking","elementFactory","eventBus","layouter","rules"];const Hk={__depends__:[Gb,uO,$N],__init__:["appendPreview"],appendPreview:["type",s0]};var z3=Math.min,H3=Math.max;function Y1(e){e.preventDefault()}function im(e){e.stopPropagation()}function Uk(e){return e.nodeType===Node.TEXT_NODE}function qk(e){return[].slice.call(e)}function xs(e){this.container=e.container,this.parent=Zt('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=Pn("[contenteditable]",this.parent),this.keyHandler=e.keyHandler||function(){},this.resizeHandler=e.resizeHandler||function(){},this.autoResize=Ea(this.autoResize,this),this.handlePaste=Ea(this.handlePaste,this)}xs.prototype.create=function(e,t,n,i){var r=this,a=this.parent,s=this.content,l=this.container;i=this.options=i||{},t=this.style=t||{};var u=ys(t,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);Ne(a.style,{width:e.width+"px",height:e.height+"px",maxWidth:e.maxWidth+"px",maxHeight:e.maxHeight+"px",minWidth:e.minWidth+"px",minHeight:e.minHeight+"px",left:e.x+"px",top:e.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},u);var f=ys(t,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return Ne(s.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},f),i.centerVertically&&Ne(s.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},f),s.innerText=n,Bt.bind(s,"keydown",this.keyHandler),Bt.bind(s,"mousedown",im),Bt.bind(s,"paste",r.handlePaste),i.autoResize&&Bt.bind(s,"input",this.autoResize),i.resizable&&this.resizable(t),l.appendChild(a),this.setSelection(s.lastChild,s.lastChild&&s.lastChild.length),a};xs.prototype.handlePaste=function(e){var t=this.options,n=this.style;e.preventDefault();var i;if(e.clipboardData?i=e.clipboardData.getData("text/plain"):i=window.clipboardData.getData("Text"),this.insertText(i),t.autoResize){var r=this.autoResize(n);r&&this.resizeHandler(r)}};xs.prototype.insertText=function(e){e=Vk(e);var t=document.execCommand("insertText",!1,e);t||this._insertTextIE(e)};xs.prototype._insertTextIE=function(e){var t=this.getSelection(),n=t.startContainer,i=t.endContainer,r=t.startOffset,a=t.endOffset,s=t.commonAncestorContainer,l=qk(s.childNodes),u,f;if(Uk(s)){var p=n.textContent;n.textContent=p.substring(0,r)+e+p.substring(a),u=n,f=r+e.length}else if(n===this.content&&i===this.content){var d=document.createTextNode(e);this.content.insertBefore(d,l[r]),u=d,f=d.textContent.length}else{var v=l.indexOf(n),g=l.indexOf(i);l.forEach(function(w,x){x===v?w.textContent=n.textContent.substring(0,r)+e+i.textContent.substring(a):x>v&&x<=g&&gl(w)}),u=n,f=r+e.length}u&&f!==void 0&&setTimeout(function(){self.setSelection(u,f)})};xs.prototype.autoResize=function(){var e=this.parent,t=this.content,n=parseInt(this.style.fontSize)||12;if(t.scrollHeight>e.offsetHeight||t.scrollHeight<e.offsetHeight-n){var i=e.getBoundingClientRect(),r=t.scrollHeight;e.style.height=r+"px",this.resizeHandler({width:i.width,height:i.height,dx:0,dy:r-i.height})}};xs.prototype.resizable=function(){var e=this,t=this.parent,n=this.resizeHandle,i=parseInt(this.style.minWidth)||0,r=parseInt(this.style.minHeight)||0,a=parseInt(this.style.maxWidth)||1/0,s=parseInt(this.style.maxHeight)||1/0;if(!n){n=this.resizeHandle=Zt('<div class="djs-direct-editing-resize-handle"></div>');var l,u,f,p,d=function(w){Y1(w),im(w),l=w.clientX,u=w.clientY;var x=t.getBoundingClientRect();f=x.width,p=x.height,Bt.bind(document,"mousemove",v),Bt.bind(document,"mouseup",g)},v=function(w){Y1(w),im(w);var x=z3(H3(f+w.clientX-l,i),a),E=z3(H3(p+w.clientY-u,r),s);t.style.width=x+"px",t.style.height=E+"px",e.resizeHandler({width:f,height:p,dx:w.clientX-l,dy:w.clientY-u})},g=function(w){Y1(w),im(w),Bt.unbind(document,"mousemove",v,!1),Bt.unbind(document,"mouseup",g,!1)};Bt.bind(n,"mousedown",d)}Ne(n.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),t.appendChild(n)};xs.prototype.destroy=function(){var e=this.parent,t=this.content,n=this.resizeHandle;t.innerText="",e.removeAttribute("style"),t.removeAttribute("style"),Bt.unbind(t,"keydown",this.keyHandler),Bt.unbind(t,"mousedown",im),Bt.unbind(t,"input",this.autoResize),Bt.unbind(t,"paste",this.handlePaste),n&&(n.removeAttribute("style"),gl(n)),gl(e)};xs.prototype.getValue=function(){return this.content.innerText.trim()};xs.prototype.getSelection=function(){var e=window.getSelection(),t=e.getRangeAt(0);return t};xs.prototype.setSelection=function(e,t){var n=document.createRange();e===null?n.selectNodeContents(this.content):(n.setStart(e,t),n.setEnd(e,t));var i=window.getSelection();i.removeAllRanges(),i.addRange(n)};function Vk(e){return e.replace(/\r\n|\r|\n/g,`
`)}function ko(e,t){this._eventBus=e,this._canvas=t,this._providers=[],this._textbox=new xs({container:t.getContainer(),keyHandler:Ea(this._handleKey,this),resizeHandler:Ea(this._handleResize,this)})}ko.$inject=["eventBus","canvas"];ko.prototype.registerProvider=function(e){this._providers.push(e)};ko.prototype.isActive=function(e){return!!(this._active&&(!e||this._active.element===e))};ko.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())};ko.prototype._fire=function(e,t){this._eventBus.fire("directEditing."+e,t||{active:this._active})};ko.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0,this._canvas.restoreFocus&&this._canvas.restoreFocus()};ko.prototype.complete=function(){var e=this._active;if(e){var t,n=e.context.bounds,i=this.$textbox.getBoundingClientRect(),r=this.getValue(),a=e.context.text;(r!==a||i.height!==n.height||i.width!==n.width)&&(t=this._textbox.container.getBoundingClientRect(),e.provider.update(e.element,r,e.context.text,{x:i.left-t.left,y:i.top-t.top,width:i.width,height:i.height})),this._fire("complete"),this.close()}};ko.prototype.getValue=function(){return this._textbox.getValue()};ko.prototype._handleKey=function(e){e.stopPropagation();var t=e.keyCode||e.charCode;if(t===27)return e.preventDefault(),this.cancel();if(t===13&&!e.shiftKey)return e.preventDefault(),this.complete()};ko.prototype._handleResize=function(e){this._fire("resize",e)};ko.prototype.activate=function(e){this.isActive()&&this.cancel();var t,n=mn(this._providers,function(i){return(t=i.activate(e))?i:null});return t&&(this.$textbox=this._textbox.create(t.bounds,t.style,t.text,t.options),this._active={element:e,context:t,provider:n},t.options&&t.options.resizable&&(this.resizable=!0),this._fire("activate")),!!t};const GN={__depends__:[Cy],__init__:["directEditing"],directEditing:["type",ko]};function $k(e){return function(t){var n=t.target,i=rt(e),r=i.eventDefinitions&&i.eventDefinitions[0],a=i.$type===n.type,s=(r&&r.$type)===n.eventDefinitionType,l=!!n.triggeredByEvent==!!i.triggeredByEvent,u=n.isExpanded===void 0||n.isExpanded===Jt(e);return!a||!s||!l||!u}}var Gk=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],Yk=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throwing",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}}],Wk=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Link intermediate catch event",actionName:"replace-with-link-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-link",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Link intermediate throw event",actionName:"replace-with-link-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-link",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:LinkEventDefinition",eventDefinitionAttrs:{name:""}}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],Xk=[{label:"Start event",actionName:"replace-with-none-start",className:"bpmn-icon-start-event-none",target:{type:"bpmn:StartEvent"}},{label:"Intermediate throw event",actionName:"replace-with-none-intermediate-throw",className:"bpmn-icon-intermediate-event-none",target:{type:"bpmn:IntermediateThrowEvent"}},{label:"End event",actionName:"replace-with-none-end",className:"bpmn-icon-end-event-none",target:{type:"bpmn:EndEvent"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Cancel end event",actionName:"replace-with-cancel-end",className:"bpmn-icon-end-event-cancel",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CancelEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Terminate end event",actionName:"replace-with-terminate-end",className:"bpmn-icon-end-event-terminate",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:TerminateEventDefinition"}}],Kk=[{label:"Exclusive gateway",actionName:"replace-with-exclusive-gateway",className:"bpmn-icon-gateway-xor",target:{type:"bpmn:ExclusiveGateway"}},{label:"Parallel gateway",actionName:"replace-with-parallel-gateway",className:"bpmn-icon-gateway-parallel",target:{type:"bpmn:ParallelGateway"}},{label:"Inclusive gateway",actionName:"replace-with-inclusive-gateway",className:"bpmn-icon-gateway-or",target:{type:"bpmn:InclusiveGateway"}},{label:"Complex gateway",actionName:"replace-with-complex-gateway",className:"bpmn-icon-gateway-complex",target:{type:"bpmn:ComplexGateway"}},{label:"Event-based gateway",actionName:"replace-with-event-based-gateway",className:"bpmn-icon-gateway-eventbased",target:{type:"bpmn:EventBasedGateway",instantiate:!1,eventGatewayType:"Exclusive"}}],Zk=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Ad-hoc sub-process",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}}],Qk=[{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",actionName:"replace-with-collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}}],YN=[{label:"Transaction",actionName:"replace-with-transaction",className:"bpmn-icon-transaction",target:{type:"bpmn:Transaction",isExpanded:!0}},{label:"Sub-process",actionName:"replace-with-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}},{label:"Event sub-process",actionName:"replace-with-event-subprocess",className:"bpmn-icon-event-subprocess-expanded",target:{type:"bpmn:SubProcess",triggeredByEvent:!0,isExpanded:!0}}],Jk=YN,U3=[{label:"Task",actionName:"replace-with-task",className:"bpmn-icon-task",target:{type:"bpmn:Task"}},{label:"User task",actionName:"replace-with-user-task",className:"bpmn-icon-user",target:{type:"bpmn:UserTask"}},{label:"Service task",actionName:"replace-with-service-task",className:"bpmn-icon-service",target:{type:"bpmn:ServiceTask"}},{label:"Send task",actionName:"replace-with-send-task",className:"bpmn-icon-send",target:{type:"bpmn:SendTask"}},{label:"Receive task",actionName:"replace-with-receive-task",className:"bpmn-icon-receive",target:{type:"bpmn:ReceiveTask"}},{label:"Manual task",actionName:"replace-with-manual-task",className:"bpmn-icon-manual",target:{type:"bpmn:ManualTask"}},{label:"Business rule task",actionName:"replace-with-rule-task",className:"bpmn-icon-business-rule",target:{type:"bpmn:BusinessRuleTask"}},{label:"Script task",actionName:"replace-with-script-task",className:"bpmn-icon-script",target:{type:"bpmn:ScriptTask"}},{label:"Call activity",actionName:"replace-with-call-activity",className:"bpmn-icon-call-activity",target:{type:"bpmn:CallActivity"}},{label:"Sub-process (collapsed)",actionName:"replace-with-collapsed-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:SubProcess",isExpanded:!1}},{label:"Sub-process (expanded)",actionName:"replace-with-expanded-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:SubProcess",isExpanded:!0}},{label:"Ad-hoc sub-process (collapsed)",actionName:"replace-with-collapsed-ad-hoc-subprocess",className:"bpmn-icon-subprocess-collapsed",target:{type:"bpmn:AdHocSubProcess",isExpanded:!1}},{label:"Ad-hoc sub-process (expanded)",actionName:"replace-with-ad-hoc-subprocess",className:"bpmn-icon-subprocess-expanded",target:{type:"bpmn:AdHocSubProcess",isExpanded:!0}}],ej=[{label:"Data store reference",actionName:"replace-with-data-store-reference",className:"bpmn-icon-data-store",target:{type:"bpmn:DataStoreReference"}}],tj=[{label:"Data object reference",actionName:"replace-with-data-object-reference",className:"bpmn-icon-data-object",target:{type:"bpmn:DataObjectReference"}}],nj=[{label:"Message boundary event",actionName:"replace-with-message-boundary",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!0}},{label:"Timer boundary event",actionName:"replace-with-timer-boundary",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!0}},{label:"Escalation boundary event",actionName:"replace-with-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!0}},{label:"Conditional boundary event",actionName:"replace-with-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!0}},{label:"Error boundary event",actionName:"replace-with-error-boundary",className:"bpmn-icon-intermediate-event-catch-error",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",cancelActivity:!0}},{label:"Cancel boundary event",actionName:"replace-with-cancel-boundary",className:"bpmn-icon-intermediate-event-catch-cancel",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CancelEventDefinition",cancelActivity:!0}},{label:"Signal boundary event",actionName:"replace-with-signal-boundary",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!0}},{label:"Compensation boundary event",actionName:"replace-with-compensation-boundary",className:"bpmn-icon-intermediate-event-catch-compensation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",cancelActivity:!0}},{label:"Message boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-message-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-message",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:MessageEventDefinition",cancelActivity:!1}},{label:"Timer boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-timer",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:TimerEventDefinition",cancelActivity:!1}},{label:"Escalation boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-escalation",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",cancelActivity:!1}},{label:"Conditional boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-condition",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",cancelActivity:!1}},{label:"Signal boundary event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-boundary",className:"bpmn-icon-intermediate-event-catch-non-interrupting-signal",target:{type:"bpmn:BoundaryEvent",eventDefinitionType:"bpmn:SignalEventDefinition",cancelActivity:!1}}],ij=[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!0}},{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!0}},{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!0}},{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!0}},{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition",isInterrupting:!0}},{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!0}},{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition",isInterrupting:!0}},{label:"Message start event (non-interrupting)",actionName:"replace-with-non-interrupting-message-start",className:"bpmn-icon-start-event-non-interrupting-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition",isInterrupting:!1}},{label:"Timer start event (non-interrupting)",actionName:"replace-with-non-interrupting-timer-start",className:"bpmn-icon-start-event-non-interrupting-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition",isInterrupting:!1}},{label:"Conditional start event (non-interrupting)",actionName:"replace-with-non-interrupting-conditional-start",className:"bpmn-icon-start-event-non-interrupting-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition",isInterrupting:!1}},{label:"Signal start event (non-interrupting)",actionName:"replace-with-non-interrupting-signal-start",className:"bpmn-icon-start-event-non-interrupting-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition",isInterrupting:!1}},{label:"Escalation start event (non-interrupting)",actionName:"replace-with-non-interrupting-escalation-start",className:"bpmn-icon-start-event-non-interrupting-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition",isInterrupting:!1}}],rj=[{label:"Sequence flow",actionName:"replace-with-sequence-flow",className:"bpmn-icon-connection"},{label:"Default flow",actionName:"replace-with-default-flow",className:"bpmn-icon-default-flow"},{label:"Conditional flow",actionName:"replace-with-conditional-flow",className:"bpmn-icon-conditional-flow"}],aj=[{label:"Expanded pool/participant",actionName:"replace-with-expanded-pool",className:"bpmn-icon-participant",target:{type:"bpmn:Participant",isExpanded:!0}},{label:function(e){var t="Empty pool/participant";return e.children&&e.children.length&&(t+=" (removes content)"),t},actionName:"replace-with-collapsed-pool",className:"bpmn-icon-lane",target:{type:"bpmn:Participant",isExpanded:!1}}],oj={"bpmn:MessageEventDefinition":[{label:"Message start event",actionName:"replace-with-message-start",className:"bpmn-icon-start-event-message",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate catch event",actionName:"replace-with-message-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-message",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message intermediate throw event",actionName:"replace-with-message-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-message",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}},{label:"Message end event",actionName:"replace-with-message-end",className:"bpmn-icon-end-event-message",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:MessageEventDefinition"}}],"bpmn:TimerEventDefinition":[{label:"Timer start event",actionName:"replace-with-timer-start",className:"bpmn-icon-start-event-timer",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}},{label:"Timer intermediate catch event",actionName:"replace-with-timer-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-timer",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:TimerEventDefinition"}}],"bpmn:ConditionalEventDefinition":[{label:"Conditional start event",actionName:"replace-with-conditional-start",className:"bpmn-icon-start-event-condition",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}},{label:"Conditional intermediate catch event",actionName:"replace-with-conditional-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-condition",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:ConditionalEventDefinition"}}],"bpmn:SignalEventDefinition":[{label:"Signal start event",actionName:"replace-with-signal-start",className:"bpmn-icon-start-event-signal",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate catch event",actionName:"replace-with-signal-intermediate-catch",className:"bpmn-icon-intermediate-event-catch-signal",target:{type:"bpmn:IntermediateCatchEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal intermediate throw event",actionName:"replace-with-signal-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-signal",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}},{label:"Signal end event",actionName:"replace-with-signal-end",className:"bpmn-icon-end-event-signal",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:SignalEventDefinition"}}],"bpmn:ErrorEventDefinition":[{label:"Error start event",actionName:"replace-with-error-start",className:"bpmn-icon-start-event-error",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}},{label:"Error end event",actionName:"replace-with-error-end",className:"bpmn-icon-end-event-error",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:ErrorEventDefinition"}}],"bpmn:EscalationEventDefinition":[{label:"Escalation start event",actionName:"replace-with-escalation-start",className:"bpmn-icon-start-event-escalation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Escalation intermediate throw event",actionName:"replace-with-escalation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-escalation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}},{label:"Escalation end event",actionName:"replace-with-escalation-end",className:"bpmn-icon-end-event-escalation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:EscalationEventDefinition"}}],"bpmn:CompensateEventDefinition":[{label:"Compensation start event",actionName:"replace-with-compensation-start",className:"bpmn-icon-start-event-compensation",target:{type:"bpmn:StartEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Compensation intermediate throw event",actionName:"replace-with-compensation-intermediate-throw",className:"bpmn-icon-intermediate-event-throw-compensation",target:{type:"bpmn:IntermediateThrowEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}},{label:"Compensation end event",actionName:"replace-with-compensation-end",className:"bpmn-icon-end-event-compensation",target:{type:"bpmn:EndEvent",eventDefinitionType:"bpmn:CompensateEventDefinition"}}]};const q3={"start-event-non-interrupting":`
  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">
    <g transform="translate(0 995.64)">
      <path d="m1899 28.357c21.545 567.43-598.38 1023.5-1133.6 835.92-548.09-147.21-801.57-873.95-463.59-1330 302.62-480.3 1071.7-507.54 1407.6-49.847 122.14 153.12 190.07 348.07 189.59 543.91z" fill="none" stroke="currentColor" stroke-dasharray="418.310422, 361.2328165" stroke-linecap="round" stroke-width="100"/>
    </g>
  </svg>`,"intermediate-event-non-interrupting":`
  <svg viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg">
     <g transform="translate(0 995.64)" fill="none" stroke="currentColor" stroke-linecap="round">
        <circle cx="1024" cy="28.357" r="875" stroke-dasharray="418.310422, 361.2328165" stroke-width="100"/>
        <circle cx="1024" cy="28.357" r="685" stroke-dasharray="348.31044857,261.23283643" stroke-dashoffset="500" stroke-width="100"/>
     </g>
  </svg>`};function jo(e,t,n,i,r,a,s,l){this._bpmnFactory=e,this._popupMenu=t,this._modeling=n,this._moddle=i,this._bpmnReplace=r,this._rules=a,this._translate=s,this._moddleCopy=l,this._register()}jo.$inject=["bpmnFactory","popupMenu","modeling","moddle","bpmnReplace","rules","translate","moddleCopy"];jo.prototype._register=function(){this._popupMenu.registerProvider("bpmn-replace",this)};jo.prototype.getPopupMenuEntries=function(e){var t=e.businessObject,n=this._rules,i=[],r,a=[];if(Tt(e)||!n.allowed("shape.replace",{element:e}))return{};var s=$k(e);return U(t,"bpmn:DataObjectReference")?this._createEntries(e,ej):U(t,"bpmn:DataStoreReference")&&!U(e.parent,"bpmn:Collaboration")?this._createEntries(e,tj):(U(t,"bpmn:Event")&&!U(t,"bpmn:BoundaryEvent")&&(r=t.get("eventDefinitions")[0]?.$type,i=oj[r]||[],!Vr(t.$parent)&&U(t.$parent,"bpmn:SubProcess")&&(i=Yt(i,function(l){return l.target.type!=="bpmn:StartEvent"}))),U(t,"bpmn:StartEvent")&&!U(t.$parent,"bpmn:SubProcess")?(a=Yt(Gk.concat(i),s),this._createEntries(e,a)):U(t,"bpmn:Participant")?(a=Yt(aj,function(l){return Jt(e)!==l.target.isExpanded}),this._createEntries(e,a)):U(t,"bpmn:StartEvent")&&Vr(t.$parent)?(a=Yt(ij.concat(i),function(l){var u=l.target,f=u.isInterrupting!==!1,p=t.isInterrupting===f;return s(l)||!s(l)&&!p}),this._createEntries(e,a)):U(t,"bpmn:StartEvent")&&!Vr(t.$parent)&&U(t.$parent,"bpmn:SubProcess")?(a=Yt(Yk.concat(i),s),this._createEntries(e,a)):U(t,"bpmn:EndEvent")?(a=Yt(Xk.concat(i),function(l){var u=l.target;return u.eventDefinitionType=="bpmn:CancelEventDefinition"&&!U(t.$parent,"bpmn:Transaction")?!1:s(l)}),this._createEntries(e,a)):U(t,"bpmn:BoundaryEvent")?(a=Yt(nj,function(l){var u=l.target;if(u.eventDefinitionType=="bpmn:CancelEventDefinition"&&!U(t.attachedToRef,"bpmn:Transaction"))return!1;var f=u.cancelActivity!==!1,p=t.cancelActivity==f;return s(l)||!s(l)&&!p}),this._createEntries(e,a)):U(t,"bpmn:IntermediateCatchEvent")||U(t,"bpmn:IntermediateThrowEvent")?(a=Yt(Wk.concat(i),s),this._createEntries(e,a)):U(t,"bpmn:Gateway")?(a=Yt(Kk,s),this._createEntries(e,a)):U(t,"bpmn:Transaction")?(a=Yt(YN,s),this._createEntries(e,a)):Vr(t)&&Jt(e)?(a=Yt(Jk,s),this._createEntries(e,a)):U(t,"bpmn:AdHocSubProcess")&&Jt(e)?(a=Yt(Qk,s),this._createEntries(e,a)):U(t,"bpmn:SubProcess")&&Jt(e)?(a=Yt(Zk,s),this._createEntries(e,a)):U(t,"bpmn:SubProcess")&&!Jt(e)?(a=Yt(U3,function(l){var u=l.target.type===e.type,f=l.target.isExpanded===!0;return u===f}),this._createEntries(e,a)):U(t,"bpmn:SequenceFlow")?this._createSequenceFlowEntries(e,rj):U(t,"bpmn:FlowNode")?(a=Yt(U3,s),this._createEntries(e,a)):{})};jo.prototype.getPopupMenuHeaderEntries=function(e){var t={};return U(e,"bpmn:Activity")&&!Vr(e)&&(t={...t,...this._getLoopCharacteristicsHeaderEntries(e)}),U(e,"bpmn:DataObjectReference")&&(t={...t,...this._getCollectionHeaderEntries(e)}),U(e,"bpmn:Participant")&&(t={...t,...this._getParticipantMultiplicityHeaderEntries(e)}),W6(e)&&(t={...t,...this._getNonInterruptingHeaderEntries(e)}),t};jo.prototype._createEntries=function(e,t){var n={},i=this;return ve(t,function(r){n[r.actionName]=i._createEntry(r,e)}),n};jo.prototype._createSequenceFlowEntries=function(e,t){var n=rt(e),i={},r=this._modeling,a=this._moddle,s=this;return ve(t,function(l){switch(l.actionName){case"replace-with-default-flow":n.sourceRef.default!==n&&(U(n.sourceRef,"bpmn:ExclusiveGateway")||U(n.sourceRef,"bpmn:InclusiveGateway")||U(n.sourceRef,"bpmn:ComplexGateway")||U(n.sourceRef,"bpmn:Activity"))&&(i={...i,[l.actionName]:s._createEntry(l,e,function(){r.updateProperties(e.source,{default:n})})});break;case"replace-with-conditional-flow":!n.conditionExpression&&U(n.sourceRef,"bpmn:Activity")&&(i={...i,[l.actionName]:s._createEntry(l,e,function(){var u=a.create("bpmn:FormalExpression",{body:""});r.updateProperties(e,{conditionExpression:u})})});break;default:U(n.sourceRef,"bpmn:Activity")&&n.conditionExpression&&(i={...i,[l.actionName]:s._createEntry(l,e,function(){r.updateProperties(e,{conditionExpression:void 0})})}),(U(n.sourceRef,"bpmn:ExclusiveGateway")||U(n.sourceRef,"bpmn:InclusiveGateway")||U(n.sourceRef,"bpmn:ComplexGateway")||U(n.sourceRef,"bpmn:Activity"))&&n.sourceRef.default===n&&(i={...i,[l.actionName]:s._createEntry(l,e,function(){r.updateProperties(e.source,{default:void 0})})})}}),i};jo.prototype._createEntry=function(e,t,n){var i=this._translate,r=this._bpmnReplace.replaceElement,a=function(){return r(t,e.target)},s=e.label;return s&&typeof s=="function"&&(s=s(t)),n=n||a,{label:i(s),className:e.className,action:n}};jo.prototype._getLoopCharacteristicsHeaderEntries=function(e){var t=this,n=this._translate;function i(f,p){if(p.active){t._modeling.updateProperties(e,{loopCharacteristics:void 0});return}var d=e.businessObject.get("loopCharacteristics");d&&U(d,p.options.loopCharacteristics)?t._modeling.updateModdleProperties(e,d,{isSequential:p.options.isSequential}):(d=t._moddle.create(p.options.loopCharacteristics,{isSequential:p.options.isSequential}),t._modeling.updateProperties(e,{loopCharacteristics:d}))}var r=rt(e),a=r.loopCharacteristics,s,l,u;return a&&(s=a.isSequential,l=a.isSequential===void 0,u=a.isSequential!==void 0&&!a.isSequential),{"toggle-parallel-mi":{className:"bpmn-icon-parallel-mi-marker",title:n("Parallel multi-instance"),active:u,action:i,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!1}},"toggle-sequential-mi":{className:"bpmn-icon-sequential-mi-marker",title:n("Sequential multi-instance"),active:s,action:i,options:{loopCharacteristics:"bpmn:MultiInstanceLoopCharacteristics",isSequential:!0}},"toggle-loop":{className:"bpmn-icon-loop-marker",title:n("Loop"),active:l,action:i,options:{loopCharacteristics:"bpmn:StandardLoopCharacteristics"}}}};jo.prototype._getCollectionHeaderEntries=function(e){var t=this,n=this._translate,i=e.businessObject.dataObjectRef;if(!i)return{};function r(s,l){t._modeling.updateModdleProperties(e,i,{isCollection:!l.active})}var a=i.isCollection;return{"toggle-is-collection":{className:"bpmn-icon-parallel-mi-marker",title:n("Collection"),active:a,action:r}}};jo.prototype._getParticipantMultiplicityHeaderEntries=function(e){var t=this,n=this._bpmnFactory,i=this._translate;function r(s,l){var u=l.active,f;u||(f=n.create("bpmn:ParticipantMultiplicity")),t._modeling.updateProperties(e,{participantMultiplicity:f})}var a=e.businessObject.participantMultiplicity;return{"toggle-participant-multiplicity":{className:"bpmn-icon-parallel-mi-marker",title:i("Participant multiplicity"),active:!!a,action:r}}};jo.prototype._getNonInterruptingHeaderEntries=function(e){const t=this._translate,n=rt(e),i=this,r=X6(e),a=U(e,"bpmn:BoundaryEvent")?q3["intermediate-event-non-interrupting"]:q3["start-event-non-interrupting"],s=!n[r];return{"toggle-non-interrupting":{imageHtml:a,title:t("Toggle non-interrupting"),active:s,action:function(){i._modeling.updateProperties(e,{[r]:!!s})}}}};const sj={__depends__:[qb,AN,Gb],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",jo]};function Um(e,t,n,i,r,a,s,l,u,f,p,d,v){e=e||{},i.registerProvider(this),this._contextPad=i,this._modeling=r,this._elementFactory=a,this._connect=s,this._create=l,this._popupMenu=u,this._canvas=f,this._rules=p,this._translate=d,this._eventBus=n,this._appendPreview=v,e.autoPlace!==!1&&(this._autoPlace=t.get("autoPlace",!1)),n.on("create.end",250,function(g){var w=g.context,x=w.shape;if(!(!cm(g)||!i.isOpen(x))){var E=i.getEntries(x);E.replace&&E.replace.action.click(g,x)}}),n.on("contextPad.close",function(){v.cleanUp()})}Um.$inject=["config.contextPad","injector","eventBus","contextPad","modeling","elementFactory","connect","create","popupMenu","canvas","rules","translate","appendPreview"];Um.prototype.getMultiElementContextPadEntries=function(e){var t=this._modeling,n={};return this._isDeleteAllowed(e)&&Ne(n,{delete:{group:"edit",className:"bpmn-icon-trash",title:this._translate("Delete"),action:{click:function(i,r){t.removeElements(r.slice())}}}}),n};Um.prototype._isDeleteAllowed=function(e){var t=this._rules.allowed("elements.delete",{elements:e});return Tt(t)?eh(e,n=>t.includes(n)):t};Um.prototype.getContextPadEntries=function(e){var t=this._contextPad,n=this._modeling,i=this._elementFactory,r=this._connect,a=this._create,s=this._popupMenu,l=this._autoPlace,u=this._translate,f=this._appendPreview,p={};if(e.type==="label")return this._isDeleteAllowed([e])&&Ne(p,w()),p;var d=e.businessObject;function v(M,P){r.start(M,P)}function g(M,P){n.removeElements([P])}function w(){return{delete:{group:"edit",className:"bpmn-icon-trash",title:u("Delete"),action:{click:g}}}}function x(M){var P=5,k=t.getPad(M).html,W=k.getBoundingClientRect(),Q={x:W.left,y:W.bottom+P};return Q}function E(M,P,k,W){function Q(le,H){var j=i.createShape(Ne({type:M},W));a.start(le,j,{source:H})}var z=l?function(le,H){var j=i.createShape(Ne({type:M},W));l.append(H,j)}:Q,ie=l?function(le,H){return f.create(H,M,W),()=>{f.cleanUp()}}:null;return{group:"model",className:P,title:k,action:{dragstart:Q,click:z,hover:ie}}}function R(M){return function(P,k){n.splitLane(k,M),t.open(k,!0)}}if(Wt(d,["bpmn:Lane","bpmn:Participant"])&&Jt(e)){var L=zu(e);Ne(p,{"lane-insert-above":{group:"lane-insert-above",className:"bpmn-icon-lane-insert-above",title:u("Add lane above"),action:{click:function(M,P){n.addLane(P,"top")}}}}),L.length<2&&((hr(e)?e.height>=120:e.width>=120)&&Ne(p,{"lane-divide-two":{group:"lane-divide",className:"bpmn-icon-lane-divide-two",title:u("Divide into two lanes"),action:{click:R(2)}}}),(hr(e)?e.height>=180:e.width>=180)&&Ne(p,{"lane-divide-three":{group:"lane-divide",className:"bpmn-icon-lane-divide-three",title:u("Divide into three lanes"),action:{click:R(3)}}})),Ne(p,{"lane-insert-below":{group:"lane-insert-below",className:"bpmn-icon-lane-insert-below",title:u("Add lane below"),action:{click:function(M,P){n.addLane(P,"bottom")}}}})}return U(d,"bpmn:FlowNode")&&(U(d,"bpmn:EventBasedGateway")?Ne(p,{"append.receive-task":E("bpmn:ReceiveTask","bpmn-icon-receive-task",u("Append receive task")),"append.message-intermediate-event":E("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-message",u("Append message intermediate catch event"),{eventDefinitionType:"bpmn:MessageEventDefinition"}),"append.timer-intermediate-event":E("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-timer",u("Append timer intermediate catch event"),{eventDefinitionType:"bpmn:TimerEventDefinition"}),"append.condition-intermediate-event":E("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-condition",u("Append conditional intermediate catch event"),{eventDefinitionType:"bpmn:ConditionalEventDefinition"}),"append.signal-intermediate-event":E("bpmn:IntermediateCatchEvent","bpmn-icon-intermediate-event-catch-signal",u("Append signal intermediate catch event"),{eventDefinitionType:"bpmn:SignalEventDefinition"})}):V3(d,"bpmn:BoundaryEvent","bpmn:CompensateEventDefinition")?Ne(p,{"append.compensation-activity":E("bpmn:Task","bpmn-icon-task",u("Append compensation activity"),{isForCompensation:!0})}):!U(d,"bpmn:EndEvent")&&!d.isForCompensation&&!V3(d,"bpmn:IntermediateThrowEvent","bpmn:LinkEventDefinition")&&!Vr(d)&&Ne(p,{"append.end-event":E("bpmn:EndEvent","bpmn-icon-end-event-none",u("Append end event")),"append.gateway":E("bpmn:ExclusiveGateway","bpmn-icon-gateway-none",u("Append gateway")),"append.append-task":E("bpmn:Task","bpmn-icon-task",u("Append task")),"append.intermediate-event":E("bpmn:IntermediateThrowEvent","bpmn-icon-intermediate-event-none",u("Append intermediate/boundary event"))})),s.isEmpty(e,"bpmn-replace")||Ne(p,{replace:{group:"edit",className:"bpmn-icon-screw-wrench",title:u("Change element"),action:{click:function(M,P){var k=Ne(x(P),{cursor:{x:M.x,y:M.y}});s.open(P,"bpmn-replace",k,{title:u("Change element"),width:300,search:!0})}}}}),U(d,"bpmn:SequenceFlow")&&Ne(p,{"append.text-annotation":E("bpmn:TextAnnotation","bpmn-icon-text-annotation",u("Add text annotation"))}),U(d,"bpmn:MessageFlow")&&Ne(p,{"append.text-annotation":E("bpmn:TextAnnotation","bpmn-icon-text-annotation",u("Add text annotation"))}),Wt(d,["bpmn:FlowNode","bpmn:InteractionNode","bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Ne(p,{"append.text-annotation":E("bpmn:TextAnnotation","bpmn-icon-text-annotation",u("Add text annotation")),connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect to other element"),action:{click:v,dragstart:v}}}),U(d,"bpmn:TextAnnotation")&&Ne(p,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect using association"),action:{click:v,dragstart:v}}}),Wt(d,["bpmn:DataObjectReference","bpmn:DataStoreReference"])&&Ne(p,{connect:{group:"connect",className:"bpmn-icon-connection-multi",title:u("Connect using data input association"),action:{click:v,dragstart:v}}}),U(d,"bpmn:Group")&&Ne(p,{"append.text-annotation":E("bpmn:TextAnnotation","bpmn-icon-text-annotation",u("Add text annotation"))}),this._isDeleteAllowed([e])&&Ne(p,w()),p};function V3(e,t,n){var i=e.$instanceOf(t),r=!1,a=e.eventDefinitions||[];return ve(a,function(s){s.$type===n&&(r=!0)}),i&&r}const lj={__depends__:[Hk,GN,UA,_s,Zb,Yy,sj],__init__:["contextPadProvider"],contextPadProvider:["type",Um]};var cj={horizontal:["x","width"],vertical:["y","height"]},$3=5;function yc(e,t){this._modeling=e,this._filters=[],this.registerFilter(function(n){var i=t.allowed("elements.distribute",{elements:n});return Tt(i)?i:i?n:[]})}yc.$inject=["modeling","rules"];yc.prototype.registerFilter=function(e){if(typeof e!="function")throw new Error("the filter has to be a function");this._filters.push(e)};yc.prototype.trigger=function(e,t){var n=this._modeling,i,r;if(!(e.length<3)&&(this._setOrientation(t),r=this._filterElements(e),i=this._createGroups(r),!(i.length<=2)))return n.distributeElements(i,this._axis,this._dimension),i};yc.prototype._filterElements=function(e){var t=this._filters,n=this._axis,i=this._dimension,r=[].concat(e);return t.length?(ve(t,function(a){r=a(r,n,i)}),r):e};yc.prototype._createGroups=function(e){var t=[],n=this,i=this._axis,r=this._dimension;if(!i)throw new Error('must have a defined "axis" and "dimension"');var a=ml(e,i);return ve(a,function(s,l){var u=n._findRange(s,i,r),f,p=t[t.length-1];p&&n._hasIntersection(p.range,u)?t[t.length-1].elements.push(s):(f={range:u,elements:[s]},t.push(f))}),t};yc.prototype._setOrientation=function(e){var t=cj[e];this._axis=t[0],this._dimension=t[1]};yc.prototype._hasIntersection=function(e,t){return Math.max(e.min,e.max)>=Math.min(t.min,t.max)&&Math.min(e.min,e.max)<=Math.max(t.min,t.max)};yc.prototype._findRange=function(e){var t=e[this._axis],n=e[this._dimension];return{min:t+$3,max:t+n-$3}};const uj={__init__:["distributeElements"],distributeElements:["type",yc]};function l0(e){Do.call(this,e)}l0.$inject=["eventBus"];dt(l0,Do);l0.prototype.init=function(){this.addRule("elements.distribute",function(e){var t=e.elements;return t=Yt(t,function(n){var i=Wt(n,["bpmn:Association","bpmn:BoundaryEvent","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:Lane","bpmn:MessageFlow","bpmn:SequenceFlow","bpmn:TextAnnotation"]);return!(n.labelTarget||i)}),t=vy(t),t.length<3?!1:t})};var G3={horizontal:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
                <polyline points="450 400 450 150 1350 150 1350 400" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>
                <rect x="150" y="450" width="600" height="1200" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
                <rect x="1050" y="450" width="600" height="800" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
              </svg>`,vertical:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1800 1800">
              <polyline points="400 1350 150 1350 150 450 400 450" style="fill:none;stroke:currentColor;stroke-width:100;stroke-linejoin:round;"/>
              <rect x="450" y="150" width="1200" height="600" rx="1" style="fill:none;stroke:currentColor;stroke-width:100;"></rect>
              <rect x="450" y="1050" width="800" height="600" rx="1" style="fill:currentColor;stroke:currentColor;stroke-width:100;opacity:.5;"></rect>
            </svg>`},fj=900;function qm(e,t,n,i){this._distributeElements=t,this._translate=n,this._popupMenu=e,this._rules=i,e.registerProvider("align-elements",fj,this)}qm.$inject=["popupMenu","distributeElements","translate","rules"];qm.prototype.getPopupMenuEntries=function(e){var t={};return this._isAllowed(e)&&Ne(t,this._getEntries(e)),t};qm.prototype._isAllowed=function(e){return this._rules.allowed("elements.distribute",{elements:e})};qm.prototype._getEntries=function(e){var t=this._distributeElements,n=this._translate,i=this._popupMenu,r={"distribute-elements-horizontal":{group:"distribute",title:n("Distribute elements horizontally"),className:"bjs-align-elements-menu-entry",imageHtml:G3.horizontal,action:function(a,s){t.trigger(e,"horizontal"),i.close()}},"distribute-elements-vertical":{group:"distribute",title:n("Distribute elements vertically"),imageHtml:G3.vertical,action:function(a,s){t.trigger(e,"vertical"),i.close()}}};return r};const hj={__depends__:[qb,uj],__init__:["bpmnDistributeElements","distributeElementsMenuProvider"],bpmnDistributeElements:["type",l0],distributeElementsMenuProvider:["type",qm]};var WN="is not a registered action",pj="is already registered";function Io(e,t){this._actions={};var n=this;e.on("diagram.init",function(){n._registerDefaultActions(t),e.fire("editorActions.init",{editorActions:n})})}Io.$inject=["eventBus","injector"];Io.prototype._registerDefaultActions=function(e){var t=e.get("commandStack",!1),n=e.get("modeling",!1),i=e.get("selection",!1),r=e.get("zoomScroll",!1),a=e.get("copyPaste",!1),s=e.get("canvas",!1),l=e.get("rules",!1),u=e.get("keyboardMove",!1),f=e.get("keyboardMoveSelection",!1);t&&(this.register("undo",function(){t.undo()}),this.register("redo",function(){t.redo()})),a&&i&&this.register("copy",function(){var p=i.get();if(p.length)return a.copy(p)}),a&&this.register("paste",function(){a.paste()}),r&&this.register("stepZoom",function(p){r.stepZoom(p.value)}),s&&this.register("zoom",function(p){s.zoom(p.value)}),n&&i&&l&&this.register("removeSelection",function(){var p=i.get();if(p.length){var d=l.allowed("elements.delete",{elements:p}),v;d!==!1&&(Tt(d)?v=d:v=p,v.length&&n.removeElements(v.slice()))}}),u&&this.register("moveCanvas",function(p){u.moveCanvas(p)}),f&&this.register("moveSelection",function(p){f.moveSelection(p.direction,p.accelerated)})};Io.prototype.trigger=function(e,t){if(!this._actions[e])throw t_(e,WN);return this._actions[e](t)};Io.prototype.register=function(e,t){var n=this;if(typeof e=="string")return this._registerAction(e,t);ve(e,function(i,r){n._registerAction(r,i)})};Io.prototype._registerAction=function(e,t){if(this.isRegistered(e))throw t_(e,pj);this._actions[e]=t};Io.prototype.unregister=function(e){if(!this.isRegistered(e))throw t_(e,WN);this._actions[e]=void 0};Io.prototype.getActions=function(){return Object.keys(this._actions)};Io.prototype.isRegistered=function(e){return!!this._actions[e]};function t_(e,t){return new Error(e+" "+t)}const dj={__init__:["editorActions"],editorActions:["type",Io]};function c0(e){e.invoke(Io,this)}dt(c0,Io);c0.$inject=["injector"];c0.prototype._registerDefaultActions=function(e){Io.prototype._registerDefaultActions.call(this,e);var t=e.get("canvas",!1),n=e.get("elementRegistry",!1),i=e.get("selection",!1),r=e.get("spaceTool",!1),a=e.get("lassoTool",!1),s=e.get("handTool",!1),l=e.get("globalConnect",!1),u=e.get("distributeElements",!1),f=e.get("alignElements",!1),p=e.get("directEditing",!1),d=e.get("searchPad",!1),v=e.get("modeling",!1),g=e.get("contextPad",!1);t&&n&&i&&this._registerAction("selectElements",function(){var w=t.getRootElement(),x=n.filter(function(E){return E!==w});return i.select(x),x}),r&&this._registerAction("spaceTool",function(){r.toggle()}),a&&this._registerAction("lassoTool",function(){a.toggle()}),s&&this._registerAction("handTool",function(){s.toggle()}),l&&this._registerAction("globalConnectTool",function(){l.toggle()}),i&&u&&this._registerAction("distributeElements",function(w){var x=i.get(),E=w.type;x.length&&u.trigger(x,E)}),i&&f&&this._registerAction("alignElements",function(w){var x=i.get(),E=[],R=w.type;x.length&&(E=Yt(x,function(L){return!U(L,"bpmn:Lane")}),f.trigger(E,R))}),i&&v&&this._registerAction("setColor",function(w){var x=i.get();x.length&&v.setColor(x,w)}),i&&p&&this._registerAction("directEditing",function(){var w=i.get();w.length&&p.activate(w[0])}),d&&this._registerAction("find",function(){d.toggle()}),t&&v&&this._registerAction("moveToOrigin",function(){var w=t.getRootElement(),x,E;U(w,"bpmn:Collaboration")?E=n.filter(function(R){return U(R.parent,"bpmn:Collaboration")}):E=n.filter(function(R){return R!==w&&!U(R.parent,"bpmn:SubProcess")}),x=Ji(E),v.moveElements(E,{x:-x.x,y:-x.y},w)}),i&&g&&this._registerAction("replaceElement",function(w){g.triggerEntry("replace","click",w)})};const mj={__depends__:[dj],editorActions:["type",c0]};function XN(e){e.on(["create.init","shape.move.init"],function(t){var n=t.context,i=t.shape;Wt(i,["bpmn:Participant","bpmn:SubProcess","bpmn:TextAnnotation"])&&(n.gridSnappingContext||(n.gridSnappingContext={}),n.gridSnappingContext.snapLocation="top-left")})}XN.$inject=["eventBus"];var Iv=10;function W1(e,t,n){return n||(n="round"),Math[n](e/t)*t}var gj=1200,vj=800;function Gu(e,t,n){var i=!n||n.active!==!1;this._eventBus=t;var r=this;t.on("diagram.init",vj,function(){r.setActive(i)}),t.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],gj,function(a){var s=a.originalEvent;if(!(!r.active||s&&Mo(s))){var l=a.context,u=l.gridSnappingContext;u||(u=l.gridSnappingContext={}),["x","y"].forEach(function(f){var p={},d=bj(a,f,e);d&&(p.offset=d);var v=yj(a,f);v&&Ne(p,v),Sp(a,f)||r.snapEvent(a,f,p)})}})}Gu.prototype.snapEvent=function(e,t,n){var i=this.snapValue(e[t],n);Bi(e,t,i)};Gu.prototype.getGridSpacing=function(){return Iv};Gu.prototype.snapValue=function(e,t){var n=0;t&&t.offset&&(n=t.offset),e+=n,e=W1(e,Iv);var i,r;return t&&t.min&&(i=t.min,Nt(i)&&(i=W1(i+n,Iv,"ceil"),e=Math.max(e,i))),t&&t.max&&(r=t.max,Nt(r)&&(r=W1(r+n,Iv,"floor"),e=Math.min(e,r))),e-=n,e};Gu.prototype.isActive=function(){return this.active};Gu.prototype.setActive=function(e){this.active=e,this._eventBus.fire("gridSnapping.toggle",{active:e})};Gu.prototype.toggleActive=function(){this.setActive(!this.active)};Gu.$inject=["elementRegistry","eventBus","config.gridSnapping"];function yj(e,t){var n=e.context,i=n.createConstraints,r=n.resizeConstraints||{},a=n.gridSnappingContext,s=a.snapConstraints;if(s&&s[t])return s[t];s||(s=a.snapConstraints={}),s[t]||(s[t]={});var l=n.direction;i&&(Fv(t)?(s.x.min=i.left,s.x.max=i.right):(s.y.min=i.top,s.y.max=i.bottom));var u=r.min,f=r.max;return u&&(Fv(t)?W3(l)?s.x.max=u.left:s.x.min=u.right:Y3(l)?s.y.max=u.top:s.y.min=u.bottom),f&&(Fv(t)?W3(l)?s.x.min=f.left:s.x.max=f.right:Y3(l)?s.y.min=f.top:s.y.max=f.bottom),s[t]}function bj(e,t,n){var i=e.context,r=e.shape,a=i.gridSnappingContext,s=a.snapLocation,l=a.snapOffset;return l&&Nt(l[t])||(l||(l=a.snapOffset={}),Nt(l[t])||(l[t]=0),!r)||(n.get(r.id)||(Fv(t)?l[t]+=r[t]+r.width/2:l[t]+=r[t]+r.height/2),!s)||(t==="x"?/left/.test(s)?l[t]-=r.width/2:/right/.test(s)&&(l[t]+=r.width/2):/top/.test(s)?l[t]-=r.height/2:/bottom/.test(s)&&(l[t]+=r.height/2)),l[t]}function Fv(e){return e==="x"}function Y3(e){return e.indexOf("n")!==-1}function W3(e){return e.indexOf("w")!==-1}function lh(e,t){tt.call(this,e),this._gridSnapping=t;var n=this;this.preExecute("shape.resize",function(i){var r=i.context,a=r.hints||{},s=a.autoResize;if(s){var l=r.shape,u=r.newBounds;Ia(s)?r.newBounds=n.snapComplex(u,s):r.newBounds=n.snapSimple(l,u)}})}lh.$inject=["eventBus","gridSnapping","modeling"];dt(lh,tt);lh.prototype.snapSimple=function(e,t){var n=this._gridSnapping;return t.width=n.snapValue(t.width,{min:t.width}),t.height=n.snapValue(t.height,{min:t.height}),t.x=e.x+e.width/2-t.width/2,t.y=e.y+e.height/2-t.height/2,t};lh.prototype.snapComplex=function(e,t){return/w|e/.test(t)&&(e=this.snapHorizontally(e,t)),/n|s/.test(t)&&(e=this.snapVertically(e,t)),e};lh.prototype.snapHorizontally=function(e,t){var n=this._gridSnapping,i=/w/.test(t),r=/e/.test(t),a={};return a.width=n.snapValue(e.width,{min:e.width}),r&&(i?(a.x=n.snapValue(e.x,{max:e.x}),a.width+=n.snapValue(e.x-a.x,{min:e.x-a.x})):e.x=e.x+e.width-a.width),Ne(e,a),e};lh.prototype.snapVertically=function(e,t){var n=this._gridSnapping,i=/n/.test(t),r=/s/.test(t),a={};return a.height=n.snapValue(e.height,{min:e.height}),i&&(r?(a.y=n.snapValue(e.y,{max:e.y}),a.height+=n.snapValue(e.y-a.y,{min:e.y-a.y})):e.y=e.y+e.height-a.height),Ne(e,a),e};var _j=2e3;function KN(e,t){e.on(["spaceTool.move","spaceTool.end"],_j,function(n){var i=n.context;if(i.initialized){var r=i.axis,a;r==="x"?(a=t.snapValue(n.dx),n.x=n.x+a-n.dx,n.dx=a):(a=t.snapValue(n.dy),n.y=n.y+a-n.dy,n.dy=a)}})}KN.$inject=["eventBus","gridSnapping"];const wj={__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",lh],gridSnappingSpaceToolBehavior:["type",KN]},xj={__depends__:[wj],__init__:["gridSnapping"],gridSnapping:["type",Gu]};var Ej=2e3;function ZN(e,t,n){e.on("autoPlace",Ej,function(i){var r=i.source,a=Ct(r),s=i.shape,l=m6(r,s,n);return["x","y"].forEach(function(u){var f={};l[u]!==a[u]&&(l[u]>a[u]?f.min=l[u]:f.max=l[u],U(s,"bpmn:TextAnnotation")&&(Sj(u)?f.offset=-s.width/2:f.offset=-s.height/2),l[u]=t.snapValue(l[u],f))}),l})}ZN.$inject=["eventBus","gridSnapping","elementRegistry"];function Sj(e){return e==="x"}var Aj=1750;function QN(e,t,n){t.on(["create.start","shape.move.start"],Aj,function(i){var r=i.context,a=r.shape,s=e.getRootElement();if(!(!U(a,"bpmn:Participant")||!U(s,"bpmn:Process")||!s.children.length)){var l=r.createConstraints;l&&(a.width=n.snapValue(a.width,{min:a.width}),a.height=n.snapValue(a.height,{min:a.height}))}})}QN.$inject=["canvas","eventBus","gridSnapping"];var Nj=3e3;function u0(e,t,n){tt.call(this,e),this._gridSnapping=t;var i=this;this.postExecuted(["connection.create","connection.layout"],Nj,function(r){var a=r.context,s=a.connection,l=a.hints||{},u=s.waypoints;l.connectionStart||l.connectionEnd||l.createElementsBehavior===!1||Cj(u)&&n.updateWaypoints(s,i.snapMiddleSegments(u))})}u0.$inject=["eventBus","gridSnapping","modeling"];dt(u0,tt);u0.prototype.snapMiddleSegments=function(e){var t=this._gridSnapping,n;e=e.slice();for(var i=1;i<e.length-2;i++)n=Mj(t,e[i],e[i+1]),e[i]=n[0],e[i+1]=n[1];return e};function Cj(e){return e.length>3}function Tj(e){return e==="h"}function Rj(e){return e==="v"}function Mj(e,t,n){var i=ac(t,n),r={};return Tj(i)&&(r.y=e.snapValue(t.y)),Rj(i)&&(r.x=e.snapValue(t.x)),("x"in r||"y"in r)&&(t=Ne({},t,r),n=Ne({},n,r)),[t,n]}const Pj={__init__:["gridSnappingAutoPlaceBehavior","gridSnappingParticipantBehavior","gridSnappingLayoutConnectionBehavior"],gridSnappingAutoPlaceBehavior:["type",ZN],gridSnappingParticipantBehavior:["type",QN],gridSnappingLayoutConnectionBehavior:["type",u0]},Lj={__depends__:[xj,Pj],__init__:["bpmnGridSnapping"],bpmnGridSnapping:["type",XN]};var Dj=30,JN=30;function Vm(e,t){this._interactionEvents=t;var n=this;e.on(["interactionEvents.createHit","interactionEvents.updateHit"],function(i){var r=i.element,a=i.gfx;if(U(r,"bpmn:Lane"))return n._createParticipantHit(r,a);if(U(r,"bpmn:Participant"))return Jt(r)?n._createParticipantHit(r,a):n._createDefaultHit(r,a);if(U(r,"bpmn:SubProcess"))return Jt(r)?n._createSubProcessHit(r,a):n._createDefaultHit(r,a)})}Vm.$inject=["eventBus","interactionEvents"];Vm.prototype._createDefaultHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createDefaultHit(e,t),!0};Vm.prototype._createParticipantHit=function(e,t){this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"no-move",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"click-stroke",{width:e.width,height:e.height});var n=hr(e)?{width:Dj,height:e.height}:{width:e.width,height:JN};return this._interactionEvents.createBoxHit(t,"all",n),!0};Vm.prototype._createSubProcessHit=function(e,t){return this._interactionEvents.removeHits(t),this._interactionEvents.createBoxHit(t,"no-move",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"click-stroke",{width:e.width,height:e.height}),this._interactionEvents.createBoxHit(t,"all",{width:e.width,height:JN}),!0};const Oj={__init__:["bpmnInteractionEvents"],bpmnInteractionEvents:["type",Vm]};function f0(e){e.invoke(Op,this)}dt(f0,Op);f0.$inject=["injector"];f0.prototype.registerBindings=function(e,t){Op.prototype.registerBindings.call(this,e,t);function n(i,r){t.isRegistered(i)&&e.addListener(r)}n("selectElements",function(i){var r=i.keyEvent;if(e.isKey(["a","A"],r)&&e.isCmd(r))return t.trigger("selectElements"),!0}),n("find",function(i){var r=i.keyEvent;if(e.isKey(["f","F"],r)&&e.isCmd(r))return t.trigger("find"),!0}),n("spaceTool",function(i){var r=i.keyEvent;if(!e.hasModifier(r)&&e.isKey(["s","S"],r))return t.trigger("spaceTool"),!0}),n("lassoTool",function(i){var r=i.keyEvent;if(!e.hasModifier(r)&&e.isKey(["l","L"],r))return t.trigger("lassoTool"),!0}),n("handTool",function(i){var r=i.keyEvent;if(!e.hasModifier(r)&&e.isKey(["h","H"],r))return t.trigger("handTool"),!0}),n("globalConnectTool",function(i){var r=i.keyEvent;if(!e.hasModifier(r)&&e.isKey(["c","C"],r))return t.trigger("globalConnectTool"),!0}),n("directEditing",function(i){var r=i.keyEvent;if(!e.hasModifier(r)&&e.isKey(["e","E"],r))return t.trigger("directEditing"),!0}),n("replaceElement",function(i){var r=i.keyEvent;if(!e.hasModifier(r)&&e.isKey(["r","R"],r))return t.trigger("replaceElement",r),!0})};const Bj={__depends__:[kb],__init__:["keyboardBindings"],keyboardBindings:["type",f0]};var kj={moveSpeed:1,moveSpeedAccelerated:10},jj=1500,X3="left",K3="up",Z3="right",Q3="down",Ij={ArrowLeft:X3,Left:X3,ArrowUp:K3,Up:K3,ArrowRight:Z3,Right:Z3,ArrowDown:Q3,Down:Q3},Fj={left:function(e){return{x:-e,y:0}},up:function(e){return{x:0,y:-e}},right:function(e){return{x:e,y:0}},down:function(e){return{x:0,y:e}}};function eC(e,t,n,i,r){var a=this;this._config=Ne({},kj,e||{}),t.addListener(jj,function(s){var l=s.keyEvent,u=Ij[l.key];if(u&&!t.isCmd(l)){var f=t.isShift(l);return a.moveSelection(u,f),!0}}),this.moveSelection=function(s,l){var u=r.get();if(u.length){var f=this._config[l?"moveSpeedAccelerated":"moveSpeed"],p=Fj[s](f),d=i.allowed("elements.move",{shapes:u});d&&n.moveElements(u,p)}}}eC.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"];const zj={__depends__:[kb,_s],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",eC]};var J3=10;function $m(e,t,n,i){this._dragging=i,this._rules=t;var r=this;function a(u,f){var p=u.shape,d=u.direction,v=u.resizeConstraints,g;u.delta=f,g=xO(p,d,f),u.newBounds=SO(g,v),u.canExecute=r.canResize(u)}function s(u){var f=u.resizeConstraints,p=u.minBounds;f===void 0&&(p===void 0&&(p=r.computeMinResizeBox(u)),u.resizeConstraints={min:_t(p)})}function l(u){var f=u.shape,p=u.canExecute,d=u.newBounds;if(p){if(d=j4(d),!Hj(f,d))return;n.resizeShape(f,d)}}e.on("resize.start",function(u){s(u.context)}),e.on("resize.move",function(u){var f={x:u.dx,y:u.dy};a(u.context,f)}),e.on("resize.end",function(u){l(u.context)})}$m.prototype.canResize=function(e){var t=this._rules,n=ys(e,["newBounds","shape","delta","direction"]);return t.allowed("shape.resize",n)};$m.prototype.activate=function(e,t,n){var i=this._dragging,r,a;if(typeof n=="string"&&(n={direction:n}),r=Ne({shape:t},n),a=r.direction,!a)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");i.init(e,tC(t,a),"resize",{autoActivate:!0,cursor:Uj(a),data:{shape:t,context:r}})};$m.prototype.computeMinResizeBox=function(e){var t=e.shape,n=e.direction,i,r;return i=e.minDimensions||{width:J3,height:J3},r=F6(t,e.childrenBoxPadding),AO(n,t,i,r)};$m.$inject=["eventBus","rules","modeling","dragging"];function Hj(e,t){return e.x!==t.x||e.y!==t.y||e.width!==t.width||e.height!==t.height}function tC(e,t){var n=Ct(e),i=_t(e),r={x:n.x,y:n.y};return t.indexOf("n")!==-1?r.y=i.top:t.indexOf("s")!==-1&&(r.y=i.bottom),t.indexOf("e")!==-1?r.x=i.right:t.indexOf("w")!==-1&&(r.x=i.left),r}function Uj(e){var t="resize-";return e==="n"||e==="s"?t+"ns":e==="e"||e==="w"?t+"ew":e==="nw"||e==="se"?t+"nwse":t+"nesw"}var eS="djs-resizing",tS="resize-not-ok",qj=500;function nC(e,t,n){function i(a){var s=a.shape,l=a.newBounds,u=a.frame;u||(u=a.frame=n.addFrame(s,t.getActiveLayer()),t.addMarker(s,eS)),l.width>5&&ft(u,{x:l.x,width:l.width}),l.height>5&&ft(u,{y:l.y,height:l.height}),a.canExecute?fn(u).remove(tS):fn(u).add(tS)}function r(a){var s=a.shape,l=a.frame;l&&Qi(a.frame),t.removeMarker(s,eS)}e.on("resize.move",qj,function(a){i(a.context)}),e.on("resize.cleanup",function(a){r(a.context)})}nC.$inject=["eventBus","canvas","previewSupport"];var mv=-6,gv=8,vv=20,Yd="djs-resizer",Vj=["n","w","s","e","nw","ne","se","sw"];function Yu(e,t,n,i){this._resize=i,this._canvas=t;var r=this;e.on("selection.changed",function(a){var s=a.newSelection;r.removeResizers(),s.length===1&&ve(s,Ea(r.addResizer,r))}),e.on("shape.changed",function(a){var s=a.element;n.isSelected(s)&&(r.removeResizers(),r.addResizer(s))})}Yu.prototype.makeDraggable=function(e,t,n){var i=this._resize;function r(a){ju(a)&&i.activate(a,e,n)}Bt.bind(t,"mousedown",r),Bt.bind(t,"touchstart",r)};Yu.prototype._createResizer=function(e,t,n,i){var r=this._getResizersParent(),a=$j(i),s=yt("g");fn(s).add(Yd),fn(s).add(Yd+"-"+e.id),fn(s).add(Yd+"-"+i),Mt(r,s);var l=yt("rect");ft(l,{x:-gv/2+a.x,y:-gv/2+a.y,width:gv,height:gv}),fn(l).add(Yd+"-visual"),Mt(s,l);var u=yt("rect");return ft(u,{x:-vv/2+a.x,y:-vv/2+a.y,width:vv,height:vv}),fn(u).add(Yd+"-hit"),Mt(s,u),Cv(s,t,n),s};Yu.prototype.createResizer=function(e,t){var n=tC(e,t),i=this._createResizer(e,n.x,n.y,t);this.makeDraggable(e,i,t)};Yu.prototype.addResizer=function(e){var t=this;Ln(e)||!this._resize.canResize({shape:e})||ve(Vj,function(n){t.createResizer(e,n)})};Yu.prototype.removeResizers=function(){var e=this._getResizersParent();my(e)};Yu.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")};Yu.$inject=["eventBus","canvas","selection","resize"];function $j(e){var t={x:0,y:0};return e.indexOf("e")!==-1?t.x=-mv:e.indexOf("w")!==-1&&(t.x=mv),e.indexOf("s")!==-1?t.y=-mv:e.indexOf("n")!==-1&&(t.y=mv),t}const iC={__depends__:[_l,mc,Fp],__init__:["resize","resizePreview","resizeHandles"],resize:["type",$m],resizePreview:["type",nC],resizeHandles:["type",Yu]};var Gj=2e3;function Gm(e,t,n,i,r,a,s){this._bpmnFactory=t,this._canvas=n,this._modeling=r,this._textRenderer=s,i.registerProvider(this),e.on("element.dblclick",function(u){l(u.element,!0)}),e.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open","root.set","selection.changed"],function(){i.isActive()&&i.complete()}),e.on(["shape.remove","connection.remove"],Gj,function(u){i.isActive(u.element)&&i.cancel()}),e.on(["commandStack.changed"],function(u){i.isActive()&&i.cancel()}),e.on("directEditing.activate",function(u){a.removeResizers()}),e.on("create.end",500,function(u){var f=u.context,p=f.shape,d=u.context.canExecute,v=u.isTouch;v||d&&(f.hints&&f.hints.createElementsBehavior===!1||l(p))}),e.on("autoPlace.end",500,function(u){l(u.shape)});function l(u,f){(f||Wt(u,["bpmn:Task","bpmn:TextAnnotation","bpmn:Participant"])||n_(u))&&i.activate(u)}}Gm.$inject=["eventBus","bpmnFactory","canvas","directEditing","modeling","resizeHandles","textRenderer"];Gm.prototype.activate=function(e){var t=bs(e);if(t!==void 0){var n={text:t},i=this.getEditingBBox(e);Ne(n,i);var r={},a=n.style||{};return Ne(a,{backgroundColor:null,border:null}),(Wt(e,["bpmn:Task","bpmn:Participant","bpmn:Lane","bpmn:CallActivity"])||n_(e))&&Ne(r,{centerVertically:!0}),Zf(e)&&(Ne(r,{autoResize:!0}),Ne(a,{backgroundColor:"#ffffff",border:"1px solid #ccc"})),U(e,"bpmn:TextAnnotation")&&(Ne(r,{resizable:!0,autoResize:!0}),Ne(a,{backgroundColor:"#ffffff",border:"1px solid #ccc"})),Ne(n,{options:r,style:a}),n}};Gm.prototype.getEditingBBox=function(e){var t=this._canvas,n=e.label||e,i=t.getAbsoluteBBox(n),r={x:i.x+i.width/2,y:i.y+i.height/2},a={x:i.x,y:i.y},s=t.zoom(),l=this._textRenderer.getDefaultStyle(),u=this._textRenderer.getExternalStyle(),f=u.fontSize*s,p=u.lineHeight,d=l.fontSize*s,v=l.lineHeight,g={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};if(U(e,"bpmn:Lane")||Xj(e)){var w=hr(e),x=w?{width:i.height,height:30*s,x:i.x-i.height/2+15*s,y:r.y-30*s/2}:{width:i.width,height:30*s};Ne(a,x),Ne(g,{fontSize:d+"px",lineHeight:v,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px",transform:w?"rotate(-90deg)":null})}if(Wj(e)){var E=hr(e),R=E?{width:i.width,height:i.height}:{width:i.height,height:i.width,x:r.x-i.height/2,y:r.y-i.width/2};Ne(a,R),Ne(g,{fontSize:d+"px",lineHeight:v,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px",transform:E?null:"rotate(-90deg)"})}(Wt(e,["bpmn:Task","bpmn:CallActivity"])||n_(e))&&(Ne(a,{width:i.width,height:i.height}),Ne(g,{fontSize:d+"px",lineHeight:v,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px"})),Yj(e)&&(Ne(a,{width:i.width,x:i.x}),Ne(g,{fontSize:d+"px",lineHeight:v,paddingTop:7*s+"px",paddingBottom:7*s+"px",paddingLeft:5*s+"px",paddingRight:5*s+"px"}));var L=90*s,M=7*s,P=4*s;if(n.labelTarget&&(Ne(a,{width:L,height:i.height+M+P,x:r.x-L/2,y:i.y-M}),Ne(g,{fontSize:f+"px",lineHeight:p,paddingTop:M+"px",paddingBottom:P+"px"})),Zf(n)&&!xy(n)&&!pn(n)){var k=Lb(e),W=t.getAbsoluteBBox({x:k.x,y:k.y,width:0,height:0}),Q=f+M+P;Ne(a,{width:L,height:Q,x:W.x-L/2,y:W.y-Q/2}),Ne(g,{fontSize:f+"px",lineHeight:p,paddingTop:M+"px",paddingBottom:P+"px"})}return U(e,"bpmn:TextAnnotation")&&(Ne(a,{width:i.width,height:i.height,minWidth:30*s,minHeight:10*s}),Ne(g,{textAlign:"left",paddingTop:5*s+"px",paddingBottom:7*s+"px",paddingLeft:7*s+"px",paddingRight:5*s+"px",fontSize:d+"px",lineHeight:v})),{bounds:a,style:g}};Gm.prototype.update=function(e,t,n,i){var r,a;U(e,"bpmn:TextAnnotation")&&(a=this._canvas.getAbsoluteBBox(e),r={x:e.x,y:e.y,width:e.width/a.width*i.width,height:e.height/a.height*i.height}),Kj(t)&&(t=null),this._modeling.updateLabel(e,t,r)};function n_(e){return U(e,"bpmn:SubProcess")&&!Jt(e)}function Yj(e){return U(e,"bpmn:SubProcess")&&Jt(e)}function Wj(e){return U(e,"bpmn:Participant")&&!Jt(e)}function Xj(e){return U(e,"bpmn:Participant")&&Jt(e)}function Kj(e){return!e||!e.trim()}var nS="djs-element-hidden",iS="djs-label-hidden";function rC(e,t,n){var i=this,r=t.getDefaultLayer(),a,s,l;e.on("directEditing.activate",function(u){var f=u.active;if(a=f.element.label||f.element,U(a,"bpmn:TextAnnotation")){s=t.getAbsoluteBBox(a),l=yt("g");var p=n.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:a.width,containerHeight:a.height,position:{mx:0,my:0}}),d=i.path=yt("path");ft(d,{d:p,strokeWidth:2,stroke:Zj(a)}),Mt(l,d),Mt(r,l),Mr(l,a.x,a.y)}U(a,"bpmn:TextAnnotation")||a.labelTarget?t.addMarker(a,nS):(U(a,"bpmn:Task")||U(a,"bpmn:CallActivity")||U(a,"bpmn:SubProcess")||U(a,"bpmn:Participant")||U(a,"bpmn:Lane"))&&t.addMarker(a,iS)}),e.on("directEditing.resize",function(u){if(U(a,"bpmn:TextAnnotation")){var f=u.height,p=u.dy,d=Math.max(a.height/s.height*(f+p),0),v=n.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:a.width,containerHeight:d,position:{mx:0,my:0}});ft(i.path,{d:v})}}),e.on(["directEditing.complete","directEditing.cancel"],function(u){var f=u.active;f&&(t.removeMarker(f.element.label||f.element,nS),t.removeMarker(a,iS)),a=void 0,s=void 0,l&&(Qi(l),l=void 0)})}rC.$inject=["eventBus","canvas","pathMap"];function Zj(e,t){var n=hn(e);return n.get("stroke")||t||"black"}const Qj={__depends__:[Db,iC,GN],__init__:["labelEditingProvider","labelEditingPreview"],labelEditingProvider:["type",Gm],labelEditingPreview:["type",rC]};var Jj=new Am("tt");function eI(e){var t=Zt('<div class="djs-tooltip-container" />');return Hr(t,{position:"absolute",width:"0",height:"0"}),e.insertBefore(t,e.firstChild),t}function tI(e,t,n){Hr(e,{left:t+"px",top:n+"px"})}function i_(e,t){e.style.display=t===!1?"none":""}var aC="djs-tooltip",X1="."+aC;function Sa(e,t){this._eventBus=e,this._canvas=t,this._ids=Jj,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=eI(t.getContainer());var n=this;ja.bind(this._tooltipRoot,X1,"mousedown",function(i){i.stopPropagation()}),ja.bind(this._tooltipRoot,X1,"mouseover",function(i){n.trigger("mouseover",i)}),ja.bind(this._tooltipRoot,X1,"mouseout",function(i){n.trigger("mouseout",i)}),this._init()}Sa.$inject=["eventBus","canvas"];Sa.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var t=this._ids.next();return e=Ne({},this._tooltipDefaults,e,{id:t}),this._addTooltip(e),e.timeout&&this.setTimeout(e),t};Sa.prototype.trigger=function(e,t){var n=t.delegateTarget||t.target,i=this.get(Ur(n,"data-tooltip-id"));i&&(e==="mouseover"&&i.timeout&&this.clearTimeout(i),e==="mouseout"&&i.timeout&&(i.timeout=1e3,this.setTimeout(i)))};Sa.prototype.get=function(e){return typeof e!="string"&&(e=e.id),this._tooltips[e]};Sa.prototype.clearTimeout=function(e){if(e=this.get(e),!!e){var t=e.removeTimer;t&&(clearTimeout(t),e.removeTimer=null)}};Sa.prototype.setTimeout=function(e){if(e=this.get(e),!!e){this.clearTimeout(e);var t=this;e.removeTimer=setTimeout(function(){t.remove(e)},e.timeout)}};Sa.prototype.remove=function(e){var t=this.get(e);t&&(gl(t.html),gl(t.htmlContainer),delete t.htmlContainer,delete this._tooltips[t.id])};Sa.prototype.show=function(){i_(this._tooltipRoot)};Sa.prototype.hide=function(){i_(this._tooltipRoot,!1)};Sa.prototype._updateRoot=function(e){var t=e.scale||1,n=e.scale||1,i="matrix("+t+",0,0,"+n+","+-1*e.x*t+","+-1*e.y*n+")";this._tooltipRoot.style.transform=i,this._tooltipRoot.style["-ms-transform"]=i};Sa.prototype._addTooltip=function(e){var t=e.id,n=e.html,i,r=this._tooltipRoot;n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),Ia(n)&&(n=Zt(n)),i=Zt('<div data-tooltip-id="'+t+'" class="'+aC+'">'),Hr(i,{position:"absolute"}),i.appendChild(n),e.type&&gi(i).add("djs-tooltip-"+e.type),e.className&&gi(i).add(e.className),e.htmlContainer=i,r.appendChild(i),this._tooltips[t]=e,this._updateTooltip(e)};Sa.prototype._updateTooltip=function(e){var t=e.position,n=e.htmlContainer;tI(n,t.x,t.y)};Sa.prototype._updateTooltipVisibilty=function(e){ve(this._tooltips,function(t){var n=t.show,i=t.htmlContainer,r=!0;n&&((n.minZoom>e.scale||n.maxZoom<e.scale)&&(r=!1),i_(i,r))})};Sa.prototype._init=function(){var e=this;function t(n){e._updateRoot(n),e._updateTooltipVisibilty(n),e.show()}this._eventBus.on("canvas.viewbox.changing",function(n){e.hide()}),this._eventBus.on("canvas.viewbox.changed",function(n){t(n.viewbox)})};const nI={__init__:["tooltips"],tooltips:["type",Sa]};var iI="flow elements must be children of pools/participants",rI="Data object must be placed within a pool/participant.";function oC(e,t,n){function i(r,a,s){t.add({position:{x:r.x+5,y:r.y+5},type:"error",timeout:2e3,html:"<div>"+a+"</div>"})}e.on(["shape.move.rejected","create.rejected"],function(r){var a=r.context,s=a.shape,l=a.target;U(l,"bpmn:Collaboration")&&(U(s,"bpmn:FlowNode")?i(r,n(iI)):U(s,"bpmn:DataObjectReference")&&i(r,n(rI)))})}oC.$inject=["eventBus","tooltips","translate"];const aI={__depends__:[nI],__init__:["modelingFeedback"],modelingFeedback:["type",oC]};var oI=500,sI=1e3;function ch(e,t){this._eventBus=e,this.offset=5;var n=t.cls("djs-outline",["no-fill"]),i=this;function r(a){var s=yt("rect");return ft(s,Ne({x:0,y:0,rx:4,width:100,height:100},n)),s}e.on(["shape.added","shape.changed"],oI,function(a){var s=a.element,l=a.gfx,u=Pn(".djs-outline",l);u||(u=i.getOutline(s)||r(),Mt(l,u)),i.updateShapeOutline(u,s)}),e.on(["connection.added","connection.changed"],function(a){var s=a.element,l=a.gfx,u=Pn(".djs-outline",l);u||(u=r(),Mt(l,u)),i.updateConnectionOutline(u,s)})}ch.prototype.updateShapeOutline=function(e,t){var n=!1,i=this._getProviders();i.length&&ve(i,function(r){n=n||r.updateOutline(t,e)}),n||ft(e,{x:-this.offset,y:-this.offset,width:t.width+this.offset*2,height:t.height+this.offset*2})};ch.prototype.updateConnectionOutline=function(e,t){var n=Ji(t);ft(e,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+this.offset*2,height:n.height+this.offset*2})};ch.prototype.registerProvider=function(e,t){t||(t=e,e=sI),this._eventBus.on("outline.getProviders",e,function(n){n.providers.push(t)})};ch.prototype._getProviders=function(){var e=this._eventBus.createEvent({type:"outline.getProviders",providers:[]});return this._eventBus.fire(e),e.providers};ch.prototype.getOutline=function(e){var t,n=this._getProviders();return ve(n,function(i){fr(i.getOutline)&&(t=t||i.getOutline(e))}),t};ch.$inject=["eventBus","styles","elementRegistry"];var yv=6;function r_(e,t,n){this._canvas=t;var i=this;e.on("element.changed",function(r){n.isSelected(r.element)&&i._updateMultiSelectionOutline(n.get())}),e.on("selection.changed",function(r){var a=r.newSelection;i._updateMultiSelectionOutline(a)})}r_.prototype._updateMultiSelectionOutline=function(e){var t=this._canvas.getLayer("selectionOutline");my(t);var n=e.length>1,i=this._canvas.getContainer();if(fn(i)[n?"add":"remove"]("djs-multi-select"),!!n){var r=lI(Ji(e)),a=yt("rect");ft(a,Ne({rx:3},r)),fn(a).add("djs-selection-outline"),Mt(t,a)}};r_.$inject=["eventBus","canvas","selection"];function lI(e){return{x:e.x-yv,y:e.y-yv,width:e.width+yv*2,height:e.height+yv*2}}const sC={__depends__:[_s],__init__:["outline","multiSelectionOutline"],outline:["type",ch],multiSelectionOutline:["type",r_]};var cI=500,uI=1250,fI=1500,ly=Math.round;function hI(e){return{x:e.x+ly(e.width/2),y:e.y+ly(e.height/2)}}function lC(e,t,n,i,r){function a(l,u,f,p){return r.allowed("elements.move",{shapes:l,delta:u,position:f,target:p})}e.on("shape.move.start",fI,function(l){var u=l.context,f=l.shape,p=i.get().slice();p.indexOf(f)===-1&&(p=[f]),p=pI(p),Ne(u,{shapes:p,validatedShapes:p,shape:f})}),e.on("shape.move.start",uI,function(l){var u=l.context,f=u.validatedShapes,p;if(p=u.canExecute=a(f),!p)return!1}),e.on("shape.move.move",cI,function(l){var u=l.context,f=u.validatedShapes,p=l.hover,d={x:l.dx,y:l.dy},v={x:l.x,y:l.y},g;if(g=a(f,d,v,p),u.delta=d,u.canExecute=g,g===null){u.target=null;return}u.target=p}),e.on("shape.move.end",function(l){var u=l.context,f=u.delta,p=u.canExecute,d=p==="attach",v=u.shapes;if(p===!1)return!1;f.x=ly(f.x),f.y=ly(f.y),!(f.x===0&&f.y===0)&&n.moveElements(v,f,u.target,{primaryShape:u.shape,attach:d})}),e.on("element.mousedown",function(l){if(ju(l)){var u=Lp(l);if(!u)throw new Error("must supply DOM mousedown event");return s(u,l.element)}});function s(l,u,f,p){if(_r(f)&&(p=f,f=!1),!(u.waypoints||!u.parent)&&!fn(l.target).has("djs-hit-no-move")){var d=hI(u);return t.init(l,d,"shape.move",{cursor:"grabbing",autoActivate:f,data:{shape:u,context:p||{}}}),!0}}this.start=s}lC.$inject=["eventBus","dragging","modeling","selection","rules"];function pI(e){var t=Lu(e,"id");return Yt(e,function(n){for(;n=n.parent;)if(t[n.id])return!1;return!0})}var rS=499,K1="djs-dragging",aS="drop-ok",oS="drop-not-ok",sS="new-parent",lS="attach-ok";function cC(e,t,n,i){function r(u){var f=a(u),p=dI(f);return p}function a(u){var f=ym(u,!0),p=f.flatMap(g=>(g.incoming||[]).concat(g.outgoing||[])),d=f.concat(p),v=[...new Set(d)];return v}function s(u,f){[lS,aS,oS,sS].forEach(function(p){p===f?t.addMarker(u,p):t.removeMarker(u,p)})}function l(u,f,p){i.addDragger(f,u.dragGroup),p&&t.addMarker(f,K1),u.allDraggedElements?u.allDraggedElements.push(f):u.allDraggedElements=[f]}e.on("shape.move.start",rS,function(u){var f=u.context,p=f.shapes,d=f.allDraggedElements,v=r(p);if(!f.dragGroup){var g=yt("g");ft(g,n.cls("djs-drag-group",["no-events"]));var w=t.getActiveLayer();Mt(w,g),f.dragGroup=g}v.forEach(function(x){i.addDragger(x,f.dragGroup)}),d?d=mb([d,a(p)]):d=a(p),ve(d,function(x){t.addMarker(x,K1)}),f.allDraggedElements=d,f.differentParents=mI(p)}),e.on("shape.move.move",rS,function(u){var f=u.context,p=f.dragGroup,d=f.target,v=f.shape.parent,g=f.canExecute;d&&(g==="attach"?s(d,lS):f.canExecute&&v&&d.id!==v.id?s(d,sS):s(d,f.canExecute?aS:oS)),Mr(p,u.dx,u.dy)}),e.on(["shape.move.out","shape.move.cleanup"],function(u){var f=u.context,p=f.target;p&&s(p,null)}),e.on("shape.move.cleanup",function(u){var f=u.context,p=f.allDraggedElements,d=f.dragGroup;ve(p,function(v){t.removeMarker(v,K1)}),d&&Qi(d)}),this.makeDraggable=l}cC.$inject=["eventBus","canvas","styles","previewSupport"];function dI(e){var t=Yt(e,function(n){return Ln(n)?mn(e,gs({id:n.source.id}))&&mn(e,gs({id:n.target.id})):!0});return t}function mI(e){return CT(Lu(e,function(t){return t.parent&&t.parent.id}))!==1}const gI={__depends__:[Cy,_s,sC,_l,mc,Fp],__init__:["move","movePreview"],move:["type",lC],movePreview:["type",cC]};var uC=".djs-palette-toggle",fC=".entry",vI=uC+", "+fC,Z2="djs-palette-",yI="shown",Q2="open",cS="two-column",bI=1e3;function ji(e,t){this._eventBus=e,this._canvas=t;var n=this;e.on("tool-manager.update",function(i){var r=i.tool;n.updateToolHighlight(r)}),e.on("i18n.changed",function(){n._update()}),e.on("diagram.init",function(){n._diagramInitialized=!0,n._rebuild()})}ji.$inject=["eventBus","canvas"];ji.prototype.registerProvider=function(e,t){t||(t=e,e=bI),this._eventBus.on("palette.getProviders",e,function(n){n.providers.push(t)}),this._rebuild()};ji.prototype.getEntries=function(){var e=this._getProviders();return e.reduce(wI,{})};ji.prototype._rebuild=function(){if(this._diagramInitialized){var e=this._getProviders();e.length&&(this._container||this._init(),this._update())}};ji.prototype._init=function(){var e=this,t=this._eventBus,n=this._getParentContainer(),i=this._container=Zt(ji.HTML_MARKUP);n.appendChild(i),gi(n).add(Z2+yI),ja.bind(i,vI,"click",function(r){var a=r.delegateTarget;if(x4(a,uC))return e.toggle();e.trigger("click",r)}),Bt.bind(i,"mousedown",function(r){r.stopPropagation()}),ja.bind(i,fC,"dragstart",function(r){e.trigger("dragstart",r)}),t.on("canvas.resized",this._layoutChanged,this),t.fire("palette.create",{container:i})};ji.prototype._getProviders=function(e){var t=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(t),t.providers};ji.prototype._toggleState=function(e){e=e||{};var t=this._getParentContainer(),n=this._container,i=this._eventBus,r,a=gi(n),s=gi(t);"twoColumn"in e?r=e.twoColumn:r=this._needsCollapse(t.clientHeight,this._entries||{}),a.toggle(cS,r),s.toggle(Z2+cS,r),"open"in e&&(a.toggle(Q2,e.open),s.toggle(Z2+Q2,e.open)),i.fire("palette.changed",{twoColumn:r,open:this.isOpen()})};ji.prototype._update=function(){var e=Pn(".djs-palette-entries",this._container),t=this._entries=this.getEntries();dy(e),ve(t,function(n,i){var r=n.group||"default",a=Pn("[data-group="+lm(r)+"]",e);a||(a=Zt('<div class="group"></div>'),Ur(a,"data-group",r),e.appendChild(a));var s=n.html||(n.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),l=Zt(s);if(a.appendChild(l),!n.separator&&(Ur(l,"data-action",i),n.title&&Ur(l,"title",n.title),n.className&&_I(l,n.className),n.imageUrl)){var u=Zt("<img>");Ur(u,"src",n.imageUrl),l.appendChild(u)}}),this.open()};ji.prototype.trigger=function(e,t,n){var i,r,a=t.delegateTarget||t.target;return a?(i=Ur(a,"data-action"),r=t.originalEvent||t,this.triggerEntry(i,e,r,n)):t.preventDefault()};ji.prototype.triggerEntry=function(e,t,n,i){var r=this._entries,a,s;if(a=r[e],!!a&&(s=a.action,this._eventBus.fire("palette.trigger",{entry:a,event:n})!==!1)){if(fr(s)){if(t==="click")return s(n,i)}else if(s[t])return s[t](n,i);n.preventDefault()}};ji.prototype._layoutChanged=function(){this._toggleState({})};ji.prototype._needsCollapse=function(e,t){var n=50,i=Object.keys(t).length*46;return e<i+n};ji.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})};ji.prototype.open=function(){this._toggleState({open:!0})};ji.prototype.toggle=function(){this.isOpen()?this.close():this.open()};ji.prototype.isActiveTool=function(e){return e&&this._activeTool===e};ji.prototype.updateToolHighlight=function(e){var t,n;this._toolsContainer||(t=Pn(".djs-palette-entries",this._container),this._toolsContainer=Pn("[data-group=tools]",t)),n=this._toolsContainer,ve(n.children,function(i){var r=i.getAttribute("data-action");if(r){var a=gi(i);r=r.replace("-tool",""),a.contains("entry")&&r===e?a.add("highlighted-entry"):a.remove("highlighted-entry")}})};ji.prototype.isOpen=function(){return gi(this._container).has(Q2)};ji.prototype._getParentContainer=function(){return this._canvas.getContainer()};ji.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function _I(e,t){var n=gi(e),i=Tt(t)?t:t.split(/\s+/g);i.forEach(function(r){n.add(r)})}function wI(e,t){var n=t.getPaletteEntries();return fr(n)?n(e):(ve(n,function(i,r){e[r]=i}),e)}const xI={__init__:["palette"],palette:["type",ji]};var hC="crosshair";function uh(e,t,n,i,r,a,s){this._selection=r,this._dragging=n,this._mouse=s;var l=this,u={create:function(f){var p=t.getActiveLayer(),d;d=f.frame=yt("rect"),ft(d,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),Mt(p,d)},update:function(f){var p=f.frame,d=f.bbox;ft(p,{x:d.x,y:d.y,width:d.width,height:d.height})},remove:function(f){f.frame&&Qi(f.frame)}};a.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),e.on("lasso.selection.end",function(f){var p=f.originalEvent.target;!f.hover&&!(p instanceof SVGElement)||e.once("lasso.selection.ended",function(){l.activateLasso(f.originalEvent,!0)})}),e.on("lasso.end",0,function(f){var p=f.context,d=Z1(f),v=i.filter(function(w){return w}),g=Qv(f);l.select(v,d,g?p.selection:[])}),e.on("lasso.start",function(f){var p=f.context;p.bbox=Z1(f),u.create(p),p.selection=r.get()}),e.on("lasso.move",function(f){var p=f.context;p.bbox=Z1(f),u.update(p)}),e.on("lasso.cleanup",function(f){var p=f.context;u.remove(p)}),e.on("element.mousedown",1500,function(f){if(Qv(f))return l.activateLasso(f.originalEvent),!0})}uh.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager","mouse"];uh.prototype.activateLasso=function(e,t){this._dragging.init(e,"lasso",{autoActivate:t,cursor:hC,data:{context:{}}})};uh.prototype.activateSelection=function(e,t){this._dragging.init(e,"lasso.selection",{trapClick:!1,autoActivate:t,cursor:hC,data:{context:{}},keepSelection:!0})};uh.prototype.select=function(e,t,n=[]){var i=P4(e,t);this._selection.select([...n,...hy(i)])};uh.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateSelection(e,!!e)};uh.prototype.isActive=function(){var e=this._dragging.context();return e&&/^lasso/.test(e.prefix)};function Z1(e){var t={x:e.x-e.dx,y:e.y-e.dy},n={x:e.x,y:e.y},i;return t.x<=n.x&&t.y<n.y||t.x<n.x&&t.y<=n.y?i={x:t.x,y:t.y,width:n.x-t.x,height:n.y-t.y}:t.x>=n.x&&t.y<n.y||t.x>n.x&&t.y<=n.y?i={x:n.x,y:t.y,width:t.x-n.x,height:n.y-t.y}:t.x<=n.x&&t.y>n.y||t.x<n.x&&t.y>=n.y?i={x:t.x,y:n.y,width:n.x-t.x,height:t.y-n.y}:t.x>=n.x&&t.y>n.y||t.x>n.x&&t.y>=n.y?i={x:n.x,y:n.y,width:t.x-n.x,height:t.y-n.y}:i={x:n.x,y:n.y,width:0,height:0},i}const EI={__depends__:[Wy,Mm],__init__:["lassoTool"],lassoTool:["type",uh]};var Q1=1500,pC="grab";function zp(e,t,n,i,r,a){this._dragging=n,this._mouse=a;var s=this,l=i.get("keyboard",!1);r.registerTool("hand",{tool:"hand",dragging:"hand.move"}),e.on("element.mousedown",Q1,function(u){if(cm(u))return s.activateMove(u.originalEvent,!0),!1}),l&&l.addListener(Q1,function(u){if(!(!uS(u.keyEvent)||s.isActive())){var f=s._mouse.getLastMoveEvent();s.activateMove(f,!!f)}},"keyboard.keydown"),l&&l.addListener(Q1,function(u){!uS(u.keyEvent)||!s.isActive()||s.toggle()},"keyboard.keyup"),e.on("hand.end",function(u){var f=u.originalEvent.target;if(!u.hover&&!(f instanceof SVGElement))return!1;e.once("hand.ended",function(){s.activateMove(u.originalEvent,{reactivate:!0})})}),e.on("hand.move.move",function(u){var f=t.viewbox().scale;t.scroll({dx:u.dx*f,dy:u.dy*f})}),e.on("hand.move.end",function(u){var f=u.context,p=f.reactivate;return!cm(u)&&p&&e.once("hand.move.ended",function(d){s.activateHand(d.originalEvent,!0,!0)}),!1})}zp.$inject=["eventBus","canvas","dragging","injector","toolManager","mouse"];zp.prototype.activateMove=function(e,t,n){typeof t=="object"&&(n=t,t=!1),this._dragging.init(e,"hand.move",{autoActivate:t,cursor:pC,data:{context:n||{}}})};zp.prototype.activateHand=function(e,t,n){this._dragging.init(e,"hand",{trapClick:!1,autoActivate:t,cursor:pC,data:{context:{reactivate:n}}})};zp.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();this.activateHand(e,!!e)};zp.prototype.isActive=function(){var e=this._dragging.context();return e?/^(hand|hand\.move)$/.test(e.prefix):!1};function uS(e){return yr("Space",e)}const SI={__depends__:[Wy,Mm],__init__:["handTool"],handTool:["type",zp]};var fS="connect-ok",hS="connect-not-ok";function Hp(e,t,n,i,r,a,s){var l=this;this._dragging=t,this._rules=a,this._mouse=s,r.registerTool("global-connect",{tool:"global-connect",dragging:"global-connect.drag"}),e.on("global-connect.hover",function(u){var f=u.context,p=u.hover,d=f.canStartConnect=l.canStartConnect(p);d!==null&&(f.startTarget=p,i.addMarker(p,d?fS:hS))}),e.on(["global-connect.out","global-connect.cleanup"],function(u){var f=u.context.startTarget,p=u.context.canStartConnect;f&&i.removeMarker(f,p?fS:hS)}),e.on(["global-connect.ended"],function(u){var f=u.context,p=f.startTarget,d={x:u.x,y:u.y},v=l.canStartConnect(p);if(v)return e.once("element.out",function(){e.once(["connect.ended","connect.canceled"],function(){e.fire("global-connect.drag.ended")}),n.start(null,p,d)}),!1})}Hp.$inject=["eventBus","dragging","connect","canvas","toolManager","rules","mouse"];Hp.prototype.start=function(e,t){this._dragging.init(e,"global-connect",{autoActivate:t,trapClick:!1,data:{context:{}}})};Hp.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var e=this._mouse.getLastMoveEvent();return this.start(e,!!e)};Hp.prototype.isActive=function(){var e=this._dragging.context();return e&&/^global-connect/.test(e.prefix)};Hp.prototype.canStartConnect=function(e){return this._rules.allowed("connection.start",{source:e})};const AI={__depends__:[Zb,_l,mc,Wy,Mm],globalConnect:["type",Hp]};function a_(e,t,n,i,r,a,s,l){this._palette=e,this._create=t,this._elementFactory=n,this._spaceTool=i,this._lassoTool=r,this._handTool=a,this._globalConnect=s,this._translate=l,e.registerProvider(this)}a_.$inject=["palette","create","elementFactory","spaceTool","lassoTool","handTool","globalConnect","translate"];a_.prototype.getPaletteEntries=function(){var e={},t=this._create,n=this._elementFactory,i=this._spaceTool,r=this._lassoTool,a=this._handTool,s=this._globalConnect,l=this._translate;function u(d,v,g,w,x){function E(R){var L=n.createShape(Ne({type:d},x));t.start(R,L)}return{group:v,className:g,title:w,action:{dragstart:E,click:E}}}function f(d){var v=n.createShape({type:"bpmn:SubProcess",x:0,y:0,isExpanded:!0}),g=n.createShape({type:"bpmn:StartEvent",x:40,y:82,parent:v});t.start(d,[v,g],{hints:{autoSelect:[v]}})}function p(d){t.start(d,n.createParticipantShape())}return Ne(e,{"hand-tool":{group:"tools",className:"bpmn-icon-hand-tool",title:l("Activate hand tool"),action:{click:function(d){a.activateHand(d)}}},"lasso-tool":{group:"tools",className:"bpmn-icon-lasso-tool",title:l("Activate lasso tool"),action:{click:function(d){r.activateSelection(d)}}},"space-tool":{group:"tools",className:"bpmn-icon-space-tool",title:l("Activate create/remove space tool"),action:{click:function(d){i.activateSelection(d)}}},"global-connect-tool":{group:"tools",className:"bpmn-icon-connection-multi",title:l("Activate global connect tool"),action:{click:function(d){s.start(d)}}},"tool-separator":{group:"tools",separator:!0},"create.start-event":u("bpmn:StartEvent","event","bpmn-icon-start-event-none",l("Create start event")),"create.intermediate-event":u("bpmn:IntermediateThrowEvent","event","bpmn-icon-intermediate-event-none",l("Create intermediate/boundary event")),"create.end-event":u("bpmn:EndEvent","event","bpmn-icon-end-event-none",l("Create end event")),"create.exclusive-gateway":u("bpmn:ExclusiveGateway","gateway","bpmn-icon-gateway-none",l("Create gateway")),"create.task":u("bpmn:Task","activity","bpmn-icon-task",l("Create task")),"create.data-object":u("bpmn:DataObjectReference","data-object","bpmn-icon-data-object",l("Create data object reference")),"create.data-store":u("bpmn:DataStoreReference","data-store","bpmn-icon-data-store",l("Create data store reference")),"create.subprocess-expanded":{group:"activity",className:"bpmn-icon-subprocess-expanded",title:l("Create expanded sub-process"),action:{dragstart:f,click:f}},"create.participant-expanded":{group:"collaboration",className:"bpmn-icon-participant",title:l("Create pool/participant"),action:{dragstart:p,click:p}},"create.group":u("bpmn:Group","artifact","bpmn-icon-group",l("Create group"))}),e};const NI={__depends__:[xI,Yy,TN,EI,SI,AI,Sy],__init__:["paletteProvider"],paletteProvider:["type",a_]};var CI=250;function o_(e,t,n,i,r){tt.call(this,e);function a(l){var u=l.canExecute.replacements;ve(u,function(f){var p=f.oldElementId,d={type:f.newElementType};if(!l.visualReplacements[p]){var v=t.get(p);Ne(d,{x:v.x,y:v.y});var g=n.createShape(d);i.addShape(g,v.parent);var w=Pn('[data-element-id="'+lm(v.id)+'"]',l.dragGroup);w&&ft(w,{display:"none"});var x=r.addDragger(g,l.dragGroup);l.visualReplacements[p]=x,i.removeShape(g)}})}function s(l){var u=l.visualReplacements;ve(u,function(f,p){var d=Pn('[data-element-id="'+lm(p)+'"]',l.dragGroup);d&&ft(d,{display:"inline"}),f.remove(),u[p]&&delete u[p]})}e.on("shape.move.move",CI,function(l){var u=l.context,f=u.canExecute;u.visualReplacements||(u.visualReplacements={}),f&&f.replacements?a(u):s(u)})}o_.$inject=["eventBus","elementRegistry","elementFactory","canvas","previewSupport"];dt(o_,tt);const TI={__depends__:[Fp],__init__:["bpmnReplacePreview"],bpmnReplacePreview:["type",o_]};var RI=1250,J1=40,MI=20,PI=10,pS=20,dC=["x","y"],LI=Math.abs;function mC(e){e.on(["connect.hover","connect.move","connect.end"],RI,function(t){var n=t.context,i=n.canExecute,r=n.start,a=n.hover,s=n.source,l=n.target;t.originalEvent&&Mo(t.originalEvent)||(n.initialConnectionStart||(n.initialConnectionStart=n.connectionStart),i&&a&&DI(t,a,jI(a)),a&&kI(i,["bpmn:Association","bpmn:DataInputAssociation","bpmn:DataOutputAssociation","bpmn:SequenceFlow"])?(n.connectionStart=Ro(r),Wt(a,["bpmn:Event","bpmn:Gateway"])&&dS(t,Ro(a)),Wt(a,["bpmn:Task","bpmn:SubProcess"])&&OI(t,a),U(s,"bpmn:BoundaryEvent")&&l===s.host&&BI(t)):gC(i,"bpmn:MessageFlow")?(U(r,"bpmn:Event")&&(n.connectionStart=Ro(r)),U(a,"bpmn:Event")&&dS(t,Ro(a))):n.connectionStart=n.initialConnectionStart)})}mC.$inject=["eventBus"];function DI(e,t,n){dC.forEach(function(i){var r=vC(i,t);e[i]<t[i]+n?Bi(e,i,t[i]+n):e[i]>t[i]+r-n&&Bi(e,i,t[i]+r-n)})}function OI(e,t){var n=Ro(t);dC.forEach(function(i){II(e,t,i)&&Bi(e,i,n[i])})}function BI(e){var t=e.context,n=t.source,i=t.target;if(!FI(t)){var r=Ro(n),a=$r(r,i,-10),s=[];/top|bottom/.test(a)&&s.push("x"),/left|right/.test(a)&&s.push("y"),s.forEach(function(l){var u=e[l],f;LI(u-r[l])<J1&&(u>r[l]?f=r[l]+J1:f=r[l]-J1,Bi(e,l,f))})}}function dS(e,t){Bi(e,"x",t.x),Bi(e,"y",t.y)}function gC(e,t){return e&&e.type===t}function kI(e,t){return Pu(t,function(n){return gC(e,n)})}function vC(e,t){return e==="x"?t.width:t.height}function jI(e){return U(e,"bpmn:Task")?PI:MI}function II(e,t,n){return e[n]>t[n]+pS&&e[n]<t[n]+vC(n,t)-pS}function FI(e){var t=e.hover,n=e.source;return t&&n&&t===n}function Wu(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}Wu.prototype.getSnapOrigin=function(e){return this._snapOrigins[e]};Wu.prototype.setSnapOrigin=function(e,t){this._snapOrigins[e]=t,this._snapLocations.indexOf(e)===-1&&this._snapLocations.push(e)};Wu.prototype.addDefaultSnap=function(e,t){var n=this._defaultSnaps[e];n||(n=this._defaultSnaps[e]=[]),n.push(t)};Wu.prototype.getSnapLocations=function(){return this._snapLocations};Wu.prototype.setSnapLocations=function(e){this._snapLocations=e};Wu.prototype.pointsForTarget=function(e){var t=e.id||e,n=this._targets[t];return n||(n=this._targets[t]=new h0,n.initDefaults(this._defaultSnaps)),n};function h0(){this._snapValues={}}h0.prototype.add=function(e,t){var n=this._snapValues[e];n||(n=this._snapValues[e]={x:[],y:[]}),n.x.indexOf(t.x)===-1&&n.x.push(t.x),n.y.indexOf(t.y)===-1&&n.y.push(t.y)};h0.prototype.snap=function(e,t,n,i){var r=this._snapValues[t];return r&&YD(e[n],r[n],i)};h0.prototype.initDefaults=function(e){var t=this;ve(e||{},function(n,i){ve(n,function(r){t.add(i,r)})})};var zI=1250;function wl(e,t,n){var i=this;this._elementRegistry=e,t.on(["create.start","shape.move.start"],function(r){i.initSnap(r)}),t.on(["create.move","create.end","shape.move.move","shape.move.end"],zI,function(r){var a=r.context,s=a.shape,l=a.snapContext,u=a.target;if(!(r.originalEvent&&Mo(r.originalEvent))&&!(Sp(r)||!u)){var f=l.pointsForTarget(u);f.initialized||(f=i.addSnapTargetPoints(f,s,u),f.initialized=!0),n.snap(r,f)}}),t.on(["create.cleanup","shape.move.cleanup"],function(){n.hide()})}wl.$inject=["elementRegistry","eventBus","snapping"];wl.prototype.initSnap=function(e){var t=this._elementRegistry,n=e.context,i=n.shape,r=n.snapContext;r||(r=n.snapContext=new Wu);var a;t.get(i.id)?a=Ro(i,e):a={x:e.x+Ro(i).x,y:e.y+Ro(i).y};var s={x:a.x-i.width/2,y:a.y-i.height/2},l={x:a.x+i.width/2,y:a.y+i.height/2};return r.setSnapOrigin("mid",{x:a.x-e.x,y:a.y-e.y}),pn(i)||(r.setSnapOrigin("top-left",{x:s.x-e.x,y:s.y-e.y}),r.setSnapOrigin("bottom-right",{x:l.x-e.x,y:l.y-e.y})),r};wl.prototype.addSnapTargetPoints=function(e,t,n){var i=this.getSnapTargets(t,n);return ve(i,function(r){if(pn(r)){pn(t)&&e.add("mid",Ro(r));return}if(Ln(r)){if(r.waypoints.length<3)return;var a=r.waypoints.slice(1,-1);ve(a,function(s){e.add("mid",s)});return}e.add("mid",Ro(r))}),!Nt(t.x)||!Nt(t.y)||this._elementRegistry.get(t.id)&&e.add("mid",Ro(t)),e};wl.prototype.getSnapTargets=function(e,t){return P6(t).filter(function(n){return!HI(n)})};function HI(e){return!!e.hidden}var mS=1500;function Up(e,t){t.invoke(wl,this),e.on(["create.move","create.end"],mS,$I),e.on(["create.move","create.end","shape.move.move","shape.move.end"],mS,function(n){var i=n.context,r=i.canExecute,a=i.target,s=r&&(r==="attach"||r.attach);s&&!Sp(n)&&UI(n,a)})}dt(Up,wl);Up.$inject=["eventBus","injector"];Up.prototype.initSnap=function(e){var t=wl.prototype.initSnap.call(this,e),n=e.shape,i=!!this._elementRegistry.get(n.id);return ve(n.outgoing,function(r){var a=r.waypoints[0];a=a.original||a,t.setSnapOrigin(r.id+"-docking",vS(a,i,e))}),ve(n.incoming,function(r){var a=r.waypoints[r.waypoints.length-1];a=a.original||a,t.setSnapOrigin(r.id+"-docking",vS(a,i,e))}),U(n,"bpmn:Participant")&&t.setSnapLocations(["top-left","bottom-right","mid"]),t};Up.prototype.addSnapTargetPoints=function(e,t,n){wl.prototype.addSnapTargetPoints.call(this,e,t,n);var i=this.getSnapTargets(t,n);ve(i,function(a){(VI(a)||qI([t,a],"bpmn:TextAnnotation"))&&(e.add("top-left",R6(a)),e.add("bottom-right",M6(a)))});var r=this._elementRegistry;return ve(t.incoming,function(a){if(r.get(t.id)){gS(i,a.source)||e.add("mid",Ct(a.source));var s=a.waypoints[0];e.add(a.id+"-docking",s.original||s)}}),ve(t.outgoing,function(a){if(r.get(t.id)){gS(i,a.target)||e.add("mid",Ct(a.target));var s=a.waypoints[a.waypoints.length-1];e.add(a.id+"-docking",s.original||s)}}),U(n,"bpmn:SequenceFlow")&&(e=this.addSnapTargetPoints(e,t,n.parent)),e};Up.prototype.getSnapTargets=function(e,t){return wl.prototype.getSnapTargets.call(this,e,t).filter(function(n){return!U(n,"bpmn:Lane")})};function UI(e,t){var n=_t(t),i=iN(e,t),r=e.context,a=r.shape,s;a.parent?s={x:0,y:0}:s=Ct(a),/top/.test(i)?Bi(e,"y",n.top-s.y):/bottom/.test(i)&&Bi(e,"y",n.bottom-s.y),/left/.test(i)?Bi(e,"x",n.left-s.x):/right/.test(i)&&Bi(e,"x",n.right-s.x)}function qI(e,t){return e.every(function(n){return U(n,t)})}function VI(e){return U(e,"bpmn:SubProcess")&&Jt(e)?!0:U(e,"bpmn:Participant")}function $I(e){var t=e.context,n=t.createConstraints;if(n){var i=n.top,r=n.right,a=n.bottom,s=n.left;(s&&s>=e.x||r&&r<=e.x)&&Bi(e,"x",e.x),(i&&i>=e.y||a&&a<=e.y)&&Bi(e,"y",e.y)}}function gS(e,t){return e.indexOf(t)!==-1}function vS(e,t,n){return t?{x:e.x-n.x,y:e.y-n.y}:{x:e.x,y:e.y}}var GI=1250;function Ym(e,t){var n=this;e.on(["resize.start"],function(i){n.initSnap(i)}),e.on(["resize.move","resize.end"],GI,function(i){var r=i.context,a=r.shape,s=a.parent,l=r.direction,u=r.snapContext;if(!(i.originalEvent&&Mo(i.originalEvent))&&!Sp(i)){var f=u.pointsForTarget(s);f.initialized||(f=n.addSnapTargetPoints(f,a,s,l),f.initialized=!0),XI(l)&&Bi(i,"x",i.x),KI(l)&&Bi(i,"y",i.y),t.snap(i,f)}}),e.on(["resize.cleanup"],function(){t.hide()})}Ym.prototype.initSnap=function(e){var t=e.context,n=t.shape,i=t.direction,r=t.snapContext;r||(r=t.snapContext=new Wu);var a=yC(n,i);return r.setSnapOrigin("corner",{x:a.x-e.x,y:a.y-e.y}),r};Ym.prototype.addSnapTargetPoints=function(e,t,n,i){var r=this.getSnapTargets(t,n);return ve(r,function(a){e.add("corner",M6(a)),e.add("corner",R6(a))}),e.add("corner",yC(t,i)),e};Ym.$inject=["eventBus","snapping"];Ym.prototype.getSnapTargets=function(e,t){return P6(t).filter(function(n){return!YI(n,e)&&!Ln(n)&&!WI(n)&&!pn(n)})};function yC(e,t){var n=Ct(e),i=_t(e),r={x:n.x,y:n.y};return t.indexOf("n")!==-1?r.y=i.top:t.indexOf("s")!==-1&&(r.y=i.bottom),t.indexOf("e")!==-1?r.x=i.right:t.indexOf("w")!==-1&&(r.x=i.left),r}function YI(e,t){return e.host===t}function WI(e){return!!e.hidden}function XI(e){return e==="n"||e==="s"}function KI(e){return e==="e"||e==="w"}var ZI=7,QI=1e3;function Xu(e){this._canvas=e,this._asyncHide=y4(Ea(this.hide,this),QI)}Xu.$inject=["canvas"];Xu.prototype.snap=function(e,t){var n=e.context,i=n.snapContext,r=i.getSnapLocations(),a={x:Sp(e,"x"),y:Sp(e,"y")};ve(r,function(s){var l=i.getSnapOrigin(s),u={x:e.x+l.x,y:e.y+l.y};if(ve(["x","y"],function(f){var p;a[f]||(p=t.snap(u,s,f,ZI),p!==void 0&&(a[f]={value:p,originValue:p-l[f]}))}),a.x&&a.y)return!1}),this.showSnapLine("vertical",a.x&&a.x.value),this.showSnapLine("horizontal",a.y&&a.y.value),ve(["x","y"],function(s){var l=a[s];_r(l)&&Bi(e,s,l.originValue)})};Xu.prototype._createLine=function(e){var t=this._canvas.getLayer("snap"),n=yt("path");return ft(n,{d:"M0,0 L0,0"}),fn(n).add("djs-snap-line"),Mt(t,n),{update:function(i){Nt(i)?e==="horizontal"?ft(n,{d:"M-100000,"+i+" L+100000,"+i,display:""}):ft(n,{d:"M "+i+",-100000 L "+i+", +100000",display:""}):ft(n,{display:"none"})}}};Xu.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}};Xu.prototype.showSnapLine=function(e,t){var n=this.getSnapLine(e);n&&n.update(t),this._asyncHide()};Xu.prototype.getSnapLine=function(e){return this._snapLines||this._createSnapLines(),this._snapLines[e]};Xu.prototype.hide=function(){ve(this._snapLines,function(e){e.update()})};const JI={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",wl],resizeSnapping:["type",Ym],snapping:["type",Xu]},eF={__depends__:[JI],__init__:["connectSnapping","createMoveSnapping"],connectSnapping:["type",mC],createMoveSnapping:["type",Up]};var bC=300;function Dt(e,t,n,i){this._open=!1,this._results={},this._eventMaps=[],this._cachedRootElement=null,this._cachedSelection=null,this._cachedViewbox=null,this._canvas=e,this._eventBus=t,this._selection=n,this._translate=i,this._container=this._getBoxHtml(),this._searchInput=Pn(Dt.INPUT_SELECTOR,this._container),this._resultsContainer=Pn(Dt.RESULTS_CONTAINER_SELECTOR,this._container),this._canvas.getContainer().appendChild(this._container),t.on(["canvas.destroy","diagram.destroy","drag.init","elements.changed"],this.close,this)}Dt.$inject=["canvas","eventBus","selection","translate"];Dt.prototype._bindEvents=function(){var e=this;function t(n,i,r,a){e._eventMaps.push({el:n,type:r,listener:ja.bind(n,i,r,a)})}t(document,"html","click",function(n){e.close(!1)}),t(this._container,Dt.INPUT_SELECTOR,"click",function(n){n.stopPropagation(),n.delegateTarget.focus()}),t(this._container,Dt.RESULT_SELECTOR,"mouseover",function(n){n.stopPropagation(),e._scrollToNode(n.delegateTarget),e._preselect(n.delegateTarget)}),t(this._container,Dt.RESULT_SELECTOR,"click",function(n){n.stopPropagation(),e._select(n.delegateTarget)}),t(this._container,Dt.INPUT_SELECTOR,"keydown",function(n){yr("ArrowUp",n)&&n.preventDefault(),yr("ArrowDown",n)&&n.preventDefault()}),t(this._container,Dt.INPUT_SELECTOR,"keyup",function(n){if(yr("Escape",n))return e.close();if(yr("Enter",n)){var i=e._getCurrentResult();return i?e._select(i):e.close(!1)}if(yr("ArrowUp",n))return e._scrollToDirection(!0);if(yr("ArrowDown",n))return e._scrollToDirection();yr(["ArrowLeft","ArrowRight"],n)||e._search(n.delegateTarget.value)})};Dt.prototype._unbindEvents=function(){this._eventMaps.forEach(function(e){ja.unbind(e.el,e.type,e.listener)})};Dt.prototype._search=function(e){var t=this;if(this._clearResults(),!!e.trim()){var n=this._searchProvider.find(e);if(n=n.filter(function(r){return!t._canvas.getRootElements().includes(r.element)}),!n.length){this._selection.select(null);return}n.forEach(function(r){var a=r.element.id,s=t._createResultNode(r,a);t._results[a]={element:r.element,node:s}});var i=Pn(Dt.RESULT_SELECTOR,this._resultsContainer);this._scrollToNode(i),this._preselect(i)}};Dt.prototype._scrollToDirection=function(e){var t=this._getCurrentResult();if(t){var n=e?t.previousElementSibling:t.nextElementSibling;n&&(this._scrollToNode(n),this._preselect(n))}};Dt.prototype._scrollToNode=function(e){if(!(!e||e===this._getCurrentResult())){var t=e.offsetTop,n=this._resultsContainer.scrollTop,i=t-this._resultsContainer.clientHeight+e.clientHeight;t<n?this._resultsContainer.scrollTop=t:n<i&&(this._resultsContainer.scrollTop=i)}};Dt.prototype._clearResults=function(){dy(this._resultsContainer),this._results={},this._eventBus.fire("searchPad.cleared")};Dt.prototype._getCurrentResult=function(){return Pn(Dt.RESULT_SELECTED_SELECTOR,this._resultsContainer)};Dt.prototype._createResultNode=function(e,t){var n=Zt(Dt.RESULT_HTML);return e.primaryTokens.length>0&&yS(n,e.primaryTokens,Dt.RESULT_PRIMARY_HTML),yS(n,e.secondaryTokens,Dt.RESULT_SECONDARY_HTML),Ur(n,Dt.RESULT_ID_ATTRIBUTE,t),this._resultsContainer.appendChild(n),n};Dt.prototype.registerProvider=function(e){this._searchProvider=e};Dt.prototype.open=function(){if(!this._searchProvider)throw new Error("no search provider registered");this.isOpen()||(this._cachedRootElement=this._canvas.getRootElement(),this._cachedSelection=this._selection.get(),this._cachedViewbox=this._canvas.viewbox(),this._selection.select(null),this._bindEvents(),this._open=!0,gi(this._canvas.getContainer()).add("djs-search-open"),gi(this._container).add("open"),this._searchInput.focus(),this._eventBus.fire("searchPad.opened"))};Dt.prototype.close=function(e=!0){this.isOpen()&&(e&&(this._cachedRootElement&&this._canvas.setRootElement(this._cachedRootElement),this._cachedSelection&&this._selection.select(this._cachedSelection),this._cachedViewbox&&this._canvas.viewbox(this._cachedViewbox),this._eventBus.fire("searchPad.restored")),this._cachedRootElement=null,this._cachedSelection=null,this._cachedViewbox=null,this._unbindEvents(),this._open=!1,gi(this._canvas.getContainer()).remove("djs-search-open"),gi(this._container).remove("open"),this._clearResults(),this._searchInput.value="",this._searchInput.blur(),this._eventBus.fire("searchPad.closed"),this._canvas.restoreFocus())};Dt.prototype.toggle=function(){this.isOpen()?this.close():this.open()};Dt.prototype.isOpen=function(){return this._open};Dt.prototype._preselect=function(e){var t=this._getCurrentResult();if(e!==t){t&&gi(t).remove(Dt.RESULT_SELECTED_CLASS);var n=Ur(e,Dt.RESULT_ID_ATTRIBUTE),i=this._results[n].element;gi(e).add(Dt.RESULT_SELECTED_CLASS),this._canvas.scrollToElement(i,{top:bC}),this._selection.select(i),this._eventBus.fire("searchPad.preselected",i)}};Dt.prototype._select=function(e){var t=Ur(e,Dt.RESULT_ID_ATTRIBUTE),n=this._results[t].element;this._cachedSelection=null,this._cachedViewbox=null,this.close(!1),this._canvas.scrollToElement(n,{top:bC}),this._selection.select(n),this._eventBus.fire("searchPad.selected",n)};Dt.prototype._getBoxHtml=function(){const e=Zt(Dt.BOX_HTML),t=Pn(Dt.INPUT_SELECTOR,e);return t&&t.setAttribute("aria-label",this._translate("Search in diagram")),e};function yS(e,t,n){var i=tF(t),r=Zt(n);r.innerHTML=i,e.appendChild(r)}function tF(e){var t="";return e.forEach(function(n){var i=yu(n.value||n.matched||n.normal),r=n.match||n.matched;r?t+='<b class="'+Dt.RESULT_HIGHLIGHT_CLASS+'">'+i+"</b>":t+=i}),t!==""?t:null}Dt.CONTAINER_SELECTOR=".djs-search-container";Dt.INPUT_SELECTOR=".djs-search-input input";Dt.RESULTS_CONTAINER_SELECTOR=".djs-search-results";Dt.RESULT_SELECTOR=".djs-search-result";Dt.RESULT_SELECTED_CLASS="djs-search-result-selected";Dt.RESULT_SELECTED_SELECTOR="."+Dt.RESULT_SELECTED_CLASS;Dt.RESULT_ID_ATTRIBUTE="data-result-id";Dt.RESULT_HIGHLIGHT_CLASS="djs-search-highlight";Dt.BOX_HTML=`<div class="djs-search-container djs-scrollable">
  <div class="djs-search-input">
    <svg class="djs-search-icon" width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M9.0325 8.5H9.625L13.3675 12.25L12.25 13.3675L8.5 9.625V9.0325L8.2975 8.8225C7.4425 9.5575 6.3325 10 5.125 10C2.4325 10 0.25 7.8175 0.25 5.125C0.25 2.4325 2.4325 0.25 5.125 0.25C7.8175 0.25 10 2.4325 10 5.125C10 6.3325 9.5575 7.4425 8.8225 8.2975L9.0325 8.5ZM1.75 5.125C1.75 6.9925 3.2575 8.5 5.125 8.5C6.9925 8.5 8.5 6.9925 8.5 5.125C8.5 3.2575 6.9925 1.75 5.125 1.75C3.2575 1.75 1.75 3.2575 1.75 5.125Z" fill="#22242A"/>
    </svg>
    <input type="text" spellcheck="false" />
  </div>
  <div class="djs-search-results" />
</div>`;Dt.RESULT_HTML='<div class="djs-search-result"></div>';Dt.RESULT_PRIMARY_HTML='<div class="djs-search-result-primary"></div>';Dt.RESULT_SECONDARY_HTML='<p class="djs-search-result-secondary"></p>';const nF={__depends__:[Sy,Ny,_s],searchPad:["type",Dt]};function s_(e,t,n,i){this._elementRegistry=e,this._canvas=n,this._search=i,t.registerProvider(this)}s_.$inject=["elementRegistry","searchPad","canvas","search"];s_.prototype.find=function(e){var t=this._canvas.getRootElements(),n=this._elementRegistry.filter(function(i){return!pn(i)&&!t.includes(i)});return this._search(n.map(i=>({element:i,label:bs(i),id:i.id})),e,{keys:["label","id"]}).map(iF)};function iF(e){const{item:{element:t},tokens:n}=e;return{element:t,primaryTokens:n.label,secondaryTokens:n.id}}const rF={__depends__:[nF,c6],__init__:["bpmnSearch"],bpmnSearch:["type",s_]},aF="M44.7648 11.3263L36.9892 2.64074C36.0451 1.58628 34.5651 0.988708 33.1904 0.988708H5.98667C3.22688 0.988708 0.989624 3.34892 0.989624 6.26039V55.0235C0.989624 57.9349 3.22688 60.2952 5.98667 60.2952H40.966C43.7257 60.2952 45.963 57.9349 45.963 55.0235V14.9459C45.963 13.5998 45.6407 12.3048 44.7648 11.3263Z",oF="M1.03845 48.1347C1.03845 49.3511 1.07295 50.758 1.38342 52.064C1.69949 53.3938 2.32428 54.7154 3.56383 55.6428C6.02533 57.4841 10.1161 58.7685 14.8212 59.6067C19.5772 60.4538 25.1388 60.8738 30.6831 60.8738C36.2276 60.8738 41.7891 60.4538 46.545 59.6067C51.2504 58.7687 55.3412 57.4842 57.8028 55.6429C59.0424 54.7156 59.6673 53.3938 59.9834 52.064C60.2938 50.7579 60.3285 49.351 60.3285 48.1344V13.8415C60.3285 12.6249 60.2938 11.218 59.9834 9.91171C59.6673 8.58194 59.0423 7.2602 57.8027 6.33294C55.341 4.49168 51.2503 3.20723 46.545 2.36914C41.7891 1.522 36.2276 1.10204 30.6831 1.10205C25.1388 1.10206 19.5772 1.52206 14.8213 2.36923C10.1162 3.20734 6.02543 4.49183 3.5639 6.33314C2.32433 7.26038 1.69951 8.58206 1.38343 9.91181C1.07295 11.2179 1.03845 12.6247 1.03845 13.8411V48.1347Z",sF={width:36,height:50},lF={width:50,height:50};function bS(e,t,n){return yt("path",{d:e,strokeWidth:2,transform:`translate(${t.x}, ${t.y})`,...n})}const bu=5;function p0(e,t){this._styles=t,e.registerProvider(this)}p0.$inject=["outline","styles"];p0.prototype.getOutline=function(e){const t=this._styles.cls("djs-outline",["no-fill"]);var n;if(!pn(e))return U(e,"bpmn:Gateway")?(n=yt("rect"),Ne(n.style,{"transform-box":"fill-box",transform:"rotate(45deg)","transform-origin":"center"}),ft(n,Ne({x:2,y:2,rx:4,width:e.width-4,height:e.height-4},t))):Wt(e,["bpmn:Task","bpmn:SubProcess","bpmn:Group","bpmn:CallActivity"])?(n=yt("rect"),ft(n,Ne({x:-bu,y:-bu,rx:14,width:e.width+bu*2,height:e.height+bu*2},t))):U(e,"bpmn:EndEvent")?(n=yt("circle"),ft(n,Ne({cx:e.width/2,cy:e.height/2,r:e.width/2+bu+1},t))):U(e,"bpmn:Event")?(n=yt("circle"),ft(n,Ne({cx:e.width/2,cy:e.height/2,r:e.width/2+bu},t))):U(e,"bpmn:DataObjectReference")&&_S(e,"bpmn:DataObjectReference")?n=bS(aF,{x:-6,y:-6},t):U(e,"bpmn:DataStoreReference")&&_S(e,"bpmn:DataStoreReference")&&(n=bS(oF,{x:-6,y:-6},t)),n};p0.prototype.updateOutline=function(e,t){if(!pn(e))return Wt(e,["bpmn:SubProcess","bpmn:Group"])?(ft(t,{width:e.width+bu*2,height:e.height+bu*2}),!0):!!Wt(e,["bpmn:Event","bpmn:Gateway","bpmn:DataStoreReference","bpmn:DataObjectReference"])};function _S(e,t){var n;return t==="bpmn:DataObjectReference"?n=sF:t==="bpmn:DataStoreReference"&&(n=lF),e.width===n.width&&e.height===n.height}const cF={__depends__:[sC],__init__:["outlineProvider"],outlineProvider:["type",p0]};var uF='<?xml version="1.0" encoding="UTF-8"?><bpmn:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn" id="Definitions_1"><bpmn:process id="Process_1" isExecutable="false"><bpmn:startEvent id="StartEvent_1"/></bpmn:process><bpmndi:BPMNDiagram id="BPMNDiagram_1"><bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_1"><bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1"><dc:Bounds height="36.0" width="36.0" x="173.0" y="102.0"/></bpmndi:BPMNShape></bpmndi:BPMNPlane></bpmndi:BPMNDiagram></bpmn:definitions>';function hl(e){Sm.call(this,e)}dt(hl,Sm);hl.Viewer=Iu;hl.NavigatedViewer=um;hl.prototype.createDiagram=function(){return this.importXML(uF)};hl.prototype._interactionModules=[OA,IA,HA];hl.prototype._modelingModules=[oD,Gb,RD,ED,XD,Zb,tO,lj,xN,Yy,hj,mj,Lj,Oj,Bj,zj,Qj,$N,aI,gI,NI,TI,iC,eF,rF,cF];hl.prototype._modules=[].concat(Iu.prototype._modules,hl.prototype._interactionModules,hl.prototype._modelingModules);var e2,wS;function fF(){return wS||(wS=1,e2=function e(t,n){const i=n.enter,r=n.leave,a=i&&i(t),s=t.$descriptor;a!==!1&&!s.isGeneric&&s.properties.filter(u=>!u.isAttr&&!u.isReference&&u.type!=="String").forEach(u=>{if(u.name in t){const f=t[u.name];u.isMany?f.forEach(p=>{e(p,n)}):e(f,n)}}),r&&r(t)}),e2}var un={},xS;function hF(){if(xS)return un;xS=1;function e(B){return Array.prototype.concat.apply([],B)}const t=Object.prototype.toString,n=Object.prototype.hasOwnProperty;function i(B){return B===void 0}function r(B){return B!==void 0}function a(B){return B==null}function s(B){return t.call(B)==="[object Array]"}function l(B){return t.call(B)==="[object Object]"}function u(B){return t.call(B)==="[object Number]"}function f(B){const C=t.call(B);return C==="[object Function]"||C==="[object AsyncFunction]"||C==="[object GeneratorFunction]"||C==="[object AsyncGeneratorFunction]"||C==="[object Proxy]"}function p(B){return t.call(B)==="[object String]"}function d(B){if(!s(B))throw new Error("must supply array")}function v(B,C){return!a(B)&&n.call(B,C)}function g(B,C){const T=xe(C);let Z;return E(B,function(te,de){if(T(te,de))return Z=te,!1}),Z}function w(B,C){const T=xe(C);let Z=s(B)?-1:void 0;return E(B,function(te,de){if(T(te,de))return Z=de,!1}),Z}function x(B,C){const T=xe(C);let Z=[];return E(B,function(te,de){T(te,de)&&Z.push(te)}),Z}function E(B,C){let T,Z;if(i(B))return;const te=s(B)?fe:re;for(let de in B)if(v(B,de)&&(T=B[de],Z=C(T,te(de)),Z===!1))return T}function R(B,C){if(i(B))return[];d(B);const T=xe(C);return B.filter(function(Z,te){return!T(Z,te)})}function L(B,C,T){return E(B,function(Z,te){T=C(T,Z,te)}),T}function M(B,C){return!!L(B,function(T,Z,te){return T&&C(Z,te)},!0)}function P(B,C){return!!g(B,C)}function k(B,C){let T=[];return E(B,function(Z,te){T.push(C(Z,te))}),T}function W(B){return B&&Object.keys(B)||[]}function Q(B){return W(B).length}function z(B){return k(B,C=>C)}function ie(B,C,T={}){return C=oe(C),E(B,function(Z){let te=C(Z)||"_",de=T[te];de||(de=T[te]=[]),de.push(Z)}),T}function le(B,...C){B=oe(B);let T={};return E(C,te=>ie(te,B,T)),k(T,function(te,de){return te[0]})}const H=le;function j(B,C){C=oe(C);let T=[];return E(B,function(Z,te){let de=C(Z,te),Ae={d:de,v:Z};for(var Ue=0;Ue<T.length;Ue++){let{d:Te}=T[Ue];if(de<Te){T.splice(Ue,0,Ae);return}}T.push(Ae)}),k(T,Z=>Z.v)}function ae(B){return function(C){return M(B,function(T,Z){return C[Z]===T})}}function oe(B){return f(B)?B:C=>C[B]}function xe(B){return f(B)?B:C=>C===B}function re(B){return B}function fe(B){return Number(B)}function pe(B,C){let T,Z,te,de;function Ae(Ve){let je=Date.now(),Ie=Ve?0:de+C-je;if(Ie>0)return Ue(Ie);B.apply(te,Z),Te()}function Ue(Ve){T=setTimeout(Ae,Ve)}function Te(){T&&clearTimeout(T),T=de=Z=te=void 0}function $(){T&&Ae(!0),Te()}function Le(...Ve){de=Date.now(),Z=Ve,te=this,T||Ue(C)}return Le.flush=$,Le.cancel=Te,Le}function Ee(B,C){let T=!1;return function(...Z){T||(B(...Z),T=!0,setTimeout(()=>{T=!1},C))}}function Y(B,C){return B.bind(C)}function ge(B,...C){return Object.assign(B,...C)}function O(B,C,T){let Z=B;return E(C,function(te,de){if(typeof te!="number"&&typeof te!="string")throw new Error("illegal key type: "+typeof te+". Key should be of type number or string.");if(te==="constructor")throw new Error("illegal key: constructor");if(te==="__proto__")throw new Error("illegal key: __proto__");let Ae=C[de+1],Ue=Z[te];r(Ae)&&a(Ue)&&(Ue=Z[te]=isNaN(+Ae)?{}:[]),i(Ae)?i(T)?delete Z[te]:Z[te]=T:Z=Ue}),B}function F(B,C,T){let Z=B;return E(C,function(te){if(a(Z))return Z=void 0,!1;Z=Z[te]}),i(Z)?T:Z}function K(B,C){let T={},Z=Object(B);return E(C,function(te){te in Z&&(T[te]=B[te])}),T}function se(B,C){let T={},Z=Object(B);return E(Z,function(te,de){C.indexOf(de)===-1&&(T[de]=te)}),T}function he(B,...C){return C.length&&E(C,function(T){!T||!l(T)||E(T,function(Z,te){if(te==="__proto__")return;let de=B[te];l(Z)?(l(de)||(de={}),B[te]=he(de,Z)):B[te]=Z})}),B}return un.assign=ge,un.bind=Y,un.debounce=pe,un.ensureArray=d,un.every=M,un.filter=x,un.find=g,un.findIndex=w,un.flatten=e,un.forEach=E,un.get=F,un.groupBy=ie,un.has=v,un.isArray=s,un.isDefined=r,un.isFunction=f,un.isNil=a,un.isNumber=u,un.isObject=l,un.isString=p,un.isUndefined=i,un.keys=W,un.map=k,un.matchPattern=ae,un.merge=he,un.omit=se,un.pick=K,un.reduce=L,un.set=O,un.size=Q,un.some=P,un.sortBy=j,un.throttle=Ee,un.unionBy=H,un.uniqueBy=le,un.values=z,un.without=R,un}var t2,ES;function pF(){if(ES)return t2;ES=1;const e=fF(),{isArray:t,isObject:n,isFunction:i}=hF();class r{constructor({moddleRoot:s,rule:l}){this.rule=l,this.moddleRoot=s,this.messages=[],this.report=this.report.bind(this)}report(s,l,u){let f={id:s,message:l};u&&t(u)&&(f={...f,path:u}),u&&n(u)&&(f={...f,...u}),this.messages.push(f)}}return t2=function({moddleRoot:s,rule:l}){const u=new r({rule:l,moddleRoot:s}),f=l.check||{},p="leave"in f?f.leave:void 0,d="enter"in f?f.enter:i(f)?f:void 0;if(!d&&!p)throw new Error("no check implemented");return e(s,{enter:d?v=>d(v,u):void 0,leave:p?v=>p(v,u):void 0}),u.messages},t2}var n2,SS;function dF(){if(SS)return n2;SS=1;const e=pF(),t=(l,u)=>l,n={0:"off",1:"warn",2:"error",3:"info"},i="rule-error";function r(l){const{config:u={},resolver:f,transformRule:p=t}=l||{};if(typeof f>"u")throw new Error("must provide <options.resolver>");this.config=u,this.resolver=f,this.transformRule=p,this.cachedRules={},this.cachedConfigs={}}n2=r,r.prototype.applyRule=function(u,f){const{config:p,rule:d,category:v,name:g}=f;try{return e({moddleRoot:u,rule:d,config:p}).map(function(x){return{...x,meta:d.meta,category:v}})}catch(w){return console.error("rule <"+g+"> failed with error: ",w),[{message:w.message,category:i}]}},r.prototype.resolveRule=function(l,u){const{pkg:f,ruleName:p}=this.parseRuleName(l),d=`${f}-${p}`,v=this.cachedRules[d];return v?Promise.resolve(v):Promise.resolve(this.resolver.resolveRule(f,p)).then(g=>{if(!g)throw new Error(`unknown rule <${l}>`);return this.cachedRules[d]=this.transformRule(g(u),{pkg:f,ruleName:p})})},r.prototype.resolveConfig=function(l){const{pkg:u,configName:f}=this.parseConfigName(l),p=`${u}-${f}`,d=this.cachedConfigs[p];return d?Promise.resolve(d):Promise.resolve(this.resolver.resolveConfig(u,f)).then(v=>{if(!v)throw new Error(`unknown config <${l}>`);return this.cachedConfigs[p]=this.normalizeConfig(v,u)})},r.prototype.resolveRules=function(l){return this.resolveConfiguredRules(l).then(u=>{const d=Object.entries(u).map(([v,g])=>{const{category:w,config:x}=this.parseRuleValue(g);return{name:v,category:w,config:x}}).filter(v=>v.category!=="off").map(v=>{const{name:g,config:w}=v;return this.resolveRule(g,w).then(function(x){return{...v,rule:x}})});return Promise.all(d)})},r.prototype.resolveConfiguredRules=function(l){let u=l.extends;return typeof u=="string"&&(u=[u]),typeof u>"u"&&(u=[]),Promise.all(u.map(f=>this.resolveConfig(f).then(p=>this.resolveConfiguredRules(p)))).then(f=>{const p=this.normalizeConfig(l,"bpmnlint").rules;return[...f,p].reduce((v,g)=>({...v,...g}),{})})},r.prototype.lint=function(l,u){return u=u||this.config,this.resolveRules(u).then(f=>{const p={};return f.forEach(d=>{const{name:v}=d,g=this.applyRule(l,d);g.length&&(p[v]=g)}),p})},r.prototype.parseRuleValue=function(l){let u,f;return Array.isArray(l)?(u=l[0],f=l[1]):(u=l,f={}),typeof u=="string"&&(u=u.toLowerCase()),u=n[u]||u,{config:f,category:u}},r.prototype.parseRuleName=function(l,u="bpmnlint"){const f=/^(?:(?:(@[^/]+)\/)?([^@]{1}[^/]*)\/)?([^/]+)$/.exec(l);if(!f)throw new Error(`unparseable rule name <${l}>`);const[p,d,v,g]=f;return v?{pkg:`${d?d+"/":""}${a(v)}`,ruleName:g}:{pkg:u,ruleName:g}},r.prototype.parseConfigName=function(l){const u=/^(?:(?:plugin:(?:(@[^/]+)\/)?([^@]{1}[^/]*)\/)|bpmnlint:)([^/]+)$/.exec(l);if(!u)throw new Error(`unparseable config name <${l}>`);const[f,p,d,v]=u;return d?{pkg:`${p?p+"/":""}${a(d)}`,configName:v}:{pkg:"bpmnlint",configName:v}},r.prototype.getSimplePackageName=function(l){const u=/^(?:(@[^/]+)\/)?([^/]+)$/.exec(l);if(!u)throw new Error(`unparseable package name <${l}>`);const[f,p,d]=u;return`${p?p+"/":""}${s(d)}`},r.prototype.normalizeConfig=function(l,u){const f=l.rules||{},p=Object.keys(f).reduce((d,v)=>{const g=f[v],{pkg:w,ruleName:x}=this.parseRuleName(v,u),E=w==="bpmnlint"?x:`${this.getSimplePackageName(w)}/${x}`;return d[E]=g,d},{});return{...l,rules:p}};function a(l){return l==="bpmnlint"?"bpmnlint":l.startsWith("bpmnlint-plugin-")?l:`bpmnlint-plugin-${l}`}function s(l){return l.startsWith("bpmnlint-plugin-")?l.substring(16):l}return n2}var i2,AS;function mF(){return AS||(AS=1,i2={Linter:dF()}),i2}var gF=mF();function _C(e,t){var n=e.get("editorActions",!1);n&&n.register({toggleLinting:function(){t.toggle()}})}_C.$inject=["injector","linting"];var wC=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   version="1.1"
   viewBox="0 0 512 512"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <path
     d="M 339.07183,256.00001 463.66713,131.4047 c 15.28961,-15.2896 15.28961,-40.079175 0,-55.381227 l -27.6906,-27.690611 c -15.28961,-15.289602 -40.07917,-15.289602 -55.38123,0 L 256,172.92818 131.4047,48.332862 c -15.2896,-15.289602 -40.079177,-15.289602 -55.381228,0 L 48.332861,76.023473 c -15.2896,15.2896 -15.2896,40.079177 0,55.381227 L 172.92815,256.00001 48.332861,380.59531 c -15.2896,15.2896 -15.2896,40.07917 0,55.38123 l 27.690611,27.69061 c 15.289601,15.28959 40.091628,15.28959 55.381228,0 L 256,339.07184 380.5953,463.66715 c 15.2896,15.28959 40.09162,15.28959 55.38123,0 l 27.6906,-27.69061 c 15.28961,-15.2896 15.28961,-40.07918 0,-55.38123 z"
     fill="currentColor" />
</svg>
`,xC=`<svg version="1.1" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
  <path d="m256 323.95c-45.518 0-82.419 34.576-82.419 77.229 0 42.652 36.9 77.229 82.419 77.229 45.518 0 82.419-34.577 82.419-77.23 0-42.652-36.9-77.229-82.419-77.229zm-80.561-271.8 11.61 204.35c.544 9.334 8.78 16.64 18.755 16.64h100.39c9.975 0 18.211-7.306 18.754-16.64l11.611-204.35c.587-10.082-7.98-18.56-18.754-18.56h-123.62c-10.775 0-19.34 8.478-18.753 18.56z" fill="currentColor"/>
</svg>
`,NS=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 512 512"
   version="1.1"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <path
     fill="currentColor"
     d="m 173.898,439.40356 -166.4,-166.4 c -9.997,-9.997 -9.997,-26.206 0,-36.204 l 36.203,-36.204 c 9.997,-9.998 26.207,-9.998 36.204,0 L 192,312.68956 432.095,72.595562 c 9.997,-9.997 26.207,-9.997 36.204,0 l 36.203,36.203998 c 9.997,9.997 9.997,26.206 0,36.204 l -294.4,294.401 c -9.998,9.997 -26.207,9.997 -36.204,-10e-4 z" />
</svg>
`,EC=`<svg
  viewBox="3.5 3.5 9 9"
  version="1.1"
  xmlns="http://www.w3.org/2000/svg">
  <path
    fill="currentColor" d="M6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>`,vF=-7,yF=-7,bF=500,CS={resolver:{resolveRule:function(){return null}},config:{}},SC={error:wC,warning:xC,success:NS,info:EC,inactive:NS};function Ni(e,t,n,i,r,a,s){this._bpmnjs=e,this._canvas=t,this._elementRegistry=i,this._eventBus=r,this._overlays=a,this._translate=s,this._issues={},this._active=n&&n.active||!1,this._linterConfig=CS,this._overlayIds={};var l=this;r.on(["import.done","elements.changed","linting.configChanged","linting.toggle"],bF,function(f){l.update()}),r.on("linting.toggle",function(f){f.active||(l._clearIssues(),l._updateButton())}),r.on("diagram.clear",function(){l._clearIssues()});var u=n&&n.bpmnlint;u&&r.once("diagram.init",function(){if(l.getLinterConfig()===CS)try{l.setLinterConfig(u)}catch{console.error("[bpmn-js-bpmnlint] Invalid lint rules configured. Please doublecheck your linting.bpmnlint configuration, cf. https://github.com/bpmn-io/bpmn-js-bpmnlint#configure-lint-rules")}}),this._init()}Ni.prototype.setLinterConfig=function(e){if(!e.config||!e.resolver)throw new Error("Expected linterConfig = { config, resolver }");this._linterConfig=e,this._eventBus.fire("linting.configChanged")};Ni.prototype.getLinterConfig=function(){return this._linterConfig};Ni.prototype._init=function(){this._createButton(),this._updateButton()};Ni.prototype.isActive=function(){return this._active};Ni.prototype._formatIssues=function(e){let t=this,n=xa(e,function(a,s,l){return a.concat(s.map(function(u){return u.rule=l,u}))},[]);const i=t._elementRegistry.filter(a=>U(a,"bpmn:Participant")),r=i.map(a=>a.businessObject);return n=Pr(n,function(a){if(!t._elementRegistry.get(a.id)){a.isChildIssue=!0,a.actualElementId=a.id;const l=r.filter(u=>u.processRef&&u.processRef.id&&u.processRef.id===a.id);l.length?a.id=l[0].id:a.id=t._canvas.getRootElement().id}return a}),n=Lu(n,function(a){return a.id}),n};Ni.prototype.toggle=function(e){return e=typeof e>"u"?!this.isActive():e,this._setActive(e),e};Ni.prototype._setActive=function(e){this._active!==e&&(this._active=e,this._eventBus.fire("linting.toggle",{active:e}))};Ni.prototype.update=function(){var e=this,t=this._bpmnjs.getDefinitions();if(t){var n=this._lintStart=Math.random();this.lint().then(function(i){if(e._lintStart===n){i=e._formatIssues(i);var r={},a={},s={};for(var l in e._issues)i[l]||(r[l]=e._issues[l]);for(var u in i)e._issues[u]?i[u]!==e._issues[u]&&(a[u]=i[u]):s[u]=i[u];r=Ne(r,a),s=Ne(s,a),e._clearOverlays(),e.isActive()&&e._createIssues(s),e._issues=i,e._updateButton(),e._fireComplete(i)}})}};Ni.prototype._fireComplete=function(e){this._eventBus.fire("linting.completed",{issues:e})};Ni.prototype._createIssues=function(e){for(var t in e)this._createElementIssues(t,e[t])};Ni.prototype._createElementIssues=function(e,t){var n=this._elementRegistry.get(e);if(n){var i=this._elementRegistry.get(e+"_plane");i&&this._createElementIssues(i.id,t);var r,a,s=!n.parent;s&&U(n,"bpmn:Process")?(r="bottom-right",a={top:20,left:150}):s&&U(n,"bpmn:SubProcess")?(r="bottom-right",a={top:50,left:150}):(r="top-right",a={top:vF,left:yF});var l=Lu(t,function(le){return(le.isChildIssue?"child":"")+le.category}),u=l.error,f=l.warn,p=l.info,d=l.childerror,v=l.childwarn,g=l.childinfo;if(!(!p&&!u&&!f&&!d&&!v&&!g)){var w=Zt('<div class="bjsl-overlay bjsl-issues-'+r+'"></div>'),x=Zt(u||d?'<div class="bjsl-icon bjsl-icon-error">'+wC+"</div>":f||v?'<div class="bjsl-icon bjsl-icon-warning">'+xC+"</div>":'<div class="bjsl-icon bjsl-icon-info">'+EC+"</div>"),E=Zt('<div class="bjsl-dropdown"></div>'),R=Zt('<div class="bjsl-dropdown-content"></div>'),L=Zt('<div class="bjsl-issues"></div>'),M=Zt('<div class="bjsl-current-element-issues"></div>'),P=Zt("<ul></ul>");if(w.appendChild(x),w.appendChild(E),E.appendChild(R),R.appendChild(L),L.appendChild(M),M.appendChild(P),u&&this._addErrors(P,u),f&&this._addWarnings(P,f),p&&this._addInfos(P,p),d||v||g){var k=Zt('<div class="bjsl-child-issues"></div>'),W=Zt("<ul></ul>"),Q=this._translate("Issues for child elements"),z=Zt('<a class="bjsl-issue-heading">'+Q+":</a>");if(d&&this._addErrors(W,d),v&&this._addWarnings(W,v),g&&this._addInfos(W,g),u||f){var ie=Zt("<hr/>");k.appendChild(ie)}k.appendChild(z),k.appendChild(W),L.appendChild(k)}this._overlayIds[e]=this._overlays.add(n,"linting",{position:a,html:w,scale:{min:.7}})}}};Ni.prototype._addErrors=function(e,t){var n=this;t.forEach(function(i){n._addEntry(e,"error",i)})};Ni.prototype._addWarnings=function(e,t){var n=this;t.forEach(function(i){n._addEntry(e,"warning",i)})};Ni.prototype._addInfos=function(e,t){var n=this;t.forEach(function(i){n._addEntry(e,"info",i)})};Ni.prototype._addEntry=function(e,t,n){var i=n.rule,r=n.meta?.documentation.url,a=this._translate(n.message),s=n.actualElementId,l=SC[t],u=Zt(`
    <li class="${t}" data-rule="${yu(i)}">
      <span class="icon">${l}</span>
      <span class="message">${yu(a)}</span>
      <span class="rule">(${r?`<a href="${yu(r)}" target="_blank">${yu(i)}</a>`:yu(i)})</span>
      ${s?`<span class="bjsl-id-hint"><code>${yu(s)}</code></span>`:""}
    </li>
  `);e.appendChild(u)};Ni.prototype._clearOverlays=function(){this._overlays.remove({type:"linting"}),this._overlayIds={}};Ni.prototype._clearIssues=function(){this._issues={},this._clearOverlays()};Ni.prototype._setButtonState=function(e){var{errors:t,warnings:n,infos:i}=e,r=this._button,a=t&&"error"||n&&"warning"||"success",s=SC[a],l=this._translate(t||n?"{errors} Errors, {warnings} Warnings":"No Issues",{errors:String(t),warnings:String(n),infos:String(i)}),u=`
    <span class="icon">${s}</span>
    <span>${l}</span>`;a=this.isActive()?a:"inactive",["error","inactive","success","warning"].forEach(function(f){a===f?r.classList.add("bjsl-button-"+f):r.classList.remove("bjsl-button-"+f)}),r.innerHTML=u};Ni.prototype._updateButton=function(){var e=0,t=0,n=0;for(var i in this._issues)this._issues[i].forEach(function(r){r.category==="error"?e++:r.category==="warn"?t++:r.category==="info"&&n++});this._setButtonState({errors:e,warnings:t,infos:n})};Ni.prototype._createButton=function(){var e=this;this._button=Zt('<button class="bjsl-button bjsl-button-inactive" title="'+this._translate("Toggle linting overlays")+'"></button>'),this._button.addEventListener("click",function(){e.toggle()}),this._canvas.getContainer().appendChild(this._button)};Ni.prototype.lint=function(){var e=this._bpmnjs.getDefinitions(),t=new gF.Linter(this._linterConfig);return t.lint(e)};Ni.$inject=["bpmnjs","canvas","config.linting","elementRegistry","eventBus","overlays","translate"];var _F={__init__:["linting","lintingEditorActions"],linting:["type",Ni],lintingEditorActions:["type",_C]};const wF="modulepreload",xF=function(e){return"/flight/"+e},TS={},J2=function(t,n,i){let r=Promise.resolve();if(n&&n.length>0){let u=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");r=u(n.map(f=>{if(f=xF(f),f in TS)return;TS[f]=!0;const p=f.endsWith(".css"),d=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${d}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":wF,p||(v.as="script"),v.crossOrigin="",v.href=f,l&&v.setAttribute("nonce",l),document.head.appendChild(v),p)return new Promise((g,w)=>{v.addEventListener("load",g),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return r.then(s=>{for(const l of s||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function Hn(e){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hn(e)}var oa=Uint8Array,ro=Uint16Array,l_=Int32Array,d0=new oa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m0=new oa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),eb=new oa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),AC=function(e,t){for(var n=new ro(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];for(var r=new l_(n[30]),i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)r[a]=a-n[i]<<5|i;return{b:n,r}},NC=AC(d0,2),CC=NC.b,tb=NC.r;CC[28]=258,tb[258]=28;var TC=AC(m0,0),EF=TC.b,RS=TC.r,nb=new ro(32768);for(var ii=0;ii<32768;++ii){var gu=(ii&43690)>>1|(ii&21845)<<1;gu=(gu&52428)>>2|(gu&13107)<<2,gu=(gu&61680)>>4|(gu&3855)<<4,nb[ii]=((gu&65280)>>8|(gu&255)<<8)>>1}var pl=function(e,t,n){for(var i=e.length,r=0,a=new ro(t);r<i;++r)e[r]&&++a[e[r]-1];var s=new ro(t);for(r=1;r<t;++r)s[r]=s[r-1]+a[r-1]<<1;var l;if(n){l=new ro(1<<t);var u=15-t;for(r=0;r<i;++r)if(e[r])for(var f=r<<4|e[r],p=t-e[r],d=s[e[r]-1]++<<p,v=d|(1<<p)-1;d<=v;++d)l[nb[d]>>u]=f}else for(l=new ro(i),r=0;r<i;++r)e[r]&&(l[r]=nb[s[e[r]-1]++]>>15-e[r]);return l},Tu=new oa(288);for(var ii=0;ii<144;++ii)Tu[ii]=8;for(var ii=144;ii<256;++ii)Tu[ii]=9;for(var ii=256;ii<280;++ii)Tu[ii]=7;for(var ii=280;ii<288;++ii)Tu[ii]=8;var mm=new oa(32);for(var ii=0;ii<32;++ii)mm[ii]=5;var SF=pl(Tu,9,0),AF=pl(Tu,9,1),NF=pl(mm,5,0),CF=pl(mm,5,1),r2=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},fs=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(t&7)&n},a2=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},c_=function(e){return(e+7)/8|0},RC=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new oa(e.subarray(t,n))},TF=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ms=function(e,t,n){var i=new Error(t||TF[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,ms),!n)throw i;return i},RF=function(e,t,n,i){var r=e.length,a=0;if(!r||t.f&&!t.l)return n||new oa(0);var s=!n,l=s||t.i!=2,u=t.i;s&&(n=new oa(r*3));var f=function(te){var de=n.length;if(te>de){var Ae=new oa(Math.max(de*2,te));Ae.set(n),n=Ae}},p=t.f||0,d=t.p||0,v=t.b||0,g=t.l,w=t.d,x=t.m,E=t.n,R=r*8;do{if(!g){p=fs(e,d,1);var L=fs(e,d+1,3);if(d+=3,L)if(L==1)g=AF,w=CF,x=9,E=5;else if(L==2){var W=fs(e,d,31)+257,Q=fs(e,d+10,15)+4,z=W+fs(e,d+5,31)+1;d+=14;for(var ie=new oa(z),le=new oa(19),H=0;H<Q;++H)le[eb[H]]=fs(e,d+H*3,7);d+=Q*3;for(var j=r2(le),ae=(1<<j)-1,oe=pl(le,j,1),H=0;H<z;){var xe=oe[fs(e,d,ae)];d+=xe&15;var M=xe>>4;if(M<16)ie[H++]=M;else{var re=0,fe=0;for(M==16?(fe=3+fs(e,d,3),d+=2,re=ie[H-1]):M==17?(fe=3+fs(e,d,7),d+=3):M==18&&(fe=11+fs(e,d,127),d+=7);fe--;)ie[H++]=re}}var pe=ie.subarray(0,W),Ee=ie.subarray(W);x=r2(pe),E=r2(Ee),g=pl(pe,x,1),w=pl(Ee,E,1)}else ms(1);else{var M=c_(d)+4,P=e[M-4]|e[M-3]<<8,k=M+P;if(k>r){u&&ms(0);break}l&&f(v+P),n.set(e.subarray(M,k),v),t.b=v+=P,t.p=d=k*8,t.f=p;continue}if(d>R){u&&ms(0);break}}l&&f(v+131072);for(var Y=(1<<x)-1,ge=(1<<E)-1,O=d;;O=d){var re=g[a2(e,d)&Y],F=re>>4;if(d+=re&15,d>R){u&&ms(0);break}if(re||ms(2),F<256)n[v++]=F;else if(F==256){O=d,g=null;break}else{var K=F-254;if(F>264){var H=F-257,se=d0[H];K=fs(e,d,(1<<se)-1)+CC[H],d+=se}var he=w[a2(e,d)&ge],B=he>>4;he||ms(3),d+=he&15;var Ee=EF[B];if(B>3){var se=m0[B];Ee+=a2(e,d)&(1<<se)-1,d+=se}if(d>R){u&&ms(0);break}l&&f(v+131072);var C=v+K;if(v<Ee){var T=a-Ee,Z=Math.min(Ee,C);for(T+v<0&&ms(3);v<Z;++v)n[v]=i[T+v]}for(;v<C;++v)n[v]=n[v-Ee]}}t.l=g,t.p=O,t.b=v,t.f=p,g&&(p=1,t.m=x,t.d=w,t.n=E)}while(!p);return v!=n.length&&s?RC(n,0,v):n.subarray(0,v)},ec=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},Wd=function(e,t,n){n<<=t&7;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},o2=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,a=n.slice();if(!r)return{t:PC,l:0};if(r==1){var s=new oa(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(k,W){return k.f-W.f}),n.push({s:-1,f:25001});var l=n[0],u=n[1],f=0,p=1,d=2;for(n[0]={s:-1,f:l.f+u.f,l,r:u};p!=r-1;)l=n[n[f].f<n[d].f?f++:d++],u=n[f!=p&&n[f].f<n[d].f?f++:d++],n[p++]={s:-1,f:l.f+u.f,l,r:u};for(var v=a[0].s,i=1;i<r;++i)a[i].s>v&&(v=a[i].s);var g=new ro(v+1),w=ib(n[p-1],g,0);if(w>t){var i=0,x=0,E=w-t,R=1<<E;for(a.sort(function(W,Q){return g[Q.s]-g[W.s]||W.f-Q.f});i<r;++i){var L=a[i].s;if(g[L]>t)x+=R-(1<<w-g[L]),g[L]=t;else break}for(x>>=E;x>0;){var M=a[i].s;g[M]<t?x-=1<<t-g[M]++-1:++i}for(;i>=0&&x;--i){var P=a[i].s;g[P]==t&&(--g[P],++x)}w=t}return{t:new oa(g),l:w}},ib=function(e,t,n){return e.s==-1?Math.max(ib(e.l,t,n+1),ib(e.r,t,n+1)):t[e.s]=n},MS=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new ro(++t),i=0,r=e[0],a=1,s=function(u){n[i++]=u},l=1;l<=t;++l)if(e[l]==r&&l!=t)++a;else{if(!r&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(r),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(r);a=1,r=e[l]}return{c:n.subarray(0,i),n:t}},Xd=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},MC=function(e,t,n){var i=n.length,r=c_(t+2);e[r]=i&255,e[r+1]=i>>8,e[r+2]=e[r]^255,e[r+3]=e[r+1]^255;for(var a=0;a<i;++a)e[r+a+4]=n[a];return(r+4+i)*8},PS=function(e,t,n,i,r,a,s,l,u,f,p){ec(t,p++,n),++r[256];for(var d=o2(r,15),v=d.t,g=d.l,w=o2(a,15),x=w.t,E=w.l,R=MS(v),L=R.c,M=R.n,P=MS(x),k=P.c,W=P.n,Q=new ro(19),z=0;z<L.length;++z)++Q[L[z]&31];for(var z=0;z<k.length;++z)++Q[k[z]&31];for(var ie=o2(Q,7),le=ie.t,H=ie.l,j=19;j>4&&!le[eb[j-1]];--j);var ae=f+5<<3,oe=Xd(r,Tu)+Xd(a,mm)+s,xe=Xd(r,v)+Xd(a,x)+s+14+3*j+Xd(Q,le)+2*Q[16]+3*Q[17]+7*Q[18];if(u>=0&&ae<=oe&&ae<=xe)return MC(t,p,e.subarray(u,u+f));var re,fe,pe,Ee;if(ec(t,p,1+(xe<oe)),p+=2,xe<oe){re=pl(v,g,0),fe=v,pe=pl(x,E,0),Ee=x;var Y=pl(le,H,0);ec(t,p,M-257),ec(t,p+5,W-1),ec(t,p+10,j-4),p+=14;for(var z=0;z<j;++z)ec(t,p+3*z,le[eb[z]]);p+=3*j;for(var ge=[L,k],O=0;O<2;++O)for(var F=ge[O],z=0;z<F.length;++z){var K=F[z]&31;ec(t,p,Y[K]),p+=le[K],K>15&&(ec(t,p,F[z]>>5&127),p+=F[z]>>12)}}else re=SF,fe=Tu,pe=NF,Ee=mm;for(var z=0;z<l;++z){var se=i[z];if(se>255){var K=se>>18&31;Wd(t,p,re[K+257]),p+=fe[K+257],K>7&&(ec(t,p,se>>23&31),p+=d0[K]);var he=se&31;Wd(t,p,pe[he]),p+=Ee[he],he>3&&(Wd(t,p,se>>5&8191),p+=m0[he])}else Wd(t,p,re[se]),p+=fe[se]}return Wd(t,p,re[256]),p+fe[256]},MF=new l_([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),PC=new oa(0),PF=function(e,t,n,i,r,a){var s=a.z||e.length,l=new oa(i+s+5*(1+Math.ceil(s/7e3))+r),u=l.subarray(i,l.length-r),f=a.l,p=(a.r||0)&7;if(t){p&&(u[0]=a.r>>3);for(var d=MF[t-1],v=d>>13,g=d&8191,w=(1<<n)-1,x=a.p||new ro(32768),E=a.h||new ro(w+1),R=Math.ceil(n/3),L=2*R,M=function(Ue){return(e[Ue]^e[Ue+1]<<R^e[Ue+2]<<L)&w},P=new l_(25e3),k=new ro(288),W=new ro(32),Q=0,z=0,ie=a.i||0,le=0,H=a.w||0,j=0;ie+2<s;++ie){var ae=M(ie),oe=ie&32767,xe=E[ae];if(x[oe]=xe,E[ae]=oe,H<=ie){var re=s-ie;if((Q>7e3||le>24576)&&(re>423||!f)){p=PS(e,u,0,P,k,W,z,le,j,ie-j,p),le=Q=z=0,j=ie;for(var fe=0;fe<286;++fe)k[fe]=0;for(var fe=0;fe<30;++fe)W[fe]=0}var pe=2,Ee=0,Y=g,ge=oe-xe&32767;if(re>2&&ae==M(ie-ge))for(var O=Math.min(v,re)-1,F=Math.min(32767,ie),K=Math.min(258,re);ge<=F&&--Y&&oe!=xe;){if(e[ie+pe]==e[ie+pe-ge]){for(var se=0;se<K&&e[ie+se]==e[ie+se-ge];++se);if(se>pe){if(pe=se,Ee=ge,se>O)break;for(var he=Math.min(ge,se-2),B=0,fe=0;fe<he;++fe){var C=ie-ge+fe&32767,T=x[C],Z=C-T&32767;Z>B&&(B=Z,xe=C)}}}oe=xe,xe=x[oe],ge+=oe-xe&32767}if(Ee){P[le++]=268435456|tb[pe]<<18|RS[Ee];var te=tb[pe]&31,de=RS[Ee]&31;z+=d0[te]+m0[de],++k[257+te],++W[de],H=ie+pe,++Q}else P[le++]=e[ie],++k[e[ie]]}}for(ie=Math.max(ie,H);ie<s;++ie)P[le++]=e[ie],++k[e[ie]];p=PS(e,u,f,P,k,W,z,le,j,ie-j,p),f||(a.r=p&7|u[p/8|0]<<3,p-=7,a.h=E,a.p=x,a.i=ie,a.w=H)}else{for(var ie=a.w||0;ie<s+f;ie+=65535){var Ae=ie+65535;Ae>=s&&(u[p/8|0]=f,Ae=s),p=MC(u,p+1,e.subarray(ie,Ae))}a.i=s}return RC(l,0,i+c_(p)+r)},LC=function(){var e=1,t=0;return{p:function(n){for(var i=e,r=t,a=n.length|0,s=0;s!=a;){for(var l=Math.min(s+2655,a);s<l;++s)r+=i+=n[s];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}e=i,t=r},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},LF=function(e,t,n,i,r){if(!r&&(r={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new oa(a.length+e.length);s.set(a),s.set(e,a.length),e=s,r.w=a.length}return PF(e,t.level==null?6:t.level,t.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,i,r)},DC=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},DF=function(e,t){var n=t.level,i=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var r=LC();r.p(t.dictionary),DC(e,2,r.d())}},OF=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ms(6,"invalid zlib data"),(e[1]>>5&1)==1&&ms(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function rb(e,t){t||(t={});var n=LC();n.p(e);var i=LF(e,t,t.dictionary?6:2,4);return DF(i,t),DC(i,i.length-4,n.d()),i}function BF(e,t){return RF(e.subarray(OF(e),-4),{i:2},t,t)}var kF=typeof TextDecoder<"u"&&new TextDecoder,jF=0;try{kF.decode(PC,{stream:!0}),jF=1}catch{}var It=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function s2(){It.console&&typeof It.console.log=="function"&&It.console.log.apply(It.console,arguments)}var Xn={log:s2,warn:function(e){It.console&&(typeof It.console.warn=="function"?It.console.warn.apply(It.console,arguments):s2.call(null,arguments))},error:function(e){It.console&&(typeof It.console.error=="function"?It.console.error.apply(It.console,arguments):s2(e))}};function l2(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){zf(i.response,t,n)},i.onerror=function(){Xn.error("could not download file")},i.send()}function LS(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function bv(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var rm,ab,zf=It.saveAs||((typeof window>"u"?"undefined":Hn(window))!=="object"||window!==It?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=It.URL||It.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?LS(r.href)?l2(e,t,n):bv(r,r.target="_blank"):bv(r)):(r.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){bv(r)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(LS(e))l2(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){bv(i)})}else navigator.msSaveOrOpenBlob(function(r,a){return a===void 0?a={autoBom:!1}:Hn(a)!=="object"&&(Xn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof e=="string")return l2(e,t,n);var r=e.type==="application/octet-stream",a=/constructor/i.test(It.HTMLElement)||It.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&a)&&(typeof FileReader>"u"?"undefined":Hn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var p=l.result;p=s?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=p:location=p,i=null},l.readAsDataURL(e)}else{var u=It.URL||It.webkitURL,f=u.createObjectURL(e);i?i.location=f:location.href=f,i=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function OC(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,a=n[i].process,s=r.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),u=this.g.toString(16),f=this.b.toString(16);return l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+l+u+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function c2(e,t){var n=e[0],i=e[1],r=e[2],a=e[3];n=na(n,i,r,a,t[0],7,-680876936),a=na(a,n,i,r,t[1],12,-389564586),r=na(r,a,n,i,t[2],17,606105819),i=na(i,r,a,n,t[3],22,-1044525330),n=na(n,i,r,a,t[4],7,-176418897),a=na(a,n,i,r,t[5],12,1200080426),r=na(r,a,n,i,t[6],17,-1473231341),i=na(i,r,a,n,t[7],22,-45705983),n=na(n,i,r,a,t[8],7,1770035416),a=na(a,n,i,r,t[9],12,-1958414417),r=na(r,a,n,i,t[10],17,-42063),i=na(i,r,a,n,t[11],22,-1990404162),n=na(n,i,r,a,t[12],7,1804603682),a=na(a,n,i,r,t[13],12,-40341101),r=na(r,a,n,i,t[14],17,-1502002290),n=ia(n,i=na(i,r,a,n,t[15],22,1236535329),r,a,t[1],5,-165796510),a=ia(a,n,i,r,t[6],9,-1069501632),r=ia(r,a,n,i,t[11],14,643717713),i=ia(i,r,a,n,t[0],20,-373897302),n=ia(n,i,r,a,t[5],5,-701558691),a=ia(a,n,i,r,t[10],9,38016083),r=ia(r,a,n,i,t[15],14,-660478335),i=ia(i,r,a,n,t[4],20,-405537848),n=ia(n,i,r,a,t[9],5,568446438),a=ia(a,n,i,r,t[14],9,-1019803690),r=ia(r,a,n,i,t[3],14,-187363961),i=ia(i,r,a,n,t[8],20,1163531501),n=ia(n,i,r,a,t[13],5,-1444681467),a=ia(a,n,i,r,t[2],9,-51403784),r=ia(r,a,n,i,t[7],14,1735328473),n=ra(n,i=ia(i,r,a,n,t[12],20,-1926607734),r,a,t[5],4,-378558),a=ra(a,n,i,r,t[8],11,-2022574463),r=ra(r,a,n,i,t[11],16,1839030562),i=ra(i,r,a,n,t[14],23,-35309556),n=ra(n,i,r,a,t[1],4,-1530992060),a=ra(a,n,i,r,t[4],11,1272893353),r=ra(r,a,n,i,t[7],16,-155497632),i=ra(i,r,a,n,t[10],23,-1094730640),n=ra(n,i,r,a,t[13],4,681279174),a=ra(a,n,i,r,t[0],11,-358537222),r=ra(r,a,n,i,t[3],16,-722521979),i=ra(i,r,a,n,t[6],23,76029189),n=ra(n,i,r,a,t[9],4,-640364487),a=ra(a,n,i,r,t[12],11,-421815835),r=ra(r,a,n,i,t[15],16,530742520),n=aa(n,i=ra(i,r,a,n,t[2],23,-995338651),r,a,t[0],6,-198630844),a=aa(a,n,i,r,t[7],10,1126891415),r=aa(r,a,n,i,t[14],15,-1416354905),i=aa(i,r,a,n,t[5],21,-57434055),n=aa(n,i,r,a,t[12],6,1700485571),a=aa(a,n,i,r,t[3],10,-1894986606),r=aa(r,a,n,i,t[10],15,-1051523),i=aa(i,r,a,n,t[1],21,-2054922799),n=aa(n,i,r,a,t[8],6,1873313359),a=aa(a,n,i,r,t[15],10,-30611744),r=aa(r,a,n,i,t[6],15,-1560198380),i=aa(i,r,a,n,t[13],21,1309151649),n=aa(n,i,r,a,t[4],6,-145523070),a=aa(a,n,i,r,t[11],10,-1120210379),r=aa(r,a,n,i,t[2],15,718787259),i=aa(i,r,a,n,t[9],21,-343485551),e[0]=xu(n,e[0]),e[1]=xu(i,e[1]),e[2]=xu(r,e[2]),e[3]=xu(a,e[3])}function g0(e,t,n,i,r,a){return t=xu(xu(t,e),xu(i,a)),xu(t<<r|t>>>32-r,n)}function na(e,t,n,i,r,a,s){return g0(t&n|~t&i,e,t,r,a,s)}function ia(e,t,n,i,r,a,s){return g0(t&i|n&~i,e,t,r,a,s)}function ra(e,t,n,i,r,a,s){return g0(t^n^i,e,t,r,a,s)}function aa(e,t,n,i,r,a,s){return g0(n^(t|~i),e,t,r,a,s)}function BC(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)c2(i,IF(e.substring(t-64,t)));e=e.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(c2(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*n,c2(i,r),i}function IF(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}rm=It.atob.bind(It),ab=It.btoa.bind(It);var DS="0123456789abcdef".split("");function FF(e){for(var t="",n=0;n<4;n++)t+=DS[e>>8*n+4&15]+DS[e>>8*n&15];return t}function zF(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function ob(e){return BC(e).map(zF).join("")}var HF=function(e){for(var t=0;t<e.length;t++)e[t]=FF(e[t]);return e.join("")}(BC("hello"))!="5d41402abc4b2a76b9719d911017c592";function xu(e,t){if(HF){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function sb(e,t){var n,i,r,a;if(e!==n){for(var s=(r=e,a=1+(256/e.length>>0),new Array(a+1).join(r)),l=[],u=0;u<256;u++)l[u]=u;var f=0;for(u=0;u<256;u++){var p=l[u];f=(f+p+s.charCodeAt(u))%256,l[u]=l[f],l[f]=p}n=e,i=l}else l=i;var d=t.length,v=0,g=0,w="";for(u=0;u<d;u++)g=(g+(p=l[v=(v+1)%256]))%256,l[v]=l[g],l[g]=p,s=l[(l[v]+l[g])%256],w+=String.fromCharCode(t.charCodeAt(u)^s);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var OS={print:4,modify:8,copy:16,"annot-forms":32};function cp(e,t,n,i){this.v=1,this.r=2;var r=192;e.forEach(function(l){if(OS.perm!==void 0)throw new Error("Invalid permission: "+l);r+=OS[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^r)),this.encryptionKey=ob(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=sb(this.encryptionKey,this.padding)}function up(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var r=e.charCodeAt(i);r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?t+="#"+("0"+r.toString(16)).slice(-2):t+=e[i]}return t}function BS(e){if(Hn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[i,!!r],a},this.unsubscribe=function(n){for(var i in t)if(t[i][n])return delete t[i][n],Object.keys(t[i]).length===0&&delete t[i],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var a in t[n]){var s=t[n][a];try{s[0].apply(e,i)}catch(l){It.console&&Xn.error("jsPDF PubSub Error",l.message,l)}s[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function cy(e){if(!(this instanceof cy))return new cy(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function kC(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function qf(e,t,n,i,r){if(!(this instanceof qf))return new qf(e,t,n,i,r);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,kC.call(this,i,r)}function fp(e,t,n,i,r){if(!(this instanceof fp))return new fp(e,t,n,i,r);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,kC.call(this,i,r)}function kt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],a=arguments[3],s=[],l=1,u=16,f="S",p=null;Hn(e=e||{})==="object"&&(n=e.orientation,i=e.unit||i,r=e.format||r,a=e.compress||e.compressPdf||a,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(u=e.floatPrecision),f=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),i=i||"mm",n=(""+(n||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,v={},g={internal:{},__private__:{}};g.__private__.PubSub=BS;var w="1.3",x=g.__private__.getPdfVersion=function(){return w};g.__private__.setPdfVersion=function(A){w=A};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return E};var R=g.__private__.getPageFormat=function(A){return E[A]};r=r||"a4";var L={COMPAT:"compat",ADVANCED:"advanced"},M=L.COMPAT;function P(){this.saveGraphicsState(),$(new wt(ct,0,0,-ct,0,Bs()*ct).toString()+" cm"),this.setFontSize(this.getFontSize()/ct),f="n",M=L.ADVANCED}function k(){this.restoreGraphicsState(),f="S",M=L.COMPAT}var W=g.__private__.combineFontStyleAndFontWeight=function(A,V){if(A=="bold"&&V=="normal"||A=="bold"&&V==400||A=="normal"&&V=="italic"||A=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(A=V==400||V==="normal"?A==="italic"?"italic":"normal":V!=700&&V!=="bold"||A!=="normal"?(V==700?"bold":V)+""+A:"bold"),A};g.advancedAPI=function(A){var V=M===L.COMPAT;return V&&P.call(this),typeof A!="function"||(A(this),V&&k.call(this)),this},g.compatAPI=function(A){var V=M===L.ADVANCED;return V&&k.call(this),typeof A!="function"||(A(this),V&&P.call(this)),this},g.isAdvancedAPI=function(){return M===L.ADVANCED};var Q,z=function(A){if(M!==L.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ie=g.roundToPrecision=g.__private__.roundToPrecision=function(A,V){var ue=t||V;if(isNaN(A)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ue).replace(/0+$/,"")};Q=g.hpf=g.__private__.hpf=typeof u=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(A,u)}:u==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return ie(A,16)};var le=g.f2=g.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return ie(A,2)},H=g.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return ie(A,3)},j=g.scale=g.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return M===L.COMPAT?A*ct:M===L.ADVANCED?A:void 0},ae=function(A){return M===L.COMPAT?Bs()-A:M===L.ADVANCED?A:void 0},oe=function(A){return j(ae(A))};g.__private__.setPrecision=g.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(t=parseInt(A,10))};var xe,re="00000000000000000000000000000000",fe=g.__private__.getFileId=function(){return re},pe=g.__private__.setFileId=function(A){return re=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(nr=new cp(p.userPermissions,p.userPassword,p.ownerPassword,re)),re};g.setFileId=function(A){return pe(A),this},g.getFileId=function(){return fe()};var Ee=g.__private__.convertDateToPDFDate=function(A){var V=A.getTimezoneOffset(),ue=V<0?"+":"-",ye=Math.floor(Math.abs(V/60)),Pe=Math.abs(V%60),$e=[ue,K(ye),"'",K(Pe),"'"].join("");return["D:",A.getFullYear(),K(A.getMonth()+1),K(A.getDate()),K(A.getHours()),K(A.getMinutes()),K(A.getSeconds()),$e].join("")},Y=g.__private__.convertPDFDateToDate=function(A){var V=parseInt(A.substr(2,4),10),ue=parseInt(A.substr(6,2),10)-1,ye=parseInt(A.substr(8,2),10),Pe=parseInt(A.substr(10,2),10),$e=parseInt(A.substr(12,2),10),nt=parseInt(A.substr(14,2),10);return new Date(V,ue,ye,Pe,$e,nt,0)},ge=g.__private__.setCreationDate=function(A){var V;if(A===void 0&&(A=new Date),A instanceof Date)V=Ee(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=A}return xe=V},O=g.__private__.getCreationDate=function(A){var V=xe;return A==="jsDate"&&(V=Y(xe)),V};g.setCreationDate=function(A){return ge(A),this},g.getCreationDate=function(A){return O(A)};var F,K=g.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},se=g.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},he=0,B=[],C=[],T=0,Z=[],te=[],de=!1,Ae=C,Ue=function(){he=0,T=0,C=[],B=[],Z=[],fa=Ci(),ha=Ci()};g.__private__.setCustomOutputDestination=function(A){de=!0,Ae=A};var Te=function(A){de||(Ae=A)};g.__private__.resetCustomOutputDestination=function(){de=!1,Ae=C};var $=g.__private__.out=function(A){return A=A.toString(),T+=A.length+1,Ae.push(A),Ae},Le=g.__private__.write=function(A){return $(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Ve=g.__private__.getArrayBuffer=function(A){for(var V=A.length,ue=new ArrayBuffer(V),ye=new Uint8Array(ue);V--;)ye[V]=A.charCodeAt(V);return ue},je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return je};var Ie=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(A){return Ie=M===L.ADVANCED?A/ct:A,this};var qe,Ye=g.__private__.getFontSize=g.getFontSize=function(){return M===L.COMPAT?Ie:Ie*ct},at=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(A){return at=A,this},g.__private__.getR2L=g.getR2L=function(){return at};var Ke,ot=g.__private__.setZoomMode=function(A){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))qe=A;else if(isNaN(A)){if(V.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');qe=A}else qe=parseInt(A,10)};g.__private__.getZoomMode=function(){return qe};var Ft,Pt=g.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Ke=A};g.__private__.getPageMode=function(){return Ke};var en=g.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Ft=A};g.__private__.getLayoutMode=function(){return Ft},g.__private__.setDisplayMode=g.setDisplayMode=function(A,V,ue){return ot(A),en(V),Pt(ue),this};var mt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(A){if(Object.keys(mt).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return mt[A]},g.__private__.getDocumentProperties=function(){return mt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(A){for(var V in mt)mt.hasOwnProperty(V)&&A[V]&&(mt[V]=A[V]);return this},g.__private__.setDocumentProperty=function(A,V){if(Object.keys(mt).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return mt[A]=V};var Xt,ct,vi,rn,pr,on={},Sn={},tr=[],bn={},ca={},On={},dr={},Bn=null,ci=0,Ut=[],An=new BS(g),Fo=e.hotfixes||[],Fi={},Ua={},co=[],wt=function A(V,ue,ye,Pe,$e,nt){if(!(this instanceof A))return new A(V,ue,ye,Pe,$e,nt);isNaN(V)&&(V=1),isNaN(ue)&&(ue=0),isNaN(ye)&&(ye=0),isNaN(Pe)&&(Pe=1),isNaN($e)&&($e=0),isNaN(nt)&&(nt=0),this._matrix=[V,ue,ye,Pe,$e,nt]};Object.defineProperty(wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),wt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Q).join(A)},wt.prototype.multiply=function(A){var V=A.sx*this.sx+A.shy*this.shx,ue=A.sx*this.shy+A.shy*this.sy,ye=A.shx*this.sx+A.sy*this.shx,Pe=A.shx*this.shy+A.sy*this.sy,$e=A.tx*this.sx+A.ty*this.shx+this.tx,nt=A.tx*this.shy+A.ty*this.sy+this.ty;return new wt(V,ue,ye,Pe,$e,nt)},wt.prototype.decompose=function(){var A=this.sx,V=this.shy,ue=this.shx,ye=this.sy,Pe=this.tx,$e=this.ty,nt=Math.sqrt(A*A+V*V),ht=(A/=nt)*ue+(V/=nt)*ye;ue-=A*ht,ye-=V*ht;var bt=Math.sqrt(ue*ue+ye*ye);return ht/=bt,A*(ye/=bt)<V*(ue/=bt)&&(A=-A,V=-V,ht=-ht,nt=-nt),{scale:new wt(nt,0,0,bt,0,0),translate:new wt(1,0,0,1,Pe,$e),rotate:new wt(A,V,-V,A,0,0),skew:new wt(1,0,ht,1,0,0)}},wt.prototype.toString=function(A){return this.join(" ")},wt.prototype.inversed=function(){var A=this.sx,V=this.shy,ue=this.shx,ye=this.sy,Pe=this.tx,$e=this.ty,nt=1/(A*ye-V*ue),ht=ye*nt,bt=-V*nt,$t=-ue*nt,qt=A*nt;return new wt(ht,bt,$t,qt,-ht*Pe-$t*$e,-bt*Pe-qt*$e)},wt.prototype.applyToPoint=function(A){var V=A.x*this.sx+A.y*this.shx+this.tx,ue=A.x*this.shy+A.y*this.sy+this.ty;return new Mc(V,ue)},wt.prototype.applyToRectangle=function(A){var V=this.applyToPoint(A),ue=this.applyToPoint(new Mc(A.x+A.w,A.y+A.h));return new lf(V.x,V.y,ue.x-V.x,ue.y-V.y)},wt.prototype.clone=function(){var A=this.sx,V=this.shy,ue=this.shx,ye=this.sy,Pe=this.tx,$e=this.ty;return new wt(A,V,ue,ye,Pe,$e)},g.Matrix=wt;var Un=g.matrixMult=function(A,V){return V.multiply(A)},ei=new wt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=ei;var zi=function(A,V){if(!ca[A]){var ue=(V instanceof qf?"Sh":"P")+(Object.keys(bn).length+1).toString(10);V.id=ue,ca[A]=ue,bn[ue]=V,An.publish("addPattern",V)}};g.ShadingPattern=qf,g.TilingPattern=fp,g.addShadingPattern=function(A,V){return z("addShadingPattern()"),zi(A,V),this},g.beginTilingPattern=function(A){z("beginTilingPattern()"),Pc(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},g.endTilingPattern=function(A,V){z("endTilingPattern()"),V.stream=te[F].join(`
`),zi(A,V),An.publish("endTilingPattern",V),co.pop().restore()};var yi=g.__private__.newObject=function(){var A=Ci();return ua(A,!0),A},Ci=g.__private__.newObjectDeferred=function(){return he++,B[he]=function(){return T},he},ua=function(A,V){return V=typeof V=="boolean"&&V,B[A]=T,V&&$(A+" 0 obj"),A},El=g.__private__.newAdditionalObject=function(){var A={objId:Ci(),content:""};return Z.push(A),A},fa=Ci(),ha=Ci(),xr=g.__private__.decodeColorString=function(A){var V=A.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ue=parseFloat(V[0]);V=[ue,ue,ue,"r"]}for(var ye="#",Pe=0;Pe<3;Pe++)ye+=("0"+Math.floor(255*parseFloat(V[Pe])).toString(16)).slice(-2);return ye},Er=g.__private__.encodeColorString=function(A){var V;typeof A=="string"&&(A={ch1:A});var ue=A.ch1,ye=A.ch2,Pe=A.ch3,$e=A.ch4,nt=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var ht=new OC(ue);if(ht.ok)ue=ht.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var bt=parseInt(ue.substr(1),16);ue=bt>>16&255,ye=bt>>8&255,Pe=255&bt}if(ye===void 0||$e===void 0&&ue===ye&&ye===Pe)if(typeof ue=="string")V=ue+" "+nt[0];else switch(A.precision){case 2:V=le(ue/255)+" "+nt[0];break;case 3:default:V=H(ue/255)+" "+nt[0]}else if($e===void 0||Hn($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return V=["1.","1.","1.",nt[1]].join(" ");if(typeof ue=="string")V=[ue,ye,Pe,nt[1]].join(" ");else switch(A.precision){case 2:V=[le(ue/255),le(ye/255),le(Pe/255),nt[1]].join(" ");break;default:case 3:V=[H(ue/255),H(ye/255),H(Pe/255),nt[1]].join(" ")}}else if(typeof ue=="string")V=[ue,ye,Pe,$e,nt[2]].join(" ");else switch(A.precision){case 2:V=[le(ue),le(ye),le(Pe),le($e),nt[2]].join(" ");break;case 3:default:V=[H(ue),H(ye),H(Pe),H($e),nt[2]].join(" ")}return V},Yr=g.__private__.getFilters=function(){return s},mr=g.__private__.putStream=function(A){var V=(A=A||{}).data||"",ue=A.filters||Yr(),ye=A.alreadyAppliedFilters||[],Pe=A.addLength1||!1,$e=V.length,nt=A.objectId,ht=function(_i){return _i};if(p!==null&&nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ht=nr.encryptor(nt,0));var bt={};ue===!0&&(ue=["FlateEncode"]);var $t=A.additionalKeyValues||[],qt=(bt=kt.API.processDataByFilters!==void 0?kt.API.processDataByFilters(V,ue):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(bt.data.length!==0&&($t.push({key:"Length",value:bt.data.length}),Pe===!0&&$t.push({key:"Length1",value:$e})),qt.length!=0)if(qt.split("/").length-1==1)$t.push({key:"Filter",value:qt});else{$t.push({key:"Filter",value:"["+qt+"]"});for(var gn=0;gn<$t.length;gn+=1)if($t[gn].key==="DecodeParms"){for(var Kn=[],ti=0;ti<bt.reverseChain.split("/").length-1;ti+=1)Kn.push("null");Kn.push($t[gn].value),$t[gn].value="["+Kn.join(" ")+"]"}}$("<<");for(var bi=0;bi<$t.length;bi++)$("/"+$t[bi].key+" "+$t[bi].value);$(">>"),bt.data.length!==0&&($("stream"),$(ht(bt.data)),$("endstream"))},jn=g.__private__.putPage=function(A){var V=A.number,ue=A.data,ye=A.objId,Pe=A.contentsObjId;ua(ye,!0),$("<</Type /Page"),$("/Parent "+A.rootDictionaryObjId+" 0 R"),$("/Resources "+A.resourceDictionaryObjId+" 0 R"),$("/MediaBox ["+parseFloat(Q(A.mediaBox.bottomLeftX))+" "+parseFloat(Q(A.mediaBox.bottomLeftY))+" "+Q(A.mediaBox.topRightX)+" "+Q(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&$("/CropBox ["+Q(A.cropBox.bottomLeftX)+" "+Q(A.cropBox.bottomLeftY)+" "+Q(A.cropBox.topRightX)+" "+Q(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&$("/BleedBox ["+Q(A.bleedBox.bottomLeftX)+" "+Q(A.bleedBox.bottomLeftY)+" "+Q(A.bleedBox.topRightX)+" "+Q(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&$("/TrimBox ["+Q(A.trimBox.bottomLeftX)+" "+Q(A.trimBox.bottomLeftY)+" "+Q(A.trimBox.topRightX)+" "+Q(A.trimBox.topRightY)+"]"),A.artBox!==null&&$("/ArtBox ["+Q(A.artBox.bottomLeftX)+" "+Q(A.artBox.bottomLeftY)+" "+Q(A.artBox.topRightX)+" "+Q(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&$("/UserUnit "+A.userUnit),An.publish("putPage",{objId:ye,pageContext:Ut[V],pageNumber:V,page:ue}),$("/Contents "+Pe+" 0 R"),$(">>"),$("endobj");var $e=ue.join(`
`);return M===L.ADVANCED&&($e+=`
Q`),ua(Pe,!0),mr({data:$e,filters:Yr(),objectId:Pe}),$("endobj"),ye},Ns=g.__private__.putPages=function(){var A,V,ue=[];for(A=1;A<=ci;A++)Ut[A].objId=Ci(),Ut[A].contentsObjId=Ci();for(A=1;A<=ci;A++)ue.push(jn({number:A,data:te[A],objId:Ut[A].objId,contentsObjId:Ut[A].contentsObjId,mediaBox:Ut[A].mediaBox,cropBox:Ut[A].cropBox,bleedBox:Ut[A].bleedBox,trimBox:Ut[A].trimBox,artBox:Ut[A].artBox,userUnit:Ut[A].userUnit,rootDictionaryObjId:fa,resourceDictionaryObjId:ha}));ua(fa,!0),$("<</Type /Pages");var ye="/Kids [";for(V=0;V<ci;V++)ye+=ue[V]+" 0 R ";$(ye+"]"),$("/Count "+ci),$(">>"),$("endobj"),An.publish("postPutPages")},Sl=function(A){An.publish("putFont",{font:A,out:$,newObject:yi,putStream:mr}),A.isAlreadyPutted!==!0&&(A.objectNumber=yi(),$("<<"),$("/Type /Font"),$("/BaseFont /"+up(A.postScriptName)),$("/Subtype /Type1"),typeof A.encoding=="string"&&$("/Encoding /"+A.encoding),$("/FirstChar 32"),$("/LastChar 255"),$(">>"),$("endobj"))},Aa=function(){for(var A in on)on.hasOwnProperty(A)&&(d===!1||d===!0&&v.hasOwnProperty(A))&&Sl(on[A])},qa=function(A){A.objectNumber=yi();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[Q(A.x),Q(A.y),Q(A.x+A.width),Q(A.y+A.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ue=A.pages[1].join(`
`);mr({data:ue,additionalKeyValues:V,objectId:A.objectNumber}),$("endobj")},_c=function(){for(var A in Fi)Fi.hasOwnProperty(A)&&qa(Fi[A])},Ku=function(A,V){var ue,ye=[],Pe=1/(V-1);for(ue=0;ue<1;ue+=Pe)ye.push(ue);if(ye.push(1),A[0].offset!=0){var $e={offset:0,color:A[0].color};A.unshift($e)}if(A[A.length-1].offset!=1){var nt={offset:1,color:A[A.length-1].color};A.push(nt)}for(var ht="",bt=0,$t=0;$t<ye.length;$t++){for(ue=ye[$t];ue>A[bt+1].offset;)bt++;var qt=A[bt].offset,gn=(ue-qt)/(A[bt+1].offset-qt),Kn=A[bt].color,ti=A[bt+1].color;ht+=se(Math.round((1-gn)*Kn[0]+gn*ti[0]).toString(16))+se(Math.round((1-gn)*Kn[1]+gn*ti[1]).toString(16))+se(Math.round((1-gn)*Kn[2]+gn*ti[2]).toString(16))}return ht.trim()},ph=function(A,V){V||(V=21);var ue=yi(),ye=Ku(A.colors,V),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+V+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),mr({data:ye,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),$("endobj"),A.objectNumber=yi(),$("<< /ShadingType "+A.type),$("/ColorSpace /DeviceRGB");var $e="/Coords ["+Q(parseFloat(A.coords[0]))+" "+Q(parseFloat(A.coords[1]))+" ";A.type===2?$e+=Q(parseFloat(A.coords[2]))+" "+Q(parseFloat(A.coords[3])):$e+=Q(parseFloat(A.coords[2]))+" "+Q(parseFloat(A.coords[3]))+" "+Q(parseFloat(A.coords[4]))+" "+Q(parseFloat(A.coords[5])),$($e+="]"),A.matrix&&$("/Matrix ["+A.matrix.toString()+"]"),$("/Function "+ue+" 0 R"),$("/Extend [true true]"),$(">>"),$("endobj")},Vp=function(A,V){var ue=Ci(),ye=yi();V.push({resourcesOid:ue,objectOid:ye}),A.objectNumber=ye;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+A.boundingBox.map(Q).join(" ")+"]"}),Pe.push({key:"XStep",value:Q(A.xStep)}),Pe.push({key:"YStep",value:Q(A.yStep)}),Pe.push({key:"Resources",value:ue+" 0 R"}),A.matrix&&Pe.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),mr({data:A.stream,additionalKeyValues:Pe,objectId:A.objectNumber}),$("endobj")},zo=function(A){var V;for(V in bn)bn.hasOwnProperty(V)&&(bn[V]instanceof qf?ph(bn[V]):bn[V]instanceof fp&&Vp(bn[V],A))},Al=function(A){for(var V in A.objectNumber=yi(),$("<<"),A)switch(V){case"opacity":$("/ca "+le(A[V]));break;case"stroke-opacity":$("/CA "+le(A[V]))}$(">>"),$("endobj")},Va=function(){var A;for(A in On)On.hasOwnProperty(A)&&Al(On[A])},Nl=function(){for(var A in $("/XObject <<"),Fi)Fi.hasOwnProperty(A)&&Fi[A].objectNumber>=0&&$("/"+A+" "+Fi[A].objectNumber+" 0 R");An.publish("putXobjectDict"),$(">>")},dh=function(){nr.oid=yi(),$("<<"),$("/Filter /Standard"),$("/V "+nr.v),$("/R "+nr.r),$("/U <"+nr.toHexString(nr.U)+">"),$("/O <"+nr.toHexString(nr.O)+">"),$("/P "+nr.P),$(">>"),$("endobj")},Ho=function(){for(var A in $("/Font <<"),on)on.hasOwnProperty(A)&&(d===!1||d===!0&&v.hasOwnProperty(A))&&$("/"+A+" "+on[A].objectNumber+" 0 R");$(">>")},Zu=function(){if(Object.keys(bn).length>0){for(var A in $("/Shading <<"),bn)bn.hasOwnProperty(A)&&bn[A]instanceof qf&&bn[A].objectNumber>=0&&$("/"+A+" "+bn[A].objectNumber+" 0 R");An.publish("putShadingPatternDict"),$(">>")}},Cs=function(A){if(Object.keys(bn).length>0){for(var V in $("/Pattern <<"),bn)bn.hasOwnProperty(V)&&bn[V]instanceof g.TilingPattern&&bn[V].objectNumber>=0&&bn[V].objectNumber<A&&$("/"+V+" "+bn[V].objectNumber+" 0 R");An.publish("putTilingPatternDict"),$(">>")}},$p=function(){if(Object.keys(On).length>0){var A;for(A in $("/ExtGState <<"),On)On.hasOwnProperty(A)&&On[A].objectNumber>=0&&$("/"+A+" "+On[A].objectNumber+" 0 R");An.publish("putGStateDict"),$(">>")}},ui=function(A){ua(A.resourcesOid,!0),$("<<"),$("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ho(),Zu(),Cs(A.objectOid),$p(),Nl(),$(">>"),$("endobj")},Dr=function(){var A=[];Aa(),Va(),_c(),zo(A),An.publish("putResources"),A.forEach(ui),ui({resourcesOid:ha,objectOid:Number.MAX_SAFE_INTEGER}),An.publish("postPutResources")},Qu=function(){An.publish("putAdditionalObjects");for(var A=0;A<Z.length;A++){var V=Z[A];ua(V.objId,!0),$(V.content),$("endobj")}An.publish("postPutAdditionalObjects")},mh=function(A){Sn[A.fontName]=Sn[A.fontName]||{},Sn[A.fontName][A.fontStyle]=A.id},Ts=function(A,V,ue,ye,Pe){var $e={id:"F"+(Object.keys(on).length+1).toString(10),postScriptName:A,fontName:V,fontStyle:ue,encoding:ye,isStandardFont:Pe||!1,metadata:{}};return An.publish("addFont",{font:$e,instance:this}),on[$e.id]=$e,mh($e),$e.id},gh=function(A){for(var V=0,ue=je.length;V<ue;V++){var ye=Ts.call(this,A[V][0],A[V][1],A[V][2],je[V][3],!0);d===!1&&(v[ye]=!0);var Pe=A[V][0].split("-");mh({id:ye,fontName:Pe[0],fontStyle:Pe[1]||""})}An.publish("addFonts",{fonts:on,dictionary:Sn})},Wr=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(ye){var V=ye.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var ue="Error in function "+V.split(`
`)[0].split("<")[0]+": "+ye.message;if(!It.console)throw new Error(ue);It.console.error(ue,ye),It.alert&&alert(ue)}},A.foo.bar=A,A.foo},wc=function(A,V){var ue,ye,Pe,$e,nt,ht,bt,$t,qt;if(Pe=(V=V||{}).sourceEncoding||"Unicode",nt=V.outputEncoding,(V.autoencode||nt)&&on[Xt].metadata&&on[Xt].metadata[Pe]&&on[Xt].metadata[Pe].encoding&&($e=on[Xt].metadata[Pe].encoding,!nt&&on[Xt].encoding&&(nt=on[Xt].encoding),!nt&&$e.codePages&&(nt=$e.codePages[0]),typeof nt=="string"&&(nt=$e[nt]),nt)){for(bt=!1,ht=[],ue=0,ye=A.length;ue<ye;ue++)($t=nt[A.charCodeAt(ue)])?ht.push(String.fromCharCode($t)):ht.push(A[ue]),ht[ue].charCodeAt(0)>>8&&(bt=!0);A=ht.join("")}for(ue=A.length;bt===void 0&&ue!==0;)A.charCodeAt(ue-1)>>8&&(bt=!0),ue--;if(!bt)return A;for(ht=V.noBOM?[]:[254,255],ue=0,ye=A.length;ue<ye;ue++){if((qt=($t=A.charCodeAt(ue))>>8)>>8)throw new Error("Character at position "+ue+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ht.push(qt),ht.push($t-(qt<<8))}return String.fromCharCode.apply(void 0,ht)},Yn=g.__private__.pdfEscape=g.pdfEscape=function(A,V){return wc(A,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Cl=g.__private__.beginPage=function(A){te[++ci]=[],Ut[ci]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},Uo(ci),Te(te[F])},Ju=function(A,V){var ue,ye,Pe;switch(n=V||n,typeof A=="string"&&(ue=R(A.toLowerCase()),Array.isArray(ue)&&(ye=ue[0],Pe=ue[1])),Array.isArray(A)&&(ye=A[0]*ct,Pe=A[1]*ct),isNaN(ye)&&(ye=r[0],Pe=r[1]),(ye>14400||Pe>14400)&&(Xn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Pe=Math.min(14400,Pe)),r=[ye,Pe],n.substr(0,1)){case"l":Pe>ye&&(r=[Pe,ye]);break;case"p":ye>Pe&&(r=[Pe,ye])}Cl(r),xh(Ls),$($a),sf!==0&&$(sf+" J"),Rc!==0&&$(Rc+" j"),An.publish("addPage",{pageNumber:ci})},ef=function(A){A>0&&A<=ci&&(te.splice(A,1),Ut.splice(A,1),ci--,F>ci&&(F=ci),this.setPage(F))},Uo=function(A){A>0&&A<=ci&&(F=A)},vh=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return te.length-1},tf=function(A,V,ue){var ye,Pe=void 0;return ue=ue||{},A=A!==void 0?A:on[Xt].fontName,V=V!==void 0?V:on[Xt].fontStyle,ye=A.toLowerCase(),Sn[ye]!==void 0&&Sn[ye][V]!==void 0?Pe=Sn[ye][V]:Sn[A]!==void 0&&Sn[A][V]!==void 0?Pe=Sn[A][V]:ue.disableWarning===!1&&Xn.warn("Unable to look up font label for font '"+A+"', '"+V+"'. Refer to getFontList() for available fonts."),Pe||ue.noFallback||(Pe=Sn.times[V])==null&&(Pe=Sn.times.normal),Pe},Rs=g.__private__.putInfo=function(){var A=yi(),V=function(ye){return ye};for(var ue in p!==null&&(V=nr.encryptor(A,0)),$("<<"),$("/Producer ("+Yn(V("jsPDF "+kt.version))+")"),mt)mt.hasOwnProperty(ue)&&mt[ue]&&$("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+Yn(V(mt[ue]))+")");$("/CreationDate ("+Yn(V(xe))+")"),$(">>"),$("endobj")},nf=g.__private__.putCatalog=function(A){var V=(A=A||{}).rootDictionaryObjId||fa;switch(yi(),$("<<"),$("/Type /Catalog"),$("/Pages "+V+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":$("/OpenAction [3 0 R /FitH null]");break;case"fullheight":$("/OpenAction [3 0 R /FitV null]");break;case"fullpage":$("/OpenAction [3 0 R /Fit]");break;case"original":$("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+qe;ue.substr(ue.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&$("/OpenAction [3 0 R /XYZ null null "+le(qe)+"]")}switch(Ft||(Ft="continuous"),Ft){case"continuous":$("/PageLayout /OneColumn");break;case"single":$("/PageLayout /SinglePage");break;case"two":case"twoleft":$("/PageLayout /TwoColumnLeft");break;case"tworight":$("/PageLayout /TwoColumnRight")}Ke&&$("/PageMode /"+Ke),An.publish("putCatalog"),$(">>"),$("endobj")},yh=g.__private__.putTrailer=function(){$("trailer"),$("<<"),$("/Size "+(he+1)),$("/Root "+he+" 0 R"),$("/Info "+(he-1)+" 0 R"),p!==null&&$("/Encrypt "+nr.oid+" 0 R"),$("/ID [ <"+re+"> <"+re+"> ]"),$(">>")},bh=g.__private__.putHeader=function(){$("%PDF-"+w),$("%")},rf=g.__private__.putXRef=function(){var A="0000000000";$("xref"),$("0 "+(he+1)),$("0000000000 65535 f ");for(var V=1;V<=he;V++)typeof B[V]=="function"?$((A+B[V]()).slice(-10)+" 00000 n "):B[V]!==void 0?$((A+B[V]).slice(-10)+" 00000 n "):$("0000000000 00000 n ")},qo=g.__private__.buildDocument=function(){Ue(),Te(C),An.publish("buildDocument"),bh(),Ns(),Qu(),Dr(),p!==null&&dh(),Rs(),nf();var A=T;return rf(),yh(),$("startxref"),$(""+A),$("%%EOF"),Te(te[F]),C.join(`
`)},xc=g.__private__.getBlob=function(A){return new Blob([Ve(A)],{type:"application/pdf"})},Vo=g.output=g.__private__.output=Wr(function(A,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",A){case void 0:return qo();case"save":g.save(V.filename);break;case"arraybuffer":return Ve(qo());case"blob":return xc(qo());case"bloburi":case"bloburl":if(It.URL!==void 0&&typeof It.URL.createObjectURL=="function")return It.URL&&It.URL.createObjectURL(xc(qo()))||void 0;Xn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",ye=qo();try{ue=ab(ye)}catch{ue=ab(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+V.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(It)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(Pe=V.pdfObjectUrl,$e="");var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",ht=It.open();return ht!==null&&ht.document.write(nt),ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(It)==="[object Window]"){var bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',$t=It.open();if($t!==null){$t.document.write(bt);var qt=this;$t.document.documentElement.querySelector("#pdfViewer").onload=function(){$t.document.title=V.filename,$t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qt.output("bloburl"))}}return $t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(It)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',Kn=It.open();if(Kn!==null&&(Kn.document.write(gn),Kn.document.title=V.filename),Kn||typeof safari>"u")return Kn;break;case"datauri":case"dataurl":return It.document.location.href=this.output("datauristring",V);default:return null}}),Ec=function(A){return Array.isArray(Fo)===!0&&Fo.indexOf(A)>-1};switch(i){case"pt":ct=1;break;case"mm":ct=72/25.4;break;case"cm":ct=72/2.54;break;case"in":ct=72;break;case"px":ct=Ec("px_scaling")==1?.75:96/72;break;case"pc":case"em":ct=12;break;case"ex":ct=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);ct=i}var nr=null;ge(),pe();var Ms=function(A){return p!==null?nr.encryptor(A,0):function(V){return V}},$o=g.__private__.getPageInfo=g.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ut[A].objId,pageNumber:A,pageContext:Ut[A]}},zt=g.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Ut)if(Ut[V].objId===A)break;return $o(V)},af=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Ut[F].objId,pageNumber:F,pageContext:Ut[F]}};g.addPage=function(){return Ju.apply(this,arguments),this},g.setPage=function(){return Uo.apply(this,arguments),Te.call(this,te[F]),this},g.insertPage=function(A){return this.addPage(),this.movePage(F,A),this},g.movePage=function(A,V){var ue,ye;if(A>V){ue=te[A],ye=Ut[A];for(var Pe=A;Pe>V;Pe--)te[Pe]=te[Pe-1],Ut[Pe]=Ut[Pe-1];te[V]=ue,Ut[V]=ye,this.setPage(V)}else if(A<V){ue=te[A],ye=Ut[A];for(var $e=A;$e<V;$e++)te[$e]=te[$e+1],Ut[$e]=Ut[$e+1];te[V]=ue,Ut[V]=ye,this.setPage(V)}return this},g.deletePage=function(){return ef.apply(this,arguments),this},g.__private__.text=g.text=function(A,V,ue,ye,Pe){var $e,nt,ht,bt,$t,qt,gn,Kn,ti,bi=(ye=ye||{}).scope||this;if(typeof A=="number"&&typeof V=="number"&&(typeof ue=="string"||Array.isArray(ue))){var _i=ue;ue=V,V=A,A=_i}if(arguments[3]instanceof wt?(z("The transform parameter of text() with a Matrix value"),ti=Pe):(ht=arguments[4],bt=arguments[5],Hn(gn=arguments[3])==="object"&&gn!==null||(typeof ht=="string"&&(bt=ht,ht=null),typeof gn=="string"&&(bt=gn,gn=null),typeof gn=="number"&&(ht=gn,gn=null),ye={flags:gn,angle:ht,align:bt})),isNaN(V)||isNaN(ue)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return bi;var ir="",Ga=!1,ma=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:pa,Ya=bi.internal.scaleFactor;function ff(sn){return sn=sn.split("	").join(Array(ye.TabLen||9).join(" ")),Yn(sn,gn)}function Yo(sn){for(var ln,qn=sn.concat(),wi=[],Ra=qn.length;Ra--;)typeof(ln=qn.shift())=="string"?wi.push(ln):Array.isArray(sn)&&(ln.length===1||ln[1]===void 0&&ln[2]===void 0)?wi.push(ln[0]):wi.push([ln[0],ln[1],ln[2]]);return wi}function Wo(sn,ln){var qn;if(typeof sn=="string")qn=ln(sn)[0];else if(Array.isArray(sn)){for(var wi,Ra,$s=sn.concat(),Gs=[],Zo=$s.length;Zo--;)typeof(wi=$s.shift())=="string"?Gs.push(ln(wi)[0]):Array.isArray(wi)&&typeof wi[0]=="string"&&(Ra=ln(wi[0],wi[1],wi[2]),Gs.push([Ra[0],Ra[1],Ra[2]]));qn=Gs}return qn}var Oc=!1,ks=!0;if(typeof A=="string")Oc=!0;else if(Array.isArray(A)){var Bc=A.concat();nt=[];for(var Pl,Hi=Bc.length;Hi--;)(typeof(Pl=Bc.shift())!="string"||Array.isArray(Pl)&&typeof Pl[0]!="string")&&(ks=!1);Oc=ks}if(Oc===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var js=Ie/bi.internal.scaleFactor,Ll=js*(ma-1);switch(ye.baseline){case"bottom":ue-=Ll;break;case"top":ue+=js-Ll;break;case"hanging":ue+=js-2*Ll;break;case"middle":ue+=js/2-Ll}if((qt=ye.maxWidth||0)>0&&(typeof A=="string"?A=bi.splitTextToSize(A,qt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(sn,ln){return sn.concat(bi.splitTextToSize(ln,qt))},[]))),$e={text:A,x:V,y:ue,options:ye,mutex:{pdfEscape:Yn,activeFontKey:Xt,fonts:on,activeFontSize:Ie}},An.publish("preProcessText",$e),A=$e.text,ht=(ye=$e.options).angle,!(ti instanceof wt)&&ht&&typeof ht=="number"){ht*=Math.PI/180,ye.rotationDirection===0&&(ht=-ht),M===L.ADVANCED&&(ht=-ht);var Dl=Math.cos(ht),kc=Math.sin(ht);ti=new wt(Dl,kc,-kc,Dl,0,0)}else ht&&ht instanceof wt&&(ti=ht);M!==L.ADVANCED||ti||(ti=ei),($t=ye.charSpace||Tc)!==void 0&&(ir+=Q(j($t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Kn=ye.horizontalScale)!==void 0&&(ir+=Q(100*Kn)+` Tz
`),ye.lang;var Kr=-1,Kp=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,hf=bi.internal.getCurrentPageInfo().pageContext;switch(Kp){case 0:case!1:case"fill":Kr=0;break;case 1:case!0:case"stroke":Kr=1;break;case 2:case"fillThenStroke":Kr=2;break;case 3:case"invisible":Kr=3;break;case 4:case"fillAndAddForClipping":Kr=4;break;case 5:case"strokeAndAddPathForClipping":Kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Kr=6;break;case 7:case"addToPathForClipping":Kr=7}var Sh=hf.usedRenderingMode!==void 0?hf.usedRenderingMode:-1;Kr!==-1?ir+=Kr+` Tr
`:Sh!==-1&&(ir+=`0 Tr
`),Kr!==-1&&(hf.usedRenderingMode=Kr),bt=ye.align||"left";var Ta,rr=Ie*ma,Is=bi.internal.pageSize.getWidth(),pf=on[Xt];$t=ye.charSpace||Tc,qt=ye.maxWidth||0,gn=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var Xo=[],Fs=function(sn){return bi.getStringUnitWidth(sn,{font:pf,charSpace:$t,fontSize:Ie,doKerning:!1})*Ie/Ya};if(Object.prototype.toString.call(A)==="[object Array]"){var Or;nt=Yo(A),bt!=="left"&&(Ta=nt.map(Fs));var gr,zs=0;if(bt==="right"){V-=Ta[0],A=[],Hi=nt.length;for(var Zr=0;Zr<Hi;Zr++)Zr===0?(gr=da(V),Or=po(ue)):(gr=j(zs-Ta[Zr]),Or=-rr),A.push([nt[Zr],gr,Or]),zs=Ta[Zr]}else if(bt==="center"){V-=Ta[0]/2,A=[],Hi=nt.length;for(var Wa=0;Wa<Hi;Wa++)Wa===0?(gr=da(V),Or=po(ue)):(gr=j((zs-Ta[Wa])/2),Or=-rr),A.push([nt[Wa],gr,Or]),zs=Ta[Wa]}else if(bt==="left"){A=[],Hi=nt.length;for(var mo=0;mo<Hi;mo++)A.push(nt[mo])}else if(bt==="justify"&&pf.encoding==="Identity-H"){A=[],Hi=nt.length,qt=qt!==0?qt:Is;for(var Xa=0,fi=0;fi<Hi;fi++)if(Or=fi===0?po(ue):-rr,gr=fi===0?da(V):Xa,fi<Hi-1){var Ka=j((qt-Ta[fi])/(nt[fi].split(" ").length-1)),Ti=nt[fi].split(" ");A.push([Ti[0]+" ",gr,Or]),Xa=0;for(var Qr=1;Qr<Ti.length;Qr++){var Ol=(Fs(Ti[Qr-1]+" "+Ti[Qr])-Fs(Ti[Qr]))*Ya+Ka;Qr==Ti.length-1?A.push([Ti[Qr],Ol,0]):A.push([Ti[Qr]+" ",Ol,0]),Xa-=Ol}}else A.push([nt[fi],gr,Or]);A.push(["",Xa,0])}else{if(bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Hi=nt.length,qt=qt!==0?qt:Is,fi=0;fi<Hi;fi++)Or=fi===0?po(ue):-rr,gr=fi===0?da(V):0,fi<Hi-1?Xo.push(Q(j((qt-Ta[fi])/(nt[fi].split(" ").length-1)))):Xo.push(0),A.push([nt[fi],gr,Or])}}var go=typeof ye.R2L=="boolean"?ye.R2L:at;go===!0&&(A=Wo(A,function(sn,ln,qn){return[sn.split("").reverse().join(""),ln,qn]})),$e={text:A,x:V,y:ue,options:ye,mutex:{pdfEscape:Yn,activeFontKey:Xt,fonts:on,activeFontSize:Ie}},An.publish("postProcessText",$e),A=$e.text,Ga=$e.mutex.isHex||!1;var jc=on[Xt].encoding;jc!=="WinAnsiEncoding"&&jc!=="StandardEncoding"||(A=Wo(A,function(sn,ln,qn){return[ff(sn),ln,qn]})),nt=Yo(A),A=[];for(var Hs,Us,qs,Bl=0,Ic=1,Vs=Array.isArray(nt[0])?Ic:Bl,Ko="",kl=function(sn,ln,qn){var wi="";return qn instanceof wt?(qn=typeof ye.angle=="number"?Un(qn,new wt(1,0,0,1,sn,ln)):Un(new wt(1,0,0,1,sn,ln),qn),M===L.ADVANCED&&(qn=Un(new wt(1,0,0,-1,0,0),qn)),wi=qn.join(" ")+` Tm
`):wi=Q(sn)+" "+Q(ln)+` Td
`,wi},hi=0;hi<nt.length;hi++){switch(Ko="",Vs){case Ic:qs=(Ga?"<":"(")+nt[hi][0]+(Ga?">":")"),Hs=parseFloat(nt[hi][1]),Us=parseFloat(nt[hi][2]);break;case Bl:qs=(Ga?"<":"(")+nt[hi]+(Ga?">":")"),Hs=da(V),Us=po(ue)}Xo!==void 0&&Xo[hi]!==void 0&&(Ko=Xo[hi]+` Tw
`),hi===0?A.push(Ko+kl(Hs,Us,ti)+qs):Vs===Bl?A.push(Ko+qs):Vs===Ic&&A.push(Ko+kl(Hs,Us,ti)+qs)}A=Vs===Bl?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var ga=`BT
/`;return ga+=Xt+" "+Ie+` Tf
`,ga+=Q(Ie*ma)+` TL
`,ga+=Rl+`
`,ga+=ir,ga+=A,$(ga+="ET"),v[Xt]=!0,bi};var _h=g.__private__.clip=g.clip=function(A){return $(A==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return _h("evenodd")},g.__private__.discardPath=g.discardPath=function(){return $("n"),this};var Xr=g.__private__.isValidStyle=function(A){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(V=!0),V};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(A){return Xr(A)&&(f=A),this};var Na=g.__private__.getStyle=g.getStyle=function(A){var V=f;switch(A){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=A}return V},Sc=g.close=function(){return $("h"),this};g.stroke=function(){return $("S"),this},g.fill=function(A){return uo("f",A),this},g.fillEvenOdd=function(A){return uo("f*",A),this},g.fillStroke=function(A){return uo("B",A),this},g.fillStrokeEvenOdd=function(A){return uo("B*",A),this};var uo=function(A,V){Hn(V)==="object"?Ac(V,A):$(A)},Ca=function(A){A===null||M===L.ADVANCED&&A===void 0||(A=Na(A),$(A))};function of(A,V,ue,ye,Pe){var $e=new fp(V||this.boundingBox,ue||this.xStep,ye||this.yStep,this.gState,Pe||this.matrix);$e.stream=this.stream;var nt=A+"$$"+this.cloneIndex+++"$$";return zi(nt,$e),$e}var Ac=function(A,V){var ue=ca[A.key],ye=bn[ue];if(ye instanceof qf)$("q"),$(wh(V)),ye.gState&&g.setGState(ye.gState),$(A.matrix.toString()+" cm"),$("/"+ue+" sh"),$("Q");else if(ye instanceof fp){var Pe=new wt(1,0,0,-1,0,Bs());A.matrix&&(Pe=Pe.multiply(A.matrix||ei),ue=of.call(ye,A.key,A.boundingBox,A.xStep,A.yStep,Pe).id),$("q"),$("/Pattern cs"),$("/"+ue+" scn"),ye.gState&&g.setGState(ye.gState),$(V),$("Q")}},wh=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ps=g.moveTo=function(A,V){return $(Q(j(A))+" "+Q(oe(V))+" m"),this},fo=g.lineTo=function(A,V){return $(Q(j(A))+" "+Q(oe(V))+" l"),this},Go=g.curveTo=function(A,V,ue,ye,Pe,$e){return $([Q(j(A)),Q(oe(V)),Q(j(ue)),Q(oe(ye)),Q(j(Pe)),Q(oe($e)),"c"].join(" ")),this};g.__private__.line=g.line=function(A,V,ue,ye,Pe){if(isNaN(A)||isNaN(V)||isNaN(ue)||isNaN(ye)||!Xr(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return M===L.COMPAT?this.lines([[ue-A,ye-V]],A,V,[1,1],Pe||"S"):this.lines([[ue-A,ye-V]],A,V,[1,1]).stroke()},g.__private__.lines=g.lines=function(A,V,ue,ye,Pe,$e){var nt,ht,bt,$t,qt,gn,Kn,ti,bi,_i,ir,Ga;if(typeof A=="number"&&(Ga=ue,ue=V,V=A,A=Ga),ye=ye||[1,1],$e=$e||!1,isNaN(V)||isNaN(ue)||!Array.isArray(A)||!Array.isArray(ye)||!Xr(Pe)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ps(V,ue),nt=ye[0],ht=ye[1],$t=A.length,_i=V,ir=ue,bt=0;bt<$t;bt++)(qt=A[bt]).length===2?(_i=qt[0]*nt+_i,ir=qt[1]*ht+ir,fo(_i,ir)):(gn=qt[0]*nt+_i,Kn=qt[1]*ht+ir,ti=qt[2]*nt+_i,bi=qt[3]*ht+ir,_i=qt[4]*nt+_i,ir=qt[5]*ht+ir,Go(gn,Kn,ti,bi,_i,ir));return $e&&Sc(),Ca(Pe),this},g.path=function(A){for(var V=0;V<A.length;V++){var ue=A[V],ye=ue.c;switch(ue.op){case"m":Ps(ye[0],ye[1]);break;case"l":fo(ye[0],ye[1]);break;case"c":Go.apply(this,ye);break;case"h":Sc()}}return this},g.__private__.rect=g.rect=function(A,V,ue,ye,Pe){if(isNaN(A)||isNaN(V)||isNaN(ue)||isNaN(ye)||!Xr(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return M===L.COMPAT&&(ye=-ye),$([Q(j(A)),Q(oe(V)),Q(j(ue)),Q(j(ye)),"re"].join(" ")),Ca(Pe),this},g.__private__.triangle=g.triangle=function(A,V,ue,ye,Pe,$e,nt){if(isNaN(A)||isNaN(V)||isNaN(ue)||isNaN(ye)||isNaN(Pe)||isNaN($e)||!Xr(nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-A,ye-V],[Pe-ue,$e-ye],[A-Pe,V-$e]],A,V,[1,1],nt,!0),this},g.__private__.roundedRect=g.roundedRect=function(A,V,ue,ye,Pe,$e,nt){if(isNaN(A)||isNaN(V)||isNaN(ue)||isNaN(ye)||isNaN(Pe)||isNaN($e)||!Xr(nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ht=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*ue),$e=Math.min($e,.5*ye),this.lines([[ue-2*Pe,0],[Pe*ht,0,Pe,$e-$e*ht,Pe,$e],[0,ye-2*$e],[0,$e*ht,-Pe*ht,$e,-Pe,$e],[2*Pe-ue,0],[-Pe*ht,0,-Pe,-$e*ht,-Pe,-$e],[0,2*$e-ye],[0,-$e*ht,Pe*ht,-$e,Pe,-$e]],A+Pe,V,[1,1],nt,!0),this},g.__private__.ellipse=g.ellipse=function(A,V,ue,ye,Pe){if(isNaN(A)||isNaN(V)||isNaN(ue)||isNaN(ye)||!Xr(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*ue,nt=4/3*(Math.SQRT2-1)*ye;return Ps(A+ue,V),Go(A+ue,V-nt,A+$e,V-ye,A,V-ye),Go(A-$e,V-ye,A-ue,V-nt,A-ue,V),Go(A-ue,V+nt,A-$e,V+ye,A,V+ye),Go(A+$e,V+ye,A+ue,V+nt,A+ue,V),Ca(Pe),this},g.__private__.circle=g.circle=function(A,V,ue,ye){if(isNaN(A)||isNaN(V)||isNaN(ue)||!Xr(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,V,ue,ue,ye)},g.setFont=function(A,V,ue){return ue&&(V=W(V,ue)),Xt=tf(A,V,{disableWarning:!1}),this};var Sr=g.__private__.getFont=g.getFont=function(){return on[tf.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var A,V,ue={};for(A in Sn)if(Sn.hasOwnProperty(A))for(V in ue[A]=[],Sn[A])Sn[A].hasOwnProperty(V)&&ue[A].push(V);return ue},g.addFont=function(A,V,ue,ye,Pe){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(ue=W(ue,ye)),Pe=Pe||"Identity-H",Ts.call(this,A,V,ue,Pe)};var pa,Ls=e.lineWidth||.200025,ho=g.__private__.getLineWidth=g.getLineWidth=function(){return Ls},xh=g.__private__.setLineWidth=g.setLineWidth=function(A){return Ls=A,$(Q(j(A))+" w"),this};g.__private__.setLineDash=kt.API.setLineDash=kt.API.setLineDashPattern=function(A,V){if(A=A||[],V=V||0,isNaN(V)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ue){return Q(j(ue))}).join(" "),V=Q(j(V)),$("["+A+"] "+V+" d"),this};var Nc=g.__private__.getLineHeight=g.getLineHeight=function(){return Ie*pa};g.__private__.getLineHeight=g.getLineHeight=function(){return Ie*pa};var Cc=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(pa=A),this},Ds=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return pa};Cc(e.lineHeight);var da=g.__private__.getHorizontalCoordinate=function(A){return j(A)},po=g.__private__.getVerticalCoordinate=function(A){return M===L.ADVANCED?A:Ut[F].mediaBox.topRightY-Ut[F].mediaBox.bottomLeftY-j(A)},Gp=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(A){return Q(da(A))},Os=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(A){return Q(po(A))},$a=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return xr($a)},g.__private__.setStrokeColor=g.setDrawColor=function(A,V,ue,ye){return $a=Er({ch1:A,ch2:V,ch3:ue,ch4:ye,pdfColorType:"draw",precision:2}),$($a),this};var Tl=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return xr(Tl)},g.__private__.setFillColor=g.setFillColor=function(A,V,ue,ye){return Tl=Er({ch1:A,ch2:V,ch3:ue,ch4:ye,pdfColorType:"fill",precision:2}),$(Tl),this};var Rl=e.textColor||"0 g",Yp=g.__private__.getTextColor=g.getTextColor=function(){return xr(Rl)};g.__private__.setTextColor=g.setTextColor=function(A,V,ue,ye){return Rl=Er({ch1:A,ch2:V,ch3:ue,ch4:ye,pdfColorType:"text",precision:3}),this};var Tc=e.charSpace,Wp=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Tc||0)};g.__private__.setCharSpace=g.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Tc=A,this};var sf=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(A){var V=g.CapJoinStyles[A];if(V===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sf=V,$(V+" J"),this};var Rc=0;g.__private__.setLineJoin=g.setLineJoin=function(A){var V=g.CapJoinStyles[A];if(V===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rc=V,$(V+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return $(Q(j(A))+" M"),this},g.GState=cy,g.setGState=function(A){(A=typeof A=="string"?On[dr[A]]:Eh(null,A)).equals(Bn)||($("/"+A.id+" gs"),Bn=A)};var Eh=function(A,V){if(!A||!dr[A]){var ue=!1;for(var ye in On)if(On.hasOwnProperty(ye)&&On[ye].equals(V)){ue=!0;break}if(ue)V=On[ye];else{var Pe="GS"+(Object.keys(On).length+1).toString(10);On[Pe]=V,V.id=Pe}return A&&(dr[A]=V.id),An.publish("addGState",V),V}};g.addGState=function(A,V){return Eh(A,V),this},g.saveGraphicsState=function(){return $("q"),tr.push({key:Xt,size:Ie,color:Rl}),this},g.restoreGraphicsState=function(){$("Q");var A=tr.pop();return Xt=A.key,Ie=A.size,Rl=A.color,Bn=null,this},g.setCurrentTransformationMatrix=function(A){return $(A.toString()+" cm"),this},g.comment=function(A){return $("#"+A),this};var Mc=function(A,V){var ue=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function($e){isNaN($e)||(ue=parseFloat($e))}});var ye=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function($e){isNaN($e)||(ye=parseFloat($e))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function($e){Pe=$e.toString()}}),this},lf=function(A,V,ue,ye){Mc.call(this,A,V),this.type="rect";var Pe=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(nt){isNaN(nt)||(Pe=parseFloat(nt))}});var $e=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(nt){isNaN(nt)||($e=parseFloat(nt))}}),this},cf=function(){this.page=ci,this.currentPage=F,this.pages=te.slice(0),this.pagesContext=Ut.slice(0),this.x=vi,this.y=rn,this.matrix=pr,this.width=Ml(F),this.height=Bs(F),this.outputDestination=Ae,this.id="",this.objectNumber=-1};cf.prototype.restore=function(){ci=this.page,F=this.currentPage,Ut=this.pagesContext,te=this.pages,vi=this.x,rn=this.y,pr=this.matrix,Dc(F,this.width),uf(F,this.height),Ae=this.outputDestination};var Pc=function(A,V,ue,ye,Pe){co.push(new cf),ci=F=0,te=[],vi=A,rn=V,pr=Pe,Cl([ue,ye])},Xp=function(A){if(Ua[A])co.pop().restore();else{var V=new cf,ue="Xo"+(Object.keys(Fi).length+1).toString(10);V.id=ue,Ua[A]=ue,Fi[ue]=V,An.publish("addFormObject",V),co.pop().restore()}};for(var Lc in g.beginFormObject=function(A,V,ue,ye,Pe){return Pc(A,V,ue,ye,Pe),this},g.endFormObject=function(A){return Xp(A),this},g.doFormObject=function(A,V){var ue=Fi[Ua[A]];return $("q"),$(V.toString()+" cm"),$("/"+ue.id+" Do"),$("Q"),this},g.getFormObject=function(A){var V=Fi[Ua[A]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},g.save=function(A,V){return A=A||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(zf(xc(qo()),A),typeof zf.unload=="function"&&It.setTimeout&&setTimeout(zf.unload,911),this):new Promise(function(ue,ye){try{var Pe=zf(xc(qo()),A);typeof zf.unload=="function"&&It.setTimeout&&setTimeout(zf.unload,911),ue(Pe)}catch($e){ye($e.message)}})},kt.API)kt.API.hasOwnProperty(Lc)&&(Lc==="events"&&kt.API.events.length?function(A,V){var ue,ye,Pe;for(Pe=V.length-1;Pe!==-1;Pe--)ue=V[Pe][0],ye=V[Pe][1],A.subscribe.apply(A,[ue].concat(typeof ye=="function"?[ye]:ye))}(An,kt.API.events):g[Lc]=kt.API[Lc]);var Ml=g.getPageWidth=function(A){return(Ut[A=A||F].mediaBox.topRightX-Ut[A].mediaBox.bottomLeftX)/ct},Dc=g.setPageWidth=function(A,V){Ut[A].mediaBox.topRightX=V*ct+Ut[A].mediaBox.bottomLeftX},Bs=g.getPageHeight=function(A){return(Ut[A=A||F].mediaBox.topRightY-Ut[A].mediaBox.bottomLeftY)/ct},uf=g.setPageHeight=function(A,V){Ut[A].mediaBox.topRightY=V*ct+Ut[A].mediaBox.bottomLeftY};return g.internal={pdfEscape:Yn,getStyle:Na,getFont:Sr,getFontSize:Ye,getCharSpace:Wp,getTextColor:Yp,getLineHeight:Nc,getLineHeightFactor:Ds,getLineWidth:ho,write:Le,getHorizontalCoordinate:da,getVerticalCoordinate:po,getCoordinateString:Gp,getVerticalCoordinateString:Os,collections:{},newObject:yi,newAdditionalObject:El,newObjectDeferred:Ci,newObjectDeferredBegin:ua,getFilters:Yr,putStream:mr,events:An,scaleFactor:ct,pageSize:{getWidth:function(){return Ml(F)},setWidth:function(A){Dc(F,A)},getHeight:function(){return Bs(F)},setHeight:function(A){uf(F,A)}},encryptionOptions:p,encryption:nr,getEncryptor:Ms,output:Vo,getNumberOfPages:vh,pages:te,out:$,f2:le,f3:H,getPageInfo:$o,getPageInfoByObjId:zt,getCurrentPageInfo:af,getPDFVersion:x,Point:Mc,Rectangle:lf,Matrix:wt,hasHotfix:Ec},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return Ml(F)},set:function(A){Dc(F,A)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Bs(F)},set:function(A){uf(F,A)},enumerable:!0,configurable:!0}),gh.call(g,je),Xt="F1",Ju(r,n),An.publish("initialized"),g}cp.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},cp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},cp.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},cp.prototype.processOwnerPassword=function(e,t){return sb(ob(t).substr(0,5),e)},cp.prototype.encryptor=function(e,t){var n=ob(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return sb(n,i)}},cy.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Hn(e)!==Hn(this))return!1;var i=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;i++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&i--;return i===0},kt.API={events:[]},kt.version="3.0.1";var Di=kt.API,u_=1,fh=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Kt=function(e){return e.toFixed(2)},vu=function(e){return e.toFixed(5)};Di.__acroform__={};var Ha=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},kS=function(e){return e*u_},ol=function(e){var t=new IC,n=vt.internal.getHeight(e)||0,i=vt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Kt(i)),Number(Kt(n))],t},UF=Di.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},qF=Di.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},VF=Di.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},Xi=Di.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return VF(e,t-1)},Ki=Di.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return UF(e,t-1)},Zi=Di.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return qF(e,t-1)},$F=Di.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=e[0],a=e[1],s=e[2],l=e[3],u={};return u.lowerLeft_X=n(r)||0,u.lowerLeft_Y=i(a+l)||0,u.upperRight_X=n(r+s)||0,u.upperRight_Y=i(a)||0,[Number(Kt(u.lowerLeft_X)),Number(Kt(u.lowerLeft_Y)),Number(Kt(u.upperRight_X)),Number(Kt(u.upperRight_Y))]},GF=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=lb(e,n),r=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+r+" "+Kt(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=ol(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},lb=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},r=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");r=e.multiline?r.map(function(H){return H.split(`
`)}):r.map(function(H){return[H]});var a=n,s=vt.internal.getHeight(e)||0;s=s<0?-s:s;var l=vt.internal.getWidth(e)||0;l=l<0?-l:l;var u=function(H,j,ae){if(H+1<r.length){var oe=j+" "+r[H+1][0];return _v(oe,e,ae).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var f,p,d=_v("3",e,a).height,v=e.multiline?s-a:(s-d)/2,g=v+=2,w=0,x=0,E=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+_v(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var R="",L=0,M=0;M<r.length;M++)if(r.hasOwnProperty(M)){var P=!1;if(r[M].length!==1&&E!==r[M].length-1){if((d+2)*(L+2)+2>s)continue e;R+=r[M][E],P=!0,x=M,M--}else{R=(R+=r[M][E]+" ").substr(R.length-1)==" "?R.substr(0,R.length-1):R;var k=parseInt(M),W=u(k,R,a),Q=M>=r.length-1;if(W&&!Q){R+=" ",E=0;continue}if(W||Q){if(Q)x=k;else if(e.multiline&&(d+2)*(L+2)+2>s)continue e}else{if(!e.multiline||(d+2)*(L+2)+2>s)continue e;x=k}}for(var z="",ie=w;ie<=x;ie++){var le=r[ie];if(e.multiline){if(ie===x){z+=le[E]+" ",E=(E+1)%le.length;continue}if(ie===w){z+=le[le.length-1]+" ";continue}}z+=le[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,p=_v(z,e,a).width,e.textAlign){case"right":f=l-p-2;break;case"center":f=(l-p)/2;break;case"left":default:f=2}t+=Kt(f)+" "+Kt(g)+` Td
`,t+="("+fh(z)+`) Tj
`,t+=-Kt(f)+` 0 Td
`,g=-(a+2),p=0,w=P?x:x+1,L++,R=""}break}return i.text=t,i.fontSize=a,i},_v=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},YF={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},WF=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},XF=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=n,r=e[n];t.internal.newObjectDeferredBegin(r.objId,!0),Hn(r)==="object"&&typeof r.putStream=="function"&&r.putStream(),delete e[i]}},KF=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Es.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(YF)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");u_=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new FC,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];a.objId=void 0,a.hasAnnotation&&WF(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(i,r){var a=!i;for(var s in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var l=i[s],u=[],f=l.Rect;if(l.Rect&&(l.Rect=$F(l.Rect,r)),r.internal.newObjectDeferredBegin(l.objId,!0),l.DA=vt.createDefaultAppearanceStream(l),Hn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(u=l.getKeyValueListForStream()),l.Rect=f,l.hasAppearanceStream&&!l.appearanceStreamContent){var p=GF(l);u.push({key:"AP",value:"<</N "+p+">>"}),r.internal.acroformPlugin.xForms.push(p)}if(l.appearanceStreamContent){var d="";for(var v in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(v)){var g=l.appearanceStreamContent[v];if(d+="/"+v+" ",d+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var s in g)if(g.hasOwnProperty(s)){var w=g[s];typeof w=="function"&&(w=w.call(r,l)),d+="/"+s+" "+w+" ",r.internal.acroformPlugin.xForms.indexOf(w)>=0||r.internal.acroformPlugin.xForms.push(w)}}else typeof(w=g)=="function"&&(w=w.call(r,l)),d+="/"+s+" "+w,r.internal.acroformPlugin.xForms.indexOf(w)>=0||r.internal.acroformPlugin.xForms.push(w);d+=">>"}u.push({key:"AP",value:`<<
`+d+">>"})}r.internal.putStream({additionalKeyValues:u,objectId:l.objId}),r.internal.out("endobj")}a&&XF(r.internal.acroformPlugin.xForms,r)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},jC=Di.__acroform__.arrayToPdfArray=function(e,t,n){var i=function(s){return s};if(Array.isArray(e)){for(var r="[",a=0;a<e.length;a++)switch(a!==0&&(r+=" "),Hn(e[a])){case"boolean":case"number":case"object":r+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(i=n.internal.getEncryptor(t)),r+="("+fh(i(e[a].toString()))+")"):r+=e[a].toString()}return r+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},u2=function(e,t,n){var i=function(r){return r};return t!==void 0&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+fh(i(e))+")"},fl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fl.prototype.toString=function(){return this.objId+" 0 R"},fl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},fl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var i=t[n],r=this[i];r&&(Array.isArray(r)?e.push({key:i,value:jC(r,this.objId,this.scope)}):r instanceof fl?(r.scope=this.scope,e.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&e.push({key:i,value:r}))}return e};var IC=function(){fl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Ha(IC,fl);var FC=function(){fl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+fh(n(e))+")"}},set:function(n){e=n}})};Ha(FC,fl);var Es=function e(){fl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute F supplied.');t=R}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Xi(t,3)},set:function(R){R?this.F=Ki(t,3):this.F=Zi(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(R){if(isNaN(R))throw new Error('Invalid value "'+R+'" for attribute Ff supplied.');n=R}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(R){i=R!==void 0?R:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(R){i[0]=R}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(R){i[1]=R}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(R){i[2]=R}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(R){i[3]=R}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(R){switch(R){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=R;break;default:throw new Error('Invalid value "'+R+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof uy)return;a="FieldObject"+e.FieldNum++}var R=function(L){return L};return this.scope&&(R=this.scope.internal.getEncryptor(this.objId)),"("+fh(R(a))+")"},set:function(R){a=R.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(R){a=R}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(R){s=R}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(R){l=R}});var u=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return u},set:function(R){u=R}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/u_:f},set:function(R){f=R}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(R){p=R}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof uy||this instanceof Wf))return u2(d,this.objId,this.scope)},set:function(R){R=R.toString(),d=R}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Rr?v:u2(v,this.objId,this.scope)},set:function(R){R=R.toString(),v=this instanceof Rr?R:R.substr(0,1)==="("?sp(R.substr(1,R.length-2)):sp(R)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rr?sp(v.substr(1,v.length-1)):v},set:function(R){R=R.toString(),v=this instanceof Rr?"/"+R:R}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(R){this.V=R}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Rr?g:u2(g,this.objId,this.scope)},set:function(R){R=R.toString(),g=this instanceof Rr?R:R.substr(0,1)==="("?sp(R.substr(1,R.length-2)):sp(R)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rr?sp(g.substr(1,g.length-1)):g},set:function(R){R=R.toString(),g=this instanceof Rr?"/"+R:R}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(R){R=!!R,x=R}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(R){w=R}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,1)},set:function(R){R?this.Ff=Ki(this.Ff,1):this.Ff=Zi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,2)},set:function(R){R?this.Ff=Ki(this.Ff,2):this.Ff=Zi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,3)},set:function(R){R?this.Ff=Ki(this.Ff,3):this.Ff=Zi(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(R){if([0,1,2].indexOf(R)===-1)throw new Error('Invalid value "'+R+'" for attribute Q supplied.');E=R}}),Object.defineProperty(this,"textAlign",{get:function(){var R;switch(E){case 0:default:R="left";break;case 1:R="center";break;case 2:R="right"}return R},configurable:!0,enumerable:!0,set:function(R){switch(R){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};Ha(Es,fl);var hp=function(){Es.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return jC(t,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(a,s,l){l||(l=1);for(var u,f=[];u=s.exec(a);)f.push(u[l]);return f}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,18)},set:function(n){n?this.Ff=Ki(this.Ff,18):this.Ff=Zi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ki(this.Ff,19):this.Ff=Zi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,20)},set:function(n){n?(this.Ff=Ki(this.Ff,20),t.sort()):this.Ff=Zi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,22)},set:function(n){n?this.Ff=Ki(this.Ff,22):this.Ff=Zi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(n){n?this.Ff=Ki(this.Ff,23):this.Ff=Zi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,27)},set:function(n){n?this.Ff=Ki(this.Ff,27):this.Ff=Zi(this.Ff,27)}}),this.hasAppearanceStream=!1};Ha(hp,Es);var pp=function(){hp.call(this),this.fontName="helvetica",this.combo=!1};Ha(pp,hp);var dp=function(){pp.call(this),this.combo=!0};Ha(dp,pp);var zv=function(){dp.call(this),this.edit=!0};Ha(zv,dp);var Rr=function(){Es.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,15)},set:function(n){n?this.Ff=Ki(this.Ff,15):this.Ff=Zi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,16)},set:function(n){n?this.Ff=Ki(this.Ff,16):this.Ff=Zi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,17)},set:function(n){n?this.Ff=Ki(this.Ff,17):this.Ff=Zi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(n){n?this.Ff=Ki(this.Ff,26):this.Ff=Zi(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+fh(n(t[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){Hn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Ha(Rr,Es);var Hv=function(){Rr.call(this),this.pushButton=!0};Ha(Hv,Rr);var mp=function(){Rr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ha(mp,Rr);var uy=function(){var e,t;Es.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(l){return l};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),i)s.push("/"+a+" ("+fh(r(i[a]))+")");return s.push(">>"),s.join(`
`)},set:function(r){Hn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ha(uy,Es),mp.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},mp.prototype.createOption=function(e){var t=new uy;return t.Parent=this,t.optionName=e,this.Kids.push(t),ZF.call(this.scope,t),t};var Uv=function(){Rr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vt.CheckBox.createAppearanceStream()};Ha(Uv,Rr);var Wf=function(){Es.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,13)},set:function(t){t?this.Ff=Ki(this.Ff,13):this.Ff=Zi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,21)},set:function(t){t?this.Ff=Ki(this.Ff,21):this.Ff=Zi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,23)},set:function(t){t?this.Ff=Ki(this.Ff,23):this.Ff=Zi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,24)},set:function(t){t?this.Ff=Ki(this.Ff,24):this.Ff=Zi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,25)},set:function(t){t?this.Ff=Ki(this.Ff,25):this.Ff=Zi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,26)},set:function(t){t?this.Ff=Ki(this.Ff,26):this.Ff=Zi(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ha(Wf,Es);var qv=function(){Wf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Xi(this.Ff,14)},set:function(e){e?this.Ff=Ki(this.Ff,14):this.Ff=Zi(this.Ff,14)}}),this.password=!0};Ha(qv,Wf);var vt={CheckBox:{createAppearanceStream:function(){return{N:{On:vt.CheckBox.YesNormal},D:{On:vt.CheckBox.YesPushDown,Off:vt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ol(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=lb(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Kt(vt.internal.getWidth(e))+" "+Kt(vt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Kt(a.fontSize)+" Tf "+r),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=ol(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),r=[],a=vt.internal.getHeight(e),s=vt.internal.getWidth(e),l=lb(e,e.caption);return r.push("1 g"),r.push("0 0 "+Kt(s)+" "+Kt(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Kt(s-1)+" "+Kt(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+Kt(l.fontSize)+" Tf "+i),r.push(l.text),r.push("ET"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ol(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Kt(vt.internal.getWidth(e))+" "+Kt(vt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:vt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=vt.RadioButton.Circle.YesNormal,t.D[e]=vt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ol(e);t.scope=e.scope;var n=[],i=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=vt.internal.Bezier_C,a=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+vu(vt.internal.getWidth(e)/2)+" "+vu(vt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ol(e);t.scope=e.scope;var n=[],i=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*vt.internal.Bezier_C).toFixed(5)),s=Number((i*vt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+vu(vt.internal.getWidth(e)/2)+" "+vu(vt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+vu(vt.internal.getWidth(e)/2)+" "+vu(vt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ol(e);t.scope=e.scope;var n=[],i=vt.internal.getWidth(e)<=vt.internal.getHeight(e)?vt.internal.getWidth(e)/4:vt.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*vt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+vu(vt.internal.getWidth(e)/2)+" "+vu(vt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:vt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=vt.RadioButton.Cross.YesNormal,t.D[e]=vt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ol(e);t.scope=e.scope;var n=[],i=vt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Kt(vt.internal.getWidth(e)-2)+" "+Kt(vt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Kt(i.x1.x)+" "+Kt(i.x1.y)+" m"),n.push(Kt(i.x2.x)+" "+Kt(i.x2.y)+" l"),n.push(Kt(i.x4.x)+" "+Kt(i.x4.y)+" m"),n.push(Kt(i.x3.x)+" "+Kt(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ol(e);t.scope=e.scope;var n=vt.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+Kt(vt.internal.getWidth(e))+" "+Kt(vt.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Kt(vt.internal.getWidth(e)-2)+" "+Kt(vt.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(Kt(n.x1.x)+" "+Kt(n.x1.y)+" m"),i.push(Kt(n.x2.x)+" "+Kt(n.x2.y)+" l"),i.push(Kt(n.x4.x)+" "+Kt(n.x4.y)+" m"),i.push(Kt(n.x3.x)+" "+Kt(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=ol(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Kt(vt.internal.getWidth(e))+" "+Kt(vt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};vt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=vt.internal.getWidth(e),n=vt.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},vt.internal.getWidth=function(e){var t=0;return Hn(e)==="object"&&(t=kS(e.Rect[2])),t},vt.internal.getHeight=function(e){var t=0;return Hn(e)==="object"&&(t=kS(e.Rect[3])),t};var ZF=Di.addField=function(e){if(KF(this,e),!(e instanceof Es))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Di.AcroFormChoiceField=hp,Di.AcroFormListBox=pp,Di.AcroFormComboBox=dp,Di.AcroFormEditBox=zv,Di.AcroFormButton=Rr,Di.AcroFormPushButton=Hv,Di.AcroFormRadioButton=mp,Di.AcroFormCheckBox=Uv,Di.AcroFormTextField=Wf,Di.AcroFormPasswordField=qv,Di.AcroFormAppearance=vt,Di.AcroForm={ChoiceField:hp,ListBox:pp,ComboBox:dp,EditBox:zv,Button:Rr,PushButton:Hv,RadioButton:mp,CheckBox:Uv,TextField:Wf,PasswordField:qv,Appearance:vt},kt.AcroForm={ChoiceField:hp,ListBox:pp,ComboBox:dp,EditBox:zv,Button:Rr,PushButton:Hv,RadioButton:mp,CheckBox:Uv,TextField:Wf,PasswordField:qv,Appearance:vt};kt.AcroForm;function zC(e){return e.reduce(function(t,n,i){return t[n]=i,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(H,j){var ae,oe,xe,re,fe,pe=t;if((j=j||t)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(W(H))for(fe in n)for(xe=n[fe],ae=0;ae<xe.length;ae+=1){for(re=!0,oe=0;oe<xe[ae].length;oe+=1)if(xe[ae][oe]!==void 0&&xe[ae][oe]!==H[oe]){re=!1;break}if(re===!0){pe=fe;break}}else for(fe in n)for(xe=n[fe],ae=0;ae<xe.length;ae+=1){for(re=!0,oe=0;oe<xe[ae].length;oe+=1)if(xe[ae][oe]!==void 0&&xe[ae][oe]!==H.charCodeAt(oe)){re=!1;break}if(re===!0){pe=fe;break}}return pe===t&&j!==t&&(pe=j),pe},r=function H(j){for(var ae=this.internal.write,oe=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:j.width}),re.push({key:"Height",value:j.height}),j.colorSpace===E.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===E.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var fe="",pe=0,Ee=j.transparency.length;pe<Ee;pe++)fe+=j.transparency[pe]+" "+j.transparency[pe]+" ";re.push({key:"Mask",value:"["+fe+"]"})}j.sMask!==void 0&&re.push({key:"SMask",value:j.objectId+1+" 0 R"});var Y=j.filter!==void 0?["/"+j.filter]:void 0;if(oe({data:j.data,additionalKeyValues:re,alreadyAppliedFilters:Y,objectId:j.objectId}),ae("endobj"),"sMask"in j&&j.sMask!==void 0){var ge="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,O={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:ge,data:j.sMask};"filter"in j&&(O.filter=j.filter),H.call(this,O)}if(j.colorSpace===E.INDEXED){var F=this.internal.newObject();oe({data:z(new Uint8Array(j.palette)),objectId:F}),ae("endobj")}},a=function(){var H=this.internal.collections.addImage_images;for(var j in H)r.call(this,H[j])},s=function(){var H,j=this.internal.collections.addImage_images,ae=this.internal.write;for(var oe in j)ae("/I"+(H=j[oe]).index,H.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",s))},u=function(){var H=this.internal.collections.addImage_images;return l.call(this),H},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(H){return typeof e["process"+H.toUpperCase()]=="function"},d=function(H){return Hn(H)==="object"&&H.nodeType===1},v=function(H,j){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var ae=""+H.getAttribute("src");if(ae.indexOf("data:image/")===0)return rm(unescape(ae).split("base64,").pop());var oe=e.loadFile(ae,!0);if(oe!==void 0)return oe}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var xe;switch(j){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;case"JPEG":case"JPG":default:xe="image/jpeg"}return rm(H.toDataURL(xe,1).split("base64,").pop())}},g=function(H){var j=this.internal.collections.addImage_images;if(j){for(var ae in j)if(H===j[ae].alias)return j[ae]}},w=function(H,j,ae){return H||j||(H=-96,j=-96),H<0&&(H=-1*ae.width*72/H/this.internal.scaleFactor),j<0&&(j=-1*ae.height*72/j/this.internal.scaleFactor),H===0&&(H=j*ae.width/ae.height),j===0&&(j=H*ae.height/ae.width),[H,j]},x=function(H,j,ae,oe,xe,re){var fe=w.call(this,ae,oe,xe),pe=this.internal.getCoordinateString,Ee=this.internal.getVerticalCoordinateString,Y=u.call(this);if(ae=fe[0],oe=fe[1],Y[xe.index]=xe,re){re*=Math.PI/180;var ge=Math.cos(re),O=Math.sin(re),F=function(se){return se.toFixed(4)},K=[F(ge),F(O),F(-1*O),F(ge),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,pe(H),Ee(j+oe),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([pe(ae),"0","0",pe(oe),"0","0","cm"].join(" "))):this.internal.write([pe(ae),"0","0",pe(oe),pe(H),Ee(j+oe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},E=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var R=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},L=e.__addimage__.sHashCode=function(H){var j,ae,oe=0;if(typeof H=="string")for(ae=H.length,j=0;j<ae;j++)oe=(oe<<5)-oe+H.charCodeAt(j),oe|=0;else if(W(H))for(ae=H.byteLength/2,j=0;j<ae;j++)oe=(oe<<5)-oe+H[j],oe|=0;return oe},M=e.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var j=!0;return H.length===0&&(j=!1),H.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(j=!1),j},P=e.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var j=H.indexOf(",");return j<0?null:H.substring(0,j).trim().endsWith("base64")?H.substring(j+1):null},k=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(H){return k()&&H instanceof ArrayBuffer};var W=e.__addimage__.isArrayBufferView=function(H){return k()&&typeof Uint32Array<"u"&&(H instanceof Int8Array||H instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array)},Q=e.__addimage__.binaryStringToUint8Array=function(H){for(var j=H.length,ae=new Uint8Array(j),oe=0;oe<j;oe++)ae[oe]=H.charCodeAt(oe);return ae},z=e.__addimage__.arrayBufferToBinaryString=function(H){for(var j="",ae=W(H)?H:new Uint8Array(H),oe=0;oe<ae.length;oe+=8192)j+=String.fromCharCode.apply(null,ae.subarray(oe,oe+8192));return j};e.addImage=function(){var H,j,ae,oe,xe,re,fe,pe,Ee;if(typeof arguments[1]=="number"?(j=t,ae=arguments[1],oe=arguments[2],xe=arguments[3],re=arguments[4],fe=arguments[5],pe=arguments[6],Ee=arguments[7]):(j=arguments[1],ae=arguments[2],oe=arguments[3],xe=arguments[4],re=arguments[5],fe=arguments[6],pe=arguments[7],Ee=arguments[8]),Hn(H=arguments[0])==="object"&&!d(H)&&"imageData"in H){var Y=H;H=Y.imageData,j=Y.format||j||t,ae=Y.x||ae||0,oe=Y.y||oe||0,xe=Y.w||Y.width||xe,re=Y.h||Y.height||re,fe=Y.alias||fe,pe=Y.compression||pe,Ee=Y.rotation||Y.angle||Ee}var ge=this.internal.getFilters();if(pe===void 0&&ge.indexOf("FlateEncode")!==-1&&(pe="SLOW"),isNaN(ae)||isNaN(oe))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var O=ie.call(this,H,j,fe,pe);return x.call(this,ae,oe,xe,re,O,Ee),this};var ie=function(H,j,ae,oe){var xe,re,fe;if(typeof H=="string"&&i(H)===t){H=unescape(H);var pe=le(H,!1);(pe!==""||(pe=e.loadFile(H,!0))!==void 0)&&(H=pe)}if(d(H)&&(H=v(H,j)),j=i(H,j),!p(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((fe=ae)==null||fe.length===0)&&(ae=function(Ee){return typeof Ee=="string"||W(Ee)?L(Ee):W(Ee.data)?L(Ee.data):null}(H)),(xe=g.call(this,ae))||(k()&&(H instanceof Uint8Array||j==="RGBA"||(re=H,H=Q(H))),xe=this["process"+j.toUpperCase()](H,f.call(this),ae,function(Ee){return Ee&&typeof Ee=="string"&&(Ee=Ee.toUpperCase()),Ee in e.image_compression?Ee:R.NONE}(oe),re)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},le=e.__addimage__.convertBase64ToBinaryString=function(H,j){j=typeof j!="boolean"||j;var ae,oe="";if(typeof H=="string"){var xe;ae=(xe=P(H))!==null&&xe!==void 0?xe:H;try{oe=rm(ae)}catch(re){if(j)throw M(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return oe};e.getImageProperties=function(H){var j,ae,oe="";if(d(H)&&(H=v(H)),typeof H=="string"&&i(H)===t&&((oe=le(H,!1))===""&&(oe=e.loadFile(H)||""),H=oe),ae=i(H),!p(ae))throw new Error("addImage does not support files of type '"+ae+"', please ensure that a plugin for '"+ae+"' support is added.");if(!k()||H instanceof Uint8Array||(H=Q(H)),!(j=this["process"+ae.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=ae,j}})(kt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};kt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var i,r,a,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,u=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,p=!1,d=0;d<f.length&&!p;d++)switch((i=f[d]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var v=0;v<f.length;v++){i=f[v];var g=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),R=this.internal.getEncryptor(x.objId),L=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(i.bounds.x)+" "+l(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y)+"] ")+"/Contents ("+g(R(i.contents))+")",a+=" /Popup "+E.objId+" 0 R",a+=" /P "+u.objId+" 0 R",a+=" /T ("+g(R(L))+") >>",x.content=a;var M=x.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(i.bounds.x+30)+" "+l(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+l(i.bounds.y)+"] ")+" /Parent "+M,i.open&&(a+=" /Open true"),a+=" >>",E.content=a,this.internal.write(x.objId,"0 R",E.objId,"0 R");break;case"freetext":r="/Rect ["+s(i.bounds.x)+" "+l(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+l(i.bounds.y+i.bounds.h)+"] ";var P=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+g(w(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var k=this.annotations._nameMap[i.options.name];i.options.pageNumber=k.page,i.options.top=k.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+g(w(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;case"XYZ":default:var W=l(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+W+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},e.link=function(n,i,r,a,s){var l=this.internal.getCurrentPageInfo(),u=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:u(n),y:f(i),w:u(n+r),h:f(i+a)},options:s,type:"link"})},e.textWithLink=function(n,i,r,a){var s,l,u=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var p=this.splitTextToSize(n,l).length;s=Math.ceil(f*p)}else l=u,s=f;return this.text(n,i,r,a),r+=.2*f,a.align==="center"&&(i-=u/2),a.align==="right"&&(i-=u),this.link(i,r-f,l,s,a),u},e.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(kt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(x){return t[x.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},l=e.__arabicParser__.isArabicEndLetter=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length<=2},u=e.__arabicParser__.isArabicAlfLetter=function(x){return s(x)&&r.indexOf(x.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(x){return s(x)&&a(x)&&t[x.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(x){var E=0,R=n,L="",M=0;for(E=0;E<x.length;E+=1)R[x.charCodeAt(E)]!==void 0?(M++,typeof(R=R[x.charCodeAt(E)])=="number"&&(L+=String.fromCharCode(R),R=n,M=0),E===x.length-1&&(R=n,L+=x.charAt(E-(M-1)),E-=M-1,M=0)):(R=n,L+=x.charAt(E-M),E-=M,M=0);return L};e.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&i[x.charCodeAt(0)]!==void 0};var v=e.__arabicParser__.getCorrectForm=function(x,E,R){return s(x)?a(x)===!1?-1:!f(x)||!s(E)&&!s(R)||!s(R)&&l(E)||l(x)&&!s(E)||l(x)&&u(E)||l(x)&&l(E)?0:p(x)&&s(E)&&!l(E)&&s(R)&&f(R)?3:l(x)||!s(R)?1:2:-1},g=function(x){var E=0,R=0,L=0,M="",P="",k="",W=(x=x||"").split("\\s+"),Q=[];for(E=0;E<W.length;E+=1){for(Q.push(""),R=0;R<W[E].length;R+=1)M=W[E][R],P=W[E][R-1],k=W[E][R+1],s(M)?(L=v(M,P,k),Q[E]+=L!==-1?String.fromCharCode(t[M.charCodeAt(0)][L]):M):Q[E]+=M;Q[E]=d(Q[E])}return Q.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var x,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,R=[];if(Array.isArray(E)){var L=0;for(R=[],L=0;L<E.length;L+=1)Array.isArray(E[L])?R.push([g(E[L][0]),E[L][1],E[L][2]]):R.push([g(E[L])]);x=R}else x=g(E);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};e.events.push(["preProcessText",w])}(kt.API),kt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(kt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var u=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return u},set:function(x){u=x}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(x){v=x}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(x){g=x}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(x){w=x}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(u){return i.call(this),this.internal.__cell__.headerFunction=typeof u=="function"?u:void 0,this},e.getTextDimensions=function(u,f){i.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),d=f.font||this.getFont(),v=f.scaleFactor||this.internal.scaleFactor,g=0,w=0,x=0,E=this;if(!Array.isArray(u)&&typeof u!="string"){if(typeof u!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");u=String(u)}var R=f.maxWidth;R>0?typeof u=="string"?u=this.splitTextToSize(u,R):Object.prototype.toString.call(u)==="[object Array]"&&(u=u.reduce(function(M,P){return M.concat(E.splitTextToSize(P,R))},[])):u=Array.isArray(u)?u:[u];for(var L=0;L<u.length;L++)g<(x=this.getStringUnitWidth(u[L],{font:d})*p)&&(g=x);return g!==0&&(w=u.length),{w:g/=v,h:Math.max((w*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/v,0)}},e.cellAddPage=function(){i.call(this),this.addPage();var u=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(u.left,u.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var u;u=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,v=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===u.lineNumber?(u.x=(f.x||0)+(f.width||0),u.y=f.y||0):f.y+f.height+u.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),u.y=d.top,g&&v&&(this.printHeaderRow(u.lineNumber,!0),u.y+=v[0].height)):u.y=f.y+f.height||u.y),u.text[0]!==void 0&&(this.rect(u.x,u.y,u.width,u.height,n===!0?"FD":void 0),u.align==="right"?this.text(u.text,u.x+u.width-p,u.y+p,{align:"right",baseline:"top"}):u.align==="center"?this.text(u.text,u.x+u.width/2,u.y+p,{align:"center",baseline:"top",maxWidth:u.width-p-p}):this.text(u.text,u.x+p,u.y+p,{align:"left",baseline:"top",maxWidth:u.width-p-p})),this.internal.__cell__.lastCell=u,this};e.table=function(u,f,p,d,v){if(i.call(this),!p)throw new Error("No data for PDF table.");var g,w,x,E,R=[],L=[],M=[],P={},k={},W=[],Q=[],z=(v=v||{}).autoSize||!1,ie=v.printHeaders!==!1,le=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,H=v.margins||Object.assign({width:this.getPageWidth()},t),j=typeof v.padding=="number"?v.padding:3,ae=v.headerBackgroundColor||"#c8c8c8",oe=v.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=ie,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=le,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=ae,this.internal.__cell__.headerTextColor=oe,this.setFontSize(le),d==null)L=R=Object.keys(p[0]),M=R.map(function(){return"left"});else if(Array.isArray(d)&&Hn(d[0])==="object")for(R=d.map(function(Y){return Y.name}),L=d.map(function(Y){return Y.prompt||Y.name||""}),M=d.map(function(Y){return Y.align||"left"}),g=0;g<d.length;g+=1)k[d[g].name]=d[g].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(L=R=d,M=R.map(function(){return"left"}));if(z||Array.isArray(d)&&typeof d[0]=="string")for(g=0;g<R.length;g+=1){for(P[E=R[g]]=p.map(function(Y){return Y[E]}),this.setFont(void 0,"bold"),W.push(this.getTextDimensions(L[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=P[E],this.setFont(void 0,"normal"),x=0;x<w.length;x+=1)W.push(this.getTextDimensions(w[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);k[E]=Math.max.apply(null,W)+j+j,W=[]}if(ie){var xe={};for(g=0;g<R.length;g+=1)xe[R[g]]={},xe[R[g]].text=L[g],xe[R[g]].align=M[g];var re=l.call(this,xe,k);Q=R.map(function(Y){return new a(u,f,k[Y],re,xe[Y].text,void 0,xe[Y].align)}),this.setTableHeaderRow(Q),this.printHeaderRow(1,!1)}var fe=d.reduce(function(Y,ge){return Y[ge.name]=ge.align,Y},{});for(g=0;g<p.length;g+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:g,data:p[g]},this);var pe=l.call(this,p[g],k);for(x=0;x<R.length;x+=1){var Ee=p[g][R[x]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:g,col:x,data:Ee},this),s.call(this,new a(u,f,k[R[x]],pe,Ee,g+2,fe[R[x]]))}}return this.internal.__cell__.table_x=u,this.internal.__cell__.table_y=f,this};var l=function(u,f){var p=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(u).map(function(g){var w=u[g];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,f[g]-p-p)},this).map(function(g){return this.getLineHeightFactor()*g.length*d/v+p+p},this).reduce(function(g,w){return Math.max(g,w)},0)};e.setTableHeaderRow=function(u){i.call(this),this.internal.__cell__.tableHeaderRow=u},e.printHeaderRow=function(u,f){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){p=this.internal.__cell__.tableHeaderRow[g].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,v.push(p)),p.lineNumber=u;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,p),this.setTextColor(w)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),n=!1}}(kt.API);var HC={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},UC=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],cb=zC(UC),qC=[100,200,300,400,500,600,700,800,900],QF=zC(qC);function ub(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return HC[a=a||"normal"]?a:"normal"}(e.style),i=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),r=function(a){return typeof cb[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:i,stretch:r,src:e.src||[],ref:e.ref||{name:t,style:[r,n,i].join(" ")}}}function jS(e,t,n,i){var r;for(r=n;r>=0&&r<t.length;r+=i)if(e[t[r]])return e[t[r]];for(r=n;r>=0&&r<t.length;r-=i)if(e[t[r]])return e[t[r]]}var JF={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},IS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function FS(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ez(e,t,n){for(var i=(n=n||{}).defaultFontFamily||"times",r=Object.assign({},JF,n.genericFontFamilies||{}),a=null,s=null,l=0;l<t.length;++l)if(r[(a=ub(t[l])).family]&&(a.family=r[a.family]),e.hasOwnProperty(a.family)){s=e[a.family];break}if(!(s=s||e[i]))throw new Error("Could not find a font-family for the rule '"+FS(a)+"' and default family '"+i+"'.");if(s=function(u,f){if(f[u])return f[u];var p=cb[u],d=p<=cb.normal?-1:1,v=jS(f,UC,p,d);if(!v)throw new Error("Could not find a matching font-stretch value for "+u);return v}(a.stretch,s),s=function(u,f){if(f[u])return f[u];for(var p=HC[u],d=0;d<p.length;++d)if(f[p[d]])return f[p[d]];throw new Error("Could not find a matching font-style for "+u)}(a.style,s),!(s=function(u,f){if(f[u])return f[u];if(u===400&&f[500])return f[500];if(u===500&&f[400])return f[400];var p=QF[u],d=jS(f,qC,p,u<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+u);return d}(a.weight,s)))throw new Error("Failed to resolve a font for the rule '"+FS(a)+"'.");return s}function zS(e){return e.trimLeft()}function tz(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function nz(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var wv,HS,US,f2=["times"];(function(e){var t,n,i,r,a,s,l,u,f,p=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new u,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new s,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new s,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,u=this.internal.Matrix,f=new p}]);var d=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=O;Object.defineProperty(this,"pdf",{get:function(){return F}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(Te){K=!!Te}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(Te){se=!!Te}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Te){isNaN(Te)||(he=Te)}});var B=0;Object.defineProperty(this,"posY",{get:function(){return B},set:function(Te){isNaN(Te)||(B=Te)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Te){var $;typeof Te=="number"?$=[Te,Te,Te,Te]:(($=new Array(4))[0]=Te[0],$[1]=Te.length>=2?Te[1]:$[0],$[2]=Te.length>=3?Te[2]:$[0],$[3]=Te.length>=4?Te[3]:$[1]),f.margin=$}});var C=!1;Object.defineProperty(this,"autoPaging",{get:function(){return C},set:function(Te){C=Te}});var T=0;Object.defineProperty(this,"lastBreak",{get:function(){return T},set:function(Te){T=Te}});var Z=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Z},set:function(Te){Z=Te}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Te){Te instanceof p&&(f=Te)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Te){f.path=Te}});var te=[];Object.defineProperty(this,"ctxStack",{get:function(){return te},set:function(Te){te=Te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Te){var $;$=v(Te),this.ctx.fillStyle=$.style,this.ctx.isFillTransparent=$.a===0,this.ctx.fillOpacity=$.a,this.pdf.setFillColor($.r,$.g,$.b,{a:$.a}),this.pdf.setTextColor($.r,$.g,$.b,{a:$.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Te){var $=v(Te);this.ctx.strokeStyle=$.style,this.ctx.isStrokeTransparent=$.a===0,this.ctx.strokeOpacity=$.a,$.a===0?this.pdf.setDrawColor(255,255,255):($.a,this.pdf.setDrawColor($.r,$.g,$.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Te){["butt","round","square"].indexOf(Te)!==-1&&(this.ctx.lineCap=Te,this.pdf.setLineCap(Te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Te){isNaN(Te)||(this.ctx.lineWidth=Te,this.pdf.setLineWidth(Te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Te){["bevel","round","miter"].indexOf(Te)!==-1&&(this.ctx.lineJoin=Te,this.pdf.setLineJoin(Te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Te){isNaN(Te)||(this.ctx.miterLimit=Te,this.pdf.setMiterLimit(Te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Te){this.ctx.textBaseline=Te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Te){["right","end","center","left","start"].indexOf(Te)!==-1&&(this.ctx.textAlign=Te)}});var de=null;function Ae(Te,$){if(de===null){var Le=function(Ve){var je=[];return Object.keys(Ve).forEach(function(Ie){Ve[Ie].forEach(function(qe){var Ye=null;switch(qe){case"bold":Ye={family:Ie,weight:"bold"};break;case"italic":Ye={family:Ie,style:"italic"};break;case"bolditalic":Ye={family:Ie,weight:"bold",style:"italic"};break;case"":case"normal":Ye={family:Ie}}Ye!==null&&(Ye.ref={name:Ie,style:qe},je.push(Ye))})}),je}(Te.getFontList());de=function(Ve){for(var je={},Ie=0;Ie<Ve.length;++Ie){var qe=ub(Ve[Ie]),Ye=qe.family,at=qe.stretch,Ke=qe.style,ot=qe.weight;je[Ye]=je[Ye]||{},je[Ye][at]=je[Ye][at]||{},je[Ye][at][Ke]=je[Ye][at][Ke]||{},je[Ye][at][Ke][ot]=qe}return je}(Le.concat($))}return de}var Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(Te){de=null,Ue=Te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Te){var $;if(this.ctx.font=Te,($=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Te))!==null){var Le=$[1];$[2];var Ve=$[3],je=$[4];$[5];var Ie=$[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(qe==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var Ye=function(mt){var Xt,ct,vi=[],rn=mt.trim();if(rn==="")return f2;if(rn in IS)return[IS[rn]];for(;rn!=="";){switch(ct=null,Xt=(rn=zS(rn)).charAt(0)){case'"':case"'":ct=tz(rn.substring(1),Xt);break;default:ct=nz(rn)}if(ct===null||(vi.push(ct[0]),(rn=zS(ct[1]))!==""&&rn.charAt(0)!==","))return f2;rn=rn.replace(/^,/,"")}return vi}(Ie);if(this.fontFaces){var at=ez(Ae(this.pdf,this.fontFaces),Ye.map(function(mt){return{family:mt,stretch:"normal",weight:Ve,style:Le}}));this.pdf.setFont(at.ref.name,at.ref.style)}else{var Ke="";(Ve==="bold"||parseInt(Ve,10)>=700||Le==="bold")&&(Ke="bold"),Le==="italic"&&(Ke+="italic"),Ke.length===0&&(Ke="normal");for(var ot="",Ft={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<Ye.length;Pt++){if(this.pdf.internal.getFont(Ye[Pt],Ke,{noFallback:!0,disableWarning:!0})!==void 0){ot=Ye[Pt];break}if(Ke==="bolditalic"&&this.pdf.internal.getFont(Ye[Pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=Ye[Pt],Ke="bold";else if(this.pdf.internal.getFont(Ye[Pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=Ye[Pt],Ke="normal";break}}if(ot===""){for(var en=0;en<Ye.length;en++)if(Ft[Ye[en]]){ot=Ft[Ye[en]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,Ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Te){this.ctx.globalCompositeOperation=Te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Te){this.ctx.globalAlpha=Te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Te){this.ctx.lineDashOffset=Te,ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Te){this.ctx.lineDash=Te,ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Te){this.ctx.ignoreClearRect=!!Te}})};d.prototype.setLineDash=function(O){this.lineDash=O},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){P.call(this,"fill",!1)},d.prototype.stroke=function(){P.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(O,F){if(isNaN(O)||isNaN(F))throw Xn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new s(O,F));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new s(O,F)},d.prototype.closePath=function(){var O=new s(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&Hn(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){O=new s(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(O.x,O.y)},d.prototype.lineTo=function(O,F){if(isNaN(O)||isNaN(F))throw Xn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new s(O,F));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new s(K.x,K.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},d.prototype.quadraticCurveTo=function(O,F,K,se){if(isNaN(K)||isNaN(se)||isNaN(O)||isNaN(F))throw Xn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new s(K,se)),B=this.ctx.transform.applyToPoint(new s(O,F));this.path.push({type:"qct",x1:B.x,y1:B.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},d.prototype.bezierCurveTo=function(O,F,K,se,he,B){if(isNaN(he)||isNaN(B)||isNaN(O)||isNaN(F)||isNaN(K)||isNaN(se))throw Xn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var C=this.ctx.transform.applyToPoint(new s(he,B)),T=this.ctx.transform.applyToPoint(new s(O,F)),Z=this.ctx.transform.applyToPoint(new s(K,se));this.path.push({type:"bct",x1:T.x,y1:T.y,x2:Z.x,y2:Z.y,x:C.x,y:C.y}),this.ctx.lastPoint=new s(C.x,C.y)},d.prototype.arc=function(O,F,K,se,he,B){if(isNaN(O)||isNaN(F)||isNaN(K)||isNaN(se)||isNaN(he))throw Xn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(B=!!B,!this.ctx.transform.isIdentity){var C=this.ctx.transform.applyToPoint(new s(O,F));O=C.x,F=C.y;var T=this.ctx.transform.applyToPoint(new s(0,K)),Z=this.ctx.transform.applyToPoint(new s(0,0));K=Math.sqrt(Math.pow(T.x-Z.x,2)+Math.pow(T.y-Z.y,2))}Math.abs(he-se)>=2*Math.PI&&(se=0,he=2*Math.PI),this.path.push({type:"arc",x:O,y:F,radius:K,startAngle:se,endAngle:he,counterclockwise:B})},d.prototype.arcTo=function(O,F,K,se,he){throw new Error("arcTo not implemented.")},d.prototype.rect=function(O,F,K,se){if(isNaN(O)||isNaN(F)||isNaN(K)||isNaN(se))throw Xn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,F),this.lineTo(O+K,F),this.lineTo(O+K,F+se),this.lineTo(O,F+se),this.lineTo(O,F),this.lineTo(O+K,F),this.lineTo(O,F)},d.prototype.fillRect=function(O,F,K,se){if(isNaN(O)||isNaN(F)||isNaN(K)||isNaN(se))throw Xn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,F,K,se),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},d.prototype.strokeRect=function(O,F,K,se){if(isNaN(O)||isNaN(F)||isNaN(K)||isNaN(se))throw Xn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(O,F,K,se),this.stroke())},d.prototype.clearRect=function(O,F,K,se){if(isNaN(O)||isNaN(F)||isNaN(K)||isNaN(se))throw Xn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,F,K,se))},d.prototype.save=function(O){O=typeof O!="boolean"||O;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},d.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(F),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(O){var F,K,se,he;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))F=0,K=0,se=0,he=0;else{var B=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(B!==null)F=parseInt(B[1]),K=parseInt(B[2]),se=parseInt(B[3]),he=1;else if((B=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)F=parseInt(B[1]),K=parseInt(B[2]),se=parseInt(B[3]),he=parseFloat(B[4]);else{if(he=1,typeof O=="string"&&O.charAt(0)!=="#"){var C=new OC(O);O=C.ok?C.toHex():"#000000"}O.length===4?(F=O.substring(1,2),F+=F,K=O.substring(2,3),K+=K,se=O.substring(3,4),se+=se):(F=O.substring(1,3),K=O.substring(3,5),se=O.substring(5,7)),F=parseInt(F,16),K=parseInt(K,16),se=parseInt(se,16)}}return{r:F,g:K,b:se,a:he,style:O}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(O,F,K,se){if(isNaN(F)||isNaN(K)||typeof O!="string")throw Xn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!g.call(this)){var he=pe(this.ctx.transform.rotation),B=this.ctx.transform.scaleX;j.call(this,{text:O,x:F,y:K,scale:B,angle:he,align:this.textAlign,maxWidth:se})}},d.prototype.strokeText=function(O,F,K,se){if(isNaN(F)||isNaN(K)||typeof O!="string")throw Xn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){se=isNaN(se)?void 0:se;var he=pe(this.ctx.transform.rotation),B=this.ctx.transform.scaleX;j.call(this,{text:O,x:F,y:K,scale:B,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:se})}},d.prototype.measureText=function(O){if(typeof O!="string")throw Xn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,K=this.pdf.internal.scaleFactor,se=F.internal.getFontSize(),he=F.getStringUnitWidth(O)*se/F.internal.scaleFactor,B=function(C){var T=(C=C||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return T}}),this};return new B({width:he*=Math.round(96*K/72*1e4)/1e4})},d.prototype.scale=function(O,F){if(isNaN(O)||isNaN(F))throw Xn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new u(O,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.rotate=function(O){if(isNaN(O))throw Xn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new u(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},d.prototype.translate=function(O,F){if(isNaN(O)||isNaN(F))throw Xn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new u(1,0,0,1,O,F);this.ctx.transform=this.ctx.transform.multiply(K)},d.prototype.transform=function(O,F,K,se,he,B){if(isNaN(O)||isNaN(F)||isNaN(K)||isNaN(se)||isNaN(he)||isNaN(B))throw Xn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var C=new u(O,F,K,se,he,B);this.ctx.transform=this.ctx.transform.multiply(C)},d.prototype.setTransform=function(O,F,K,se,he,B){O=isNaN(O)?1:O,F=isNaN(F)?0:F,K=isNaN(K)?0:K,se=isNaN(se)?1:se,he=isNaN(he)?0:he,B=isNaN(B)?0:B,this.ctx.transform=new u(O,F,K,se,he,B)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(O,F,K,se,he,B,C,T,Z){var te=this.pdf.getImageProperties(O),de=1,Ae=1,Ue=1,Te=1;se!==void 0&&T!==void 0&&(Ue=T/se,Te=Z/he,de=te.width/se*T/se,Ae=te.height/he*Z/he),B===void 0&&(B=F,C=K,F=0,K=0),se!==void 0&&T===void 0&&(T=se,Z=he),se===void 0&&T===void 0&&(T=te.width,Z=te.height);for(var $,Le=this.ctx.transform.decompose(),Ve=pe(Le.rotate.shx),je=new u,Ie=(je=(je=(je=je.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale)).applyToRectangle(new l(B-F*Ue,C-K*Te,se*de,he*Ae)),qe=E.call(this,Ie),Ye=[],at=0;at<qe.length;at+=1)Ye.indexOf(qe[at])===-1&&Ye.push(qe[at]);if(M(Ye),this.autoPaging)for(var Ke=Ye[0],ot=Ye[Ye.length-1],Ft=Ke;Ft<ot+1;Ft++){this.pdf.setPage(Ft);var Pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],en=Ft===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=Ft===1?0:mt+(Ft-2)*Xt;if(this.ctx.clip_path.length!==0){var vi=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L($,this.posX+this.margin[3],-ct+en+this.ctx.prevPageLastElemOffset),k.call(this,"fill",!0),this.path=vi}var rn=JSON.parse(JSON.stringify(Ie));rn=L([rn],this.posX+this.margin[3],-ct+en+this.ctx.prevPageLastElemOffset)[0];var pr=(Ft>Ke||Ft<ot)&&x.call(this);pr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,Xt,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",rn.x,rn.y,rn.w,rn.h,null,null,Ve),pr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",Ie.x,Ie.y,Ie.w,Ie.h,null,null,Ve)};var E=function(O,F,K){var se=[];F=F||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":se.push(Math.floor((O.y+he)/K)+1);break;case"arc":se.push(Math.floor((O.y+he-O.radius)/K)+1),se.push(Math.floor((O.y+he+O.radius)/K)+1);break;case"qct":var B=Ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);se.push(Math.floor((B.y+he)/K)+1),se.push(Math.floor((B.y+B.h+he)/K)+1);break;case"bct":var C=Y(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);se.push(Math.floor((C.y+he)/K)+1),se.push(Math.floor((C.y+C.h+he)/K)+1);break;case"rect":se.push(Math.floor((O.y+he)/K)+1),se.push(Math.floor((O.y+O.h+he)/K)+1)}for(var T=0;T<se.length;T+=1)for(;this.pdf.internal.getNumberOfPages()<se[T];)R.call(this);return se},R=function(){var O=this.fillStyle,F=this.strokeStyle,K=this.font,se=this.lineCap,he=this.lineWidth,B=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=F,this.font=K,this.lineCap=se,this.lineWidth=he,this.lineJoin=B},L=function(O,F,K){for(var se=0;se<O.length;se++)switch(O[se].type){case"bct":O[se].x2+=F,O[se].y2+=K;case"qct":O[se].x1+=F,O[se].y1+=K;case"mt":case"lt":case"arc":default:O[se].x+=F,O[se].y+=K}return O},M=function(O){return O.sort(function(F,K){return F-K})},P=function(O,F){for(var K,se,he=this.fillStyle,B=this.strokeStyle,C=this.lineCap,T=this.lineWidth,Z=Math.abs(T*this.ctx.transform.scaleX),te=this.lineJoin,de=JSON.parse(JSON.stringify(this.path)),Ae=JSON.parse(JSON.stringify(this.path)),Ue=[],Te=0;Te<Ae.length;Te++)if(Ae[Te].x!==void 0)for(var $=E.call(this,Ae[Te]),Le=0;Le<$.length;Le+=1)Ue.indexOf($[Le])===-1&&Ue.push($[Le]);for(var Ve=0;Ve<Ue.length;Ve++)for(;this.pdf.internal.getNumberOfPages()<Ue[Ve];)R.call(this);if(M(Ue),this.autoPaging)for(var je=Ue[0],Ie=Ue[Ue.length-1],qe=je;qe<Ie+1;qe++){this.pdf.setPage(qe),this.fillStyle=he,this.strokeStyle=B,this.lineCap=C,this.lineWidth=Z,this.lineJoin=te;var Ye=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],at=qe===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ft=qe===1?0:Ke+(qe-2)*ot;if(this.ctx.clip_path.length!==0){var Pt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(K,this.posX+this.margin[3],-Ft+at+this.ctx.prevPageLastElemOffset),k.call(this,O,!0),this.path=Pt}if(se=JSON.parse(JSON.stringify(de)),this.path=L(se,this.posX+this.margin[3],-Ft+at+this.ctx.prevPageLastElemOffset),F===!1||qe===0){var en=(qe>je||qe<Ie)&&x.call(this);en&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ye,ot,null).clip().discardPath()),k.call(this,O,F),en&&this.pdf.restoreGraphicsState()}this.lineWidth=T}else this.lineWidth=Z,k.call(this,O,F),this.lineWidth=T;this.path=de},k=function(O,F){if((O!=="stroke"||F||!w.call(this))&&(O==="stroke"||F||!g.call(this))){for(var K,se,he=[],B=this.path,C=0;C<B.length;C++){var T=B[C];switch(T.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:T,deltas:[],abs:[]});break;case"lt":var Z=he.length;if(B[C-1]&&!isNaN(B[C-1].x)&&(K=[T.x-B[C-1].x,T.y-B[C-1].y],Z>0)){for(;Z>=0;Z--)if(he[Z-1].close!==!0&&he[Z-1].begin!==!0){he[Z-1].deltas.push(K),he[Z-1].abs.push(T);break}}break;case"bct":K=[T.x1-B[C-1].x,T.y1-B[C-1].y,T.x2-B[C-1].x,T.y2-B[C-1].y,T.x-B[C-1].x,T.y-B[C-1].y],he[he.length-1].deltas.push(K);break;case"qct":var te=B[C-1].x+2/3*(T.x1-B[C-1].x),de=B[C-1].y+2/3*(T.y1-B[C-1].y),Ae=T.x+2/3*(T.x1-T.x),Ue=T.y+2/3*(T.y1-T.y),Te=T.x,$=T.y;K=[te-B[C-1].x,de-B[C-1].y,Ae-B[C-1].x,Ue-B[C-1].y,Te-B[C-1].x,$-B[C-1].y],he[he.length-1].deltas.push(K);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(T)}}se=F?null:O==="stroke"?"stroke":"fill";for(var Le=!1,Ve=0;Ve<he.length;Ve++)if(he[Ve].arc)for(var je=he[Ve].abs,Ie=0;Ie<je.length;Ie++){var qe=je[Ie];qe.type==="arc"?z.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,F,!Le):ae.call(this,qe.x,qe.y),Le=!0}else if(he[Ve].close===!0)this.pdf.internal.out("h"),Le=!1;else if(he[Ve].begin!==!0){var Ye=he[Ve].start.x,at=he[Ve].start.y;oe.call(this,he[Ve].deltas,Ye,at),Le=!0}se&&ie.call(this,se),F&&le.call(this)}},W=function(O){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-K;case"top":return O+F-K;case"hanging":return O+F-2*K;case"middle":return O+F/2-K;case"ideographic":return O;case"alphabetic":default:return O}},Q=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(F,K){this.colorStops.push([F,K])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(O,F,K,se,he,B,C,T,Z){for(var te=re.call(this,K,se,he,B),de=0;de<te.length;de++){var Ae=te[de];de===0&&(Z?H.call(this,Ae.x1+O,Ae.y1+F):ae.call(this,Ae.x1+O,Ae.y1+F)),xe.call(this,O,F,Ae.x2,Ae.y2,Ae.x3,Ae.y3,Ae.x4,Ae.y4)}T?le.call(this):ie.call(this,C)},ie=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},le=function(){this.pdf.clip(),this.pdf.discardPath()},H=function(O,F){this.pdf.internal.out(n(O)+" "+i(F)+" m")},j=function(O){var F;switch(O.align){case"right":case"end":F="right";break;case"center":F="center";break;case"left":case"start":default:F="left"}var K=this.pdf.getTextDimensions(O.text),se=W.call(this,O.y),he=Q.call(this,se)-K.h,B=this.ctx.transform.applyToPoint(new s(O.x,se)),C=this.ctx.transform.decompose(),T=new u;T=(T=(T=T.multiply(C.translate)).multiply(C.skew)).multiply(C.scale);for(var Z,te,de,Ae=this.ctx.transform.applyToRectangle(new l(O.x,se,K.w,K.h)),Ue=T.applyToRectangle(new l(O.x,he,K.w,K.h)),Te=E.call(this,Ue),$=[],Le=0;Le<Te.length;Le+=1)$.indexOf(Te[Le])===-1&&$.push(Te[Le]);if(M($),this.autoPaging)for(var Ve=$[0],je=$[$.length-1],Ie=Ve;Ie<je+1;Ie++){this.pdf.setPage(Ie);var qe=Ie===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[2],Ke=at-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],Ft=ot-this.margin[3],Pt=Ie===1?0:Ye+(Ie-2)*Ke;if(this.ctx.clip_path.length!==0){var en=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Z,this.posX+this.margin[3],-1*Pt+qe),k.call(this,"fill",!0),this.path=en}var mt=L([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-Pt+qe+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*O.scale),de=this.lineWidth,this.lineWidth=de*O.scale);var Xt=this.autoPaging!=="text";if(Xt||mt.y+mt.h<=at){if(Xt||mt.y>=qe&&mt.x<=ot){var ct=Xt?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||ot-mt.x)[0],vi=L([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-Pt+qe+this.ctx.prevPageLastElemOffset)[0],rn=Xt&&(Ie>Ve||Ie<je)&&x.call(this);rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ft,Ke,null).clip().discardPath()),this.pdf.text(ct,vi.x,vi.y,{angle:O.angle,align:F,renderingMode:O.renderingMode}),rn&&this.pdf.restoreGraphicsState()}}else mt.y<at&&(this.ctx.prevPageLastElemOffset+=at-mt.y);O.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=de)}else O.scale>=.01&&(te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(te*O.scale),de=this.lineWidth,this.lineWidth=de*O.scale),this.pdf.text(O.text,B.x+this.posX,B.y+this.posY,{angle:O.angle,align:F,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(te),this.lineWidth=de)},ae=function(O,F,K,se){K=K||0,se=se||0,this.pdf.internal.out(n(O+K)+" "+i(F+se)+" l")},oe=function(O,F,K){return this.pdf.lines(O,F,K,null,null)},xe=function(O,F,K,se,he,B,C,T){this.pdf.internal.out([t(r(K+O)),t(a(se+F)),t(r(he+O)),t(a(B+F)),t(r(C+O)),t(a(T+F)),"c"].join(" "))},re=function(O,F,K,se){for(var he=2*Math.PI,B=Math.PI/2;F>K;)F-=he;var C=Math.abs(K-F);C<he&&se&&(C=he-C);for(var T=[],Z=se?-1:1,te=F;C>1e-5;){var de=te+Z*Math.min(C,B);T.push(fe.call(this,O,te,de)),C-=Math.abs(de-te),te=de}return T},fe=function(O,F,K){var se=(K-F)/2,he=O*Math.cos(se),B=O*Math.sin(se),C=he,T=-B,Z=C*C+T*T,te=Z+C*he+T*B,de=4/3*(Math.sqrt(2*Z*te)-te)/(C*B-T*he),Ae=C-de*T,Ue=T+de*C,Te=Ae,$=-Ue,Le=se+F,Ve=Math.cos(Le),je=Math.sin(Le);return{x1:O*Math.cos(F),y1:O*Math.sin(F),x2:Ae*Ve-Ue*je,y2:Ae*je+Ue*Ve,x3:Te*Ve-$*je,y3:Te*je+$*Ve,x4:O*Math.cos(K),y4:O*Math.sin(K)}},pe=function(O){return 180*O/Math.PI},Ee=function(O,F,K,se,he,B){var C=O+.5*(K-O),T=F+.5*(se-F),Z=he+.5*(K-he),te=B+.5*(se-B),de=Math.min(O,he,C,Z),Ae=Math.max(O,he,C,Z),Ue=Math.min(F,B,T,te),Te=Math.max(F,B,T,te);return new l(de,Ue,Ae-de,Te-Ue)},Y=function(O,F,K,se,he,B,C,T){var Z,te,de,Ae,Ue,Te,$,Le,Ve,je,Ie,qe,Ye,at,Ke=K-O,ot=se-F,Ft=he-K,Pt=B-se,en=C-he,mt=T-B;for(te=0;te<41;te++)Ve=($=(de=O+(Z=te/40)*Ke)+Z*((Ue=K+Z*Ft)-de))+Z*(Ue+Z*(he+Z*en-Ue)-$),je=(Le=(Ae=F+Z*ot)+Z*((Te=se+Z*Pt)-Ae))+Z*(Te+Z*(B+Z*mt-Te)-Le),te==0?(Ie=Ve,qe=je,Ye=Ve,at=je):(Ie=Math.min(Ie,Ve),qe=Math.min(qe,je),Ye=Math.max(Ye,Ve),at=Math.max(at,je));return new l(Math.round(Ie),Math.round(qe),Math.round(Ye-Ie),Math.round(at-qe))},ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,F,K=(O=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:F}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(kt.API),function(e){var t=function(a){var s,l,u,f,p,d,v,g,w,x;for(l=[],u=0,f=(a+=s="\0\0\0\0".slice(a.length%4||4)).length;f>u;u+=4)(p=(a.charCodeAt(u)<<24)+(a.charCodeAt(u+1)<<16)+(a.charCodeAt(u+2)<<8)+a.charCodeAt(u+3))!==0?(d=(p=((p=((p=((p=(p-(x=p%85))/85)-(w=p%85))/85)-(g=p%85))/85)-(v=p%85))/85)%85,l.push(d+33,v+33,g+33,w+33,x+33)):l.push(122);return function(E,R){for(var L=R;L>0;L--)E.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var s,l,u,f,p,d=String,v="length",g=255,w="charCodeAt",x="slice",E="replace";for(a[x](-2),a=a[x](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),u=[],f=0,p=(a+=s="uuuuu"[x](a[v]%5||5))[v];p>f;f+=5)l=52200625*(a[w](f)-33)+614125*(a[w](f+1)-33)+7225*(a[w](f+2)-33)+85*(a[w](f+3)-33)+(a[w](f+4)-33),u.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(R,L){for(var M=L;M>0;M--)R.pop()}(u,s[v]),d.fromCharCode.apply(d,u)},i=function(a){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),s.test(a)===!1)return"";for(var l="",u=0;u<a.length;u+=2)l+=String.fromCharCode("0x"+(a[u]+a[u+1]));return l},r=function(a){for(var s=new Uint8Array(a.length),l=a.length;l--;)s[l]=a.charCodeAt(l);return a=(s=rb(s)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};e.processDataByFilters=function(a,s){var l=0,u=a||"",f=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=u.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=r(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(kt.API),function(e){e.loadFile=function(t,n,i){return function(r,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(u,f,p){var d=new XMLHttpRequest,v=0,g=function(w){var x=w.length,E=[],R=String.fromCharCode;for(v=0;v<x;v+=1)E.push(R(255&w.charCodeAt(v)));return E.join("")};if(d.open("GET",u,!f),d.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(d.onload=function(){d.status===200?p(g(this.responseText)):p(void 0)}),d.send(null),f&&d.status===200)return g(d.responseText)}(r,a,s)}catch{}return l}(t,n,i)},e.loadImageFile=e.loadFile}(kt.API),function(e){function t(){return(It.html2canvas?Promise.resolve(It.html2canvas):J2(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function n(){return(It.DOMPurify?Promise.resolve(It.DOMPurify):J2(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var i=function(s){var l=Hn(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},r=function(s,l){var u=document.createElement(s);for(var f in l.className&&(u.className=l.className),l.innerHTML&&l.dompurify&&(u.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)u.style[f]=l.style[f];return u},a=function s(l){var u=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),f=s.convert(Promise.resolve(),u);return f=(f=f.setProgress(1,s,1,[s])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(s,l){return s.__proto__=l||a.prototype,s},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(n).then(function(u){return this.set({src:r("div",{innerHTML:s,dompurify:u})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},a.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function u(f,p){for(var d=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),v=f.firstChild;v;v=v.nextSibling)p!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||d.appendChild(u(v,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(d.width=f.width,d.height=f.height,d.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(d.value=f.value),d.addEventListener("load",function(){d.scrollTop=f.scrollTop,d.scrollLeft=f.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,l(this.prop.container,u)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(l){var u=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var v=0;v<f.length;++v){var g=f[v],w=g.src.find(function(x){return x.format==="truetype"});w&&u.addFont(w.url,g.ref.name,g.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,u.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(s,l,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},a.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},a.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},a.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(s){if(i(s)!=="object")return this;var l=Object.keys(s||{}).map(function(u){if(u in a.template.prop)return function(){this.prop[u]=s[u]};switch(u){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[u]=s[u]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(s,l){return this.then(function(){var u=s in a.template.prop?this.prop[s]:this.opt[s];return l?l(u):u})},a.prototype.setMargin=function(s){return this.then(function(){switch(i(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},a.prototype.setPageSize=function(s){function l(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(s=s||kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},a.prototype.setProgress=function(s,l,u,f){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(s,l,u,f){return this.setProgress(s?this.progress.val+s:null,l||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},a.prototype.then=function(s,l){var u=this;return this.thenCore(s,l,function(f,p){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(d){return u.updateProgress(null,f),d}).then(f,p).then(function(d){return u.updateProgress(1),d})})},a.prototype.thenCore=function(s,l,u){u=u||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),p=u.call(f,s,l);return a.convert(p,this.__proto__)},a.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},a.prototype.thenList=function(s){var l=this;return s.forEach(function(u){l=l.thenCore(u)}),l},a.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return a.convert(l,this)},a.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},a.prototype.error=function(s){return this.then(function(){throw new Error(s)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,kt.getPageSize=function(s,l,u){if(Hn(s)==="object"){var f=s;s=f.orientation,l=f.unit||l,u=f.format||u}l=l||"mm",u=u||"a4",s=(""+(s||"P")).toLowerCase();var p,d=(""+u).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var g,w=0,x=0;if(v.hasOwnProperty(d))w=v[d][1]/p,x=v[d][0]/p;else try{w=u[1],x=u[0]}catch{throw new Error("Invalid format: "+u)}if(s==="p"||s==="portrait")s="p",x>w&&(g=x,x=w,w=g);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",w>x&&(g=x,x=w,w=g)}return{width:x,height:w,unit:l,k:p,orientation:s}},e.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(ub):null;var u=new a(l);return l.worker?u:u.from(s).doCallback()}}(kt.API),kt.API.addJS=function(e){return US=e,this.internal.events.subscribe("postPutResources",function(){wv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wv+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),HS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+US+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){wv!==void 0&&HS!==void 0&&this.internal.out("/Names <</JavaScript "+wv+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),a=0;a<r.length;a++){var s=r[a],l=i.exec(s);if(l!=null){var u=l[1];n.internal.newObjectDeferredBegin(u,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(a=0;a<f;a++){var d=n.internal.newObject();p.push(d);var v=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<p.length;a++)n.internal.write("(page_"+(a+1)+")"+p[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,a){var s={title:r,options:a,children:[]};return i==null&&(i=this.root),i.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var s=i.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var u=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+u.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var f=0;f<i.children.length;f++)this.renderItems(i.children[f])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var a=0;a<r.children.length;a++)i.count++,this.count_r(i,r.children[a]);return i.count}}])}(kt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,i,r,a,s,l){var u,f=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(u=function(d){for(var v,g=256*d.charCodeAt(4)+d.charCodeAt(5),w=d.length,x={width:0,height:0,numcomponents:1},E=4;E<w;E+=2){if(E+=g,t.indexOf(d.charCodeAt(E+1))!==-1){v=256*d.charCodeAt(E+5)+d.charCodeAt(E+6),x={width:256*d.charCodeAt(E+7)+d.charCodeAt(E+8),height:v,numcomponents:d.charCodeAt(E+9)};break}g=256*d.charCodeAt(E+2)+d.charCodeAt(E+3)}return x}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}p={data:n,width:u.width,height:u.height,colorSpace:l,bitsPerComponent:8,filter:f,index:i,alias:r}}return p}}(kt.API);var lp,xv,qS,VS,$S,iz=function(){var e,t,n;function i(a){var s,l,u,f,p,d,v,g,w,x,E,R,L,M;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(s=this.readUInt32(),w=(function(){var P,k;for(k=[],P=0;P<4;++P)k.push(String.fromCharCode(this.data[this.pos++]));return k}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,d.delay=1e3*p/f,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,s-=4),a=d?.data||this.imgData,R=0;0<=s?R<s:R>s;0<=s?++R:--R)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(u=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>u)throw new Error("More transparent colors than palette size");if((x=u-this.transparency.indexed.length)>0)for(L=0;0<=x?L<x:L>x;0<=x?++L:--L)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":v=(E=this.read(s)).indexOf(0),g=String.fromCharCode.apply(String,E.slice(0,v)),this.text[g]=String.fromCharCode.apply(String,E.slice(v+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(M=this.colorType)===4||M===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(a){var s,l;for(l=[],s=0;0<=a?s<a:s>a;0<=a?++s:--s)l.push(this.data[this.pos++]);return l},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(a){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),u=0,f=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function p(d,v,g,w){var x,E,R,L,M,P,k,W,Q,z,ie,le,H,j,ae,oe,xe,re,fe,pe,Ee,Y=Math.ceil((f.width-d)/g),ge=Math.ceil((f.height-v)/w),O=f.width==Y&&f.height==ge;for(j=s*Y,le=O?l:new Uint8Array(j*ge),P=a.length,H=0,E=0;H<ge&&u<P;){switch(a[u++]){case 0:for(L=xe=0;xe<j;L=xe+=1)le[E++]=a[u++];break;case 1:for(L=re=0;re<j;L=re+=1)x=a[u++],M=L<s?0:le[E-s],le[E++]=(x+M)%256;break;case 2:for(L=fe=0;fe<j;L=fe+=1)x=a[u++],R=(L-L%s)/s,ae=H&&le[(H-1)*j+R*s+L%s],le[E++]=(ae+x)%256;break;case 3:for(L=pe=0;pe<j;L=pe+=1)x=a[u++],R=(L-L%s)/s,M=L<s?0:le[E-s],ae=H&&le[(H-1)*j+R*s+L%s],le[E++]=(x+Math.floor((M+ae)/2))%256;break;case 4:for(L=Ee=0;Ee<j;L=Ee+=1)x=a[u++],R=(L-L%s)/s,M=L<s?0:le[E-s],H===0?ae=oe=0:(ae=le[(H-1)*j+R*s+L%s],oe=R&&le[(H-1)*j+(R-1)*s+L%s]),k=M+ae-oe,W=Math.abs(k-M),z=Math.abs(k-ae),ie=Math.abs(k-oe),Q=W<=z&&W<=ie?M:z<=ie?ae:oe,le[E++]=(x+Q)%256;break;default:throw new Error("Invalid filter algorithm: "+a[u-1])}if(!O){var F=((v+H*w)*f.width+d)*s,K=H*j;for(L=0;L<Y;L+=1){for(var se=0;se<s;se+=1)l[F++]=le[K++];F+=(g-1)*s}}H++}}return a=BF(a),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),l},i.prototype.decodePalette=function(){var a,s,l,u,f,p,d,v,g;for(l=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+l.length),u=0,a=0,s=d=0,v=l.length;d<v;s=d+=3)f[u++]=l[s],f[u++]=l[s+1],f[u++]=l[s+2],f[u++]=(g=p[a++])!=null?g:255;return f},i.prototype.copyToImageData=function(a,s){var l,u,f,p,d,v,g,w,x,E,R;if(u=this.colors,x=null,l=this.hasAlphaChannel,this.palette.length&&(x=(R=this._decodedPalette)!=null?R:this._decodedPalette=this.decodePalette(),u=4,l=!0),w=(f=a.data||a).length,d=x||s,p=v=0,u===1)for(;p<w;)g=x?4*s[p/4]:v,E=d[g++],f[p++]=E,f[p++]=E,f[p++]=E,f[p++]=l?d[g++]:255,v=g;else for(;p<w;)g=x?4*s[p/4]:v,f[p++]=d[g++],f[p++]=d[g++],f[p++]=d[g++],f[p++]=l?d[g++]:255,v=g},i.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var r=function(){if(Object.prototype.toString.call(It)==="[object Window]"){try{t=It.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),e=function(a){var s;if(r()===!0)return n.width=a.width,n.height=a.height,n.clearRect(0,0,a.width,a.height),n.putImageData(a,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(a){var s,l,u,f,p,d,v,g;if(this.animation){for(g=[],l=p=0,d=(v=this.animation.frames).length;p<d;l=++p)s=v[l],u=a.createImageData(s.width,s.height),f=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(u,f),s.imageData=u,g.push(s.image=e(u));return g}},i.prototype.renderFrame=function(a,s){var l,u,f;return l=(u=this.animation.frames)[s],f=u[s-1],s===0&&a.clearRect(0,0,this.width,this.height),f?.disposeOp===1?a.clearRect(f.xOffset,f.yOffset,f.width,f.height):f?.disposeOp===2&&a.putImageData(f.imageData,f.xOffset,f.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},i.prototype.animate=function(a){var s,l,u,f,p,d,v=this;return l=0,d=this.animation,f=d.numFrames,u=d.frames,p=d.numPlays,(s=function(){var g,w;if(g=l++%f,w=u[g],v.renderFrame(a,g),f>1&&l/f<p)return v.animation._timeout=setTimeout(s,w.delay)})()},i.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},i.prototype.render=function(a){var s,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,s=a.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},i}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function rz(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,r=e[t++],a=r>>7,s=1<<(7&r)+1;e[t++],e[t++];var l=null,u=null;a&&(l=t,u=s,t+=3*s);var f=!0,p=[],d=0,v=null,g=0,w=null;for(this.width=n,this.height=i;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,w=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var x=e[t++];d=e[t++]|e[t++]<<8,v=e[t++],(1&x)==0&&(v=null),g=x>>2&7,t++;break;case 254:for(;;){if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var E=e[t++]|e[t++]<<8,R=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,M=e[t++]|e[t++]<<8,P=e[t++],k=P>>6&1,W=1<<(7&P)+1,Q=l,z=u,ie=!1;P>>7&&(ie=!0,Q=t,z=W,t+=3*W);var le=t;for(t++;;){var H;if(!((H=e[t++])>=0))throw Error("Invalid block size");if(H===0)break;t+=H}p.push({x:E,y:R,width:L,height:M,has_local_palette:ie,palette_offset:Q,palette_size:z,data_offset:le,data_length:t-le,transparent_index:v,interlaced:!!k,delay:d,disposal:g});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return w},this.frameInfo=function(j){if(j<0||j>=p.length)throw new Error("Frame index out of range.");return p[j]},this.decodeAndBlitFrameBGRA=function(j,ae){var oe=this.frameInfo(j),xe=oe.width*oe.height,re=new Uint8Array(xe);GS(e,oe.data_offset,re,xe);var fe=oe.palette_offset,pe=oe.transparent_index;pe===null&&(pe=256);var Ee=oe.width,Y=n-Ee,ge=Ee,O=4*(oe.y*n+oe.x),F=4*((oe.y+oe.height)*n+oe.x),K=O,se=4*Y;oe.interlaced===!0&&(se+=4*n*7);for(var he=8,B=0,C=re.length;B<C;++B){var T=re[B];if(ge===0&&(ge=Ee,(K+=se)>=F&&(se=4*Y+4*n*(he-1),K=O+(Ee+Y)*(he<<1),he>>=1)),T===pe)K+=4;else{var Z=e[fe+3*T],te=e[fe+3*T+1],de=e[fe+3*T+2];ae[K++]=de,ae[K++]=te,ae[K++]=Z,ae[K++]=255}--ge}},this.decodeAndBlitFrameRGBA=function(j,ae){var oe=this.frameInfo(j),xe=oe.width*oe.height,re=new Uint8Array(xe);GS(e,oe.data_offset,re,xe);var fe=oe.palette_offset,pe=oe.transparent_index;pe===null&&(pe=256);var Ee=oe.width,Y=n-Ee,ge=Ee,O=4*(oe.y*n+oe.x),F=4*((oe.y+oe.height)*n+oe.x),K=O,se=4*Y;oe.interlaced===!0&&(se+=4*n*7);for(var he=8,B=0,C=re.length;B<C;++B){var T=re[B];if(ge===0&&(ge=Ee,(K+=se)>=F&&(se=4*Y+4*n*(he-1),K=O+(Ee+Y)*(he<<1),he>>=1)),T===pe)K+=4;else{var Z=e[fe+3*T],te=e[fe+3*T+1],de=e[fe+3*T+2];ae[K++]=Z,ae[K++]=te,ae[K++]=de,ae[K++]=255}--ge}}}function GS(e,t,n,i){for(var r=e[t++],a=1<<r,s=a+1,l=s+1,u=r+1,f=(1<<u)-1,p=0,d=0,v=0,g=e[t++],w=new Int32Array(4096),x=null;;){for(;p<16&&g!==0;)d|=e[t++]<<p,p+=8,g===1?g=e[t++]:--g;if(p<u)break;var E=d&f;if(d>>=u,p-=u,E!==a){if(E===s)break;for(var R=E<l?E:x,L=0,M=R;M>a;)M=w[M]>>8,++L;var P=M;if(v+L+(R!==E?1:0)>i)return void Xn.log("Warning, gif stream longer than expected.");n[v++]=P;var k=v+=L;for(R!==E&&(n[v++]=P),M=R;L--;)M=w[M],n[--k]=255&M,M>>=8;x!==null&&l<4096&&(w[l++]=x<<8|P,l>=f+1&&u<12&&(++u,f=f<<1|1)),x=E}else l=s+1,f=(1<<(u=r+1))-1,x=null}return v!==i&&Xn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function h2(e){var t,n,i,r,a,s=Math.floor,l=new Array(64),u=new Array(64),f=new Array(64),p=new Array(64),d=new Array(65535),v=new Array(65535),g=new Array(64),w=new Array(64),x=[],E=0,R=7,L=new Array(64),M=new Array(64),P=new Array(64),k=new Array(256),W=new Array(2048),Q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],ie=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(O,F){for(var K=0,se=0,he=new Array,B=1;B<=16;B++){for(var C=1;C<=O[B];C++)he[F[se]]=[],he[F[se]][0]=K,he[F[se]][1]=B,se++,K++;K*=2}return he}function fe(O){for(var F=O[0],K=O[1]-1;K>=0;)F&1<<K&&(E|=1<<R),K--,--R<0&&(E==255?(pe(255),pe(0)):pe(E),R=7,E=0)}function pe(O){x.push(O)}function Ee(O){pe(O>>8&255),pe(255&O)}function Y(O,F,K,se,he){for(var B,C=he[0],T=he[240],Z=function(je,Ie){var qe,Ye,at,Ke,ot,Ft,Pt,en,mt,Xt,ct=0;for(mt=0;mt<8;++mt){qe=je[ct],Ye=je[ct+1],at=je[ct+2],Ke=je[ct+3],ot=je[ct+4],Ft=je[ct+5],Pt=je[ct+6];var vi=qe+(en=je[ct+7]),rn=qe-en,pr=Ye+Pt,on=Ye-Pt,Sn=at+Ft,tr=at-Ft,bn=Ke+ot,ca=Ke-ot,On=vi+bn,dr=vi-bn,Bn=pr+Sn,ci=pr-Sn;je[ct]=On+Bn,je[ct+4]=On-Bn;var Ut=.707106781*(ci+dr);je[ct+2]=dr+Ut,je[ct+6]=dr-Ut;var An=.382683433*((On=ca+tr)-(ci=on+rn)),Fo=.5411961*On+An,Fi=1.306562965*ci+An,Ua=.707106781*(Bn=tr+on),co=rn+Ua,wt=rn-Ua;je[ct+5]=wt+Fo,je[ct+3]=wt-Fo,je[ct+1]=co+Fi,je[ct+7]=co-Fi,ct+=8}for(ct=0,mt=0;mt<8;++mt){qe=je[ct],Ye=je[ct+8],at=je[ct+16],Ke=je[ct+24],ot=je[ct+32],Ft=je[ct+40],Pt=je[ct+48];var Un=qe+(en=je[ct+56]),ei=qe-en,zi=Ye+Pt,yi=Ye-Pt,Ci=at+Ft,ua=at-Ft,El=Ke+ot,fa=Ke-ot,ha=Un+El,xr=Un-El,Er=zi+Ci,Yr=zi-Ci;je[ct]=ha+Er,je[ct+32]=ha-Er;var mr=.707106781*(Yr+xr);je[ct+16]=xr+mr,je[ct+48]=xr-mr;var jn=.382683433*((ha=fa+ua)-(Yr=yi+ei)),Ns=.5411961*ha+jn,Sl=1.306562965*Yr+jn,Aa=.707106781*(Er=ua+yi),qa=ei+Aa,_c=ei-Aa;je[ct+40]=_c+Ns,je[ct+24]=_c-Ns,je[ct+8]=qa+Sl,je[ct+56]=qa-Sl,ct++}for(mt=0;mt<64;++mt)Xt=je[mt]*Ie[mt],g[mt]=Xt>0?Xt+.5|0:Xt-.5|0;return g}(O,F),te=0;te<64;++te)w[Q[te]]=Z[te];var de=w[0]-K;K=w[0],de==0?fe(se[0]):(fe(se[v[B=32767+de]]),fe(d[B]));for(var Ae=63;Ae>0&&w[Ae]==0;)Ae--;if(Ae==0)return fe(C),K;for(var Ue,Te=1;Te<=Ae;){for(var $=Te;w[Te]==0&&Te<=Ae;)++Te;var Le=Te-$;if(Le>=16){Ue=Le>>4;for(var Ve=1;Ve<=Ue;++Ve)fe(T);Le&=15}B=32767+w[Te],fe(he[(Le<<4)+v[B]]),fe(d[B]),Te++}return Ae!=63&&fe(C),K}function ge(O){O=Math.min(Math.max(O,1),100),a!=O&&(function(F){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var he=s((K[se]*F+50)/100);he=Math.min(Math.max(he,1),255),l[Q[se]]=he}for(var B=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],C=0;C<64;C++){var T=s((B[C]*F+50)/100);T=Math.min(Math.max(T,1),255),u[Q[C]]=T}for(var Z=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],te=0,de=0;de<8;de++)for(var Ae=0;Ae<8;Ae++)f[te]=1/(l[Q[te]]*Z[de]*Z[Ae]*8),p[te]=1/(u[Q[te]]*Z[de]*Z[Ae]*8),te++}(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),a=O)}this.encode=function(O,F){F&&ge(F),x=new Array,E=0,R=7,Ee(65496),Ee(65504),Ee(16),pe(74),pe(70),pe(73),pe(70),pe(0),pe(1),pe(1),pe(0),Ee(1),Ee(1),pe(0),pe(0),function(){Ee(65499),Ee(132),pe(0);for(var Ye=0;Ye<64;Ye++)pe(l[Ye]);pe(1);for(var at=0;at<64;at++)pe(u[at])}(),function(Ye,at){Ee(65472),Ee(17),pe(8),Ee(at),Ee(Ye),pe(3),pe(1),pe(17),pe(0),pe(2),pe(17),pe(1),pe(3),pe(17),pe(1)}(O.width,O.height),function(){Ee(65476),Ee(418),pe(0);for(var Ye=0;Ye<16;Ye++)pe(z[Ye+1]);for(var at=0;at<=11;at++)pe(ie[at]);pe(16);for(var Ke=0;Ke<16;Ke++)pe(le[Ke+1]);for(var ot=0;ot<=161;ot++)pe(H[ot]);pe(1);for(var Ft=0;Ft<16;Ft++)pe(j[Ft+1]);for(var Pt=0;Pt<=11;Pt++)pe(ae[Pt]);pe(17);for(var en=0;en<16;en++)pe(oe[en+1]);for(var mt=0;mt<=161;mt++)pe(xe[mt])}(),Ee(65498),Ee(12),pe(3),pe(1),pe(0),pe(2),pe(17),pe(3),pe(17),pe(0),pe(63),pe(0);var K=0,se=0,he=0;E=0,R=7,this.encode.displayName="_encode_";for(var B,C,T,Z,te,de,Ae,Ue,Te,$=O.data,Le=O.width,Ve=O.height,je=4*Le,Ie=0;Ie<Ve;){for(B=0;B<je;){for(te=je*Ie+B,Ae=-1,Ue=0,Te=0;Te<64;Te++)de=te+(Ue=Te>>3)*je+(Ae=4*(7&Te)),Ie+Ue>=Ve&&(de-=je*(Ie+1+Ue-Ve)),B+Ae>=je&&(de-=B+Ae-je+4),C=$[de++],T=$[de++],Z=$[de++],L[Te]=(W[C]+W[T+256>>0]+W[Z+512>>0]>>16)-128,M[Te]=(W[C+768>>0]+W[T+1024>>0]+W[Z+1280>>0]>>16)-128,P[Te]=(W[C+1280>>0]+W[T+1536>>0]+W[Z+1792>>0]>>16)-128;K=Y(L,f,K,t,i),se=Y(M,p,se,n,r),he=Y(P,p,he,n,r),B+=32}Ie+=8}if(R>=0){var qe=[];qe[1]=R+1,qe[0]=(1<<R+1)-1,fe(qe)}return Ee(65497),new Uint8Array(x)},e=e||50,function(){for(var O=String.fromCharCode,F=0;F<256;F++)k[F]=O(F)}(),t=re(z,ie),n=re(j,ae),i=re(le,H),r=re(oe,xe),function(){for(var O=1,F=2,K=1;K<=15;K++){for(var se=O;se<F;se++)v[32767+se]=K,d[32767+se]=[],d[32767+se][1]=K,d[32767+se][0]=se;for(var he=-(F-1);he<=-O;he++)v[32767+he]=K,d[32767+he]=[],d[32767+he][1]=K,d[32767+he][0]=F-1+he;O<<=1,F<<=1}}(),function(){for(var O=0;O<256;O++)W[O]=19595*O,W[O+256>>0]=38470*O,W[O+512>>0]=7471*O+32768,W[O+768>>0]=-11059*O,W[O+1024>>0]=-21709*O,W[O+1280>>0]=32768*O+8421375,W[O+1536>>0]=-27439*O,W[O+1792>>0]=-5329*O}(),ge(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function hs(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function YS(e){function t(z){if(!z)throw Error("assert :P")}function n(z,ie,le){for(var H=0;4>H;H++)if(z[ie+H]!=le.charCodeAt(H))return!0;return!1}function i(z,ie,le,H,j){for(var ae=0;ae<j;ae++)z[ie+ae]=le[H+ae]}function r(z,ie,le,H){for(var j=0;j<H;j++)z[ie+j]=le}function a(z){return new Int32Array(z)}function s(z,ie){for(var le=[],H=0;H<z;H++)le.push(new ie);return le}function l(z,ie){var le=[];return function H(j,ae,oe){for(var xe=oe[ae],re=0;re<xe&&(j.push(oe.length>ae+1?[]:new ie),!(oe.length<ae+1));re++)H(j[re],ae+1,oe)}(le,0,z),le}var u=function(){var z=this;function ie(y,_){for(var N=1<<_-1>>>0;y&N;)N>>>=1;return N?(y&N-1)+N:y}function le(y,_,N,D,q){t(!(D%N));do y[_+(D-=N)]=q;while(0<D)}function H(y,_,N,D,q){if(t(2328>=q),512>=q)var G=a(512);else if((G=a(q))==null)return 0;return function(X,J,ne,ce,be,Be){var De,Ce,Qe=J,He=1<<ne,_e=a(16),Se=a(16);for(t(be!=0),t(ce!=null),t(X!=null),t(0<ne),Ce=0;Ce<be;++Ce){if(15<ce[Ce])return 0;++_e[ce[Ce]]}if(_e[0]==be)return 0;for(Se[1]=0,De=1;15>De;++De){if(_e[De]>1<<De)return 0;Se[De+1]=Se[De]+_e[De]}for(Ce=0;Ce<be;++Ce)De=ce[Ce],0<ce[Ce]&&(Be[Se[De]++]=Ce);if(Se[15]==1)return(ce=new j).g=0,ce.value=Be[0],le(X,Qe,1,He,ce),He;var Ge,Je=-1,Xe=He-1,pt=0,st=1,xt=1,lt=1<<ne;for(Ce=0,De=1,be=2;De<=ne;++De,be<<=1){if(st+=xt<<=1,0>(xt-=_e[De]))return 0;for(;0<_e[De];--_e[De])(ce=new j).g=De,ce.value=Be[Ce++],le(X,Qe+pt,be,lt,ce),pt=ie(pt,De)}for(De=ne+1,be=2;15>=De;++De,be<<=1){if(st+=xt<<=1,0>(xt-=_e[De]))return 0;for(;0<_e[De];--_e[De]){if(ce=new j,(pt&Xe)!=Je){for(Qe+=lt,Ge=1<<(Je=De)-ne;15>Je&&!(0>=(Ge-=_e[Je]));)++Je,Ge<<=1;He+=lt=1<<(Ge=Je-ne),X[J+(Je=pt&Xe)].g=Ge+ne,X[J+Je].value=Qe-J-Je}ce.g=De-ne,ce.value=Be[Ce++],le(X,Qe+(pt>>ne),be,lt,ce),pt=ie(pt,De)}}return st!=2*Se[15]-1?0:He}(y,_,N,D,q,G)}function j(){this.value=this.g=0}function ae(){this.value=this.g=0}function oe(){this.G=s(5,j),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Hi,ae)}function xe(y,_,N,D){t(y!=null),t(_!=null),t(2147483648>D),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=_,y.pa=N,y.Jd=_,y.Yc=N+D,y.Zc=4<=D?N+D-4+1:N,B(y)}function re(y,_){for(var N=0;0<_--;)N|=T(y,128)<<_;return N}function fe(y,_){var N=re(y,_);return C(y)?-N:N}function pe(y,_,N,D){var q,G=0;for(t(y!=null),t(_!=null),t(4294967288>D),y.Sb=D,y.Ra=0,y.u=0,y.h=0,4<D&&(D=4),q=0;q<D;++q)G+=_[N+q]<<8*q;y.Ra=G,y.bb=D,y.oa=_,y.pa=N}function Ee(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<Dl-8>>>0,++y.bb,y.u-=8;K(y)&&(y.h=1,y.u=0)}function Y(y,_){if(t(0<=_),!y.h&&_<=Ll){var N=F(y)&js[_];return y.u+=_,Ee(y),N}return y.h=1,y.u=0}function ge(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function O(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function F(y){return y.Ra>>>(y.u&Dl-1)>>>0}function K(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>Dl}function se(y,_){y.u=_,y.h=K(y)}function he(y){y.u>=kc&&(t(y.u>=kc),Ee(y))}function B(y){t(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function C(y){return re(y,1)}function T(y,_){var N=y.Ca;0>y.b&&B(y);var D=y.b,q=N*_>>>8,G=(y.I>>>D>q)+0;for(G?(N-=q,y.I-=q+1<<D>>>0):N=q+1,D=N,q=0;256<=D;)q+=8,D>>=8;return D=7^q+Kr[D],y.b-=D,y.Ca=(N<<D)-1,G}function Z(y,_,N){y[_+0]=N>>24&255,y[_+1]=N>>16&255,y[_+2]=N>>8&255,y[_+3]=N>>0&255}function te(y,_){return y[_+0]<<0|y[_+1]<<8}function de(y,_){return te(y,_)|y[_+2]<<16}function Ae(y,_){return te(y,_)|te(y,_+2)<<16}function Ue(y,_){var N=1<<_;return t(y!=null),t(0<_),y.X=a(N),y.X==null?0:(y.Mb=32-_,y.Xa=_,1)}function Te(y,_){t(y!=null),t(_!=null),t(y.Xa==_.Xa),i(_.X,0,y.X,0,1<<_.Xa)}function $(){this.X=[],this.Xa=this.Mb=0}function Le(y,_,N,D){t(N!=null),t(D!=null);var q=N[0],G=D[0];return q==0&&(q=(y*G+_/2)/_),G==0&&(G=(_*q+y/2)/y),0>=q||0>=G?0:(N[0]=q,D[0]=G,1)}function Ve(y,_){return y+(1<<_)-1>>>_}function je(y,_){return((4278255360&y)+(4278255360&_)>>>0&4278255360)+((16711935&y)+(16711935&_)>>>0&16711935)>>>0}function Ie(y,_){z[_]=function(N,D,q,G,X,J,ne){var ce;for(ce=0;ce<X;++ce){var be=z[y](J[ne+ce-1],q,G+ce);J[ne+ce]=je(N[D+ce],be)}}}function qe(){this.ud=this.hd=this.jd=0}function Ye(y,_){return((4278124286&(y^_))>>>1)+(y&_)>>>0}function at(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Ke(y,_){return at(y+(y-_+.5>>1))}function ot(y,_,N){return Math.abs(_-N)-Math.abs(y-N)}function Ft(y,_,N,D,q,G,X){for(D=G[X-1],N=0;N<q;++N)G[X+N]=D=je(y[_+N],D)}function Pt(y,_,N,D,q){var G;for(G=0;G<N;++G){var X=y[_+G],J=X>>8&255,ne=16711935&(ne=(ne=16711935&X)+((J<<16)+J));D[q+G]=(4278255360&X)+ne>>>0}}function en(y,_){_.jd=y>>0&255,_.hd=y>>8&255,_.ud=y>>16&255}function mt(y,_,N,D,q,G){var X;for(X=0;X<D;++X){var J=_[N+X],ne=J>>>8,ce=J,be=255&(be=(be=J>>>16)+((y.jd<<24>>24)*(ne<<24>>24)>>>5));ce=255&(ce=(ce=ce+((y.hd<<24>>24)*(ne<<24>>24)>>>5))+((y.ud<<24>>24)*(be<<24>>24)>>>5)),q[G+X]=(4278255360&J)+(be<<16)+ce}}function Xt(y,_,N,D,q){z[_]=function(G,X,J,ne,ce,be,Be,De,Ce){for(ne=Be;ne<De;++ne)for(Be=0;Be<Ce;++Be)ce[be++]=q(J[D(G[X++])])},z[y]=function(G,X,J,ne,ce,be,Be){var De=8>>G.b,Ce=G.Ea,Qe=G.K[0],He=G.w;if(8>De)for(G=(1<<G.b)-1,He=(1<<De)-1;X<J;++X){var _e,Se=0;for(_e=0;_e<Ce;++_e)_e&G||(Se=D(ne[ce++])),be[Be++]=q(Qe[Se&He]),Se>>=De}else z["VP8LMapColor"+N](ne,ce,Qe,He,be,Be,X,J,Ce)}}function ct(y,_,N,D,q){for(N=_+N;_<N;){var G=y[_++];D[q++]=G>>16&255,D[q++]=G>>8&255,D[q++]=G>>0&255}}function vi(y,_,N,D,q){for(N=_+N;_<N;){var G=y[_++];D[q++]=G>>16&255,D[q++]=G>>8&255,D[q++]=G>>0&255,D[q++]=G>>24&255}}function rn(y,_,N,D,q){for(N=_+N;_<N;){var G=(X=y[_++])>>16&240|X>>12&15,X=X>>0&240|X>>28&15;D[q++]=G,D[q++]=X}}function pr(y,_,N,D,q){for(N=_+N;_<N;){var G=(X=y[_++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;D[q++]=G,D[q++]=X}}function on(y,_,N,D,q){for(N=_+N;_<N;){var G=y[_++];D[q++]=G>>0&255,D[q++]=G>>8&255,D[q++]=G>>16&255}}function Sn(y,_,N,D,q,G){if(G==0)for(N=_+N;_<N;)Z(D,((G=y[_++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),q+=32;else i(D,q,y,_,N)}function tr(y,_){z[_][0]=z[y+"0"],z[_][1]=z[y+"1"],z[_][2]=z[y+"2"],z[_][3]=z[y+"3"],z[_][4]=z[y+"4"],z[_][5]=z[y+"5"],z[_][6]=z[y+"6"],z[_][7]=z[y+"7"],z[_][8]=z[y+"8"],z[_][9]=z[y+"9"],z[_][10]=z[y+"10"],z[_][11]=z[y+"11"],z[_][12]=z[y+"12"],z[_][13]=z[y+"13"],z[_][14]=z[y+"0"],z[_][15]=z[y+"0"]}function bn(y){return y==mf||y==Ys||y==Jo||y==zc}function ca(){this.eb=[],this.size=this.A=this.fb=0}function On(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function dr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ca,this.f.kb=new On,this.sd=null}function Bn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ci(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ut(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function An(y,_){var N=y.T,D=_.ba.f.RGBA,q=D.eb,G=D.fb+y.ka*D.A,X=or[_.ba.S],J=y.y,ne=y.O,ce=y.f,be=y.N,Be=y.ea,De=y.W,Ce=_.cc,Qe=_.dc,He=_.Mc,_e=_.Nc,Se=y.ka,Ge=y.ka+y.T,Je=y.U,Xe=Je+1>>1;for(Se==0?X(J,ne,null,null,ce,be,Be,De,ce,be,Be,De,q,G,null,null,Je):(X(_.ec,_.fc,J,ne,Ce,Qe,He,_e,ce,be,Be,De,q,G-D.A,q,G,Je),++N);Se+2<Ge;Se+=2)Ce=ce,Qe=be,He=Be,_e=De,be+=y.Rc,De+=y.Rc,G+=2*D.A,X(J,(ne+=2*y.fa)-y.fa,J,ne,Ce,Qe,He,_e,ce,be,Be,De,q,G-D.A,q,G,Je);return ne+=y.fa,y.j+Ge<y.o?(i(_.ec,_.fc,J,ne,Je),i(_.cc,_.dc,ce,be,Xe),i(_.Mc,_.Nc,Be,De,Xe),N--):1&Ge||X(J,ne,null,null,ce,be,Be,De,ce,be,Be,De,q,G+D.A,null,null,Je),N}function Fo(y,_,N){var D=y.F,q=[y.J];if(D!=null){var G=y.U,X=_.ba.S,J=X==Il||X==Jo;_=_.ba.f.RGBA;var ne=[0],ce=y.ka;ne[0]=y.T,y.Kb&&(ce==0?--ne[0]:(--ce,q[0]-=y.width),y.j+y.ka+y.T==y.o&&(ne[0]=y.o-y.j-ce));var be=_.eb;ce=_.fb+ce*_.A,y=ln(D,q[0],y.width,G,ne,be,ce+(J?0:3),_.A),t(N==ne),y&&bn(X)&&ga(be,ce,J,G,ne,_.A)}return 0}function Fi(y){var _=y.ma,N=_.ba.S,D=11>N,q=N==Fc||N==df||N==Il||N==Qo||N==12||bn(N);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!ks(_.Oa,y,q?11:12))return 0;if(q&&bn(N)&&nt(),y.da)alert("todo:use_scaling");else{if(D){if(_.Ib=Ut,y.Kb){if(N=y.U+1>>1,_.memory=a(y.U+2*N),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+y.U,_.Mc=_.cc,_.Nc=_.dc+N,_.Ib=An,nt()}}else alert("todo:EmitYUV");q&&(_.Jb=Fo,D&&Pe())}if(D&&!Qm){for(y=0;256>y;++y)w0[y]=89858*(y-128)+qi>>wo,yf[y]=-22014*(y-128)+qi,Qp[y]=-45773*(y-128),Vi[y]=113618*(y-128)+qi>>wo;for(y=Ks;y<Ph;++y)_=76283*(y-16)+qi>>wo,bf[y-Ks]=ma(_,255),Jp[y-Ks]=ma(_+8>>4,15);Qm=1}return 1}function Ua(y){var _=y.ma,N=y.U,D=y.T;return t(!(1&y.ka)),0>=N||0>=D?0:(N=_.Ib(y,_),_.Jb!=null&&_.Jb(y,_,N),_.Dc+=N,1)}function co(y){y.ma.memory=null}function wt(y,_,N,D){return Y(y,8)!=47?0:(_[0]=Y(y,14)+1,N[0]=Y(y,14)+1,D[0]=Y(y,1),Y(y,3)!=0?0:!y.h)}function Un(y,_){if(4>y)return y+1;var N=y-2>>1;return(2+(1&y)<<N)+Y(_,N)+1}function ei(y,_){return 120<_?_-120:1<=(N=((N=ts[_-1])>>4)*y+(8-(15&N)))?N:1;var N}function zi(y,_,N){var D=F(N),q=y[_+=255&D].g-8;return 0<q&&(se(N,N.u+8),D=F(N),_+=y[_].value,_+=D&(1<<q)-1),se(N,N.u+y[_].g),y[_].value}function yi(y,_,N){return N.g+=y.g,N.value+=y.value<<_>>>0,t(8>=N.g),y.g}function Ci(y,_,N){var D=y.xc;return t((_=D==0?0:y.vc[y.md*(N>>D)+(_>>D)])<y.Wb),y.Ya[_]}function ua(y,_,N,D){var q=y.ab,G=y.c*_,X=y.C;_=X+_;var J=N,ne=D;for(D=y.Ta,N=y.Ua;0<q--;){var ce=y.gc[q],be=X,Be=_,De=J,Ce=ne,Qe=(ne=D,J=N,ce.Ea);switch(t(be<Be),t(Be<=ce.nc),ce.hc){case 2:Sh(De,Ce,(Be-be)*Qe,ne,J);break;case 0:var He=be,_e=Be,Se=ne,Ge=J,Je=(lt=ce).Ea;He==0&&(Kp(De,Ce,null,null,1,Se,Ge),Ft(De,Ce+1,0,0,Je-1,Se,Ge+1),Ce+=Je,Ge+=Je,++He);for(var Xe=1<<lt.b,pt=Xe-1,st=Ve(Je,lt.b),xt=lt.K,lt=lt.w+(He>>lt.b)*st;He<_e;){var wn=xt,Cn=lt,an=1;for(hf(De,Ce,Se,Ge-Je,1,Se,Ge);an<Je;){var tn=(an&~pt)+Xe;tn>Je&&(tn=Je),(0,Xo[wn[Cn++]>>8&15])(De,Ce+ +an,Se,Ge+an-Je,tn-an,Se,Ge+an),an=tn}Ce+=Je,Ge+=Je,++He&pt||(lt+=st)}Be!=ce.nc&&i(ne,J-Qe,ne,J+(Be-be-1)*Qe,Qe);break;case 1:for(Qe=De,_e=Ce,Je=(De=ce.Ea)-(Ge=De&~(Se=(Ce=1<<ce.b)-1)),He=Ve(De,ce.b),Xe=ce.K,ce=ce.w+(be>>ce.b)*He;be<Be;){for(pt=Xe,st=ce,xt=new qe,lt=_e+Ge,wn=_e+De;_e<lt;)en(pt[st++],xt),Fs(xt,Qe,_e,Ce,ne,J),_e+=Ce,J+=Ce;_e<wn&&(en(pt[st++],xt),Fs(xt,Qe,_e,Je,ne,J),_e+=Je,J+=Je),++be&Se||(ce+=He)}break;case 3:if(De==ne&&Ce==J&&0<ce.b){for(_e=ne,De=Qe=J+(Be-be)*Qe-(Ge=(Be-be)*Ve(ce.Ea,ce.b)),Ce=ne,Se=J,He=[],Ge=(Je=Ge)-1;0<=Ge;--Ge)He[Ge]=Ce[Se+Ge];for(Ge=Je-1;0<=Ge;--Ge)_e[De+Ge]=He[Ge];Ta(ce,be,Be,ne,Qe,ne,J)}else Ta(ce,be,Be,De,Ce,ne,J)}J=D,ne=N}ne!=N&&i(D,N,J,ne,G)}function El(y,_){var N=y.V,D=y.Ba+y.c*y.C,q=_-y.C;if(t(_<=y.l.o),t(16>=q),0<q){var G=y.l,X=y.Ta,J=y.Ua,ne=G.width;if(ua(y,q,N,D),q=J=[J],t((N=y.C)<(D=_)),t(G.v<G.va),D>G.o&&(D=G.o),N<G.j){var ce=G.j-N;N=G.j,q[0]+=ce*ne}if(N>=D?N=0:(q[0]+=4*G.v,G.ka=N-G.j,G.U=G.va-G.v,G.T=D-N,N=1),N){if(J=J[0],11>(N=y.ca).S){var be=N.f.RGBA,Be=(D=N.S,q=G.U,G=G.T,ce=be.eb,be.A),De=G;for(be=be.fb+y.Ma*be.A;0<De--;){var Ce=X,Qe=J,He=q,_e=ce,Se=be;switch(D){case Ar:Or(Ce,Qe,He,_e,Se);break;case Fc:gr(Ce,Qe,He,_e,Se);break;case mf:gr(Ce,Qe,He,_e,Se),ga(_e,Se,0,He,1,0);break;case vo:Wa(Ce,Qe,He,_e,Se);break;case df:Sn(Ce,Qe,He,_e,Se,1);break;case Ys:Sn(Ce,Qe,He,_e,Se,1),ga(_e,Se,0,He,1,0);break;case Il:Sn(Ce,Qe,He,_e,Se,0);break;case Jo:Sn(Ce,Qe,He,_e,Se,0),ga(_e,Se,1,He,1,0);break;case Qo:zs(Ce,Qe,He,_e,Se);break;case zc:zs(Ce,Qe,He,_e,Se),sn(_e,Se,He,1,0);break;case Nh:Zr(Ce,Qe,He,_e,Se);break;default:t(0)}J+=ne,be+=Be}y.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=N.height)}}y.C=_,t(y.C<=y.i)}function fa(y){var _;if(0<y.ua)return 0;for(_=0;_<y.Wb;++_){var N=y.Ya[_].G,D=y.Ya[_].H;if(0<N[1][D[1]+0].g||0<N[2][D[2]+0].g||0<N[3][D[3]+0].g)return 0}return 1}function ha(y,_,N,D,q,G){if(y.Z!=0){var X=y.qd,J=y.rd;for(t(bo[y.Z]!=null);_<N;++_)bo[y.Z](X,J,D,q,D,q,G),X=D,J=q,q+=G;y.qd=X,y.rd=J}}function xr(y,_){var N=y.l.ma,D=N.Z==0||N.Z==1?y.l.j:y.C;if(D=y.C<D?D:y.C,t(_<=y.l.o),_>D){var q=y.l.width,G=N.ca,X=N.tb+q*D,J=y.V,ne=y.Ba+y.c*D,ce=y.gc;t(y.ab==1),t(ce[0].hc==3),Is(ce[0],D,_,J,ne,G,X),ha(N,D,_,G,X,q)}y.C=y.Ma=_}function Er(y,_,N,D,q,G,X){var J=y.$/D,ne=y.$%D,ce=y.m,be=y.s,Be=N+y.$,De=Be;q=N+D*q;var Ce=N+D*G,Qe=280+be.ua,He=y.Pb?J:16777216,_e=0<be.ua?be.Wa:null,Se=be.wc,Ge=Be<Ce?Ci(be,ne,J):null;t(y.C<G),t(Ce<=q);var Je=!1;e:for(;;){for(;Je||Be<Ce;){var Xe=0;if(J>=He){var pt=Be-N;t((He=y).Pb),He.wd=He.m,He.xd=pt,0<He.s.ua&&Te(He.s.Wa,He.s.vb),He=J+Xm}if(ne&Se||(Ge=Ci(be,ne,J)),t(Ge!=null),Ge.Qb&&(_[Be]=Ge.qb,Je=!0),!Je)if(he(ce),Ge.jc){Xe=ce,pt=_;var st=Be,xt=Ge.pd[F(Xe)&Hi-1];t(Ge.jc),256>xt.g?(se(Xe,Xe.u+xt.g),pt[st]=xt.value,Xe=0):(se(Xe,Xe.u+xt.g-256),t(256<=xt.value),Xe=xt.value),Xe==0&&(Je=!0)}else Xe=zi(Ge.G[0],Ge.H[0],ce);if(ce.h)break;if(Je||256>Xe){if(!Je)if(Ge.nd)_[Be]=(Ge.qb|Xe<<8)>>>0;else{if(he(ce),Je=zi(Ge.G[1],Ge.H[1],ce),he(ce),pt=zi(Ge.G[2],Ge.H[2],ce),st=zi(Ge.G[3],Ge.H[3],ce),ce.h)break;_[Be]=(st<<24|Je<<16|Xe<<8|pt)>>>0}if(Je=!1,++Be,++ne>=D&&(ne=0,++J,X!=null&&J<=G&&!(J%16)&&X(y,J),_e!=null))for(;De<Be;)Xe=_[De++],_e.X[(506832829*Xe&4294967295)>>>_e.Mb]=Xe}else if(280>Xe){if(Xe=Un(Xe-256,ce),pt=zi(Ge.G[4],Ge.H[4],ce),he(ce),pt=ei(D,pt=Un(pt,ce)),ce.h)break;if(Be-N<pt||q-Be<Xe)break e;for(st=0;st<Xe;++st)_[Be+st]=_[Be+st-pt];for(Be+=Xe,ne+=Xe;ne>=D;)ne-=D,++J,X!=null&&J<=G&&!(J%16)&&X(y,J);if(t(Be<=q),ne&Se&&(Ge=Ci(be,ne,J)),_e!=null)for(;De<Be;)Xe=_[De++],_e.X[(506832829*Xe&4294967295)>>>_e.Mb]=Xe}else{if(!(Xe<Qe))break e;for(Je=Xe-280,t(_e!=null);De<Be;)Xe=_[De++],_e.X[(506832829*Xe&4294967295)>>>_e.Mb]=Xe;Xe=Be,t(!(Je>>>(pt=_e).Xa)),_[Xe]=pt.X[Je],Je=!0}Je||t(ce.h==K(ce))}if(y.Pb&&ce.h&&Be<q)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Te(y.s.vb,y.s.Wa);else{if(ce.h)break e;X?.(y,J>G?G:J),y.a=0,y.$=Be-N}return 1}return y.a=3,0}function Yr(y){t(y!=null),y.vc=null,y.yc=null,y.Ya=null;var _=y.Wa;_!=null&&(_.X=null),y.vb=null,t(y!=null)}function mr(){var y=new Xp;return y==null?null:(y.a=0,y.xb=Hc,tr("Predictor","VP8LPredictors"),tr("Predictor","VP8LPredictors_C"),tr("PredictorAdd","VP8LPredictorsAdd"),tr("PredictorAdd","VP8LPredictorsAdd_C"),Sh=Pt,Fs=mt,Or=ct,gr=vi,zs=rn,Zr=pr,Wa=on,z.VP8LMapColor32b=rr,z.VP8LMapColor8b=pf,y)}function jn(y,_,N,D,q){var G=1,X=[y],J=[_],ne=D.m,ce=D.s,be=null,Be=0;e:for(;;){if(N)for(;G&&Y(ne,1);){var De=X,Ce=J,Qe=D,He=1,_e=Qe.m,Se=Qe.gc[Qe.ab],Ge=Y(_e,2);if(Qe.Oc&1<<Ge)G=0;else{switch(Qe.Oc|=1<<Ge,Se.hc=Ge,Se.Ea=De[0],Se.nc=Ce[0],Se.K=[null],++Qe.ab,t(4>=Qe.ab),Ge){case 0:case 1:Se.b=Y(_e,3)+2,He=jn(Ve(Se.Ea,Se.b),Ve(Se.nc,Se.b),0,Qe,Se.K),Se.K=Se.K[0];break;case 3:var Je,Xe=Y(_e,8)+1,pt=16<Xe?0:4<Xe?1:2<Xe?2:3;if(De[0]=Ve(Se.Ea,pt),Se.b=pt,Je=He=jn(Xe,1,0,Qe,Se.K)){var st,xt=Xe,lt=Se,wn=1<<(8>>lt.b),Cn=a(wn);if(Cn==null)Je=0;else{var an=lt.K[0],tn=lt.w;for(Cn[0]=lt.K[0][0],st=1;st<1*xt;++st)Cn[st]=je(an[tn+st],Cn[st-1]);for(;st<4*wn;++st)Cn[st]=0;lt.K[0]=null,lt.K[0]=Cn,Je=1}}He=Je;break;case 2:break;default:t(0)}G=He}}if(X=X[0],J=J[0],G&&Y(ne,1)&&!(G=1<=(Be=Y(ne,4))&&11>=Be)){D.a=3;break e}var kn;if(kn=G)t:{var Tn,Vt,In,At=D,jt=X,_n=J,xn=Be,sr=N,$i=At.m,xi=At.s,Ei=[null],Ri=1,La=0,Rn=zl[xn];n:for(;;){if(sr&&Y($i,1)){var Mi=Y($i,3)+2,Za=Ve(jt,Mi),Zs=Ve(_n,Mi),ql=Za*Zs;if(!jn(Za,Zs,0,At,Ei))break n;for(Ei=Ei[0],xi.xc=Mi,Tn=0;Tn<ql;++Tn){var Qs=Ei[Tn]>>8&65535;Ei[Tn]=Qs,Qs>=Ri&&(Ri=Qs+1)}}if($i.h)break n;for(Vt=0;5>Vt;++Vt){var Zn=va[Vt];!Vt&&0<xn&&(Zn+=1<<xn),La<Zn&&(La=Zn)}var _f=s(Ri*Rn,j),Lh=Ri,kr=s(Lh,oe);if(kr==null)var ni=null;else t(65536>=Lh),ni=kr;var Vl=a(La);if(ni==null||Vl==null||_f==null){At.a=1;break n}var Js=_f;for(Tn=In=0;Tn<Ri;++Tn){var Jr=ni[Tn],el=Jr.G,ea=Jr.H,wf=0,qc=1,Dh=0;for(Vt=0;5>Vt;++Vt){Zn=va[Vt],el[Vt]=Js,ea[Vt]=In,!Vt&&0<xn&&(Zn+=1<<xn);r:{var xf,Oh=Zn,Ef=At,Vc=Vl,tg=Js,ng=In,Sf=0,as=Ef.m,E0=Y(as,1);if(r(Vc,0,0,Oh),E0){var ig=Y(as,1)+1,rg=Y(as,1),ed=Y(as,rg==0?1:8);Vc[ed]=1,ig==2&&(Vc[ed=Y(as,8)]=1);var $c=1}else{var td=a(19),nd=Y(as,4)+4;if(19<nd){Ef.a=3;var Af=0;break r}for(xf=0;xf<nd;++xf)td[es[xf]]=Y(as,3);var Bh=void 0,Gc=void 0,ag=Ef,og=td,os=Oh,Nf=Vc,kh=0,Qa=ag.m,Yc=8,id=s(128,j);i:for(;H(id,0,7,og,19);){if(Y(Qa,1)){var sg=2+2*Y(Qa,3);if((Bh=2+Y(Qa,sg))>os)break i}else Bh=os;for(Gc=0;Gc<os&&Bh--;){he(Qa);var rd=id[0+(127&F(Qa))];se(Qa,Qa.u+rd.g);var $l=rd.value;if(16>$l)Nf[Gc++]=$l,$l!=0&&(Yc=$l);else{var lg=$l==16,ad=$l-16,od=Pa[ad],sd=Y(Qa,Ch[ad])+od;if(Gc+sd>os)break i;for(var cg=lg?Yc:0;0<sd--;)Nf[Gc++]=cg}}kh=1;break i}kh||(ag.a=3),$c=kh}($c=$c&&!as.h)&&(Sf=H(tg,ng,8,Vc,Oh)),$c&&Sf!=0?Af=Sf:(Ef.a=3,Af=0)}if(Af==0)break n;if(qc&&Fl[Vt]==1&&(qc=Js[In].g==0),wf+=Js[In].g,In+=Af,3>=Vt){var Gl,jh=Vl[0];for(Gl=1;Gl<Zn;++Gl)Vl[Gl]>jh&&(jh=Vl[Gl]);Dh+=jh}}if(Jr.nd=qc,Jr.Qb=0,qc&&(Jr.qb=(el[3][ea[3]+0].value<<24|el[1][ea[1]+0].value<<16|el[2][ea[2]+0].value)>>>0,wf==0&&256>el[0][ea[0]+0].value&&(Jr.Qb=1,Jr.qb+=el[0][ea[0]+0].value<<8)),Jr.jc=!Jr.Qb&&6>Dh,Jr.jc){var Cf,ss=Jr;for(Cf=0;Cf<Hi;++Cf){var xo=Cf,ls=ss.pd[xo],Tf=ss.G[0][ss.H[0]+xo];256<=Tf.value?(ls.g=Tf.g+256,ls.value=Tf.value):(ls.g=0,ls.value=0,xo>>=yi(Tf,8,ls),xo>>=yi(ss.G[1][ss.H[1]+xo],16,ls),xo>>=yi(ss.G[2][ss.H[2]+xo],0,ls),yi(ss.G[3][ss.H[3]+xo],24,ls))}}}xi.vc=Ei,xi.Wb=Ri,xi.Ya=ni,xi.yc=_f,kn=1;break t}kn=0}if(!(G=kn)){D.a=3;break e}if(0<Be){if(ce.ua=1<<Be,!Ue(ce.Wa,Be)){D.a=1,G=0;break e}}else ce.ua=0;var Rf=D,ld=X,ug=J,cd=Rf.s,ud=cd.xc;if(Rf.c=ld,Rf.i=ug,cd.md=Ve(ld,ud),cd.wc=ud==0?-1:(1<<ud)-1,N){D.xb=Zm;break e}if((be=a(X*J))==null){D.a=1,G=0;break e}G=(G=Er(D,be,0,X,J,J,null))&&!ne.h;break e}return G?(q!=null?q[0]=be:(t(be==null),t(N)),D.$=0,N||Yr(ce)):Yr(ce),G}function Ns(y,_){var N=y.c*y.i,D=N+_+16*_;return t(y.c<=_),y.V=a(D),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+N+_,1)}function Sl(y,_){var N=y.C,D=_-N,q=y.V,G=y.Ba+y.c*N;for(t(_<=y.l.o);0<D;){var X=16<D?16:D,J=y.l.ma,ne=y.l.width,ce=ne*X,be=J.ca,Be=J.tb+ne*N,De=y.Ta,Ce=y.Ua;ua(y,X,q,G),qn(De,Ce,be,Be,ce),ha(J,N,N+X,be,Be,ne),D-=X,q+=X*y.c,N+=X}t(N==_),y.C=y.Ma=_}function Aa(){this.ub=this.yd=this.td=this.Rb=0}function qa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function _c(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Ku(){this.Yb=function(){var y=[];return function _(N,D,q){for(var G=q[D],X=0;X<G&&(N.push(q.length>D+1?[]:0),!(q.length<D+1));X++)_(N[X],D+1,q)}(y,0,[3,11]),y}()}function ph(){this.jb=a(3),this.Wc=l([4,8],Ku),this.Xc=l([4,17],Ku)}function Vp(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function zo(){this.ld=this.La=this.dd=this.tc=0}function Al(){this.Na=this.la=0}function Va(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Nl(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function dh(){this.uc=this.M=this.Nb=0,this.wa=Array(new zo),this.Y=0,this.ya=Array(new Nl),this.aa=0,this.l=new Cs}function Ho(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Zu(){this.cb=this.a=0,this.sc="",this.m=new ge,this.Od=new Aa,this.Kc=new qa,this.ed=new Vp,this.Qa=new _c,this.Ic=this.$c=this.Aa=0,this.D=new dh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ge),this.ia=0,this.pb=s(4,Va),this.Pa=new ph,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ho),this.Hd=0,this.rb=Array(new Al),this.sb=0,this.wa=Array(new zo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Nl),this.L=this.aa=0,this.gd=l([4,2],zo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Cs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function $p(){var y=new Zu;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,Ui||(Ui=mh)),y}function ui(y,_,N){return y.a==0&&(y.a=_,y.sc=N,y.cb=0),0}function Dr(y,_,N){return 3<=N&&y[_+0]==157&&y[_+1]==1&&y[_+2]==42}function Qu(y,_){if(y==null)return 0;if(y.a=0,y.sc="OK",_==null)return ui(y,2,"null VP8Io passed to VP8GetHeaders()");var N=_.data,D=_.w,q=_.ha;if(4>q)return ui(y,7,"Truncated header.");var G=N[D+0]|N[D+1]<<8|N[D+2]<<16,X=y.Od;if(X.Rb=!(1&G),X.td=G>>1&7,X.yd=G>>4&1,X.ub=G>>5,3<X.td)return ui(y,3,"Incorrect keyframe parameters.");if(!X.yd)return ui(y,4,"Frame not displayable.");D+=3,q-=3;var J=y.Kc;if(X.Rb){if(7>q)return ui(y,7,"cannot parse picture header");if(!Dr(N,D,q))return ui(y,3,"Bad code word");J.c=16383&(N[D+4]<<8|N[D+3]),J.Td=N[D+4]>>6,J.i=16383&(N[D+6]<<8|N[D+5]),J.Ud=N[D+6]>>6,D+=7,q-=7,y.za=J.c+15>>4,y.Ub=J.i+15>>4,_.width=J.c,_.height=J.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,r((G=y.Pa).jb,0,255,G.jb.length),t((G=y.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,r(G.Zb,0,0,G.Zb.length),r(G.Lb,0,0,G.Lb)}if(X.ub>q)return ui(y,7,"bad partition length");xe(G=y.m,N,D,X.ub),D+=X.ub,q-=X.ub,X.Rb&&(J.Ld=C(G),J.Kd=C(G)),J=y.Qa;var ne,ce=y.Pa;if(t(G!=null),t(J!=null),J.Cb=C(G),J.Cb){if(J.Bb=C(G),C(G)){for(J.Fb=C(G),ne=0;4>ne;++ne)J.Zb[ne]=C(G)?fe(G,7):0;for(ne=0;4>ne;++ne)J.Lb[ne]=C(G)?fe(G,6):0}if(J.Bb)for(ne=0;3>ne;++ne)ce.jb[ne]=C(G)?re(G,8):255}else J.Bb=0;if(G.Ka)return ui(y,3,"cannot parse segment header");if((J=y.ed).zd=C(G),J.Tb=re(G,6),J.wb=re(G,3),J.Pc=C(G),J.Pc&&C(G)){for(ce=0;4>ce;++ce)C(G)&&(J.vd[ce]=fe(G,6));for(ce=0;4>ce;++ce)C(G)&&(J.od[ce]=fe(G,6))}if(y.L=J.Tb==0?0:J.zd?1:2,G.Ka)return ui(y,3,"cannot parse filter header");var be=q;if(q=ne=D,D=ne+be,J=be,y.Xb=(1<<re(y.m,2))-1,be<3*(ce=y.Xb))N=7;else{for(ne+=3*ce,J-=3*ce,be=0;be<ce;++be){var Be=N[q+0]|N[q+1]<<8|N[q+2]<<16;Be>J&&(Be=J),xe(y.Jc[+be],N,ne,Be),ne+=Be,J-=Be,q+=3}xe(y.Jc[+ce],N,ne,J),N=ne<D?0:5}if(N!=0)return ui(y,N,"cannot parse partitions");for(N=re(ne=y.m,7),q=C(ne)?fe(ne,4):0,D=C(ne)?fe(ne,4):0,J=C(ne)?fe(ne,4):0,ce=C(ne)?fe(ne,4):0,ne=C(ne)?fe(ne,4):0,be=y.Qa,Be=0;4>Be;++Be){if(be.Cb){var De=be.Zb[Be];be.Fb||(De+=N)}else{if(0<Be){y.pb[Be]=y.pb[0];continue}De=N}var Ce=y.pb[Be];Ce.Sc[0]=gf[ma(De+q,127)],Ce.Sc[1]=vf[ma(De+0,127)],Ce.Eb[0]=2*gf[ma(De+D,127)],Ce.Eb[1]=101581*vf[ma(De+J,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=gf[ma(De+ce,117)],Ce.Qc[1]=vf[ma(De+ne,127)],Ce.lc=De+ne}if(!X.Rb)return ui(y,4,"Not a key frame.");for(C(G),X=y.Pa,N=0;4>N;++N){for(q=0;8>q;++q)for(D=0;3>D;++D)for(J=0;11>J;++J)ce=T(G,Hl[N][q][D][J])?re(G,8):yo[N][q][D][J],X.Wc[N][q].Yb[D][J]=ce;for(q=0;17>q;++q)X.Xc[N][q]=X.Wc[N][Km[q]]}return y.kc=C(G),y.kc&&(y.Bd=re(G,8)),y.cb=1}function mh(y,_,N,D,q,G,X){var J=_[q].Yb[N];for(N=0;16>q;++q){if(!T(y,J[N+0]))return q;for(;!T(y,J[N+1]);)if(J=_[++q].Yb[0],N=0,q==16)return 16;var ne=_[q+1].Yb;if(T(y,J[N+2])){var ce=y,be=0;if(T(ce,(De=J)[(Be=N)+3]))if(T(ce,De[Be+6])){for(J=0,Be=2*(be=T(ce,De[Be+8]))+(De=T(ce,De[Be+9+be])),be=0,De=pi[Be];De[J];++J)be+=be+T(ce,De[J]);be+=3+(8<<Be)}else T(ce,De[Be+7])?(be=7+2*T(ce,165),be+=T(ce,145)):be=5+T(ce,159);else be=T(ce,De[Be+4])?3+T(ce,De[Be+5]):2;J=ne[2]}else be=1,J=ne[1];ne=X+Nn[q],0>(ce=y).b&&B(ce);var Be,De=ce.b,Ce=(Be=ce.Ca>>1)-(ce.I>>De)>>31;--ce.b,ce.Ca+=Ce,ce.Ca|=1,ce.I-=(Be+1&Ce)<<De,G[ne]=((be^Ce)-Ce)*D[(0<q)+0]}return 16}function Ts(y){var _=y.rb[y.sb-1];_.la=0,_.Na=0,r(y.zc,0,0,y.zc.length),y.ja=0}function gh(y,_){if(y==null)return 0;if(_==null)return ui(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!Qu(y,_))return 0;if(t(y.cb),_.ac==null||_.ac(_)){_.ob&&(y.L=0);var N=rs[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=_.v-N>>4,y.zb=_.j-N>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=_.o+15+N>>4,y.Hb=_.va+15+N>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var D=y.ed;for(N=0;4>N;++N){var q;if(y.Qa.Cb){var G=y.Qa.Lb[N];y.Qa.Fb||(G+=D.Tb)}else G=D.Tb;for(q=0;1>=q;++q){var X=y.gd[N][q],J=G;if(D.Pc&&(J+=D.vd[0],q&&(J+=D.od[0])),0<(J=0>J?0:63<J?63:J)){var ne=J;0<D.wb&&(ne=4<D.wb?ne>>2:ne>>1)>9-D.wb&&(ne=9-D.wb),1>ne&&(ne=1),X.dd=ne,X.tc=2*J+ne,X.ld=40<=J?2:15<=J?1:0}else X.tc=0;X.La=q}}}N=0}else ui(y,6,"Frame setup failed"),N=y.a;if(N=N==0){if(N){y.$c=0,0<y.Aa||(y.Ic=Jm);e:{N=y.Ic,D=4*(ne=y.za);var ce=32*ne,be=ne+1,Be=0<y.L?ne*(0<y.Aa?2:1):0,De=(y.Aa==2?2:1)*ne;if((X=D+832+(q=3*(16*N+rs[y.L])/2*ce)+(G=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=X)N=0;else{if(X>y.Vb){if(y.Vb=0,y.Ec=a(X),y.Fc=0,y.Ec==null){N=ui(y,1,"no memory during frame initialization.");break e}y.Vb=X}X=y.Ec,J=y.Fc,y.Ac=X,y.Bc=J,J+=D,y.Gd=s(ce,Ho),y.Hd=0,y.rb=s(be+1,Al),y.sb=1,y.wa=Be?s(Be,zo):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=ne),t(!0),y.oc=X,y.pc=J,J+=832,y.ya=s(De,Nl),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=ne),y.R=16*ne,y.B=8*ne,ne=(ce=rs[y.L])*y.R,ce=ce/2*y.B,y.sa=X,y.ta=J+ne,y.qa=y.sa,y.ra=y.ta+16*N*y.R+ce,y.Ha=y.qa,y.Ia=y.ra+8*N*y.B+ce,y.$c=0,J+=q,y.mb=G?X:null,y.nb=G?J:null,t(J+G<=y.Fc+y.Vb),Ts(y),r(y.Ac,y.Bc,0,D),N=1}}if(N){if(_.ka=0,_.y=y.sa,_.O=y.ta,_.f=y.qa,_.N=y.ra,_.ea=y.Ha,_.Vd=y.Ia,_.fa=y.R,_.Rc=y.B,_.F=null,_.J=0,!Zo){for(N=-255;255>=N;++N)wi[255+N]=0>N?-N:N;for(N=-1020;1020>=N;++N)Ra[1020+N]=-128>N?-128:127<N?127:N;for(N=-112;112>=N;++N)$s[112+N]=-16>N?-16:15<N?15:N;for(N=-255;510>=N;++N)Gs[255+N]=0>N?0:255<N?255:N;Zo=1}mo=Rs,Xa=ef,Ka=Uo,Ti=vh,Qr=tf,fi=Ju,Ol=Tl,go=Rl,jc=Wp,Hs=sf,Us=Yp,qs=Tc,Bl=Rc,Ic=Eh,Vs=Ds,Ko=da,kl=po,hi=Gp,Br[0]=Xr,Br[1]=yh,Br[2]=af,Br[3]=_h,Br[4]=Na,Br[5]=uo,Br[6]=Sc,Br[7]=Ca,Br[8]=Ac,Br[9]=of,ns[0]=Ec,ns[1]=rf,ns[2]=qo,ns[3]=xc,ns[4]=nr,ns[5]=Ms,ns[6]=$o,ya[0]=Go,ya[1]=bh,ya[2]=wh,ya[3]=Ps,ya[4]=pa,ya[5]=Sr,ya[6]=Ls,N=1}else N=0}N&&(N=function(Ce,Qe){for(Ce.M=0;Ce.M<Ce.Va;++Ce.M){var He,_e=Ce.Jc[Ce.M&Ce.Xb],Se=Ce.m,Ge=Ce;for(He=0;He<Ge.za;++He){var Je=Se,Xe=Ge,pt=Xe.Ac,st=Xe.Bc+4*He,xt=Xe.zc,lt=Xe.ya[Xe.aa+He];if(Xe.Qa.Bb?lt.$b=T(Je,Xe.Pa.jb[0])?2+T(Je,Xe.Pa.jb[2]):T(Je,Xe.Pa.jb[1]):lt.$b=0,Xe.kc&&(lt.Ad=T(Je,Xe.Bd)),lt.Za=!T(Je,145)+0,lt.Za){var wn=lt.Ob,Cn=0;for(Xe=0;4>Xe;++Xe){var an,tn=xt[0+Xe];for(an=0;4>an;++an){tn=Zp[pt[st+an]][tn];for(var kn=Ws[T(Je,tn[0])];0<kn;)kn=Ws[2*kn+T(Je,tn[kn])];tn=-kn,pt[st+an]=tn}i(wn,Cn,pt,st,4),Cn+=4,xt[0+Xe]=tn}}else tn=T(Je,156)?T(Je,128)?1:3:T(Je,163)?2:0,lt.Ob[0]=tn,r(pt,st,tn,4),r(xt,0,tn,4);lt.Dd=T(Je,142)?T(Je,114)?T(Je,183)?1:3:2:0}if(Ge.m.Ka)return ui(Ce,7,"Premature end-of-partition0 encountered.");for(;Ce.ja<Ce.za;++Ce.ja){if(Ge=_e,Je=(Se=Ce).rb[Se.sb-1],pt=Se.rb[Se.sb+Se.ja],He=Se.ya[Se.aa+Se.ja],st=Se.kc?He.Ad:0)Je.la=pt.la=0,He.Za||(Je.Na=pt.Na=0),He.Hc=0,He.Gc=0,He.ia=0;else{var Tn,Vt;if(Je=pt,pt=Ge,st=Se.Pa.Xc,xt=Se.ya[Se.aa+Se.ja],lt=Se.pb[xt.$b],Xe=xt.ad,wn=0,Cn=Se.rb[Se.sb-1],tn=an=0,r(Xe,wn,0,384),xt.Za)var In=0,At=st[3];else{kn=a(16);var jt=Je.Na+Cn.Na;if(jt=Ui(pt,st[1],jt,lt.Eb,0,kn,0),Je.Na=Cn.Na=(0<jt)+0,1<jt)mo(kn,0,Xe,wn);else{var _n=kn[0]+3>>3;for(kn=0;256>kn;kn+=16)Xe[wn+kn]=_n}In=1,At=st[0]}var xn=15&Je.la,sr=15&Cn.la;for(kn=0;4>kn;++kn){var $i=1&sr;for(_n=Vt=0;4>_n;++_n)xn=xn>>1|($i=(jt=Ui(pt,At,jt=$i+(1&xn),lt.Sc,In,Xe,wn))>In)<<7,Vt=Vt<<2|(3<jt?3:1<jt?2:Xe[wn+0]!=0),wn+=16;xn>>=4,sr=sr>>1|$i<<7,an=(an<<8|Vt)>>>0}for(At=xn,In=sr>>4,Tn=0;4>Tn;Tn+=2){for(Vt=0,xn=Je.la>>4+Tn,sr=Cn.la>>4+Tn,kn=0;2>kn;++kn){for($i=1&sr,_n=0;2>_n;++_n)jt=$i+(1&xn),xn=xn>>1|($i=0<(jt=Ui(pt,st[2],jt,lt.Qc,0,Xe,wn)))<<3,Vt=Vt<<2|(3<jt?3:1<jt?2:Xe[wn+0]!=0),wn+=16;xn>>=2,sr=sr>>1|$i<<5}tn|=Vt<<4*Tn,At|=xn<<4<<Tn,In|=(240&sr)<<Tn}Je.la=At,Cn.la=In,xt.Hc=an,xt.Gc=tn,xt.ia=43690&tn?0:lt.ia,st=!(an|tn)}if(0<Se.L&&(Se.wa[Se.Y+Se.ja]=Se.gd[He.$b][He.Za],Se.wa[Se.Y+Se.ja].La|=!st),Ge.Ka)return ui(Ce,7,"Premature end-of-file encountered.")}if(Ts(Ce),Se=Qe,Ge=1,He=(_e=Ce).D,Je=0<_e.L&&_e.M>=_e.zb&&_e.M<=_e.Va,_e.Aa==0)e:{if(He.M=_e.M,He.uc=Je,Wo(_e,He),Ge=1,He=(Vt=_e.D).Nb,Je=(tn=rs[_e.L])*_e.R,pt=tn/2*_e.B,kn=16*He*_e.R,_n=8*He*_e.B,st=_e.sa,xt=_e.ta-Je+kn,lt=_e.qa,Xe=_e.ra-pt+_n,wn=_e.Ha,Cn=_e.Ia-pt+_n,sr=(xn=Vt.M)==0,an=xn>=_e.Va-1,_e.Aa==2&&Wo(_e,Vt),Vt.uc)for($i=(jt=_e).D.M,t(jt.D.uc),Vt=jt.yb;Vt<jt.Hb;++Vt){In=Vt,At=$i;var xi=(Ei=(Zn=jt).D).Nb;Tn=Zn.R;var Ei=Ei.wa[Ei.Y+In],Ri=Zn.sa,La=Zn.ta+16*xi*Tn+16*In,Rn=Ei.dd,Mi=Ei.tc;if(Mi!=0)if(t(3<=Mi),Zn.L==1)0<In&&Ko(Ri,La,Tn,Mi+4),Ei.La&&hi(Ri,La,Tn,Mi),0<At&&Vs(Ri,La,Tn,Mi+4),Ei.La&&kl(Ri,La,Tn,Mi);else{var Za=Zn.B,Zs=Zn.qa,ql=Zn.ra+8*xi*Za+8*In,Qs=Zn.Ha,Zn=Zn.Ia+8*xi*Za+8*In;xi=Ei.ld,0<In&&(go(Ri,La,Tn,Mi+4,Rn,xi),Hs(Zs,ql,Qs,Zn,Za,Mi+4,Rn,xi)),Ei.La&&(qs(Ri,La,Tn,Mi,Rn,xi),Ic(Zs,ql,Qs,Zn,Za,Mi,Rn,xi)),0<At&&(Ol(Ri,La,Tn,Mi+4,Rn,xi),jc(Zs,ql,Qs,Zn,Za,Mi+4,Rn,xi)),Ei.La&&(Us(Ri,La,Tn,Mi,Rn,xi),Bl(Zs,ql,Qs,Zn,Za,Mi,Rn,xi))}}if(_e.ia&&alert("todo:DitherRow"),Se.put!=null){if(Vt=16*xn,xn=16*(xn+1),sr?(Se.y=_e.sa,Se.O=_e.ta+kn,Se.f=_e.qa,Se.N=_e.ra+_n,Se.ea=_e.Ha,Se.W=_e.Ia+_n):(Vt-=tn,Se.y=st,Se.O=xt,Se.f=lt,Se.N=Xe,Se.ea=wn,Se.W=Cn),an||(xn-=tn),xn>Se.o&&(xn=Se.o),Se.F=null,Se.J=null,_e.Fa!=null&&0<_e.Fa.length&&Vt<xn&&(Se.J=uf(_e,Se,Vt,xn-Vt),Se.F=_e.mb,Se.F==null&&Se.F.length==0)){Ge=ui(_e,3,"Could not decode alpha data.");break e}Vt<Se.j&&(tn=Se.j-Vt,Vt=Se.j,t(!(1&tn)),Se.O+=_e.R*tn,Se.N+=_e.B*(tn>>1),Se.W+=_e.B*(tn>>1),Se.F!=null&&(Se.J+=Se.width*tn)),Vt<xn&&(Se.O+=Se.v,Se.N+=Se.v>>1,Se.W+=Se.v>>1,Se.F!=null&&(Se.J+=Se.v),Se.ka=Vt-Se.j,Se.U=Se.va-Se.v,Se.T=xn-Vt,Ge=Se.put(Se))}He+1!=_e.Ic||an||(i(_e.sa,_e.ta-Je,st,xt+16*_e.R,Je),i(_e.qa,_e.ra-pt,lt,Xe+8*_e.B,pt),i(_e.Ha,_e.Ia-pt,wn,Cn+8*_e.B,pt))}if(!Ge)return ui(Ce,6,"Output aborted.")}return 1}(y,_)),_.bc!=null&&_.bc(_),N&=1}return N?(y.cb=0,N):0}function Wr(y,_,N,D,q){q=y[_+N+32*D]+(q>>3),y[_+N+32*D]=-256&q?0>q?0:255:q}function wc(y,_,N,D,q,G){Wr(y,_,0,N,D+q),Wr(y,_,1,N,D+G),Wr(y,_,2,N,D-G),Wr(y,_,3,N,D-q)}function Yn(y){return(20091*y>>16)+y}function Cl(y,_,N,D){var q,G=0,X=a(16);for(q=0;4>q;++q){var J=y[_+0]+y[_+8],ne=y[_+0]-y[_+8],ce=(35468*y[_+4]>>16)-Yn(y[_+12]),be=Yn(y[_+4])+(35468*y[_+12]>>16);X[G+0]=J+be,X[G+1]=ne+ce,X[G+2]=ne-ce,X[G+3]=J-be,G+=4,_++}for(q=G=0;4>q;++q)J=(y=X[G+0]+4)+X[G+8],ne=y-X[G+8],ce=(35468*X[G+4]>>16)-Yn(X[G+12]),Wr(N,D,0,0,J+(be=Yn(X[G+4])+(35468*X[G+12]>>16))),Wr(N,D,1,0,ne+ce),Wr(N,D,2,0,ne-ce),Wr(N,D,3,0,J-be),G++,D+=32}function Ju(y,_,N,D){var q=y[_+0]+4,G=35468*y[_+4]>>16,X=Yn(y[_+4]),J=35468*y[_+1]>>16;wc(N,D,0,q+X,y=Yn(y[_+1]),J),wc(N,D,1,q+G,y,J),wc(N,D,2,q-G,y,J),wc(N,D,3,q-X,y,J)}function ef(y,_,N,D,q){Cl(y,_,N,D),q&&Cl(y,_+16,N,D+4)}function Uo(y,_,N,D){Xa(y,_+0,N,D,1),Xa(y,_+32,N,D+128,1)}function vh(y,_,N,D){var q;for(y=y[_+0]+4,q=0;4>q;++q)for(_=0;4>_;++_)Wr(N,D,_,q,y)}function tf(y,_,N,D){y[_+0]&&Ti(y,_+0,N,D),y[_+16]&&Ti(y,_+16,N,D+4),y[_+32]&&Ti(y,_+32,N,D+128),y[_+48]&&Ti(y,_+48,N,D+128+4)}function Rs(y,_,N,D){var q,G=a(16);for(q=0;4>q;++q){var X=y[_+0+q]+y[_+12+q],J=y[_+4+q]+y[_+8+q],ne=y[_+4+q]-y[_+8+q],ce=y[_+0+q]-y[_+12+q];G[0+q]=X+J,G[8+q]=X-J,G[4+q]=ce+ne,G[12+q]=ce-ne}for(q=0;4>q;++q)X=(y=G[0+4*q]+3)+G[3+4*q],J=G[1+4*q]+G[2+4*q],ne=G[1+4*q]-G[2+4*q],ce=y-G[3+4*q],N[D+0]=X+J>>3,N[D+16]=ce+ne>>3,N[D+32]=X-J>>3,N[D+48]=ce-ne>>3,D+=64}function nf(y,_,N){var D,q=_-32,G=ar,X=255-y[q-1];for(D=0;D<N;++D){var J,ne=G,ce=X+y[_-1];for(J=0;J<N;++J)y[_+J]=ne[ce+y[q+J]];_+=32}}function yh(y,_){nf(y,_,4)}function bh(y,_){nf(y,_,8)}function rf(y,_){nf(y,_,16)}function qo(y,_){var N;for(N=0;16>N;++N)i(y,_+32*N,y,_-32,16)}function xc(y,_){var N;for(N=16;0<N;--N)r(y,_,y[_-1],16),_+=32}function Vo(y,_,N){var D;for(D=0;16>D;++D)r(_,N+32*D,y,16)}function Ec(y,_){var N,D=16;for(N=0;16>N;++N)D+=y[_-1+32*N]+y[_+N-32];Vo(D>>5,y,_)}function nr(y,_){var N,D=8;for(N=0;16>N;++N)D+=y[_-1+32*N];Vo(D>>4,y,_)}function Ms(y,_){var N,D=8;for(N=0;16>N;++N)D+=y[_+N-32];Vo(D>>4,y,_)}function $o(y,_){Vo(128,y,_)}function zt(y,_,N){return y+2*_+N+2>>2}function af(y,_){var N,D=_-32;for(D=new Uint8Array([zt(y[D-1],y[D+0],y[D+1]),zt(y[D+0],y[D+1],y[D+2]),zt(y[D+1],y[D+2],y[D+3]),zt(y[D+2],y[D+3],y[D+4])]),N=0;4>N;++N)i(y,_+32*N,D,0,D.length)}function _h(y,_){var N=y[_-1],D=y[_-1+32],q=y[_-1+64],G=y[_-1+96];Z(y,_+0,16843009*zt(y[_-1-32],N,D)),Z(y,_+32,16843009*zt(N,D,q)),Z(y,_+64,16843009*zt(D,q,G)),Z(y,_+96,16843009*zt(q,G,G))}function Xr(y,_){var N,D=4;for(N=0;4>N;++N)D+=y[_+N-32]+y[_-1+32*N];for(D>>=3,N=0;4>N;++N)r(y,_+32*N,D,4)}function Na(y,_){var N=y[_-1+0],D=y[_-1+32],q=y[_-1+64],G=y[_-1-32],X=y[_+0-32],J=y[_+1-32],ne=y[_+2-32],ce=y[_+3-32];y[_+0+96]=zt(D,q,y[_-1+96]),y[_+1+96]=y[_+0+64]=zt(N,D,q),y[_+2+96]=y[_+1+64]=y[_+0+32]=zt(G,N,D),y[_+3+96]=y[_+2+64]=y[_+1+32]=y[_+0+0]=zt(X,G,N),y[_+3+64]=y[_+2+32]=y[_+1+0]=zt(J,X,G),y[_+3+32]=y[_+2+0]=zt(ne,J,X),y[_+3+0]=zt(ce,ne,J)}function Sc(y,_){var N=y[_+1-32],D=y[_+2-32],q=y[_+3-32],G=y[_+4-32],X=y[_+5-32],J=y[_+6-32],ne=y[_+7-32];y[_+0+0]=zt(y[_+0-32],N,D),y[_+1+0]=y[_+0+32]=zt(N,D,q),y[_+2+0]=y[_+1+32]=y[_+0+64]=zt(D,q,G),y[_+3+0]=y[_+2+32]=y[_+1+64]=y[_+0+96]=zt(q,G,X),y[_+3+32]=y[_+2+64]=y[_+1+96]=zt(G,X,J),y[_+3+64]=y[_+2+96]=zt(X,J,ne),y[_+3+96]=zt(J,ne,ne)}function uo(y,_){var N=y[_-1+0],D=y[_-1+32],q=y[_-1+64],G=y[_-1-32],X=y[_+0-32],J=y[_+1-32],ne=y[_+2-32],ce=y[_+3-32];y[_+0+0]=y[_+1+64]=G+X+1>>1,y[_+1+0]=y[_+2+64]=X+J+1>>1,y[_+2+0]=y[_+3+64]=J+ne+1>>1,y[_+3+0]=ne+ce+1>>1,y[_+0+96]=zt(q,D,N),y[_+0+64]=zt(D,N,G),y[_+0+32]=y[_+1+96]=zt(N,G,X),y[_+1+32]=y[_+2+96]=zt(G,X,J),y[_+2+32]=y[_+3+96]=zt(X,J,ne),y[_+3+32]=zt(J,ne,ce)}function Ca(y,_){var N=y[_+0-32],D=y[_+1-32],q=y[_+2-32],G=y[_+3-32],X=y[_+4-32],J=y[_+5-32],ne=y[_+6-32],ce=y[_+7-32];y[_+0+0]=N+D+1>>1,y[_+1+0]=y[_+0+64]=D+q+1>>1,y[_+2+0]=y[_+1+64]=q+G+1>>1,y[_+3+0]=y[_+2+64]=G+X+1>>1,y[_+0+32]=zt(N,D,q),y[_+1+32]=y[_+0+96]=zt(D,q,G),y[_+2+32]=y[_+1+96]=zt(q,G,X),y[_+3+32]=y[_+2+96]=zt(G,X,J),y[_+3+64]=zt(X,J,ne),y[_+3+96]=zt(J,ne,ce)}function of(y,_){var N=y[_-1+0],D=y[_-1+32],q=y[_-1+64],G=y[_-1+96];y[_+0+0]=N+D+1>>1,y[_+2+0]=y[_+0+32]=D+q+1>>1,y[_+2+32]=y[_+0+64]=q+G+1>>1,y[_+1+0]=zt(N,D,q),y[_+3+0]=y[_+1+32]=zt(D,q,G),y[_+3+32]=y[_+1+64]=zt(q,G,G),y[_+3+64]=y[_+2+64]=y[_+0+96]=y[_+1+96]=y[_+2+96]=y[_+3+96]=G}function Ac(y,_){var N=y[_-1+0],D=y[_-1+32],q=y[_-1+64],G=y[_-1+96],X=y[_-1-32],J=y[_+0-32],ne=y[_+1-32],ce=y[_+2-32];y[_+0+0]=y[_+2+32]=N+X+1>>1,y[_+0+32]=y[_+2+64]=D+N+1>>1,y[_+0+64]=y[_+2+96]=q+D+1>>1,y[_+0+96]=G+q+1>>1,y[_+3+0]=zt(J,ne,ce),y[_+2+0]=zt(X,J,ne),y[_+1+0]=y[_+3+32]=zt(N,X,J),y[_+1+32]=y[_+3+64]=zt(D,N,X),y[_+1+64]=y[_+3+96]=zt(q,D,N),y[_+1+96]=zt(G,q,D)}function wh(y,_){var N;for(N=0;8>N;++N)i(y,_+32*N,y,_-32,8)}function Ps(y,_){var N;for(N=0;8>N;++N)r(y,_,y[_-1],8),_+=32}function fo(y,_,N){var D;for(D=0;8>D;++D)r(_,N+32*D,y,8)}function Go(y,_){var N,D=8;for(N=0;8>N;++N)D+=y[_+N-32]+y[_-1+32*N];fo(D>>4,y,_)}function Sr(y,_){var N,D=4;for(N=0;8>N;++N)D+=y[_+N-32];fo(D>>3,y,_)}function pa(y,_){var N,D=4;for(N=0;8>N;++N)D+=y[_-1+32*N];fo(D>>3,y,_)}function Ls(y,_){fo(128,y,_)}function ho(y,_,N){var D=y[_-N],q=y[_+0],G=3*(q-D)+Ah[1020+y[_-2*N]-y[_+N]],X=jl[112+(G+4>>3)];y[_-N]=ar[255+D+jl[112+(G+3>>3)]],y[_+0]=ar[255+q-X]}function xh(y,_,N,D){var q=y[_+0],G=y[_+N];return Ma[255+y[_-2*N]-y[_-N]]>D||Ma[255+G-q]>D}function Nc(y,_,N,D){return 4*Ma[255+y[_-N]-y[_+0]]+Ma[255+y[_-2*N]-y[_+N]]<=D}function Cc(y,_,N,D,q){var G=y[_-3*N],X=y[_-2*N],J=y[_-N],ne=y[_+0],ce=y[_+N],be=y[_+2*N],Be=y[_+3*N];return 4*Ma[255+J-ne]+Ma[255+X-ce]>D?0:Ma[255+y[_-4*N]-G]<=q&&Ma[255+G-X]<=q&&Ma[255+X-J]<=q&&Ma[255+Be-be]<=q&&Ma[255+be-ce]<=q&&Ma[255+ce-ne]<=q}function Ds(y,_,N,D){var q=2*D+1;for(D=0;16>D;++D)Nc(y,_+D,N,q)&&ho(y,_+D,N)}function da(y,_,N,D){var q=2*D+1;for(D=0;16>D;++D)Nc(y,_+D*N,1,q)&&ho(y,_+D*N,1)}function po(y,_,N,D){var q;for(q=3;0<q;--q)Ds(y,_+=4*N,N,D)}function Gp(y,_,N,D){var q;for(q=3;0<q;--q)da(y,_+=4,N,D)}function Os(y,_,N,D,q,G,X,J){for(G=2*G+1;0<q--;){if(Cc(y,_,N,G,X))if(xh(y,_,N,J))ho(y,_,N);else{var ne=y,ce=_,be=N,Be=ne[ce-2*be],De=ne[ce-be],Ce=ne[ce+0],Qe=ne[ce+be],He=ne[ce+2*be],_e=27*(Ge=Ah[1020+3*(Ce-De)+Ah[1020+Be-Qe]])+63>>7,Se=18*Ge+63>>7,Ge=9*Ge+63>>7;ne[ce-3*be]=ar[255+ne[ce-3*be]+Ge],ne[ce-2*be]=ar[255+Be+Se],ne[ce-be]=ar[255+De+_e],ne[ce+0]=ar[255+Ce-_e],ne[ce+be]=ar[255+Qe-Se],ne[ce+2*be]=ar[255+He-Ge]}_+=D}}function $a(y,_,N,D,q,G,X,J){for(G=2*G+1;0<q--;){if(Cc(y,_,N,G,X))if(xh(y,_,N,J))ho(y,_,N);else{var ne=y,ce=_,be=N,Be=ne[ce-be],De=ne[ce+0],Ce=ne[ce+be],Qe=jl[112+((He=3*(De-Be))+4>>3)],He=jl[112+(He+3>>3)],_e=Qe+1>>1;ne[ce-2*be]=ar[255+ne[ce-2*be]+_e],ne[ce-be]=ar[255+Be+He],ne[ce+0]=ar[255+De-Qe],ne[ce+be]=ar[255+Ce-_e]}_+=D}}function Tl(y,_,N,D,q,G){Os(y,_,N,1,16,D,q,G)}function Rl(y,_,N,D,q,G){Os(y,_,1,N,16,D,q,G)}function Yp(y,_,N,D,q,G){var X;for(X=3;0<X;--X)$a(y,_+=4*N,N,1,16,D,q,G)}function Tc(y,_,N,D,q,G){var X;for(X=3;0<X;--X)$a(y,_+=4,1,N,16,D,q,G)}function Wp(y,_,N,D,q,G,X,J){Os(y,_,q,1,8,G,X,J),Os(N,D,q,1,8,G,X,J)}function sf(y,_,N,D,q,G,X,J){Os(y,_,1,q,8,G,X,J),Os(N,D,1,q,8,G,X,J)}function Rc(y,_,N,D,q,G,X,J){$a(y,_+4*q,q,1,8,G,X,J),$a(N,D+4*q,q,1,8,G,X,J)}function Eh(y,_,N,D,q,G,X,J){$a(y,_+4,1,q,8,G,X,J),$a(N,D+4,1,q,8,G,X,J)}function Mc(){this.ba=new dr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ci,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function cf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Pc(){this.ua=0,this.Wa=new $,this.vb=new $,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new oe,this.yc=new j}function Xp(){this.xb=this.a=0,this.l=new Cs,this.ca=new dr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new O,this.Pb=0,this.wd=new O,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Pc,this.ab=0,this.gc=s(4,cf),this.Oc=0}function Lc(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Cs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ml(y,_,N,D,q,G,X){for(y=y==null?0:y[_+0],_=0;_<X;++_)q[G+_]=y+N[D+_]&255,y=q[G+_]}function Dc(y,_,N,D,q,G,X){var J;if(y==null)Ml(null,null,N,D,q,G,X);else for(J=0;J<X;++J)q[G+J]=y[_+J]+N[D+J]&255}function Bs(y,_,N,D,q,G,X){if(y==null)Ml(null,null,N,D,q,G,X);else{var J,ne=y[_+0],ce=ne,be=ne;for(J=0;J<X;++J)ce=be+(ne=y[_+J])-ce,be=N[D+J]+(-256&ce?0>ce?0:255:ce)&255,ce=ne,q[G+J]=be}}function uf(y,_,N,D){var q=_.width,G=_.o;if(t(y!=null&&_!=null),0>N||0>=D||N+D>G)return null;if(!y.Cc){if(y.ga==null){var X;if(y.ga=new Lc,(X=y.ga==null)||(X=_.width*_.o,t(y.Gb.length==0),y.Gb=a(X),y.Uc=0,y.Gb==null?X=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,X=1),X=!X),!X){X=y.ga;var J=y.Fa,ne=y.P,ce=y.qc,be=y.mb,Be=y.nb,De=ne+1,Ce=ce-1,Qe=X.l;if(t(J!=null&&be!=null&&_!=null),bo[0]=null,bo[1]=Ml,bo[2]=Dc,bo[3]=Bs,X.ca=be,X.tb=Be,X.c=_.width,X.i=_.height,t(0<X.c&&0<X.i),1>=ce)_=0;else if(X.$a=J[ne+0]>>0&3,X.Z=J[ne+0]>>2&3,X.Lc=J[ne+0]>>4&3,ne=J[ne+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||ne)_=0;else if(Qe.put=Ua,Qe.ac=Fi,Qe.bc=co,Qe.ma=X,Qe.width=_.width,Qe.height=_.height,Qe.Da=_.Da,Qe.v=_.v,Qe.va=_.va,Qe.j=_.j,Qe.o=_.o,X.$a)e:{t(X.$a==1),_=mr();t:for(;;){if(_==null){_=0;break e}if(t(X!=null),X.mc=_,_.c=X.c,_.i=X.i,_.l=X.l,_.l.ma=X,_.l.width=X.c,_.l.height=X.i,_.a=0,pe(_.m,J,De,Ce),!jn(X.c,X.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&fa(_.s)?(X.ic=1,J=_.c*_.i,_.Ta=null,_.Ua=0,_.V=a(J),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(X.ic=0,_=Ns(_,X.c)),!_))break t;_=1;break e}X.mc=null,_=0}else _=Ce>=X.c*X.i;X=!_}if(X)return null;y.ga.Lc!=1?y.Ga=0:D=G-N}t(y.ga!=null),t(N+D<=G);e:{if(_=(J=y.ga).c,G=J.l.o,J.$a==0){if(De=y.rc,Ce=y.Vc,Qe=y.Fa,ne=y.P+1+N*_,ce=y.mb,be=y.nb+N*_,t(ne<=y.P+y.qc),J.Z!=0)for(t(bo[J.Z]!=null),X=0;X<D;++X)bo[J.Z](De,Ce,Qe,ne,ce,be,_),De=ce,Ce=be,be+=_,ne+=_;else for(X=0;X<D;++X)i(ce,be,Qe,ne,_),De=ce,Ce=be,be+=_,ne+=_;y.rc=De,y.Vc=Ce}else{if(t(J.mc!=null),_=N+D,t((X=J.mc)!=null),t(_<=X.i),X.C>=_)_=1;else if(J.ic||Pe(),J.ic){J=X.V,De=X.Ba,Ce=X.c;var He=X.i,_e=(Qe=1,ne=X.$/Ce,ce=X.$%Ce,be=X.m,Be=X.s,X.$),Se=Ce*He,Ge=Ce*_,Je=Be.wc,Xe=_e<Ge?Ci(Be,ce,ne):null;t(_e<=Se),t(_<=He),t(fa(Be));t:for(;;){for(;!be.h&&_e<Ge;){if(ce&Je||(Xe=Ci(Be,ce,ne)),t(Xe!=null),he(be),256>(He=zi(Xe.G[0],Xe.H[0],be)))J[De+_e]=He,++_e,++ce>=Ce&&(ce=0,++ne<=_&&!(ne%16)&&xr(X,ne));else{if(!(280>He)){Qe=0;break t}He=Un(He-256,be);var pt,st=zi(Xe.G[4],Xe.H[4],be);if(he(be),!(_e>=(st=ei(Ce,st=Un(st,be)))&&Se-_e>=He)){Qe=0;break t}for(pt=0;pt<He;++pt)J[De+_e+pt]=J[De+_e+pt-st];for(_e+=He,ce+=He;ce>=Ce;)ce-=Ce,++ne<=_&&!(ne%16)&&xr(X,ne);_e<Ge&&ce&Je&&(Xe=Ci(Be,ce,ne))}t(be.h==K(be))}xr(X,ne>_?_:ne);break t}!Qe||be.h&&_e<Se?(Qe=0,X.a=be.h?5:3):X.$=_e,_=Qe}else _=Er(X,X.V,X.Ba,X.c,X.i,_,Sl);if(!_){D=0;break e}}N+D>=G&&(y.Cc=1),D=1}if(!D)return null;if(y.Cc&&((D=y.ga)!=null&&(D.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+N*q}function A(y,_,N,D,q,G){for(;0<q--;){var X,J=y,ne=_+(N?1:0),ce=y,be=_+(N?0:3);for(X=0;X<D;++X){var Be=ce[be+4*X];Be!=255&&(Be*=32897,J[ne+4*X+0]=J[ne+4*X+0]*Be>>23,J[ne+4*X+1]=J[ne+4*X+1]*Be>>23,J[ne+4*X+2]=J[ne+4*X+2]*Be>>23)}_+=G}}function V(y,_,N,D,q){for(;0<D--;){var G;for(G=0;G<N;++G){var X=y[_+2*G+0],J=15&(ce=y[_+2*G+1]),ne=4369*J,ce=(240&ce|ce>>4)*ne>>16;y[_+2*G+0]=(240&X|X>>4)*ne>>16&240|(15&X|X<<4)*ne>>16>>4&15,y[_+2*G+1]=240&ce|J}_+=q}}function ue(y,_,N,D,q,G,X,J){var ne,ce,be=255;for(ce=0;ce<q;++ce){for(ne=0;ne<D;++ne){var Be=y[_+ne];G[X+4*ne]=Be,be&=Be}_+=N,X+=J}return be!=255}function ye(y,_,N,D,q){var G;for(G=0;G<q;++G)N[D+G]=y[_+G]>>8}function Pe(){ga=A,sn=V,ln=ue,qn=ye}function $e(y,_,N){z[y]=function(D,q,G,X,J,ne,ce,be,Be,De,Ce,Qe,He,_e,Se,Ge,Je){var Xe,pt=Je-1>>1,st=J[ne+0]|ce[be+0]<<16,xt=Be[De+0]|Ce[Qe+0]<<16;t(D!=null);var lt=3*st+xt+131074>>2;for(_(D[q+0],255&lt,lt>>16,He,_e),G!=null&&(lt=3*xt+st+131074>>2,_(G[X+0],255&lt,lt>>16,Se,Ge)),Xe=1;Xe<=pt;++Xe){var wn=J[ne+Xe]|ce[be+Xe]<<16,Cn=Be[De+Xe]|Ce[Qe+Xe]<<16,an=st+wn+xt+Cn+524296,tn=an+2*(wn+xt)>>3;lt=tn+st>>1,st=(an=an+2*(st+Cn)>>3)+wn>>1,_(D[q+2*Xe-1],255&lt,lt>>16,He,_e+(2*Xe-1)*N),_(D[q+2*Xe-0],255&st,st>>16,He,_e+(2*Xe-0)*N),G!=null&&(lt=an+xt>>1,st=tn+Cn>>1,_(G[X+2*Xe-1],255&lt,lt>>16,Se,Ge+(2*Xe-1)*N),_(G[X+2*Xe+0],255&st,st>>16,Se,Ge+(2*Xe+0)*N)),st=wn,xt=Cn}1&Je||(lt=3*st+xt+131074>>2,_(D[q+Je-1],255&lt,lt>>16,He,_e+(Je-1)*N),G!=null&&(lt=3*xt+st+131074>>2,_(G[X+Je-1],255&lt,lt>>16,Se,Ge+(Je-1)*N)))}}function nt(){or[Ar]=is,or[Fc]=_o,or[vo]=Xs,or[df]=Th,or[Il]=Rh,or[Qo]=Uc,or[Nh]=Mh,or[mf]=_o,or[Ys]=Th,or[Jo]=Rh,or[zc]=Uc}function ht(y){return y&-16384?0>y?0:255:y>>_0}function bt(y,_){return ht((19077*y>>8)+(26149*_>>8)-14234)}function $t(y,_,N){return ht((19077*y>>8)-(6419*_>>8)-(13320*N>>8)+8708)}function qt(y,_){return ht((19077*y>>8)+(33050*_>>8)-17685)}function gn(y,_,N,D,q){D[q+0]=bt(y,N),D[q+1]=$t(y,_,N),D[q+2]=qt(y,_)}function Kn(y,_,N,D,q){D[q+0]=qt(y,_),D[q+1]=$t(y,_,N),D[q+2]=bt(y,N)}function ti(y,_,N,D,q){var G=$t(y,_,N);_=G<<3&224|qt(y,_)>>3,D[q+0]=248&bt(y,N)|G>>5,D[q+1]=_}function bi(y,_,N,D,q){var G=240&qt(y,_)|15;D[q+0]=240&bt(y,N)|$t(y,_,N)>>4,D[q+1]=G}function _i(y,_,N,D,q){D[q+0]=255,gn(y,_,N,D,q+1)}function ir(y,_,N,D,q){Kn(y,_,N,D,q),D[q+3]=255}function Ga(y,_,N,D,q){gn(y,_,N,D,q),D[q+3]=255}function ma(y,_){return 0>y?0:y>_?_:y}function Ya(y,_,N){z[y]=function(D,q,G,X,J,ne,ce,be,Be){for(var De=be+(-2&Be)*N;be!=De;)_(D[q+0],G[X+0],J[ne+0],ce,be),_(D[q+1],G[X+0],J[ne+0],ce,be+N),q+=2,++X,++ne,be+=2*N;1&Be&&_(D[q+0],G[X+0],J[ne+0],ce,be)}}function ff(y,_,N){return N==0?y==0?_==0?6:5:_==0?4:0:N}function Yo(y,_,N,D,q){switch(y>>>30){case 3:Xa(_,N,D,q,0);break;case 2:fi(_,N,D,q);break;case 1:Ti(_,N,D,q)}}function Wo(y,_){var N,D,q=_.M,G=_.Nb,X=y.oc,J=y.pc+40,ne=y.oc,ce=y.pc+584,be=y.oc,Be=y.pc+600;for(N=0;16>N;++N)X[J+32*N-1]=129;for(N=0;8>N;++N)ne[ce+32*N-1]=129,be[Be+32*N-1]=129;for(0<q?X[J-1-32]=ne[ce-1-32]=be[Be-1-32]=129:(r(X,J-32-1,127,21),r(ne,ce-32-1,127,9),r(be,Be-32-1,127,9)),D=0;D<y.za;++D){var De=_.ya[_.aa+D];if(0<D){for(N=-1;16>N;++N)i(X,J+32*N-4,X,J+32*N+12,4);for(N=-1;8>N;++N)i(ne,ce+32*N-4,ne,ce+32*N+4,4),i(be,Be+32*N-4,be,Be+32*N+4,4)}var Ce=y.Gd,Qe=y.Hd+D,He=De.ad,_e=De.Hc;if(0<q&&(i(X,J-32,Ce[Qe].y,0,16),i(ne,ce-32,Ce[Qe].f,0,8),i(be,Be-32,Ce[Qe].ea,0,8)),De.Za){var Se=X,Ge=J-32+16;for(0<q&&(D>=y.za-1?r(Se,Ge,Ce[Qe].y[15],4):i(Se,Ge,Ce[Qe+1].y,0,4)),N=0;4>N;N++)Se[Ge+128+N]=Se[Ge+256+N]=Se[Ge+384+N]=Se[Ge+0+N];for(N=0;16>N;++N,_e<<=2)Se=X,Ge=J+Ul[N],Br[De.Ob[N]](Se,Ge),Yo(_e,He,16*+N,Se,Ge)}else if(Se=ff(D,q,De.Ob[0]),ns[Se](X,J),_e!=0)for(N=0;16>N;++N,_e<<=2)Yo(_e,He,16*+N,X,J+Ul[N]);for(N=De.Gc,Se=ff(D,q,De.Dd),ya[Se](ne,ce),ya[Se](be,Be),_e=He,Se=ne,Ge=ce,255&(De=N>>0)&&(170&De?Ka(_e,256,Se,Ge):Qr(_e,256,Se,Ge)),De=be,_e=Be,255&(N>>=8)&&(170&N?Ka(He,320,De,_e):Qr(He,320,De,_e)),q<y.Ub-1&&(i(Ce[Qe].y,0,X,J+480,16),i(Ce[Qe].f,0,ne,ce+224,8),i(Ce[Qe].ea,0,be,Be+224,8)),N=8*G*y.B,Ce=y.sa,Qe=y.ta+16*D+16*G*y.R,He=y.qa,De=y.ra+8*D+N,_e=y.Ha,Se=y.Ia+8*D+N,N=0;16>N;++N)i(Ce,Qe+N*y.R,X,J+32*N,16);for(N=0;8>N;++N)i(He,De+N*y.B,ne,ce+32*N,8),i(_e,Se+N*y.B,be,Be+32*N,8)}}function Oc(y,_,N,D,q,G,X,J,ne){var ce=[0],be=[0],Be=0,De=ne!=null?ne.kd:0,Ce=ne??new lf;if(y==null||12>N)return 7;Ce.data=y,Ce.w=_,Ce.ha=N,_=[_],N=[N],Ce.gb=[Ce.gb];e:{var Qe=_,He=N,_e=Ce.gb;if(t(y!=null),t(He!=null),t(_e!=null),_e[0]=0,12<=He[0]&&!n(y,Qe[0],"RIFF")){if(n(y,Qe[0]+8,"WEBP")){_e=3;break e}var Se=Ae(y,Qe[0]+4);if(12>Se||4294967286<Se){_e=3;break e}if(De&&Se>He[0]-8){_e=7;break e}_e[0]=Se,Qe[0]+=12,He[0]-=12}_e=0}if(_e!=0)return _e;for(Se=0<Ce.gb[0],N=N[0];;){e:{var Ge=y;He=_,_e=N;var Je=ce,Xe=be,pt=Qe=[0];if((lt=Be=[Be])[0]=0,8>_e[0])_e=7;else{if(!n(Ge,He[0],"VP8X")){if(Ae(Ge,He[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var st=Ae(Ge,He[0]+8),xt=1+de(Ge,He[0]+12);if(2147483648<=xt*(Ge=1+de(Ge,He[0]+15))){_e=3;break e}pt!=null&&(pt[0]=st),Je!=null&&(Je[0]=xt),Xe!=null&&(Xe[0]=Ge),He[0]+=18,_e[0]-=18,lt[0]=1}_e=0}}if(Be=Be[0],Qe=Qe[0],_e!=0)return _e;if(He=!!(2&Qe),!Se&&Be)return 3;if(G!=null&&(G[0]=!!(16&Qe)),X!=null&&(X[0]=He),J!=null&&(J[0]=0),X=ce[0],Qe=be[0],Be&&He&&ne==null){_e=0;break}if(4>N){_e=7;break}if(Se&&Be||!Se&&!Be&&!n(y,_[0],"ALPH")){N=[N],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{st=y,_e=_,Se=N;var lt=Ce.gb;Je=Ce.na,Xe=Ce.P,pt=Ce.Sa,xt=22,t(st!=null),t(Se!=null),Ge=_e[0];var wn=Se[0];for(t(Je!=null),t(pt!=null),Je[0]=null,Xe[0]=null,pt[0]=0;;){if(_e[0]=Ge,Se[0]=wn,8>wn){_e=7;break e}var Cn=Ae(st,Ge+4);if(4294967286<Cn){_e=3;break e}var an=8+Cn+1&-2;if(xt+=an,0<lt&&xt>lt){_e=3;break e}if(!n(st,Ge,"VP8 ")||!n(st,Ge,"VP8L")){_e=0;break e}if(wn[0]<an){_e=7;break e}n(st,Ge,"ALPH")||(Je[0]=st,Xe[0]=Ge+8,pt[0]=Cn),Ge+=an,wn-=an}}if(N=N[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],_e!=0)break}N=[N],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(lt=y,_e=_,Se=N,Je=Ce.gb[0],Xe=Ce.Ja,pt=Ce.xa,st=_e[0],Ge=!n(lt,st,"VP8 "),xt=!n(lt,st,"VP8L"),t(lt!=null),t(Se!=null),t(Xe!=null),t(pt!=null),8>Se[0])_e=7;else{if(Ge||xt){if(lt=Ae(lt,st+4),12<=Je&&lt>Je-12){_e=3;break e}if(De&&lt>Se[0]-8){_e=7;break e}Xe[0]=lt,_e[0]+=8,Se[0]-=8,pt[0]=xt}else pt[0]=5<=Se[0]&&lt[st+0]==47&&!(lt[st+4]>>5),Xe[0]=Se[0];_e=0}if(N=N[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],_=_[0],_e!=0)break;if(4294967286<Ce.Ja)return 3;if(J==null||He||(J[0]=Ce.xa?2:1),X=[X],Qe=[Qe],Ce.xa){if(5>N){_e=7;break}J=X,De=Qe,He=G,y==null||5>N?y=0:5<=N&&y[_+0]==47&&!(y[_+4]>>5)?(Se=[0],lt=[0],Je=[0],pe(Xe=new O,y,_,N),wt(Xe,Se,lt,Je)?(J!=null&&(J[0]=Se[0]),De!=null&&(De[0]=lt[0]),He!=null&&(He[0]=Je[0]),y=1):y=0):y=0}else{if(10>N){_e=7;break}J=Qe,y==null||10>N||!Dr(y,_+3,N-3)?y=0:(De=y[_+0]|y[_+1]<<8|y[_+2]<<16,He=16383&(y[_+7]<<8|y[_+6]),y=16383&(y[_+9]<<8|y[_+8]),1&De||3<(De>>1&7)||!(De>>4&1)||De>>5>=Ce.Ja||!He||!y?y=0:(X&&(X[0]=He),J&&(J[0]=y),y=1))}if(!y||(X=X[0],Qe=Qe[0],Be&&(ce[0]!=X||be[0]!=Qe)))return 3;ne!=null&&(ne[0]=Ce,ne.offset=_-ne.w,t(4294967286>_-ne.w),t(ne.offset==ne.ha-N));break}return _e==0||_e==7&&Be&&ne==null?(G!=null&&(G[0]|=Ce.na!=null&&0<Ce.na.length),D!=null&&(D[0]=X),q!=null&&(q[0]=Qe),0):_e}function ks(y,_,N){var D=_.width,q=_.height,G=0,X=0,J=D,ne=q;if(_.Da=y!=null&&0<y.Da,_.Da&&(J=y.cd,ne=y.bd,G=y.v,X=y.j,11>N||(G&=-2,X&=-2),0>G||0>X||0>=J||0>=ne||G+J>D||X+ne>q))return 0;if(_.v=G,_.j=X,_.va=G+J,_.o=X+ne,_.U=J,_.T=ne,_.da=y!=null&&0<y.da,_.da){if(!Le(J,ne,N=[y.ib],G=[y.hb]))return 0;_.ib=N[0],_.hb=G[0]}return _.ob=y!=null&&y.ob,_.Kb=y==null||!y.Sd,_.da&&(_.ob=_.ib<3*D/4&&_.hb<3*q/4,_.Kb=0),1}function Bc(y){if(y==null)return 2;if(11>y.S){var _=y.f.RGBA;_.fb+=(y.height-1)*_.A,_.A=-_.A}else _=y.f.kb,y=y.height,_.O+=(y-1)*_.fa,_.fa=-_.fa,_.N+=(y-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(y-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(y-1)*_.lb,_.lb=-_.lb);return 0}function Pl(y,_,N,D){if(D==null||0>=y||0>=_)return 2;if(N!=null){if(N.Da){var q=N.cd,G=N.bd,X=-2&N.v,J=-2&N.j;if(0>X||0>J||0>=q||0>=G||X+q>y||J+G>_)return 2;y=q,_=G}if(N.da){if(!Le(y,_,q=[N.ib],G=[N.hb]))return 2;y=q[0],_=G[0]}}D.width=y,D.height=_;e:{var ne=D.width,ce=D.height;if(y=D.S,0>=ne||0>=ce||!(y>=Ar&&13>y))y=2;else{if(0>=D.Rd&&D.sd==null){X=G=q=_=0;var be=(J=ne*eg[y])*ce;if(11>y||(G=(ce+1)/2*(_=(ne+1)/2),y==12&&(X=(q=ne)*ce)),(ce=a(be+2*G+X))==null){y=1;break e}D.sd=ce,11>y?((ne=D.f.RGBA).eb=ce,ne.fb=0,ne.A=J,ne.size=be):((ne=D.f.kb).y=ce,ne.O=0,ne.fa=J,ne.Fd=be,ne.f=ce,ne.N=0+be,ne.Ab=_,ne.Cd=G,ne.ea=ce,ne.W=0+be+G,ne.Db=_,ne.Ed=G,y==12&&(ne.F=ce,ne.J=0+be+2*G),ne.Tc=X,ne.lb=q)}if(_=1,q=D.S,G=D.width,X=D.height,q>=Ar&&13>q)if(11>q)y=D.f.RGBA,_&=(J=Math.abs(y.A))*(X-1)+G<=y.size,_&=J>=G*eg[q],_&=y.eb!=null;else{y=D.f.kb,J=(G+1)/2,be=(X+1)/2,ne=Math.abs(y.fa),ce=Math.abs(y.Ab);var Be=Math.abs(y.Db),De=Math.abs(y.lb),Ce=De*(X-1)+G;_&=ne*(X-1)+G<=y.Fd,_&=ce*(be-1)+J<=y.Cd,_=(_&=Be*(be-1)+J<=y.Ed)&ne>=G&ce>=J&Be>=J,_&=y.y!=null,_&=y.f!=null,_&=y.ea!=null,q==12&&(_&=De>=G,_&=Ce<=y.Tc,_&=y.F!=null)}else _=0;y=_?0:2}}return y!=0||N!=null&&N.fd&&(y=Bc(D)),y}var Hi=64,js=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ll=24,Dl=32,kc=8,Kr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ie("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(y){return y},z.Predictor2=function(y,_,N){return _[N+0]},z.Predictor3=function(y,_,N){return _[N+1]},z.Predictor4=function(y,_,N){return _[N-1]},z.Predictor5=function(y,_,N){return Ye(Ye(y,_[N+1]),_[N+0])},z.Predictor6=function(y,_,N){return Ye(y,_[N-1])},z.Predictor7=function(y,_,N){return Ye(y,_[N+0])},z.Predictor8=function(y,_,N){return Ye(_[N-1],_[N+0])},z.Predictor9=function(y,_,N){return Ye(_[N+0],_[N+1])},z.Predictor10=function(y,_,N){return Ye(Ye(y,_[N-1]),Ye(_[N+0],_[N+1]))},z.Predictor11=function(y,_,N){var D=_[N+0];return 0>=ot(D>>24&255,y>>24&255,(_=_[N-1])>>24&255)+ot(D>>16&255,y>>16&255,_>>16&255)+ot(D>>8&255,y>>8&255,_>>8&255)+ot(255&D,255&y,255&_)?D:y},z.Predictor12=function(y,_,N){var D=_[N+0];return(at((y>>24&255)+(D>>24&255)-((_=_[N-1])>>24&255))<<24|at((y>>16&255)+(D>>16&255)-(_>>16&255))<<16|at((y>>8&255)+(D>>8&255)-(_>>8&255))<<8|at((255&y)+(255&D)-(255&_)))>>>0},z.Predictor13=function(y,_,N){var D=_[N-1];return(Ke((y=Ye(y,_[N+0]))>>24&255,D>>24&255)<<24|Ke(y>>16&255,D>>16&255)<<16|Ke(y>>8&255,D>>8&255)<<8|Ke(y>>0&255,D>>0&255))>>>0};var Kp=z.PredictorAdd0;z.PredictorAdd1=Ft,Ie("Predictor2","PredictorAdd2"),Ie("Predictor3","PredictorAdd3"),Ie("Predictor4","PredictorAdd4"),Ie("Predictor5","PredictorAdd5"),Ie("Predictor6","PredictorAdd6"),Ie("Predictor7","PredictorAdd7"),Ie("Predictor8","PredictorAdd8"),Ie("Predictor9","PredictorAdd9"),Ie("Predictor10","PredictorAdd10"),Ie("Predictor11","PredictorAdd11"),Ie("Predictor12","PredictorAdd12"),Ie("Predictor13","PredictorAdd13");var hf=z.PredictorAdd2;Xt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var Sh,Ta=z.ColorIndexInverseTransform,rr=z.MapARGB,Is=z.VP8LColorIndexInverseTransformAlpha,pf=z.MapAlpha,Xo=z.VP8LPredictorsAdd=[];Xo.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var Fs,Or,gr,zs,Zr,Wa,mo,Xa,fi,Ka,Ti,Qr,Ol,go,jc,Hs,Us,qs,Bl,Ic,Vs,Ko,kl,hi,ga,sn,ln,qn,wi=a(511),Ra=a(2041),$s=a(225),Gs=a(767),Zo=0,Ah=Ra,jl=$s,ar=Gs,Ma=wi,Ar=0,Fc=1,vo=2,df=3,Il=4,Qo=5,Nh=6,mf=7,Ys=8,Jo=9,zc=10,Ch=[2,3,7],Pa=[3,3,11],va=[280,256,256,256,40],Fl=[0,1,1,1,0],es=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ts=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],zl=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Xm=8,gf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ui=null,pi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Nn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ws=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],yo=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Zp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Hl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Km=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ns=[],Br=[],ya=[],Zm=1,Hc=2,bo=[],or=[];$e("UpsampleRgbLinePair",gn,3),$e("UpsampleBgrLinePair",Kn,3),$e("UpsampleRgbaLinePair",Ga,4),$e("UpsampleBgraLinePair",ir,4),$e("UpsampleArgbLinePair",_i,4),$e("UpsampleRgba4444LinePair",bi,2),$e("UpsampleRgb565LinePair",ti,2);var is=z.UpsampleRgbLinePair,Xs=z.UpsampleBgrLinePair,_o=z.UpsampleRgbaLinePair,Th=z.UpsampleBgraLinePair,Rh=z.UpsampleArgbLinePair,Uc=z.UpsampleRgba4444LinePair,Mh=z.UpsampleRgb565LinePair,wo=16,qi=1<<wo-1,Ks=-227,Ph=482,_0=6,Qm=0,w0=a(256),Vi=a(256),Qp=a(256),yf=a(256),bf=a(Ph-Ks),Jp=a(Ph-Ks);Ya("YuvToRgbRow",gn,3),Ya("YuvToBgrRow",Kn,3),Ya("YuvToRgbaRow",Ga,4),Ya("YuvToBgraRow",ir,4),Ya("YuvToArgbRow",_i,4),Ya("YuvToRgba4444Row",bi,2),Ya("YuvToRgb565Row",ti,2);var Ul=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],rs=[0,2,8],x0=[8,7,6,4,4,2,2,2,1,1,1,1],Jm=1;this.WebPDecodeRGBA=function(y,_,N,D,q){var G=Fc,X=new Mc,J=new dr;X.ba=J,J.S=G,J.width=[J.width],J.height=[J.height];var ne=J.width,ce=J.height,be=new Bn;if(be==null||y==null)var Be=2;else t(be!=null),Be=Oc(y,_,N,be.width,be.height,be.Pd,be.Qd,be.format,null);if(Be!=0?ne=0:(ne!=null&&(ne[0]=be.width[0]),ce!=null&&(ce[0]=be.height[0]),ne=1),ne){J.width=J.width[0],J.height=J.height[0],D!=null&&(D[0]=J.width),q!=null&&(q[0]=J.height);e:{if(D=new Cs,(q=new lf).data=y,q.w=_,q.ha=N,q.kd=1,_=[0],t(q!=null),((y=Oc(q.data,q.w,q.ha,null,null,null,_,null,q))==0||y==7)&&_[0]&&(y=4),(_=y)==0){if(t(X!=null),D.data=q.data,D.w=q.w+q.offset,D.ha=q.ha-q.offset,D.put=Ua,D.ac=Fi,D.bc=co,D.ma=X,q.xa){if((y=mr())==null){X=1;break e}if(function(De,Ce){var Qe=[0],He=[0],_e=[0];t:for(;;){if(De==null)return 0;if(Ce==null)return De.a=2,0;if(De.l=Ce,De.a=0,pe(De.m,Ce.data,Ce.w,Ce.ha),!wt(De.m,Qe,He,_e)){De.a=3;break t}if(De.xb=Hc,Ce.width=Qe[0],Ce.height=He[0],!jn(Qe[0],He[0],1,De,null))break t;return 1}return t(De.a!=0),0}(y,D)){if(D=(_=Pl(D.width,D.height,X.Oa,X.ba))==0){t:{D=y;n:for(;;){if(D==null){D=0;break t}if(t(D.s.yc!=null),t(D.s.Ya!=null),t(0<D.s.Wb),t((N=D.l)!=null),t((q=N.ma)!=null),D.xb!=0){if(D.ca=q.ba,D.tb=q.tb,t(D.ca!=null),!ks(q.Oa,N,df)){D.a=2;break n}if(!Ns(D,N.width)||N.da)break n;if((N.da||bn(D.ca.S))&&Pe(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&Pe()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!Ue(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!Er(D,D.V,D.Ba,D.c,D.i,N.o,El))break n;q.Dc=D.Ma,D=1;break t}t(D.a!=0),D=0}D=!D}D&&(_=y.a)}else _=y.a}else{if((y=new $p)==null){X=1;break e}if(y.Fa=q.na,y.P=q.P,y.qc=q.Sa,Qu(y,D)){if((_=Pl(D.width,D.height,X.Oa,X.ba))==0){if(y.Aa=0,N=X.Oa,t((q=y)!=null),N!=null){if(0<(ne=0>(ne=N.Md)?0:100<ne?255:255*ne/100)){for(ce=be=0;4>ce;++ce)12>(Be=q.pb[ce]).lc&&(Be.ia=ne*x0[0>Be.lc?0:Be.lc]>>3),be|=Be.ia;be&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=N.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}gh(y,D)||(_=y.a)}}else _=y.a}_==0&&X.Oa!=null&&X.Oa.fd&&(_=Bc(X.ba))}X=_}G=X!=0?null:11>G?J.f.RGBA.eb:J.f.kb.y}else G=null;return G};var eg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(z,ie){for(var le="",H=0;H<4;H++)le+=String.fromCharCode(z[ie++]);return le}function p(z,ie){return(z[ie+0]<<0|z[ie+1]<<8|z[ie+2]<<16)>>>0}function d(z,ie){return(z[ie+0]<<0|z[ie+1]<<8|z[ie+2]<<16|z[ie+3]<<24)>>>0}new u;var v=[0],g=[0],w=[],x=new u,E=e,R=function(z,ie){var le={},H=0,j=!1,ae=0,oe=0;if(le.frames=[],!function(F,K,se,he){for(var B=0;B<he;B++)if(F[K+B]!=se.charCodeAt(B))return!0;return!1}(z,ie,"RIFF",4)){for(d(z,ie+=4),ie+=8;ie<z.length;){var xe=f(z,ie),re=d(z,ie+=4);ie+=4;var fe=re+(1&re);switch(xe){case"VP8 ":case"VP8L":le.frames[H]===void 0&&(le.frames[H]={}),(Y=le.frames[H]).src_off=j?oe:ie-8,Y.src_size=ae+re+8,H++,j&&(j=!1,ae=0,oe=0);break;case"VP8X":(Y=le.header={}).feature_flags=z[ie];var pe=ie+4;Y.canvas_width=1+p(z,pe),pe+=3,Y.canvas_height=1+p(z,pe),pe+=3;break;case"ALPH":j=!0,ae=fe+8,oe=ie-8;break;case"ANIM":(Y=le.header).bgcolor=d(z,ie),pe=ie+4,Y.loop_count=(ge=z)[(O=pe)+0]<<0|ge[O+1]<<8,pe+=2;break;case"ANMF":var Ee,Y;(Y=le.frames[H]={}).offset_x=2*p(z,ie),ie+=3,Y.offset_y=2*p(z,ie),ie+=3,Y.width=1+p(z,ie),ie+=3,Y.height=1+p(z,ie),ie+=3,Y.duration=p(z,ie),ie+=3,Ee=z[ie++],Y.dispose=1&Ee,Y.blend=Ee>>1&1}xe!="ANMF"&&(ie+=fe)}var ge,O;return le}}(E,0);R.response=E,R.rgbaoutput=!0,R.dataurl=!1;var L=R.header?R.header:null,M=R.frames?R.frames:null;if(L){L.loop_counter=L.loop_count,v=[L.canvas_height],g=[L.canvas_width];for(var P=0;P<M.length&&M[P].blend!=0;P++);}var k=M[0],W=x.WebPDecodeRGBA(E,k.src_off,k.src_size,g,v);k.rgba=W,k.imgwidth=g[0],k.imgheight=v[0];for(var Q=0;Q<g[0]*v[0]*4;Q++)w[Q]=W[Q];return this.width=g,this.height=v,this.data=w,this}(function(e){var t=function(){return typeof rb=="function"},n=function(v,g,w,x){var E=4,R=s;switch(x){case e.image_compression.FAST:E=1,R=a;break;case e.image_compression.MEDIUM:E=6,R=l;break;case e.image_compression.SLOW:E=9,R=u}v=i(v,g,w,R);var L=rb(v,{level:E});return e.__addimage__.arrayBufferToBinaryString(L)},i=function(v,g,w,x){for(var E,R,L,M=v.length/g,P=new Uint8Array(v.length+M),k=p(),W=0;W<M;W+=1){if(L=W*g,E=v.subarray(L,L+g),x)P.set(x(E,w,R),L+W);else{for(var Q,z=k.length,ie=[];Q<z;Q+=1)ie[Q]=k[Q](E,w,R);var le=d(ie.concat());P.set(ie[le],L+W)}R=E}return P},r=function(v){var g=Array.apply([],v);return g.unshift(0),g},a=function(v,g){var w,x=[],E=v.length;x[0]=1;for(var R=0;R<E;R+=1)w=v[R-g]||0,x[R+1]=v[R]-w+256&255;return x},s=function(v,g,w){var x,E=[],R=v.length;E[0]=2;for(var L=0;L<R;L+=1)x=w&&w[L]||0,E[L+1]=v[L]-x+256&255;return E},l=function(v,g,w){var x,E,R=[],L=v.length;R[0]=3;for(var M=0;M<L;M+=1)x=v[M-g]||0,E=w&&w[M]||0,R[M+1]=v[M]+256-(x+E>>>1)&255;return R},u=function(v,g,w){var x,E,R,L,M=[],P=v.length;M[0]=4;for(var k=0;k<P;k+=1)x=v[k-g]||0,E=w&&w[k]||0,R=w&&w[k-g]||0,L=f(x,E,R),M[k+1]=v[k]-L+256&255;return M},f=function(v,g,w){if(v===g&&g===w)return v;var x=Math.abs(g-w),E=Math.abs(v-w),R=Math.abs(v+g-w-w);return x<=E&&x<=R?v:E<=R?g:w},p=function(){return[r,a,s,l,u]},d=function(v){var g=v.map(function(w){return w.reduce(function(x,E){return x+Math.abs(E)},0)});return g.indexOf(Math.min.apply(null,g))};e.processPNG=function(v,g,w,x){var E,R,L,M,P,k,W,Q,z,ie,le,H,j,ae,oe,xe=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(L=new iz(v)).imgData,R=L.bits,E=L.colorSpace,P=L.colors,[4,6].indexOf(L.colorType)!==-1){if(L.bits===8){z=(Q=L.pixelBitlength==32?new Uint32Array(L.decodePixels().buffer):L.pixelBitlength==16?new Uint16Array(L.decodePixels().buffer):new Uint8Array(L.decodePixels().buffer)).length,le=new Uint8Array(z*L.colors),ie=new Uint8Array(z);var fe,pe=L.pixelBitlength-L.bits;for(ae=0,oe=0;ae<z;ae++){for(j=Q[ae],fe=0;fe<pe;)le[oe++]=j>>>fe&255,fe+=L.bits;ie[ae]=j>>>fe&255}}if(L.bits===16){z=(Q=new Uint32Array(L.decodePixels().buffer)).length,le=new Uint8Array(z*(32/L.pixelBitlength)*L.colors),ie=new Uint8Array(z*(32/L.pixelBitlength)),H=L.colors>1,ae=0,oe=0;for(var Ee=0;ae<z;)j=Q[ae++],le[oe++]=j>>>0&255,H&&(le[oe++]=j>>>16&255,j=Q[ae++],le[oe++]=j>>>0&255),ie[Ee++]=j>>>16&255;R=8}x!==e.image_compression.NONE&&t()?(v=n(le,L.width*L.colors,L.colors,x),W=n(ie,L.width,1,x)):(v=le,W=ie,xe=void 0)}if(L.colorType===3&&(E=this.color_spaces.INDEXED,k=L.palette,L.transparency.indexed)){var Y=L.transparency.indexed,ge=0;for(ae=0,z=Y.length;ae<z;++ae)ge+=Y[ae];if((ge/=255)===z-1&&Y.indexOf(0)!==-1)M=[Y.indexOf(0)];else if(ge!==z){for(Q=L.decodePixels(),ie=new Uint8Array(Q.length),ae=0,z=Q.length;ae<z;ae++)ie[ae]=Y[Q[ae]];W=n(ie,L.width,1)}}var O=function(F){var K;switch(F){case e.image_compression.FAST:K=11;break;case e.image_compression.MEDIUM:K=13;break;case e.image_compression.SLOW:K=14;break;default:K=12}return K}(x);return xe===this.decode.FLATE_DECODE&&(re="/Predictor "+O+" "),re+="/Colors "+P+" /BitsPerComponent "+R+" /Columns "+L.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(W&&this.__addimage__.isArrayBuffer(W)||this.__addimage__.isArrayBufferView(W))&&(W=this.__addimage__.arrayBufferToBinaryString(W)),{alias:w,data:v,index:g,filter:xe,decodeParameters:re,transparency:M,palette:k,sMask:W,predictor:O,width:L.width,height:L.height,bitsPerComponent:R,colorSpace:E}}}})(kt.API),function(e){e.processGIF89A=function(t,n,i,r){var a=new rz(t),s=a.width,l=a.height,u=[];a.decodeAndBlitFrameRGBA(0,u);var f={data:u,width:s,height:l},p=new h2(100).encode(f,100);return e.processJPEG.call(this,p,n,i,r)},e.processGIF87A=e.processGIF89A}(kt.API),hs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hs.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Xn.log("bit decode error:"+n)}},hs.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<t;r++)for(var a=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*r*4,l=0;l<8&&8*r+l<this.width;l++){var u=this.palette[a>>7-l&1];this.data[s+4*l]=u.blue,this.data[s+4*l+1]=u.green,this.data[s+4*l+2]=u.red,this.data[s+4*l+3]=255}n!==0&&(this.pos+=4-n)}},hs.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++){var a=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*r*4,l=a>>4,u=15&a,f=this.palette[l];if(this.data[s]=f.blue,this.data[s+1]=f.green,this.data[s+2]=f.red,this.data[s+3]=255,2*r+1>=this.width)break;f=this.palette[u],this.data[s+4]=f.blue,this.data[s+4+1]=f.green,this.data[s+4+2]=f.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},hs.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*i;if(r<this.palette.length){var s=this.palette[r];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},hs.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,u=(a>>10&t)/t*255|0,f=a>>15?255:0,p=i*this.width*4+4*r;this.data[p]=u,this.data[p+1]=l,this.data[p+2]=s,this.data[p+3]=f}this.pos+=e}},hs.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&t)/t*255|0,u=(s>>5&n)/n*255|0,f=(s>>11)/t*255|0,p=r*this.width*4+4*a;this.data[p]=f,this.data[p+1]=u,this.data[p+2]=l,this.data[p+3]=255}this.pos+=e}},hs.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=a,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},hs.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=a,this.data[l+1]=r,this.data[l+2]=i,this.data[l+3]=s}},hs.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,i,r){var a=new hs(t,!1),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},f=new h2(100).encode(u,100);return e.processJPEG.call(this,f,n,i,r)}}(kt.API),YS.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,i,r){var a=new YS(t),s=a.width,l=a.height,u={data:a.getData(),width:s,height:l},f=new h2(100).encode(u,100);return e.processJPEG.call(this,f,n,i,r)}}(kt.API),kt.API.processRGBA=function(e,t,n){for(var i=e.data,r=i.length,a=new Uint8Array(r/4*3),s=new Uint8Array(r/4),l=0,u=0,f=0;f<r;f+=4){var p=i[f],d=i[f+1],v=i[f+2],g=i[f+3];a[l++]=p,a[l++]=d,a[l++]=v,s[u++]=g}var w=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:w,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},kt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},lp=kt.API,xv=lp.getCharWidthsArray=function(e,t){var n,i,r=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:r.metadata.Unicode.widths,u=l.fof?l.fof:1,f=t.kerning?t.kerning:r.metadata.Unicode.kerning,p=f.fof?f.fof:1,d=t.doKerning!==!1,v=0,g=e.length,w=0,x=l[0]||u,E=[];for(n=0;n<g;n++)i=e.charCodeAt(n),typeof r.metadata.widthOfString=="function"?E.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+s*(1e3/a)||0)/1e3):(v=d&&Hn(f[i])==="object"&&!isNaN(parseInt(f[i][w],10))?f[i][w]/p:0,E.push((l[i]||x)/u+v)),w=i;return E},qS=lp.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return lp.processArabic&&(e=lp.processArabic(e)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(e,n,r)/n:xv.apply(this,arguments).reduce(function(a,s){return a+s},0)},VS=function(e,t,n,i){for(var r=[],a=0,s=e.length,l=0;a!==s&&l+t[a]<n;)l+=t[a],a++;r.push(e.slice(0,a));var u=a;for(l=0;a!==s;)l+t[a]>i&&(r.push(e.slice(u,a)),l=0,u=a),l+=t[a],a++;return u!==a&&r.push(e.slice(u,a)),r},$S=function(e,t,n){n||(n={});var i,r,a,s,l,u,f,p=[],d=[p],v=n.textIndent||0,g=0,w=0,x=e.split(" "),E=xv.apply(this,[" ",n])[0];if(u=n.lineIndent===-1?x[0].length+2:n.lineIndent||0){var R=Array(u).join(" "),L=[];x.map(function(P){(P=P.split(/\s*\n/)).length>1?L=L.concat(P.map(function(k,W){return(W&&k.length?`
`:"")+k})):L.push(P[0])}),x=L,u=qS.apply(this,[R,n])}for(a=0,s=x.length;a<s;a++){var M=0;if(i=x[a],u&&i[0]==`
`&&(i=i.substr(1),M=1),v+g+(w=(r=xv.apply(this,[i,n])).reduce(function(P,k){return P+k},0))>t||M){if(w>t){for(l=VS.apply(this,[i,r,t-(v+g),t]),p.push(l.shift()),p=[l.pop()];l.length;)d.push([l.shift()]);w=r.slice(i.length-(p[0]?p[0].length:0)).reduce(function(P,k){return P+k},0)}else p=[i];d.push(p),v=w+u,g=E}else p.push(i),v+=g+w,g=E}return f=u?function(P,k){return(k?R:"")+P.join(" ")}:function(P){return P.join(" ")},d.map(f)},lp.splitTextToSize=function(e,t,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var d=this.internal.getFont(p.fontName,p.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/r;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=n.lineIndent;var l,u,f=[];for(l=0,u=i.length;l<u;l++)f=f.concat($S.apply(this,[i[l],s,a]));return f},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},i={},r=0;r<t.length;r++)n[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var a=function(d){return"0x"+parseInt(d,10).toString(16)},s=e.__fontmetrics__.compress=function(d){var v,g,w,x,E=["{"];for(var R in d){if(v=d[R],isNaN(parseInt(R,10))?g="'"+R+"'":(R=parseInt(R,10),g=(g=a(R).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof v=="number")v<0?(w=a(v).slice(3),x="-"):(w=a(v).slice(2),x=""),w=x+w.slice(0,-1)+i[w.slice(-1)];else{if(Hn(v)!=="object")throw new Error("Don't know what to do with value type "+Hn(v)+".");w=s(v)}E.push(g+w)}return E.push("}"),E.join("")},l=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,g,w,x,E={},R=1,L=E,M=[],P="",k="",W=d.length-1,Q=1;Q<W;Q+=1)(x=d[Q])=="'"?v?(w=v.join(""),v=void 0):v=[]:v?v.push(x):x=="{"?(M.push([L,w]),L={},w=void 0):x=="}"?((g=M.pop())[0][g[1]]=L,w=void 0,L=g[0]):x=="-"?R=-1:w===void 0?n.hasOwnProperty(x)?(P+=n[x],w=parseInt(P,16)*R,R=1,P=""):P+=x:n.hasOwnProperty(x)?(k+=n[x],L[w]=parseInt(k,16)*R,R=1,w=void 0,k=""):k+=x;return E},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var v=d.font,g=p.Unicode[v.postScriptName];g&&(v.metadata.Unicode={},v.metadata.Unicode.widths=g.widths,v.metadata.Unicode.kerning=g.kerning);var w=f.Unicode[v.postScriptName];w&&(v.metadata.Unicode.encoding=w,v.encoding=w.codePages[0])}])}(kt.API),function(e){var t=function(n){for(var i=n.length,r=new Uint8Array(i),a=0;a<i;a++)r[a]=n.charCodeAt(a);return r};e.API.events.push(["addFont",function(n){var i=void 0,r=n.font,a=n.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(rm(l)),s.metadata=e.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(r,i)}}])}(kt),function(e){function t(){return(It.canvg?Promise.resolve(It.canvg):J2(()=>import("./index.es-YKRD6bXE.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}kt.API.addSvgAsImage=function(n,i,r,a,s,l,u,f){if(isNaN(i)||isNaN(r))throw Xn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw Xn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=a,p.height=s;var d=p.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,p.width,p.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return t().then(function(w){return w.fromString(d,n,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(v)}).then(function(){g.addImage(p.toDataURL("image/jpeg",1),i,r,a,s,u,f)})}}(),kt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,n);return this},kt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var i,r,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),u=[],f=0,p=0,d=0;function v(w,x){var E,R=!1;for(E=0;E<w.length;E+=1)w[E]===x&&(R=!0);return R}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=l.length;for(d=0;d<g;d+=1)n[l[d]].value=n[l[d]].defaultValue,n[l[d]].explicitSet=!1}if(Hn(e)==="object"){for(r in e)if(a=e[r],v(l,r)&&a!==void 0){if(n[r].type==="boolean"&&typeof a=="boolean")n[r].value=a;else if(n[r].type==="name"&&v(n[r].valueSet,a))n[r].value=a;else if(n[r].type==="integer"&&Number.isInteger(a))n[r].value=a;else if(n[r].type==="array"){for(f=0;f<a.length;f+=1)if(i=!0,a[f].length===1&&typeof a[f][0]=="number")u.push(String(a[f]-1));else if(a[f].length>1){for(p=0;p<a[f].length;p+=1)typeof a[f][p]!="number"&&(i=!1);i===!0&&u.push([a[f][0]-1,a[f][1]-1].join(" "))}n[r].value="["+u.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,x=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?x.push("/"+w+" /"+n[w].value):x.push("/"+w+" "+n[w].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),u=unescape(encodeURIComponent("</x:xmpmeta>")),f=a.length+s.length+l.length+r.length+u.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(r+a+s+l+u),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(kt.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,s){for(var l,u=s.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],d=0,v=a.length;d<v;++d){if(l=s.metadata.characterToGlyph(a.charCodeAt(d)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=a.charCodeAt(d),u.indexOf(l)==-1&&(u.push(l),u.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return p.join("");l=l.toString(16),p.push(f[4-l.length],l)}return p.join("")},i=function(a){var s,l,u,f,p,d,v;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,u=[],d=0,v=(l=Object.keys(a).sort(function(g,w){return g-w})).length;d<v;d++)s=l[d],u.length>=100&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar`,u=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(f=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),u.push("<"+s+"><"+f+">"));return u.length&&(p+=`
`+u.length+` beginbfchar
`+u.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,f=s.newObject,p=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var d=l.metadata.Unicode.widths,v=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",w=0;w<v.length;w++)g+=String.fromCharCode(v[w]);var x=f();p({data:g,addLength1:!0,objectId:x}),u("endobj");var E=f();p({data:i(l.metadata.toUnicode),addLength1:!0,objectId:E}),u("endobj");var R=f();u("<<"),u("/Type /FontDescriptor"),u("/FontName /"+up(l.fontName)),u("/FontFile2 "+x+" 0 R"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/Flags "+l.metadata.flags),u("/StemV "+l.metadata.stemV),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u(">>"),u("endobj");var L=f();u("<<"),u("/Type /Font"),u("/BaseFont /"+up(l.fontName)),u("/FontDescriptor "+R+" 0 R"),u("/W "+e.API.PDFObject.convert(d)),u("/CIDToGIDMap /Identity"),u("/DW 1000"),u("/Subtype /CIDFontType2"),u("/CIDSystemInfo"),u("<<"),u("/Supplement 0"),u("/Registry (Adobe)"),u("/Ordering ("+l.encoding+")"),u(">>"),u(">>"),u("endobj"),l.objectNumber=f(),u("<<"),u("/Type /Font"),u("/Subtype /Type0"),u("/ToUnicode "+E+" 0 R"),u("/BaseFont /"+up(l.fontName)),u("/Encoding /"+l.encoding),u("/DescendantFonts ["+L+" 0 R]"),u(">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var l=s.font,u=s.out,f=s.newObject,p=s.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var d=l.metadata.rawData,v="",g=0;g<d.length;g++)v+=String.fromCharCode(d[g]);var w=f();p({data:v,addLength1:!0,objectId:w}),u("endobj");var x=f();p({data:i(l.metadata.toUnicode),addLength1:!0,objectId:x}),u("endobj");var E=f();u("<<"),u("/Descent "+l.metadata.decender),u("/CapHeight "+l.metadata.capHeight),u("/StemV "+l.metadata.stemV),u("/Type /FontDescriptor"),u("/FontFile2 "+w+" 0 R"),u("/Flags 96"),u("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),u("/FontName /"+up(l.fontName)),u("/ItalicAngle "+l.metadata.italicAngle),u("/Ascent "+l.metadata.ascender),u(">>"),u("endobj"),l.objectNumber=f();for(var R=0;R<l.metadata.hmtx.widths.length;R++)l.metadata.hmtx.widths[R]=parseInt(l.metadata.hmtx.widths[R]*(1e3/l.metadata.head.unitsPerEm));u("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+up(l.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),u("endobj"),l.isAlreadyPutted=!0}})(a)}]);var r=function(a){var s,l=a.text||"",u=a.x,f=a.y,p=a.options||{},d=a.mutex||{},v=d.pdfEscape,g=d.activeFontKey,w=d.fonts,x=g,E="",R=0,L="",M=w[x].encoding;if(w[x].encoding!=="Identity-H")return{text:l,x:u,y:f,options:p,mutex:d};for(L=l,x=g,Array.isArray(l)&&(L=l[0]),R=0;R<L.length;R+=1)w[x].metadata.hasOwnProperty("cmap")&&(s=w[x].metadata.cmap.unicode.codeMap[L[R].charCodeAt(0)]),s||L[R].charCodeAt(0)<256&&w[x].metadata.hasOwnProperty("Unicode")?E+=L[R]:E+="";var P="";return parseInt(x.slice(1))<14||M==="WinAnsiEncoding"?P=v(E,x).split("").map(function(k){return k.charCodeAt(0).toString(16)}).join(""):M==="Identity-H"&&(P=n(E,w[x])),d.isHex=!0,{text:P,x:u,y:f,options:p,mutex:d}};t.events.push(["postProcessText",function(a){var s=a.text||"",l=[],u={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var f=0;for(f=0;f<s.length;f+=1)Array.isArray(s[f])&&s[f].length===3?l.push([r(Object.assign({},u,{text:s[f][0]})).text,s[f][1],s[f][2]]):l.push(r(Object.assign({},u,{text:s[f]})).text);a.text=l}else a.text=r(Object.assign({},u,{text:s})).text}])}(kt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,i){return t.call(this),this.internal.vFS[n]=i,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(kt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(i){var r,a,s,l,u,f,p,d=t,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],R=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,M=0;this.__bidiEngine__={};var P=function(H){var j=H.charCodeAt(),ae=j>>8,oe=x[ae];return oe!==void 0?d[256*oe+(255&j)]:ae===252||ae===253?"AL":R.test(ae)?"L":ae===8?"R":"N"},k=function(H){for(var j,ae=0;ae<H.length;ae++){if((j=P(H.charAt(ae)))==="L")return!1;if(j==="R")return!0}return!1},W=function(H,j,ae,oe){var xe,re,fe,pe,Ee=j[oe];switch(Ee){case"L":case"R":L=!1;break;case"N":case"AN":break;case"EN":L&&(Ee="AN");break;case"AL":L=!0,Ee="R";break;case"WS":Ee="N";break;case"CS":oe<1||oe+1>=j.length||(xe=ae[oe-1])!=="EN"&&xe!=="AN"||(re=j[oe+1])!=="EN"&&re!=="AN"?Ee="N":L&&(re="AN"),Ee=re===xe?re:"N";break;case"ES":Ee=(xe=oe>0?ae[oe-1]:"B")==="EN"&&oe+1<j.length&&j[oe+1]==="EN"?"EN":"N";break;case"ET":if(oe>0&&ae[oe-1]==="EN"){Ee="EN";break}if(L){Ee="N";break}for(fe=oe+1,pe=j.length;fe<pe&&j[fe]==="ET";)fe++;Ee=fe<pe&&j[fe]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(pe=j.length,fe=oe+1;fe<pe&&j[fe]==="NSM";)fe++;if(fe<pe){var Y=H[oe],ge=Y>=1425&&Y<=2303||Y===64286;if(xe=j[fe],ge&&(xe==="R"||xe==="AL")){Ee="R";break}}}Ee=oe<1||(xe=j[oe-1])==="B"?"N":ae[oe-1];break;case"B":L=!1,r=!0,Ee=M;break;case"S":a=!0,Ee="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"BN":Ee="N"}return Ee},Q=function(H,j,ae){var oe=H.split("");return ae&&z(oe,ae,{hiLevel:M}),oe.reverse(),j&&j.reverse(),oe.join("")},z=function(H,j,ae){var oe,xe,re,fe,pe,Ee=-1,Y=H.length,ge=0,O=[],F=M?g:v,K=[];for(L=!1,r=!1,a=!1,xe=0;xe<Y;xe++)K[xe]=P(H[xe]);for(re=0;re<Y;re++){if(pe=ge,O[re]=W(H,K,O,re),oe=240&(ge=F[pe][w[O[re]]]),ge&=15,j[re]=fe=F[ge][5],oe>0)if(oe===16){for(xe=Ee;xe<re;xe++)j[xe]=1;Ee=-1}else Ee=-1;if(F[ge][6])Ee===-1&&(Ee=re);else if(Ee>-1){for(xe=Ee;xe<re;xe++)j[xe]=fe;Ee=-1}K[re]==="B"&&(j[re]=0),ae.hiLevel|=fe}a&&function(se,he,B){for(var C=0;C<B;C++)if(se[C]==="S"){he[C]=M;for(var T=C-1;T>=0&&se[T]==="WS";T--)he[T]=M}}(K,j,Y)},ie=function(H,j,ae,oe,xe){if(!(xe.hiLevel<H)){if(H===1&&M===1&&!r)return j.reverse(),void(ae&&ae.reverse());for(var re,fe,pe,Ee,Y=j.length,ge=0;ge<Y;){if(oe[ge]>=H){for(pe=ge+1;pe<Y&&oe[pe]>=H;)pe++;for(Ee=ge,fe=pe-1;Ee<fe;Ee++,fe--)re=j[Ee],j[Ee]=j[fe],j[fe]=re,ae&&(re=ae[Ee],ae[Ee]=ae[fe],ae[fe]=re);ge=pe}ge++}}},le=function(H,j,ae){var oe=H.split(""),xe={hiLevel:M};return ae||(ae=[]),z(oe,ae,xe),function(re,fe,pe){if(pe.hiLevel!==0&&p)for(var Ee,Y=0;Y<re.length;Y++)fe[Y]===1&&(Ee=E.indexOf(re[Y]))>=0&&(re[Y]=E[Ee+1])}(oe,ae,xe),ie(2,oe,j,ae,xe),ie(1,oe,j,ae,xe),oe.join("")};return this.__bidiEngine__.doBidiReorder=function(H,j,ae){if(function(xe,re){if(re)for(var fe=0;fe<xe.length;fe++)re[fe]=fe;l===void 0&&(l=k(xe)),f===void 0&&(f=k(xe))}(H,j),s||!u||f)if(s&&u&&l^f)M=l?1:0,H=Q(H,j,ae);else if(!s&&u&&f)M=l?1:0,H=le(H,j,ae),H=Q(H,j);else if(!s||l||u||f){if(s&&!u&&l^f)H=Q(H,j),l?(M=0,H=le(H,j,ae)):(M=1,H=le(H,j,ae),H=Q(H,j));else if(s&&l&&!u&&f)M=1,H=le(H,j,ae),H=Q(H,j);else if(!s&&!u&&l^f){var oe=p;l?(M=1,H=le(H,j,ae),M=0,p=!1,H=le(H,j,ae),p=oe):(M=0,H=le(H,j,ae),H=Q(H,j),M=1,p=!1,H=le(H,j,ae),p=oe,H=Q(H,j))}}else M=0,H=le(H,j,ae);else M=l?1:0,H=le(H,j,ae);return H},this.__bidiEngine__.setOptions=function(H){H&&(s=H.isInputVisual,u=H.isOutputVisual,l=H.isInputRtl,f=H.isOutputRtl,p=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var l=0;for(s=[],l=0;l<r.length;l+=1)Object.prototype.toString.call(r[l])==="[object Array]"?s.push([n.doBidiReorder(r[l][0]),r[l][1],r[l][2]]):s.push([n.doBidiReorder(r[l])]);i.text=s}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}(kt),kt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Ru(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new bz(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new az(this.contents),this.head=new sz(this),this.name=new hz(this),this.cmap=new VC(this),this.toUnicode={},this.hhea=new lz(this),this.maxp=new pz(this),this.hmtx=new dz(this),this.post=new uz(this),this.os2=new cz(this),this.loca=new yz(this),this.glyf=new mz(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,i,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,u,f;for(f=[],s=0,l=(u=this.bbox).length;s<l;s++)t=u[s],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),(32768&(n=r>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,i){var r,a,s,l;for(s=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)r=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return s*(n/1e3)},e.prototype.lineHeight=function(t,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*t},e}();var Ss,Ru=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,i;for(i=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},e.prototype.writeString=function(t){var n,i,r;for(r=[],n=0,i=t.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(t.charCodeAt(n)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,i,r,a,s,l,u;return t=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^a)+65536*(255^s)+256*(255^l)+(255^u)+1):72057594037927940*t+281474976710656*n+1099511627776*i+4294967296*r+16777216*a+65536*s+256*l+u},e.prototype.writeLongLong=function(t){var n,i;return n=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,i;for(n=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)n.push(this.readByte());return n},e.prototype.write=function(t){var n,i,r,a;for(a=[],i=0,r=t.length;i<r;i++)n=t[i],a.push(this.writeByte(n));return a},e}(),az=function(){var e;function t(n){var i,r,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(n){var i,r,a,s,l,u,f,p,d,v,g,w,x;for(x in g=Object.keys(n).length,u=Math.log(2),d=16*Math.floor(Math.log(g)/u),s=Math.floor(d/u),p=16*g-d,(r=new Ru).writeInt(this.scalarType),r.writeShort(g),r.writeShort(d),r.writeShort(s),r.writeShort(p),a=16*g,f=r.pos+a,l=null,w=[],n)for(v=n[x],r.writeString(x),r.writeInt(e(v)),r.writeInt(f),r.writeInt(v.length),w=w.concat(v),x==="head"&&(l=f),f+=v.length;f%4;)w.push(0),f++;return r.write(w),i=2981146554-e(r.data),r.pos=l+8,r.writeUInt32(i),r.data},e=function(n){var i,r,a,s;for(n=$C.call(n);n.length%4;)n.push(0);for(a=new Ru(n),r=0,i=0,s=n.length;i<s;i=i+=4)r+=a.readUInt32();return 4294967295&r},t}(),oz={}.hasOwnProperty,xl=function(e,t){for(var n in t)oz.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};Ss=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var sz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xl(t,Ss),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var i;return(i=new Ru).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(n),i.writeShort(this.glyphDataFormat),i.data},t}(),WS=function(){function e(t,n){var i,r,a,s,l,u,f,p,d,v,g,w,x,E,R,L,M;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(u=0;u<256;++u)this.codeMap[u]=t.readByte();break;case 4:for(g=t.readUInt16(),v=g/2,t.pos+=6,a=function(){var P,k;for(k=[],u=P=0;0<=v?P<v:P>v;u=0<=v?++P:--P)k.push(t.readUInt16());return k}(),t.pos+=2,x=function(){var P,k;for(k=[],u=P=0;0<=v?P<v:P>v;u=0<=v?++P:--P)k.push(t.readUInt16());return k}(),f=function(){var P,k;for(k=[],u=P=0;0<=v?P<v:P>v;u=0<=v?++P:--P)k.push(t.readUInt16());return k}(),p=function(){var P,k;for(k=[],u=P=0;0<=v?P<v:P>v;u=0<=v?++P:--P)k.push(t.readUInt16());return k}(),r=(this.length-t.pos+this.offset)/2,l=function(){var P,k;for(k=[],u=P=0;0<=r?P<r:P>r;u=0<=r?++P:--P)k.push(t.readUInt16());return k}(),u=R=0,M=a.length;R<M;u=++R)for(E=a[u],i=L=w=x[u];w<=E?L<=E:L>=E;i=w<=E?++L:--L)p[u]===0?s=i+f[u]:(s=l[p[u]/2+(i-w)-(v-u)]||0)!==0&&(s+=f[u]),this.codeMap[i]=65535&s}t.pos=d}return e.encode=function(t,n){var i,r,a,s,l,u,f,p,d,v,g,w,x,E,R,L,M,P,k,W,Q,z,ie,le,H,j,ae,oe,xe,re,fe,pe,Ee,Y,ge,O,F,K,se,he,B,C,T,Z,te,de;switch(oe=new Ru,s=Object.keys(t).sort(function(Ae,Ue){return Ae-Ue}),n){case"macroman":for(x=0,E=function(){var Ae=[];for(w=0;w<256;++w)Ae.push(0);return Ae}(),L={0:0},a={},xe=0,Ee=s.length;xe<Ee;xe++)L[T=t[r=s[xe]]]==null&&(L[T]=++x),a[r]={old:t[r],new:L[t[r]]},E[r]=L[t[r]];return oe.writeUInt16(1),oe.writeUInt16(0),oe.writeUInt32(12),oe.writeUInt16(0),oe.writeUInt16(262),oe.writeUInt16(0),oe.write(E),{charMap:a,subtable:oe.data,maxGlyphID:x+1};case"unicode":for(j=[],d=[],M=0,L={},i={},R=f=null,re=0,Y=s.length;re<Y;re++)L[k=t[r=s[re]]]==null&&(L[k]=++M),i[r]={old:k,new:L[k]},l=L[k]-r,R!=null&&l===f||(R&&d.push(R),j.push(r),f=l),R=r;for(R&&d.push(R),d.push(65535),j.push(65535),le=2*(ie=j.length),z=2*Math.pow(Math.log(ie)/Math.LN2,2),v=Math.log(z/2)/Math.LN2,Q=2*ie-z,u=[],W=[],g=[],w=fe=0,ge=j.length;fe<ge;w=++fe){if(H=j[w],p=d[w],H===65535){u.push(0),W.push(0);break}if(H-(ae=i[H].new)>=32768)for(u.push(0),W.push(2*(g.length+ie-w)),r=pe=H;H<=p?pe<=p:pe>=p;r=H<=p?++pe:--pe)g.push(i[r].new);else u.push(ae-H),W.push(0)}for(oe.writeUInt16(3),oe.writeUInt16(1),oe.writeUInt32(12),oe.writeUInt16(4),oe.writeUInt16(16+8*ie+2*g.length),oe.writeUInt16(0),oe.writeUInt16(le),oe.writeUInt16(z),oe.writeUInt16(v),oe.writeUInt16(Q),B=0,O=d.length;B<O;B++)r=d[B],oe.writeUInt16(r);for(oe.writeUInt16(0),C=0,F=j.length;C<F;C++)r=j[C],oe.writeUInt16(r);for(Z=0,K=u.length;Z<K;Z++)l=u[Z],oe.writeUInt16(l);for(te=0,se=W.length;te<se;te++)P=W[te],oe.writeUInt16(P);for(de=0,he=g.length;de<he;de++)x=g[de],oe.writeUInt16(x);return{charMap:i,subtable:oe.data,maxGlyphID:M+1}}},e}(),VC=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xl(t,Ss),t.prototype.tag="cmap",t.prototype.parse=function(n){var i,r,a;for(n.pos=this.offset,this.version=n.readUInt16(),a=n.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=a?r<a:r>a;r=0<=a?++r:--r)i=new WS(n,this.offset),this.tables.push(i),i.isUnicode&&this.unicode==null&&(this.unicode=i);return!0},t.encode=function(n,i){var r,a;return i==null&&(i="macroman"),r=WS.encode(n,i),(a=new Ru).writeUInt16(0),a.writeUInt16(1),r.table=a.data.concat(r.subtable),r},t}(),lz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xl(t,Ss),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),cz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xl(t,Ss),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(n.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(n.readInt());return r}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(n.readInt());return r}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),uz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xl(t,Ss),t.prototype.tag="post",t.prototype.parse=function(n){var i,r,a;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var s;for(r=n.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],a=[];n.pos<this.offset+this.length;)i=n.readByte(),a.push(this.names.push(n.readString(i)));return a;case 151552:return r=n.readUInt16(),this.offsets=n.read(r);case 196608:break;case 262144:return this.map=(function(){var l,u,f;for(f=[],s=l=0,u=this.file.maxp.numGlyphs;0<=u?l<u:l>u;s=0<=u?++l:--l)f.push(n.readUInt32());return f}).call(this)}},t}(),fz=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},hz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xl(t,Ss),t.prototype.tag="name",t.prototype.parse=function(n){var i,r,a,s,l,u,f,p,d,v,g;for(n.pos=this.offset,n.readShort(),i=n.readShort(),u=n.readShort(),r=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)r.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+u+n.readShort()});for(f={},s=d=0,v=r.length;d<v;s=++d)a=r[s],n.pos=a.offset,p=n.readString(a.length),l=new fz(p,a),f[g=a.nameID]==null&&(f[g]=[]),f[a.nameID].push(l);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),pz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xl(t,Ss),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),dz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xl(t,Ss),t.prototype.tag="hmtx",t.prototype.parse=function(n){var i,r,a,s,l,u,f;for(n.pos=this.offset,this.metrics=[],i=0,u=this.file.hhea.numberOfMetrics;0<=u?i<u:i>u;i=0<=u?++i:--i)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,d;for(d=[],i=p=0;0<=a?p<a:p>a;i=0<=a?++p:--p)d.push(n.readInt16());return d}(),this.widths=(function(){var p,d,v,g;for(g=[],p=0,d=(v=this.metrics).length;p<d;p++)s=v[p],g.push(s.advance);return g}).call(this),r=this.widths[this.widths.length-1],f=[],i=l=0;0<=a?l<a:l>a;i=0<=a?++l:--l)f.push(this.widths.push(r));return f},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),$C=[].slice,mz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xl(t,Ss),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var i,r,a,s,l,u,f,p,d,v;return n in this.cache?this.cache[n]:(s=this.file.loca,i=this.file.contents,r=s.indexOf(n),(a=s.lengthOf(n))===0?this.cache[n]=null:(i.pos=this.offset+r,l=(u=new Ru(i.read(a))).readShort(),p=u.readShort(),v=u.readShort(),f=u.readShort(),d=u.readShort(),this.cache[n]=l===-1?new vz(u,p,v,f,d):new gz(u,l,p,v,f,d),this.cache[n]))},t.prototype.encode=function(n,i,r){var a,s,l,u,f;for(l=[],s=[],u=0,f=i.length;u<f;u++)a=n[i[u]],s.push(l.length),a&&(l=l.concat(a.encode(r)));return s.push(l.length),{table:l,offsets:s}},t}(),gz=function(){function e(t,n,i,r,a,s){this.raw=t,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),vz=function(){function e(t,n,i,r,a){var s,l;for(this.raw=t,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return e.prototype.encode=function(){var t,n,i;for(n=new Ru($C.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),yz=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return xl(t,Ss),t.prototype.tag="loca",t.prototype.parse=function(n){var i,r;return n.pos=this.offset,i=this.file.head.indexToLocFormat,this.offsets=i===0?(function(){var a,s;for(s=[],r=0,a=this.length;r<a;r+=2)s.push(2*n.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],r=0,a=this.length;r<a;r+=4)s.push(n.readUInt32());return s}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,i){for(var r=new Uint32Array(this.offsets.length),a=0,s=0,l=0;l<r.length;++l)if(r[l]=a,s<i.length&&i[s]==l){++s,r[l]=a;var u=this.offsets[l],f=this.offsets[l+1]-u;f>0&&(a+=f)}for(var p=new Array(4*r.length),d=0;d<r.length;++d)p[4*d+3]=255&r[d],p[4*d+2]=(65280&r[d])>>8,p[4*d+1]=(16711680&r[d])>>16,p[4*d]=(4278190080&r[d])>>24;return p},t}(),bz=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,i,r,a;for(n in r=this.font.cmap.tables[0].codeMap,t={},a=this.subset)i=a[n],t[n]=r[i];return t},e.prototype.glyphsFor=function(t){var n,i,r,a,s,l,u;for(r={},s=0,l=t.length;s<l;s++)r[a=t[s]]=this.font.glyf.glyphFor(a);for(a in n=[],r)(i=r[a])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(a in u=this.glyphsFor(n))i=u[a],r[a]=i;return r},e.prototype.encode=function(t,n){var i,r,a,s,l,u,f,p,d,v,g,w,x,E,R;for(r in i=VC.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),g={0:0},R=i.charMap)g[(u=R[r]).old]=u.new;for(w in v=i.maxGlyphID,s)w in g||(g[w]=v++);return p=function(L){var M,P;for(M in P={},L)P[L[M]]=M;return P}(g),d=Object.keys(p).sort(function(L,M){return L-M}),x=function(){var L,M,P;for(P=[],L=0,M=d.length;L<M;L++)l=d[L],P.push(p[l]);return P}(),a=this.font.glyf.encode(s,x,g),f=this.font.loca.encode(a.offsets,x),E={cmap:this.font.cmap.raw(),glyf:a.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},e}();kt.API.PDFObject=function(){var e;function t(){}return e=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},t.convert=function(n){var i,r,a,s;if(Array.isArray(n))return"["+function(){var l,u,f;for(f=[],l=0,u=n.length;l<u;l++)i=n[l],f.push(t.convert(i));return f}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in a=["<<"],n)s=n[r],a.push("/"+r+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+n},t}();var Kd={exports:{}},Hf={exports:{}},_z=Hf.exports,XS;function wz(){return XS||(XS=1,(function(){var e,t,n,i,r,a;typeof performance<"u"&&performance!==null&&performance.now?Hf.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Hf.exports=function(){return(e()-r)/1e6},t=process.hrtime,e=function(){var s;return s=t(),s[0]*1e9+s[1]},i=e(),a=process.uptime()*1e9,r=i-a):Date.now?(Hf.exports=function(){return Date.now()-n},n=Date.now()):(Hf.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(_z)),Hf.exports}var KS;function xz(){if(KS)return Kd.exports;KS=1;for(var e=wz(),t=typeof window>"u"?cT:window,n=["moz","webkit"],i="AnimationFrame",r=t["request"+i],a=t["cancel"+i]||t["cancelRequest"+i],s=0;!r&&s<n.length;s++)r=t[n[s]+"Request"+i],a=t[n[s]+"Cancel"+i]||t[n[s]+"CancelRequest"+i];if(!r||!a){var l=0,u=0,f=[],p=1e3/60;r=function(d){if(f.length===0){var v=e(),g=Math.max(0,p-(v-l));l=g+v,setTimeout(function(){var w=f.slice(0);f.length=0;for(var x=0;x<w.length;x++)if(!w[x].cancelled)try{w[x].callback(l)}catch(E){setTimeout(function(){throw E},0)}},Math.round(g))}return f.push({handle:++u,callback:d,cancelled:!1}),u},a=function(d){for(var v=0;v<f.length;v++)f[v].handle===d&&(f[v].cancelled=!0)}}return Kd.exports=function(d){return r.call(t,d)},Kd.exports.cancel=function(){a.apply(t,arguments)},Kd.exports.polyfill=function(d){d||(d=t),d.requestAnimationFrame=r,d.cancelAnimationFrame=a},Kd.exports}var Ez=xz();const p2=fy(Ez);var d2,ZS;function Sz(){return ZS||(ZS=1,d2=function(e){this.ok=!1,this.alpha=1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=t[e]||e;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3]),parseFloat(u[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,a=n[i].process,s=r.exec(e);if(s){var l=a(s);this.r=l[0],this.g=l[1],this.b=l[2],l.length>3&&(this.alpha=l[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var u=this.r.toString(16),f=this.g.toString(16),p=this.b.toString(16);return u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),p.length==1&&(p="0"+p),"#"+u+f+p},this.getHelpXML=function(){for(var u=new Array,f=0;f<n.length;f++)for(var p=n[f].example,d=0;d<p.length;d++)u[u.length]=p[d];for(var v in t)u[u.length]=v;var g=document.createElement("ul");g.setAttribute("id","rgbcolor-examples");for(var f=0;f<u.length;f++)try{var w=document.createElement("li"),x=new RGBColor(u[f]),E=document.createElement("div");E.style.cssText="margin: 3px; border: 1px solid black; background:"+x.toHex()+"; color:"+x.toHex(),E.appendChild(document.createTextNode("test"));var R=document.createTextNode(" "+u[f]+" -> "+x.toRGB()+" -> "+x.toHex());w.appendChild(E),w.appendChild(R),g.appendChild(w)}catch{}return g}}),d2}var Az=Sz();const fb=fy(Az);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var GC=function(e,t){return(GC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])})(e,t)};function YC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}GC(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Nz(e){var t="";Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var i=e[n];if(i.type===it.CLOSE_PATH)t+="z";else if(i.type===it.HORIZ_LINE_TO)t+=(i.relative?"h":"H")+i.x;else if(i.type===it.VERT_LINE_TO)t+=(i.relative?"v":"V")+i.y;else if(i.type===it.MOVE_TO)t+=(i.relative?"m":"M")+i.x+" "+i.y;else if(i.type===it.LINE_TO)t+=(i.relative?"l":"L")+i.x+" "+i.y;else if(i.type===it.CURVE_TO)t+=(i.relative?"c":"C")+i.x1+" "+i.y1+" "+i.x2+" "+i.y2+" "+i.x+" "+i.y;else if(i.type===it.SMOOTH_CURVE_TO)t+=(i.relative?"s":"S")+i.x2+" "+i.y2+" "+i.x+" "+i.y;else if(i.type===it.QUAD_TO)t+=(i.relative?"q":"Q")+i.x1+" "+i.y1+" "+i.x+" "+i.y;else if(i.type===it.SMOOTH_QUAD_TO)t+=(i.relative?"t":"T")+i.x+" "+i.y;else{if(i.type!==it.ARC)throw new Error('Unexpected command type "'+i.type+'" at index '+n+".");t+=(i.relative?"a":"A")+i.rX+" "+i.rY+" "+i.xRot+" "+ +i.lArcFlag+" "+ +i.sweepFlag+" "+i.x+" "+i.y}}return t}function hb(e,t){var n=e[0],i=e[1];return[n*Math.cos(t)-i*Math.sin(t),n*Math.sin(t)+i*Math.cos(t)]}function ds(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++)if(typeof e[n]!="number")throw new Error("assertNumbers arguments["+n+"] is not a number. "+typeof e[n]+" == typeof "+e[n]);return!0}var _u=Math.PI;function m2(e,t,n){e.lArcFlag=e.lArcFlag===0?0:1,e.sweepFlag=e.sweepFlag===0?0:1;var i=e.rX,r=e.rY,a=e.x,s=e.y;i=Math.abs(e.rX),r=Math.abs(e.rY);var l=hb([(t-a)/2,(n-s)/2],-e.xRot/180*_u),u=l[0],f=l[1],p=Math.pow(u,2)/Math.pow(i,2)+Math.pow(f,2)/Math.pow(r,2);1<p&&(i*=Math.sqrt(p),r*=Math.sqrt(p)),e.rX=i,e.rY=r;var d=Math.pow(i,2)*Math.pow(f,2)+Math.pow(r,2)*Math.pow(u,2),v=(e.lArcFlag!==e.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(i,2)*Math.pow(r,2)-d)/d)),g=i*f/r*v,w=-r*u/i*v,x=hb([g,w],e.xRot/180*_u);e.cX=x[0]+(t+a)/2,e.cY=x[1]+(n+s)/2,e.phi1=Math.atan2((f-w)/r,(u-g)/i),e.phi2=Math.atan2((-f-w)/r,(-u-g)/i),e.sweepFlag===0&&e.phi2>e.phi1&&(e.phi2-=2*_u),e.sweepFlag===1&&e.phi2<e.phi1&&(e.phi2+=2*_u),e.phi1*=180/_u,e.phi2*=180/_u}function QS(e,t,n){ds(e,t,n);var i=e*e+t*t-n*n;if(0>i)return[];if(i===0)return[[e*n/(e*e+t*t),t*n/(e*e+t*t)]];var r=Math.sqrt(i);return[[(e*n+t*r)/(e*e+t*t),(t*n-e*r)/(e*e+t*t)],[(e*n-t*r)/(e*e+t*t),(t*n+e*r)/(e*e+t*t)]]}var ur,tc=Math.PI/180;function JS(e,t,n){return(1-n)*e+n*t}function e4(e,t,n,i){return e+Math.cos(i/180*_u)*t+Math.sin(i/180*_u)*n}function t4(e,t,n,i){var r=1e-6,a=t-e,s=n-t,l=3*a+3*(i-n)-6*s,u=6*(s-a),f=3*a;return Math.abs(l)<r?[-f/u]:function(p,d,v){var g=p*p/4-d;if(g<-v)return[];if(g<=v)return[-p/2];var w=Math.sqrt(g);return[-p/2-w,-p/2+w]}(u/l,f/l,r)}function n4(e,t,n,i,r){var a=1-r;return e*(a*a*a)+t*(3*a*a*r)+n*(3*a*r*r)+i*(r*r*r)}(function(e){function t(){return r(function(l,u,f){return l.relative&&(l.x1!==void 0&&(l.x1+=u),l.y1!==void 0&&(l.y1+=f),l.x2!==void 0&&(l.x2+=u),l.y2!==void 0&&(l.y2+=f),l.x!==void 0&&(l.x+=u),l.y!==void 0&&(l.y+=f),l.relative=!1),l})}function n(){var l=NaN,u=NaN,f=NaN,p=NaN;return r(function(d,v,g){return d.type&it.SMOOTH_CURVE_TO&&(d.type=it.CURVE_TO,l=isNaN(l)?v:l,u=isNaN(u)?g:u,d.x1=d.relative?v-l:2*v-l,d.y1=d.relative?g-u:2*g-u),d.type&it.CURVE_TO?(l=d.relative?v+d.x2:d.x2,u=d.relative?g+d.y2:d.y2):(l=NaN,u=NaN),d.type&it.SMOOTH_QUAD_TO&&(d.type=it.QUAD_TO,f=isNaN(f)?v:f,p=isNaN(p)?g:p,d.x1=d.relative?v-f:2*v-f,d.y1=d.relative?g-p:2*g-p),d.type&it.QUAD_TO?(f=d.relative?v+d.x1:d.x1,p=d.relative?g+d.y1:d.y1):(f=NaN,p=NaN),d})}function i(){var l=NaN,u=NaN;return r(function(f,p,d){if(f.type&it.SMOOTH_QUAD_TO&&(f.type=it.QUAD_TO,l=isNaN(l)?p:l,u=isNaN(u)?d:u,f.x1=f.relative?p-l:2*p-l,f.y1=f.relative?d-u:2*d-u),f.type&it.QUAD_TO){l=f.relative?p+f.x1:f.x1,u=f.relative?d+f.y1:f.y1;var v=f.x1,g=f.y1;f.type=it.CURVE_TO,f.x1=((f.relative?0:p)+2*v)/3,f.y1=((f.relative?0:d)+2*g)/3,f.x2=(f.x+2*v)/3,f.y2=(f.y+2*g)/3}else l=NaN,u=NaN;return f})}function r(l){var u=0,f=0,p=NaN,d=NaN;return function(v){if(isNaN(p)&&!(v.type&it.MOVE_TO))throw new Error("path must start with moveto");var g=l(v,u,f,p,d);return v.type&it.CLOSE_PATH&&(u=p,f=d),v.x!==void 0&&(u=v.relative?u+v.x:v.x),v.y!==void 0&&(f=v.relative?f+v.y:v.y),v.type&it.MOVE_TO&&(p=u,d=f),g}}function a(l,u,f,p,d,v){return ds(l,u,f,p,d,v),r(function(g,w,x,E){var R=g.x1,L=g.x2,M=g.relative&&!isNaN(E),P=g.x!==void 0?g.x:M?0:w,k=g.y!==void 0?g.y:M?0:x;function W(O){return O*O}g.type&it.HORIZ_LINE_TO&&u!==0&&(g.type=it.LINE_TO,g.y=g.relative?0:x),g.type&it.VERT_LINE_TO&&f!==0&&(g.type=it.LINE_TO,g.x=g.relative?0:w),g.x!==void 0&&(g.x=g.x*l+k*f+(M?0:d)),g.y!==void 0&&(g.y=P*u+g.y*p+(M?0:v)),g.x1!==void 0&&(g.x1=g.x1*l+g.y1*f+(M?0:d)),g.y1!==void 0&&(g.y1=R*u+g.y1*p+(M?0:v)),g.x2!==void 0&&(g.x2=g.x2*l+g.y2*f+(M?0:d)),g.y2!==void 0&&(g.y2=L*u+g.y2*p+(M?0:v));var Q=l*p-u*f;if(g.xRot!==void 0&&(l!==1||u!==0||f!==0||p!==1))if(Q===0)delete g.rX,delete g.rY,delete g.xRot,delete g.lArcFlag,delete g.sweepFlag,g.type=it.LINE_TO;else{var z=g.xRot*Math.PI/180,ie=Math.sin(z),le=Math.cos(z),H=1/W(g.rX),j=1/W(g.rY),ae=W(le)*H+W(ie)*j,oe=2*ie*le*(H-j),xe=W(ie)*H+W(le)*j,re=ae*p*p-oe*u*p+xe*u*u,fe=oe*(l*p+u*f)-2*(ae*f*p+xe*l*u),pe=ae*f*f-oe*l*f+xe*l*l,Ee=(Math.atan2(fe,re-pe)+Math.PI)%Math.PI/2,Y=Math.sin(Ee),ge=Math.cos(Ee);g.rX=Math.abs(Q)/Math.sqrt(re*W(ge)+fe*Y*ge+pe*W(Y)),g.rY=Math.abs(Q)/Math.sqrt(re*W(Y)-fe*Y*ge+pe*W(ge)),g.xRot=180*Ee/Math.PI}return g.sweepFlag!==void 0&&0>Q&&(g.sweepFlag=+!g.sweepFlag),g})}function s(){return function(l){var u={};for(var f in l)u[f]=l[f];return u}}e.ROUND=function(l){function u(f){return Math.round(f*l)/l}return l===void 0&&(l=1e13),ds(l),function(f){return f.x1!==void 0&&(f.x1=u(f.x1)),f.y1!==void 0&&(f.y1=u(f.y1)),f.x2!==void 0&&(f.x2=u(f.x2)),f.y2!==void 0&&(f.y2=u(f.y2)),f.x!==void 0&&(f.x=u(f.x)),f.y!==void 0&&(f.y=u(f.y)),f.rX!==void 0&&(f.rX=u(f.rX)),f.rY!==void 0&&(f.rY=u(f.rY)),f}},e.TO_ABS=t,e.TO_REL=function(){return r(function(l,u,f){return l.relative||(l.x1!==void 0&&(l.x1-=u),l.y1!==void 0&&(l.y1-=f),l.x2!==void 0&&(l.x2-=u),l.y2!==void 0&&(l.y2-=f),l.x!==void 0&&(l.x-=u),l.y!==void 0&&(l.y-=f),l.relative=!0),l})},e.NORMALIZE_HVZ=function(l,u,f){return l===void 0&&(l=!0),u===void 0&&(u=!0),f===void 0&&(f=!0),r(function(p,d,v,g,w){if(isNaN(g)&&!(p.type&it.MOVE_TO))throw new Error("path must start with moveto");return u&&p.type&it.HORIZ_LINE_TO&&(p.type=it.LINE_TO,p.y=p.relative?0:v),f&&p.type&it.VERT_LINE_TO&&(p.type=it.LINE_TO,p.x=p.relative?0:d),l&&p.type&it.CLOSE_PATH&&(p.type=it.LINE_TO,p.x=p.relative?g-d:g,p.y=p.relative?w-v:w),p.type&it.ARC&&(p.rX===0||p.rY===0)&&(p.type=it.LINE_TO,delete p.rX,delete p.rY,delete p.xRot,delete p.lArcFlag,delete p.sweepFlag),p})},e.NORMALIZE_ST=n,e.QT_TO_C=i,e.INFO=r,e.SANITIZE=function(l){l===void 0&&(l=0),ds(l);var u=NaN,f=NaN,p=NaN,d=NaN;return r(function(v,g,w,x,E){var R=Math.abs,L=!1,M=0,P=0;if(v.type&it.SMOOTH_CURVE_TO&&(M=isNaN(u)?0:g-u,P=isNaN(f)?0:w-f),v.type&(it.CURVE_TO|it.SMOOTH_CURVE_TO)?(u=v.relative?g+v.x2:v.x2,f=v.relative?w+v.y2:v.y2):(u=NaN,f=NaN),v.type&it.SMOOTH_QUAD_TO?(p=isNaN(p)?g:2*g-p,d=isNaN(d)?w:2*w-d):v.type&it.QUAD_TO?(p=v.relative?g+v.x1:v.x1,d=v.relative?w+v.y1:v.y2):(p=NaN,d=NaN),v.type&it.LINE_COMMANDS||v.type&it.ARC&&(v.rX===0||v.rY===0||!v.lArcFlag)||v.type&it.CURVE_TO||v.type&it.SMOOTH_CURVE_TO||v.type&it.QUAD_TO||v.type&it.SMOOTH_QUAD_TO){var k=v.x===void 0?0:v.relative?v.x:v.x-g,W=v.y===void 0?0:v.relative?v.y:v.y-w;M=isNaN(p)?v.x1===void 0?M:v.relative?v.x:v.x1-g:p-g,P=isNaN(d)?v.y1===void 0?P:v.relative?v.y:v.y1-w:d-w;var Q=v.x2===void 0?0:v.relative?v.x:v.x2-g,z=v.y2===void 0?0:v.relative?v.y:v.y2-w;R(k)<=l&&R(W)<=l&&R(M)<=l&&R(P)<=l&&R(Q)<=l&&R(z)<=l&&(L=!0)}return v.type&it.CLOSE_PATH&&R(g-x)<=l&&R(w-E)<=l&&(L=!0),L?[]:v})},e.MATRIX=a,e.ROTATE=function(l,u,f){u===void 0&&(u=0),f===void 0&&(f=0),ds(l,u,f);var p=Math.sin(l),d=Math.cos(l);return a(d,p,-p,d,u-u*d+f*p,f-u*p-f*d)},e.TRANSLATE=function(l,u){return u===void 0&&(u=0),ds(l,u),a(1,0,0,1,l,u)},e.SCALE=function(l,u){return u===void 0&&(u=l),ds(l,u),a(l,0,0,u,0,0)},e.SKEW_X=function(l){return ds(l),a(1,0,Math.atan(l),1,0,0)},e.SKEW_Y=function(l){return ds(l),a(1,Math.atan(l),0,1,0,0)},e.X_AXIS_SYMMETRY=function(l){return l===void 0&&(l=0),ds(l),a(-1,0,0,1,l,0)},e.Y_AXIS_SYMMETRY=function(l){return l===void 0&&(l=0),ds(l),a(1,0,0,-1,0,l)},e.A_TO_C=function(){return r(function(l,u,f){return it.ARC===l.type?function(p,d,v){var g,w,x,E;p.cX||m2(p,d,v);for(var R=Math.min(p.phi1,p.phi2),L=Math.max(p.phi1,p.phi2)-R,M=Math.ceil(L/90),P=new Array(M),k=d,W=v,Q=0;Q<M;Q++){var z=JS(p.phi1,p.phi2,Q/M),ie=JS(p.phi1,p.phi2,(Q+1)/M),le=ie-z,H=4/3*Math.tan(le*tc/4),j=[Math.cos(z*tc)-H*Math.sin(z*tc),Math.sin(z*tc)+H*Math.cos(z*tc)],ae=j[0],oe=j[1],xe=[Math.cos(ie*tc),Math.sin(ie*tc)],re=xe[0],fe=xe[1],pe=[re+H*Math.sin(ie*tc),fe-H*Math.cos(ie*tc)],Ee=pe[0],Y=pe[1];P[Q]={relative:p.relative,type:it.CURVE_TO};var ge=function(O,F){var K=hb([O*p.rX,F*p.rY],p.xRot),se=K[0],he=K[1];return[p.cX+se,p.cY+he]};g=ge(ae,oe),P[Q].x1=g[0],P[Q].y1=g[1],w=ge(Ee,Y),P[Q].x2=w[0],P[Q].y2=w[1],x=ge(re,fe),P[Q].x=x[0],P[Q].y=x[1],p.relative&&(P[Q].x1-=k,P[Q].y1-=W,P[Q].x2-=k,P[Q].y2-=W,P[Q].x-=k,P[Q].y-=W),k=(E=[P[Q].x,P[Q].y])[0],W=E[1]}return P}(l,l.relative?0:u,l.relative?0:f):l})},e.ANNOTATE_ARCS=function(){return r(function(l,u,f){return l.relative&&(u=0,f=0),it.ARC===l.type&&m2(l,u,f),l})},e.CLONE=s,e.CALCULATE_BOUNDS=function(){var l=function(v){var g={};for(var w in v)g[w]=v[w];return g},u=t(),f=i(),p=n(),d=r(function(v,g,w){var x=p(f(u(l(v))));function E(Y){Y>d.maxX&&(d.maxX=Y),Y<d.minX&&(d.minX=Y)}function R(Y){Y>d.maxY&&(d.maxY=Y),Y<d.minY&&(d.minY=Y)}if(x.type&it.DRAWING_COMMANDS&&(E(g),R(w)),x.type&it.HORIZ_LINE_TO&&E(x.x),x.type&it.VERT_LINE_TO&&R(x.y),x.type&it.LINE_TO&&(E(x.x),R(x.y)),x.type&it.CURVE_TO){E(x.x),R(x.y);for(var L=0,M=t4(g,x.x1,x.x2,x.x);L<M.length;L++)0<(Ee=M[L])&&1>Ee&&E(n4(g,x.x1,x.x2,x.x,Ee));for(var P=0,k=t4(w,x.y1,x.y2,x.y);P<k.length;P++)0<(Ee=k[P])&&1>Ee&&R(n4(w,x.y1,x.y2,x.y,Ee))}if(x.type&it.ARC){E(x.x),R(x.y),m2(x,g,w);for(var W=x.xRot/180*Math.PI,Q=Math.cos(W)*x.rX,z=Math.sin(W)*x.rX,ie=-Math.sin(W)*x.rY,le=Math.cos(W)*x.rY,H=x.phi1<x.phi2?[x.phi1,x.phi2]:-180>x.phi2?[x.phi2+360,x.phi1+360]:[x.phi2,x.phi1],j=H[0],ae=H[1],oe=function(Y){var ge=Y[0],O=Y[1],F=180*Math.atan2(O,ge)/Math.PI;return F<j?F+360:F},xe=0,re=QS(ie,-Q,0).map(oe);xe<re.length;xe++)(Ee=re[xe])>j&&Ee<ae&&E(e4(x.cX,Q,ie,Ee));for(var fe=0,pe=QS(le,-z,0).map(oe);fe<pe.length;fe++){var Ee;(Ee=pe[fe])>j&&Ee<ae&&R(e4(x.cY,z,le,Ee))}}return v});return d.minX=1/0,d.maxX=-1/0,d.minY=1/0,d.maxY=-1/0,d}})(ur||(ur={}));var ps,WC=function(){function e(){}return e.prototype.round=function(t){return this.transform(ur.ROUND(t))},e.prototype.toAbs=function(){return this.transform(ur.TO_ABS())},e.prototype.toRel=function(){return this.transform(ur.TO_REL())},e.prototype.normalizeHVZ=function(t,n,i){return this.transform(ur.NORMALIZE_HVZ(t,n,i))},e.prototype.normalizeST=function(){return this.transform(ur.NORMALIZE_ST())},e.prototype.qtToC=function(){return this.transform(ur.QT_TO_C())},e.prototype.aToC=function(){return this.transform(ur.A_TO_C())},e.prototype.sanitize=function(t){return this.transform(ur.SANITIZE(t))},e.prototype.translate=function(t,n){return this.transform(ur.TRANSLATE(t,n))},e.prototype.scale=function(t,n){return this.transform(ur.SCALE(t,n))},e.prototype.rotate=function(t,n,i){return this.transform(ur.ROTATE(t,n,i))},e.prototype.matrix=function(t,n,i,r,a,s){return this.transform(ur.MATRIX(t,n,i,r,a,s))},e.prototype.skewX=function(t){return this.transform(ur.SKEW_X(t))},e.prototype.skewY=function(t){return this.transform(ur.SKEW_Y(t))},e.prototype.xSymmetry=function(t){return this.transform(ur.X_AXIS_SYMMETRY(t))},e.prototype.ySymmetry=function(t){return this.transform(ur.Y_AXIS_SYMMETRY(t))},e.prototype.annotateArcs=function(){return this.transform(ur.ANNOTATE_ARCS())},e}(),Cz=function(e){return e===" "||e==="	"||e==="\r"||e===`
`},i4=function(e){return 48<=e.charCodeAt(0)&&e.charCodeAt(0)<=57},Tz=function(e){function t(){var n=e.call(this)||this;return n.curNumber="",n.curCommandType=-1,n.curCommandRelative=!1,n.canParseCommandOrComma=!0,n.curNumberHasExp=!1,n.curNumberHasExpDigits=!1,n.curNumberHasDecimal=!1,n.curArgs=[],n}return YC(t,e),t.prototype.finish=function(n){if(n===void 0&&(n=[]),this.parse(" ",n),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return n},t.prototype.parse=function(n,i){var r=this;i===void 0&&(i=[]);for(var a=function(d){i.push(d),r.curArgs.length=0,r.canParseCommandOrComma=!0},s=0;s<n.length;s++){var l=n[s],u=!(this.curCommandType!==it.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),f=i4(l)&&(this.curNumber==="0"&&l==="0"||u);if(!i4(l)||f)if(l!=="e"&&l!=="E")if(l!=="-"&&l!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(l!=="."||this.curNumberHasExp||this.curNumberHasDecimal||u){if(this.curNumber&&this.curCommandType!==-1){var p=Number(this.curNumber);if(isNaN(p))throw new SyntaxError("Invalid number ending at "+s);if(this.curCommandType===it.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>p)throw new SyntaxError('Expected positive number, got "'+p+'" at index "'+s+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+s+'"')}this.curArgs.push(p),this.curArgs.length===Rz[this.curCommandType]&&(it.HORIZ_LINE_TO===this.curCommandType?a({type:it.HORIZ_LINE_TO,relative:this.curCommandRelative,x:p}):it.VERT_LINE_TO===this.curCommandType?a({type:it.VERT_LINE_TO,relative:this.curCommandRelative,y:p}):this.curCommandType===it.MOVE_TO||this.curCommandType===it.LINE_TO||this.curCommandType===it.SMOOTH_QUAD_TO?(a({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),it.MOVE_TO===this.curCommandType&&(this.curCommandType=it.LINE_TO)):this.curCommandType===it.CURVE_TO?a({type:it.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===it.SMOOTH_CURVE_TO?a({type:it.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===it.QUAD_TO?a({type:it.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===it.ARC&&a({type:it.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!Cz(l))if(l===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(l!=="+"&&l!=="-"&&l!==".")if(f)this.curNumber=l,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+s+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+l+'" at index '+s+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,l!=="z"&&l!=="Z")if(l==="h"||l==="H")this.curCommandType=it.HORIZ_LINE_TO,this.curCommandRelative=l==="h";else if(l==="v"||l==="V")this.curCommandType=it.VERT_LINE_TO,this.curCommandRelative=l==="v";else if(l==="m"||l==="M")this.curCommandType=it.MOVE_TO,this.curCommandRelative=l==="m";else if(l==="l"||l==="L")this.curCommandType=it.LINE_TO,this.curCommandRelative=l==="l";else if(l==="c"||l==="C")this.curCommandType=it.CURVE_TO,this.curCommandRelative=l==="c";else if(l==="s"||l==="S")this.curCommandType=it.SMOOTH_CURVE_TO,this.curCommandRelative=l==="s";else if(l==="q"||l==="Q")this.curCommandType=it.QUAD_TO,this.curCommandRelative=l==="q";else if(l==="t"||l==="T")this.curCommandType=it.SMOOTH_QUAD_TO,this.curCommandRelative=l==="t";else{if(l!=="a"&&l!=="A")throw new SyntaxError('Unexpected character "'+l+'" at index '+s+".");this.curCommandType=it.ARC,this.curCommandRelative=l==="a"}else i.push({type:it.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=l,this.curNumberHasDecimal=l==="."}else this.curNumber+=l,this.curNumberHasDecimal=!0;else this.curNumber+=l;else this.curNumber+=l,this.curNumberHasExp=!0;else this.curNumber+=l,this.curNumberHasExpDigits=this.curNumberHasExp}return i},t.prototype.transform=function(n){return Object.create(this,{parse:{value:function(i,r){r===void 0&&(r=[]);for(var a=0,s=Object.getPrototypeOf(this).parse.call(this,i);a<s.length;a++){var l=s[a],u=n(l);Array.isArray(u)?r.push.apply(r,u):r.push(u)}return r}}})},t}(WC),it=function(e){function t(n){var i=e.call(this)||this;return i.commands=typeof n=="string"?t.parse(n):n,i}return YC(t,e),t.prototype.encode=function(){return t.encode(this.commands)},t.prototype.getBounds=function(){var n=ur.CALCULATE_BOUNDS();return this.transform(n),n},t.prototype.transform=function(n){for(var i=[],r=0,a=this.commands;r<a.length;r++){var s=n(a[r]);Array.isArray(s)?i.push.apply(i,s):i.push(s)}return this.commands=i,this},t.encode=function(n){return Nz(n)},t.parse=function(n){var i=new Tz,r=[];return i.parse(n,r),i.finish(r),r},t.CLOSE_PATH=1,t.MOVE_TO=2,t.HORIZ_LINE_TO=4,t.VERT_LINE_TO=8,t.LINE_TO=16,t.CURVE_TO=32,t.SMOOTH_CURVE_TO=64,t.QUAD_TO=128,t.SMOOTH_QUAD_TO=256,t.ARC=512,t.LINE_COMMANDS=t.LINE_TO|t.HORIZ_LINE_TO|t.VERT_LINE_TO,t.DRAWING_COMMANDS=t.HORIZ_LINE_TO|t.VERT_LINE_TO|t.LINE_TO|t.CURVE_TO|t.SMOOTH_CURVE_TO|t.QUAD_TO|t.SMOOTH_QUAD_TO|t.ARC,t}(WC),Rz=((ps={})[it.MOVE_TO]=2,ps[it.LINE_TO]=2,ps[it.HORIZ_LINE_TO]=1,ps[it.VERT_LINE_TO]=1,ps[it.CLOSE_PATH]=0,ps[it.QUAD_TO]=4,ps[it.SMOOTH_QUAD_TO]=2,ps[it.CURVE_TO]=6,ps[it.SMOOTH_CURVE_TO]=4,ps[it.ARC]=7,ps);function Vv(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vv=function(t){return typeof t}:Vv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}function Mz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Pz=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Lz=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Dz(e,t,n,i,r){if(typeof e=="string"&&(e=document.getElementById(e)),!e||Vv(e)!=="object"||!("getContext"in e))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var a=e.getContext("2d");try{return a.getImageData(t,n,i,r)}catch(s){throw new Error("unable to access image data: "+s)}}function Oz(e,t,n,i,r,a){if(!(isNaN(a)||a<1)){a|=0;var s=Dz(e,t,n,i,r);s=Bz(s,t,n,i,r,a),e.getContext("2d").putImageData(s,t,n)}}function Bz(e,t,n,i,r,a){for(var s=e.data,l=2*a+1,u=i-1,f=r-1,p=a+1,d=p*(p+1)/2,v=new r4,g=v,w,x=1;x<l;x++)g=g.next=new r4,x===p&&(w=g);g.next=v;for(var E=null,R=null,L=0,M=0,P=Pz[a],k=Lz[a],W=0;W<r;W++){g=v;for(var Q=s[M],z=s[M+1],ie=s[M+2],le=s[M+3],H=0;H<p;H++)g.r=Q,g.g=z,g.b=ie,g.a=le,g=g.next;for(var j=0,ae=0,oe=0,xe=0,re=p*Q,fe=p*z,pe=p*ie,Ee=p*le,Y=d*Q,ge=d*z,O=d*ie,F=d*le,K=1;K<p;K++){var se=M+((u<K?u:K)<<2),he=s[se],B=s[se+1],C=s[se+2],T=s[se+3],Z=p-K;Y+=(g.r=he)*Z,ge+=(g.g=B)*Z,O+=(g.b=C)*Z,F+=(g.a=T)*Z,j+=he,ae+=B,oe+=C,xe+=T,g=g.next}E=v,R=w;for(var te=0;te<i;te++){var de=F*P>>>k;if(s[M+3]=de,de!==0){var Ae=255/de;s[M]=(Y*P>>>k)*Ae,s[M+1]=(ge*P>>>k)*Ae,s[M+2]=(O*P>>>k)*Ae}else s[M]=s[M+1]=s[M+2]=0;Y-=re,ge-=fe,O-=pe,F-=Ee,re-=E.r,fe-=E.g,pe-=E.b,Ee-=E.a;var Ue=te+a+1;Ue=L+(Ue<u?Ue:u)<<2,j+=E.r=s[Ue],ae+=E.g=s[Ue+1],oe+=E.b=s[Ue+2],xe+=E.a=s[Ue+3],Y+=j,ge+=ae,O+=oe,F+=xe,E=E.next;var Te=R,$=Te.r,Le=Te.g,Ve=Te.b,je=Te.a;re+=$,fe+=Le,pe+=Ve,Ee+=je,j-=$,ae-=Le,oe-=Ve,xe-=je,R=R.next,M+=4}L+=i}for(var Ie=0;Ie<i;Ie++){M=Ie<<2;var qe=s[M],Ye=s[M+1],at=s[M+2],Ke=s[M+3],ot=p*qe,Ft=p*Ye,Pt=p*at,en=p*Ke,mt=d*qe,Xt=d*Ye,ct=d*at,vi=d*Ke;g=v;for(var rn=0;rn<p;rn++)g.r=qe,g.g=Ye,g.b=at,g.a=Ke,g=g.next;for(var pr=i,on=0,Sn=0,tr=0,bn=0,ca=1;ca<=a;ca++){M=pr+Ie<<2;var On=p-ca;mt+=(g.r=qe=s[M])*On,Xt+=(g.g=Ye=s[M+1])*On,ct+=(g.b=at=s[M+2])*On,vi+=(g.a=Ke=s[M+3])*On,bn+=qe,on+=Ye,Sn+=at,tr+=Ke,g=g.next,ca<f&&(pr+=i)}M=Ie,E=v,R=w;for(var dr=0;dr<r;dr++){var Bn=M<<2;s[Bn+3]=Ke=vi*P>>>k,Ke>0?(Ke=255/Ke,s[Bn]=(mt*P>>>k)*Ke,s[Bn+1]=(Xt*P>>>k)*Ke,s[Bn+2]=(ct*P>>>k)*Ke):s[Bn]=s[Bn+1]=s[Bn+2]=0,mt-=ot,Xt-=Ft,ct-=Pt,vi-=en,ot-=E.r,Ft-=E.g,Pt-=E.b,en-=E.a,Bn=Ie+((Bn=dr+p)<f?Bn:f)*i<<2,mt+=bn+=E.r=s[Bn],Xt+=on+=E.g=s[Bn+1],ct+=Sn+=E.b=s[Bn+2],vi+=tr+=E.a=s[Bn+3],E=E.next,ot+=qe=R.r,Ft+=Ye=R.g,Pt+=at=R.b,en+=Ke=R.a,bn-=qe,on-=Ye,Sn-=at,tr-=Ke,R=R.next,M+=i}}return e}var r4=function e(){Mz(this,e),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function qp(e){return e.replace(/(?!\u3000)\s+/gm," ")}function kz(e){return e.replace(/^[\n \t]+/,"")}function jz(e){return e.replace(/[\n \t]+$/,"")}function ao(e){const t=e.match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm);return t?t.map(parseFloat):[]}function Iz(e){const t=ao(e);return[t[0]||0,t[1]||0,t[2]||0,t[3]||0,t[4]||0,t[5]||0]}const Fz=/^[A-Z-]+$/;function zz(e){return Fz.test(e)?e.toLowerCase():e}function XC(e){const t=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(e);return t&&(t[2]||t[3]||t[4])||""}function Hz(e){if(!e.startsWith("rgb"))return e;let t=3;return e.replace(/\d+(\.\d+)?/g,(i,r)=>t--&&r?String(Math.round(parseFloat(i))):i)}const Uz=/(\[[^\]]+\])/g,qz=/(#[^\s+>~.[:]+)/g,Vz=/(\.[^\s+>~.[:]+)/g,$z=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,Gz=/(:[\w-]+\([^)]*\))/gi,Yz=/(:[^\s+>~.[:]+)/g,Wz=/([^\s+>~.[:]+)/g;function jf(e,t){const n=t.exec(e);return n?[e.replace(t," "),n.length]:[e,0]}function Xz(e){const t=[0,0,0];let n=e.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),i=0;return[n,i]=jf(n,Uz),t[1]+=i,[n,i]=jf(n,qz),t[0]+=i,[n,i]=jf(n,Vz),t[1]+=i,[n,i]=jf(n,$z),t[2]+=i,[n,i]=jf(n,Gz),t[1]+=i,[n,i]=jf(n,Yz),t[1]+=i,n=n.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[n,i]=jf(n,Wz),t[2]+=i,t.join("")}const gp=1e-8;function a4(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))}function pb(e,t){return(e[0]*t[0]+e[1]*t[1])/(a4(e)*a4(t))}function o4(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(pb(e,t))}function s4(e){return e*e*e}function l4(e){return 3*e*e*(1-e)}function c4(e){return 3*e*(1-e)*(1-e)}function u4(e){return(1-e)*(1-e)*(1-e)}function f4(e){return e*e}function h4(e){return 2*e*(1-e)}function p4(e){return(1-e)*(1-e)}class St{static empty(t){return new St(t,"EMPTY","")}split(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ";const{document:n,name:i}=this;return qp(this.getString()).trim().split(t).map(r=>new St(n,i,r))}hasValue(t){const n=this.value;return n!==null&&n!==""&&(t||n!==0)&&typeof n<"u"}isString(t){const{value:n}=this,i=typeof n=="string";return!i||!t?i:t.test(n)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;const t=this.getString();switch(!0){case t.endsWith("px"):case/^[0-9]+$/.test(t):return!0;default:return!1}}setValue(t){return this.value=t,this}getValue(t){return typeof t>"u"||this.hasValue()?this.value:t}getNumber(t){if(!this.hasValue())return typeof t>"u"?0:parseFloat(t);const{value:n}=this;let i=parseFloat(n);return this.isString(/%$/)&&(i/=100),i}getString(t){return typeof t>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(t)}getColor(t){let n=this.getString(t);return this.isNormalizedColor||(this.isNormalizedColor=!0,n=Hz(n),this.value=n),n}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;const[i,r]=typeof t=="boolean"?[void 0,t]:[t],{viewPort:a}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(a.computeSize("x"),a.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(a.computeSize("x"),a.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*a.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*a.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&r):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*a.computeSize(i);default:{const s=this.getNumber();return n&&s<1?s*a.computeSize(i):s}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){const t=this.getString(),n=/#([^)'"]+)/.exec(t),i=n?.[1]||t;return this.document.definitions.get(i)}getFillStyleDefinition(t,n){let i=this.getDefinition();if(!i)return null;if(typeof i.createGradient=="function"&&"getBoundingBox"in t)return i.createGradient(this.document.ctx,t,n);if(typeof i.createPattern=="function"){if(i.getHrefAttribute().hasValue()){const r=i.getAttribute("patternTransform");i=i.getHrefAttribute().getDefinition(),i&&r.hasValue()&&i.getAttribute("patternTransform",!0).setValue(r.value)}if(i)return i.createPattern(this.document.ctx,t,n)}return null}getTextBaseline(){if(!this.hasValue())return null;const t=this.getString();return St.textBaselineMapping[t]||null}addOpacity(t){let n=this.getColor();const i=n.length;let r=0;for(let a=0;a<i&&(n[a]===","&&r++,r!==3);a++);if(t.hasValue()&&this.isString()&&r!==3){const a=new fb(n);a.ok&&(a.alpha=t.getNumber(),n=a.toRGBA())}return new St(this.document,this.name,n)}constructor(t,n,i){this.document=t,this.name=n,this.value=i,this.isNormalizedColor=!1}}St.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class gm{clear(){this.viewPorts=[]}setCurrent(t,n){this.viewPorts.push({width:t,height:n})}removeCurrent(){this.viewPorts.pop()}getRoot(){const[t]=this.viewPorts;return t||d4()}getCurrent(){const{viewPorts:t}=this,n=t[t.length-1];return n||d4()}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(t){return typeof t=="number"?t:t==="x"?this.width:t==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}constructor(){this.viewPorts=[]}}gm.DEFAULT_VIEWPORT_WIDTH=800;gm.DEFAULT_VIEWPORT_HEIGHT=600;function d4(){return{width:gm.DEFAULT_VIEWPORT_WIDTH,height:gm.DEFAULT_VIEWPORT_HEIGHT}}class mi{static parse(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const[i=n,r=n]=ao(t);return new mi(i,r)}static parseScale(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const[i=n,r=i]=ao(t);return new mi(i,r)}static parsePath(t){const n=ao(t),i=n.length,r=[];for(let a=0;a<i;a+=2)r.push(new mi(n[a],n[a+1]));return r}angleTo(t){return Math.atan2(t.y-this.y,t.x-this.x)}applyTransform(t){const{x:n,y:i}=this,r=n*t[0]+i*t[2]+t[4],a=n*t[1]+i*t[3]+t[5];this.x=r,this.y=a}constructor(t,n){this.x=t,this.y=n}}class Kz{isWorking(){return this.working}start(){if(this.working)return;const{screen:t,onClick:n,onMouseMove:i}=this,r=t.ctx.canvas;r.onclick=n,r.onmousemove=i,this.working=!0}stop(){if(!this.working)return;const t=this.screen.ctx.canvas;this.working=!1,t.onclick=null,t.onmousemove=null}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(!this.working)return;const{screen:t,events:n,eventElements:i}=this,{style:r}=t.ctx.canvas;let a;r&&(r.cursor=""),n.forEach((s,l)=>{let{run:u}=s;for(a=i[l];a;)u(a),a=a.parent}),this.events=[],this.eventElements=[]}checkPath(t,n){if(!this.working||!n)return;const{events:i,eventElements:r}=this;i.forEach((a,s)=>{let{x:l,y:u}=a;!r[s]&&n.isPointInPath&&n.isPointInPath(l,u)&&(r[s]=t)})}checkBoundingBox(t,n){if(!this.working||!n)return;const{events:i,eventElements:r}=this;i.forEach((a,s)=>{let{x:l,y:u}=a;!r[s]&&n.isPointInBox(l,u)&&(r[s]=t)})}mapXY(t,n){const{window:i,ctx:r}=this.screen,a=new mi(t,n);let s=r.canvas;for(;s;)a.x-=s.offsetLeft,a.y-=s.offsetTop,s=s.offsetParent;return i?.scrollX&&(a.x+=i.scrollX),i?.scrollY&&(a.y+=i.scrollY),a}onClick(t){const{x:n,y:i}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onclick",x:n,y:i,run(r){r.onClick&&r.onClick()}})}onMouseMove(t){const{x:n,y:i}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onmousemove",x:n,y:i,run(r){r.onMouseMove&&r.onMouseMove()}})}constructor(t){this.screen=t,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}}const KC=typeof window<"u"?window:null,ZC=typeof fetch<"u"?fetch.bind(void 0):void 0;class bc{wait(t){this.waits.push(t)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;const t=this.waits.every(n=>n());return t&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=t,t}setDefaults(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4}setViewBox(t){let{document:n,ctx:i,aspectRatio:r,width:a,desiredWidth:s,height:l,desiredHeight:u,minX:f=0,minY:p=0,refX:d,refY:v,clip:g=!1,clipX:w=0,clipY:x=0}=t;const E=qp(r).replace(/^defer\s/,""),[R,L]=E.split(" "),M=R||"xMidYMid",P=L||"meet",k=a/s,W=l/u,Q=Math.min(k,W),z=Math.max(k,W);let ie=s,le=u;P==="meet"&&(ie*=Q,le*=Q),P==="slice"&&(ie*=z,le*=z);const H=new St(n,"refX",d),j=new St(n,"refY",v),ae=H.hasValue()&&j.hasValue();if(ae&&i.translate(-Q*H.getPixels("x"),-Q*j.getPixels("y")),g){const oe=Q*w,xe=Q*x;i.beginPath(),i.moveTo(oe,xe),i.lineTo(a,xe),i.lineTo(a,l),i.lineTo(oe,l),i.closePath(),i.clip()}if(!ae){const oe=P==="meet"&&Q===W,xe=P==="slice"&&z===W,re=P==="meet"&&Q===k,fe=P==="slice"&&z===k;M.startsWith("xMid")&&(oe||xe)&&i.translate(a/2-ie/2,0),M.endsWith("YMid")&&(re||fe)&&i.translate(0,l/2-le/2),M.startsWith("xMax")&&(oe||xe)&&i.translate(a-ie,0),M.endsWith("YMax")&&(re||fe)&&i.translate(0,l-le)}switch(!0){case M==="none":i.scale(k,W);break;case P==="meet":i.scale(Q,Q);break;case P==="slice":i.scale(z,z);break}i.translate(-f,-p)}start(t){let{enableRedraw:n=!1,ignoreMouse:i=!1,ignoreAnimation:r=!1,ignoreDimensions:a=!1,ignoreClear:s=!1,forceRedraw:l,scaleWidth:u,scaleHeight:f,offsetX:p,offsetY:d}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{mouse:v}=this,g=1e3/bc.FRAMERATE;if(this.isReadyLock=!1,this.frameDuration=g,this.readyPromise=new Promise(L=>{this.resolveReady=L}),this.isReady()&&this.render(t,a,s,u,f,p,d),!n)return;let w=Date.now(),x=w,E=0;const R=()=>{w=Date.now(),E=w-x,E>=g&&(x=w-E%g,this.shouldUpdate(r,l)&&(this.render(t,a,s,u,f,p,d),v.runEvents())),this.intervalId=p2(R)};i||v.start(),this.intervalId=p2(R)}stop(){this.intervalId&&(p2.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(t,n){if(!t){const{frameDuration:i}=this;if(this.animations.reduce((a,s)=>s.update(i)||a,!1))return!0}return!!(typeof n=="function"&&n()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(t,n,i,r,a,s,l){const{viewPort:u,ctx:f,isFirstRender:p}=this,d=f.canvas;u.clear(),d.width&&d.height&&u.setCurrent(d.width,d.height);const v=t.getStyle("width"),g=t.getStyle("height");!n&&(p||typeof r!="number"&&typeof a!="number")&&(v.hasValue()&&(d.width=v.getPixels("x"),d.style&&(d.style.width="".concat(d.width,"px"))),g.hasValue()&&(d.height=g.getPixels("y"),d.style&&(d.style.height="".concat(d.height,"px"))));let w=d.clientWidth||d.width,x=d.clientHeight||d.height;if(n&&v.hasValue()&&g.hasValue()&&(w=v.getPixels("x"),x=g.getPixels("y")),u.setCurrent(w,x),typeof s=="number"&&t.getAttribute("x",!0).setValue(s),typeof l=="number"&&t.getAttribute("y",!0).setValue(l),typeof r=="number"||typeof a=="number"){const E=ao(t.getAttribute("viewBox").getString());let R=0,L=0;if(typeof r=="number"){const P=t.getStyle("width");P.hasValue()?R=P.getPixels("x")/r:E[2]&&!isNaN(E[2])&&(R=E[2]/r)}if(typeof a=="number"){const P=t.getStyle("height");P.hasValue()?L=P.getPixels("y")/a:E[3]&&!isNaN(E[3])&&(L=E[3]/a)}R||(R=L),L||(L=R),t.getAttribute("width",!0).setValue(r),t.getAttribute("height",!0).setValue(a);const M=t.getStyle("transform",!0,!0);M.setValue("".concat(M.getString()," scale(").concat(1/R,", ").concat(1/L,")"))}i||f.clearRect(0,0,w,x),t.render(f),p&&(this.isFirstRender=!1)}constructor(t,{fetch:n=ZC,window:i=KC}={}){if(this.ctx=t,this.viewPort=new gm,this.mouse=new Kz(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=i,!n)throw new Error("Can't find 'fetch' in 'globalThis', please provide it via options");this.fetch=n}}bc.defaultWindow=KC;bc.defaultFetch=ZC;bc.FRAMERATE=30;bc.MAX_VIRTUAL_PIXELS=3e4;const{defaultFetch:Zz}=bc,Qz=typeof DOMParser<"u"?DOMParser:void 0;class g2{async parse(t){return t.startsWith("<")?this.parseFromString(t):this.load(t)}parseFromString(t){const n=new this.DOMParser;try{return this.checkDocument(n.parseFromString(t,"image/svg+xml"))}catch{return this.checkDocument(n.parseFromString(t,"text/xml"))}}checkDocument(t){const n=t.getElementsByTagName("parsererror")[0];if(n)throw new Error(n.textContent||"Unknown parse error");return t}async load(t){const i=await(await this.fetch(t)).text();return this.parseFromString(i)}constructor({fetch:t=Zz,DOMParser:n=Qz}={}){if(!t)throw new Error("Can't find 'fetch' in 'globalThis', please provide it via options");if(!n)throw new Error("Can't find 'DOMParser' in 'globalThis', please provide it via options");this.fetch=t,this.DOMParser=n}}class Jz{apply(t){const{x:n,y:i}=this.point;t.translate(n||0,i||0)}unapply(t){const{x:n,y:i}=this.point;t.translate(-1*n||0,-1*i||0)}applyToPoint(t){const{x:n,y:i}=this.point;t.applyTransform([1,0,0,1,n||0,i||0])}constructor(t,n){this.type="translate",this.point=mi.parse(n)}}class eH{apply(t){const{cx:n,cy:i,originX:r,originY:a,angle:s}=this,l=n+r.getPixels("x"),u=i+a.getPixels("y");t.translate(l,u),t.rotate(s.getRadians()),t.translate(-l,-u)}unapply(t){const{cx:n,cy:i,originX:r,originY:a,angle:s}=this,l=n+r.getPixels("x"),u=i+a.getPixels("y");t.translate(l,u),t.rotate(-1*s.getRadians()),t.translate(-l,-u)}applyToPoint(t){const{cx:n,cy:i,angle:r}=this,a=r.getRadians();t.applyTransform([1,0,0,1,n||0,i||0]),t.applyTransform([Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0]),t.applyTransform([1,0,0,1,-n||0,-i||0])}constructor(t,n,i){this.type="rotate";const r=ao(n);this.angle=new St(t,"angle",r[0]),this.originX=i[0],this.originY=i[1],this.cx=r[1]||0,this.cy=r[2]||0}}class tH{apply(t){const{scale:{x:n,y:i},originX:r,originY:a}=this,s=r.getPixels("x"),l=a.getPixels("y");t.translate(s,l),t.scale(n,i||n),t.translate(-s,-l)}unapply(t){const{scale:{x:n,y:i},originX:r,originY:a}=this,s=r.getPixels("x"),l=a.getPixels("y");t.translate(s,l),t.scale(1/n,1/i||n),t.translate(-s,-l)}applyToPoint(t){const{x:n,y:i}=this.scale;t.applyTransform([n||0,0,0,i||0,0,0])}constructor(t,n,i){this.type="scale";const r=mi.parseScale(n);(r.x===0||r.y===0)&&(r.x=gp,r.y=gp),this.scale=r,this.originX=i[0],this.originY=i[1]}}class QC{apply(t){const{originX:n,originY:i,matrix:r}=this,a=n.getPixels("x"),s=i.getPixels("y");t.translate(a,s),t.transform(r[0],r[1],r[2],r[3],r[4],r[5]),t.translate(-a,-s)}unapply(t){const{originX:n,originY:i,matrix:r}=this,a=r[0],s=r[2],l=r[4],u=r[1],f=r[3],p=r[5],d=0,v=0,g=1,w=1/(a*(f*g-p*v)-s*(u*g-p*d)+l*(u*v-f*d)),x=n.getPixels("x"),E=i.getPixels("y");t.translate(x,E),t.transform(w*(f*g-p*v),w*(p*d-u*g),w*(l*v-s*g),w*(a*g-l*d),w*(s*p-l*f),w*(l*u-a*p)),t.translate(-x,-E)}applyToPoint(t){t.applyTransform(this.matrix)}constructor(t,n,i){this.type="matrix",this.matrix=Iz(n),this.originX=i[0],this.originY=i[1]}}class JC extends QC{constructor(t,n,i){super(t,n,i),this.type="skew",this.angle=new St(t,"angle",n)}}class nH extends JC{constructor(t,n,i){super(t,n,i),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class iH extends JC{constructor(t,n,i){super(t,n,i),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function rH(e){return qp(e).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function aH(e){const[t="",n=""]=e.split("(");return[t.trim(),n.trim().replace(")","")]}class Jf{static fromElement(t,n){const i=n.getStyle("transform",!1,!0);if(i.hasValue()){const[r,a=r]=n.getStyle("transform-origin",!1,!0).split();if(r&&a){const s=[r,a];return new Jf(t,i.getString(),s)}}return null}apply(t){this.transforms.forEach(n=>n.apply(t))}unapply(t){this.transforms.forEach(n=>n.unapply(t))}applyToPoint(t){this.transforms.forEach(n=>n.applyToPoint(t))}constructor(t,n,i){this.document=t,this.transforms=[],rH(n).forEach(a=>{if(a==="none")return;const[s,l]=aH(a),u=Jf.transformTypes[s];u&&this.transforms.push(new u(this.document,l,i))})}}Jf.transformTypes={translate:Jz,rotate:eH,scale:tH,matrix:QC,skewX:nH,skewY:iH};class ai{getAttribute(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const i=this.attributes.get(t);if(!i&&n){const r=new St(this.document,t,"");return this.attributes.set(t,r),r}return i||St.empty(this.document)}getHrefAttribute(){let t;for(const[n,i]of this.attributes)if(n==="href"||n.endsWith(":href")){t=i;break}return t||St.empty(this.document)}getStyle(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=this.styles.get(t);if(r)return r;const a=this.getAttribute(t);if(a.hasValue())return this.styles.set(t,a),a;if(!i){const{parent:s}=this;if(s){const l=s.getStyle(t);if(l.hasValue())return l}}if(n){const s=new St(this.document,t,"");return this.styles.set(t,s),s}return St.empty(this.document)}render(t){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(t.save(),this.getStyle("mask").hasValue()){const n=this.getStyle("mask").getDefinition();n&&(this.applyEffects(t),n.apply(t,this))}else if(this.getStyle("filter").getValue("none")!=="none"){const n=this.getStyle("filter").getDefinition();n&&(this.applyEffects(t),n.apply(t,this))}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}}setContext(t){}applyEffects(t){const n=Jf.fromElement(this.document,this);n&&n.apply(t);const i=this.getStyle("clip-path",!1,!0);if(i.hasValue()){const r=i.getDefinition();r&&r.apply(t)}}clearContext(t){}renderChildren(t){this.children.forEach(n=>{n.render(t)})}addChild(t){const n=t instanceof ai?t:this.document.createElement(t);n.parent=this,ai.ignoreChildTypes.includes(n.type)||this.children.push(n)}matchesSelector(t){var n;const{node:i}=this;if(typeof i.matches=="function")return i.matches(t);const r=(n=i.getAttribute)===null||n===void 0?void 0:n.call(i,"class");return!r||r===""?!1:r.split(" ").some(a=>".".concat(a)===t)}addStylesFromStyleDefinition(){const{styles:t,stylesSpecificity:n}=this.document;for(const[i,r]of t)if(!i.startsWith("@")&&this.matchesSelector(i)){const a=n.get(i);if(r)for(const[s,l]of r){let u=this.stylesSpecificity.get(s);typeof u>"u"&&(u="000"),a&&a>=u&&(l&&this.styles.set(s,l),this.stylesSpecificity.set(s,a))}}}removeStyles(t,n){return n.reduce((r,a)=>{const s=t.getStyle(a);if(!s.hasValue())return r;const l=s.getString();return s.setValue(""),[...r,[a,l]]},[])}restoreStyles(t,n){n.forEach(i=>{let[r,a]=i;t.getStyle(r,!0).setValue(a)})}isFirstChild(){var t;return((t=this.parent)===null||t===void 0?void 0:t.children.indexOf(this))===0}constructor(t,n,i=!1){if(this.document=t,this.node=n,this.captureTextNodes=i,this.type="",this.attributes=new Map,this.styles=new Map,this.stylesSpecificity=new Map,this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!n||n.nodeType!==1)return;Array.from(n.attributes).forEach(s=>{const l=zz(s.nodeName);this.attributes.set(l,new St(t,l,s.value))}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()&&this.getAttribute("style").getString().split(";").map(l=>l.trim()).forEach(l=>{if(!l)return;const[u,f]=l.split(":").map(p=>p.trim());u&&this.styles.set(u,new St(t,u,f))});const{definitions:r}=t,a=this.getAttribute("id");a.hasValue()&&(r.has(a.getString())||r.set(a.getString(),this)),Array.from(n.childNodes).forEach(s=>{if(s.nodeType===1)this.addChild(s);else if(i&&(s.nodeType===3||s.nodeType===4)){const l=t.createTextNode(s);l.getText().length>0&&this.addChild(l)}})}}ai.ignoreChildTypes=["title"];class oH extends ai{constructor(t,n,i){super(t,n,i)}}function sH(e){const t=e.trim();return/^('|")/.test(t)?t:'"'.concat(t,'"')}function lH(e){return typeof process>"u"?e:e.trim().split(",").map(sH).join(",")}function cH(e){if(!e)return"";const t=e.trim().toLowerCase();switch(t){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return t;default:return/^oblique\s+(-|)\d+deg$/.test(t)?t:""}}function uH(e){if(!e)return"";const t=e.trim().toLowerCase();switch(t){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return t;default:return/^[\d.]+$/.test(t)?t:""}}class _a{static parse(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,i="",r="",a="",s="",l="";const u=qp(t).trim().split(" "),f={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return u.forEach(p=>{switch(!0){case(!f.fontStyle&&_a.styles.includes(p)):p!=="inherit"&&(i=p),f.fontStyle=!0;break;case(!f.fontVariant&&_a.variants.includes(p)):p!=="inherit"&&(r=p),f.fontStyle=!0,f.fontVariant=!0;break;case(!f.fontWeight&&_a.weights.includes(p)):p!=="inherit"&&(a=p),f.fontStyle=!0,f.fontVariant=!0,f.fontWeight=!0;break;case!f.fontSize:p!=="inherit"&&(s=p.split("/")[0]||""),f.fontStyle=!0,f.fontVariant=!0,f.fontWeight=!0,f.fontSize=!0;break;default:p!=="inherit"&&(l+=p)}}),new _a(i,r,a,s,l,n)}toString(){return[cH(this.fontStyle),this.fontVariant,uH(this.fontWeight),this.fontSize,lH(this.fontFamily)].join(" ").trim()}constructor(t,n,i,r,a,s){const l=s?typeof s=="string"?_a.parse(s):s:{};this.fontFamily=a||l.fontFamily,this.fontSize=r||l.fontSize,this.fontStyle=t||l.fontStyle,this.fontWeight=i||l.fontWeight,this.fontVariant=n||l.fontVariant}}_a.styles="normal|italic|oblique|inherit";_a.variants="normal|small-caps|inherit";_a.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class As{get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(t,n){typeof t<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof n<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=n,this.y2=n),n<this.y1&&(this.y1=n),n>this.y2&&(this.y2=n))}addX(t){this.addPoint(t,0)}addY(t){this.addPoint(0,t)}addBoundingBox(t){if(!t)return;const{x1:n,y1:i,x2:r,y2:a}=t;this.addPoint(n,i),this.addPoint(r,a)}sumCubic(t,n,i,r,a){return Math.pow(1-t,3)*n+3*Math.pow(1-t,2)*t*i+3*(1-t)*Math.pow(t,2)*r+Math.pow(t,3)*a}bezierCurveAdd(t,n,i,r,a){const s=6*n-12*i+6*r,l=-3*n+9*i-9*r+3*a,u=3*i-3*n;if(l===0){if(s===0)return;const v=-u/s;0<v&&v<1&&(t?this.addX(this.sumCubic(v,n,i,r,a)):this.addY(this.sumCubic(v,n,i,r,a)));return}const f=Math.pow(s,2)-4*u*l;if(f<0)return;const p=(-s+Math.sqrt(f))/(2*l);0<p&&p<1&&(t?this.addX(this.sumCubic(p,n,i,r,a)):this.addY(this.sumCubic(p,n,i,r,a)));const d=(-s-Math.sqrt(f))/(2*l);0<d&&d<1&&(t?this.addX(this.sumCubic(d,n,i,r,a)):this.addY(this.sumCubic(d,n,i,r,a)))}addBezierCurve(t,n,i,r,a,s,l,u){this.addPoint(t,n),this.addPoint(l,u),this.bezierCurveAdd(!0,t,i,a,l),this.bezierCurveAdd(!1,n,r,s,u)}addQuadraticCurve(t,n,i,r,a,s){const l=t+.6666666666666666*(i-t),u=n+2/3*(r-n),f=l+1/3*(a-t),p=u+1/3*(s-n);this.addBezierCurve(t,n,l,f,u,p,a,s)}isPointInBox(t,n){const{x1:i,y1:r,x2:a,y2:s}=this;return i<=t&&t<=a&&r<=n&&n<=s}constructor(t=Number.NaN,n=Number.NaN,i=Number.NaN,r=Number.NaN){this.x1=t,this.y1=n,this.x2=i,this.y2=r,this.addPoint(t,n),this.addPoint(i,r)}}class hh extends ai{calculateOpacity(){let t=1,n=this;for(;n;){const i=n.getStyle("opacity",!1,!0);i.hasValue(!0)&&(t*=i.getNumber()),n=n.parent}return t}setContext(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!n){const i=this.getStyle("fill"),r=this.getStyle("fill-opacity"),a=this.getStyle("stroke"),s=this.getStyle("stroke-opacity");if(i.isUrlDefinition()){const g=i.getFillStyleDefinition(this,r);g&&(t.fillStyle=g)}else if(i.hasValue()){i.getString()==="currentColor"&&i.setValue(this.getStyle("color").getColor());const g=i.getColor();g!=="inherit"&&(t.fillStyle=g==="none"?"rgba(0,0,0,0)":g)}if(r.hasValue()){const g=new St(this.document,"fill",t.fillStyle).addOpacity(r).getColor();t.fillStyle=g}if(a.isUrlDefinition()){const g=a.getFillStyleDefinition(this,s);g&&(t.strokeStyle=g)}else if(a.hasValue()){a.getString()==="currentColor"&&a.setValue(this.getStyle("color").getColor());const g=a.getString();g!=="inherit"&&(t.strokeStyle=g==="none"?"rgba(0,0,0,0)":g)}if(s.hasValue()){const g=new St(this.document,"stroke",t.strokeStyle).addOpacity(s).getString();t.strokeStyle=g}const l=this.getStyle("stroke-width");if(l.hasValue()){const g=l.getPixels();t.lineWidth=g||gp}const u=this.getStyle("stroke-linecap"),f=this.getStyle("stroke-linejoin"),p=this.getStyle("stroke-miterlimit"),d=this.getStyle("stroke-dasharray"),v=this.getStyle("stroke-dashoffset");if(u.hasValue()&&(t.lineCap=u.getString()),f.hasValue()&&(t.lineJoin=f.getString()),p.hasValue()&&(t.miterLimit=p.getNumber()),d.hasValue()&&d.getString()!=="none"){const g=ao(d.getString());typeof t.setLineDash<"u"?t.setLineDash(g):typeof t.webkitLineDash<"u"?t.webkitLineDash=g:typeof t.mozDash<"u"&&!(g.length===1&&g[0]===0)&&(t.mozDash=g);const w=v.getPixels();typeof t.lineDashOffset<"u"?t.lineDashOffset=w:typeof t.webkitLineDashOffset<"u"?t.webkitLineDashOffset=w:typeof t.mozDashOffset<"u"&&(t.mozDashOffset=w)}}if(this.modifiedEmSizeStack=!1,typeof t.font<"u"){const i=this.getStyle("font"),r=this.getStyle("font-style"),a=this.getStyle("font-variant"),s=this.getStyle("font-weight"),l=this.getStyle("font-size"),u=this.getStyle("font-family"),f=new _a(r.getString(),a.getString(),s.getString(),l.hasValue()?"".concat(l.getPixels(!0),"px"):"",u.getString(),_a.parse(i.getString(),t.font));r.setValue(f.fontStyle),a.setValue(f.fontVariant),s.setValue(f.fontWeight),l.setValue(f.fontSize),u.setValue(f.fontFamily),t.font=f.toString(),l.isPixels()&&(this.document.emSize=l.getPixels(),this.modifiedEmSizeStack=!0)}n||(this.applyEffects(t),t.globalAlpha=this.calculateOpacity())}clearContext(t){super.clearContext(t),this.modifiedEmSizeStack&&this.document.popEmSize()}constructor(...t){super(...t),this.modifiedEmSizeStack=!1}}class Mu extends hh{setContext(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(t,n);const i=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();i&&(t.textBaseline=i)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(t){if(this.type!=="text")return this.getTElementBoundingBox(t);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t);let n=null;return this.children.forEach((i,r)=>{const a=this.getChildBoundingBox(t,this,this,r);n?n.addBoundingBox(a):n=a}),n}getFontSize(){const{document:t,parent:n}=this,i=_a.parse(t.ctx.font).fontSize;return n.getStyle("font-size").getNumber(i)}getTElementBoundingBox(t){const n=this.getFontSize();return new As(this.x,this.y-n,this.x+this.measureText(t),this.y)}getGlyph(t,n,i){const r=n[i];let a;if(t.isArabic){var s;const l=n.length,u=n[i-1],f=n[i+1];let p="isolated";(i===0||u===" ")&&i<l-1&&f!==" "&&(p="terminal"),i>0&&u!==" "&&i<l-1&&f!==" "&&(p="medial"),i>0&&u!==" "&&(i===l-1||f===" ")&&(p="initial"),a=((s=t.arabicGlyphs.get(r))===null||s===void 0?void 0:s.get(p))||t.glyphs.get(r)}else a=t.glyphs.get(r);return a||(a=t.missingGlyph),a}getText(){return""}getTextFromNode(t){const n=t||this.node,i=Array.from(n.parentNode.childNodes),r=i.indexOf(n),a=i.length-1;let s=qp(n.textContent||"");return r===0&&(s=kz(s)),r===a&&(s=jz(s)),s}renderChildren(t){if(this.type!=="text"){this.renderTElementChildren(t);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t),this.children.forEach((i,r)=>{this.renderChild(t,this,this,r)});const{mouse:n}=this.document.screen;n.isWorking()&&n.checkBoundingBox(this,this.getBoundingBox(t))}renderTElementChildren(t){const{document:n,parent:i}=this,r=this.getText(),a=i.getStyle("font-family").getDefinition();if(a){const{unitsPerEm:u}=a.fontFace,f=_a.parse(n.ctx.font),p=i.getStyle("font-size").getNumber(f.fontSize),d=i.getStyle("font-style").getString(f.fontStyle),v=p/u,g=a.isRTL?r.split("").reverse().join(""):r,w=ao(i.getAttribute("dx").getString()),x=g.length;for(let E=0;E<x;E++){const R=this.getGlyph(a,g,E);t.translate(this.x,this.y),t.scale(v,-v);const L=t.lineWidth;t.lineWidth=t.lineWidth*u/p,d==="italic"&&t.transform(1,0,.4,1,0,0),R.render(t),d==="italic"&&t.transform(1,0,-.4,1,0,0),t.lineWidth=L,t.scale(1/v,-1/v),t.translate(-this.x,-this.y),this.x+=p*(R.horizAdvX||a.horizAdvX)/u,typeof w[E]<"u"&&!isNaN(w[E])&&(this.x+=w[E])}return}const{x:s,y:l}=this;t.fillStyle&&t.fillText(r,s,l),t.strokeStyle&&t.strokeText(r,s,l)}applyAnchoring(){if(this.textChunkStart>=this.leafTexts.length)return;const t=this.leafTexts[this.textChunkStart],n=t.getStyle("text-anchor").getString("start"),i=!1;let r=0;n==="start"&&!i||n==="end"&&i?r=t.x-this.minX:n==="end"&&!i||n==="start"&&i?r=t.x-this.maxX:r=t.x-(this.minX+this.maxX)/2;for(let a=this.textChunkStart;a<this.leafTexts.length;a++)this.leafTexts[a].x+=r;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}adjustChildCoordinatesRecursive(t){this.children.forEach((n,i)=>{this.adjustChildCoordinatesRecursiveCore(t,this,this,i)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(t,n,i,r){const a=i.children[r];a.children.length>0?a.children.forEach((s,l)=>{n.adjustChildCoordinatesRecursiveCore(t,n,a,l)}):this.adjustChildCoordinates(t,n,i,r)}adjustChildCoordinates(t,n,i,r){const a=i.children[r];if(typeof a.measureText!="function")return a;t.save(),a.setContext(t,!0);const s=a.getAttribute("x"),l=a.getAttribute("y"),u=a.getAttribute("dx"),f=a.getAttribute("dy"),p=a.getStyle("font-family").getDefinition(),d=!!p?.isRTL;r===0&&(s.hasValue()||s.setValue(a.getInheritedAttribute("x")),l.hasValue()||l.setValue(a.getInheritedAttribute("y")),u.hasValue()||u.setValue(a.getInheritedAttribute("dx")),f.hasValue()||f.setValue(a.getInheritedAttribute("dy")));const v=a.measureText(t);return d&&(n.x-=v),s.hasValue()?(n.applyAnchoring(),a.x=s.getPixels("x"),u.hasValue()&&(a.x+=u.getPixels("x"))):(u.hasValue()&&(n.x+=u.getPixels("x")),a.x=n.x),n.x=a.x,d||(n.x+=v),l.hasValue()?(a.y=l.getPixels("y"),f.hasValue()&&(a.y+=f.getPixels("y"))):(f.hasValue()&&(n.y+=f.getPixels("y")),a.y=n.y),n.y=a.y,n.leafTexts.push(a),n.minX=Math.min(n.minX,a.x,a.x+v),n.maxX=Math.max(n.maxX,a.x,a.x+v),a.clearContext(t),t.restore(),a}getChildBoundingBox(t,n,i,r){const a=i.children[r];if(typeof a.getBoundingBox!="function")return null;const s=a.getBoundingBox(t);return s&&a.children.forEach((l,u)=>{const f=n.getChildBoundingBox(t,n,a,u);s.addBoundingBox(f)}),s}renderChild(t,n,i,r){const a=i.children[r];a.render(t),a.children.forEach((s,l)=>{n.renderChild(t,n,a,l)})}measureText(t){const{measureCache:n}=this;if(~n)return n;const i=this.getText(),r=this.measureTargetText(t,i);return this.measureCache=r,r}measureTargetText(t,n){if(!n.length)return 0;const{parent:i}=this,r=i.getStyle("font-family").getDefinition();if(r){const s=this.getFontSize(),l=r.isRTL?n.split("").reverse().join(""):n,u=ao(i.getAttribute("dx").getString()),f=l.length;let p=0;for(let d=0;d<f;d++){const v=this.getGlyph(r,l,d);p+=(v.horizAdvX||r.horizAdvX)*s/r.fontFace.unitsPerEm,typeof u[d]<"u"&&!isNaN(u[d])&&(p+=u[d])}return p}if(!t.measureText)return n.length*10;t.save(),this.setContext(t,!0);const{width:a}=t.measureText(n);return this.clearContext(t),t.restore(),a}getInheritedAttribute(t){let n=this;for(;n instanceof Mu&&n.isFirstChild()&&n.parent;){const i=n.parent.getAttribute(t);if(i.hasValue(!0))return i.getString("0");n=n.parent}return null}constructor(t,n,i){super(t,n,new.target===Mu?!0:i),this.type="text",this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.measureCache=-1}}class v0 extends Mu{getText(){return this.text}constructor(t,n,i){super(t,n,new.target===v0?!0:i),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}}class fH extends v0{constructor(...t){super(...t),this.type="textNode"}}class Qt extends it{reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new mi(0,0),this.control=new mi(0,0),this.current=new mi(0,0),this.points=[],this.angles=[]}isEnd(){const{i:t,commands:n}=this;return t>=n.length-1}next(){const t=this.commands[++this.i];return this.previousCommand=this.command,this.command=t,t}getPoint(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y";const i=new mi(this.command[t],this.command[n]);return this.makeAbsolute(i)}getAsControlPoint(t,n){const i=this.getPoint(t,n);return this.control=i,i}getAsCurrentPoint(t,n){const i=this.getPoint(t,n);return this.current=i,i}getReflectedControlPoint(){const t=this.previousCommand.type;if(t!==it.CURVE_TO&&t!==it.SMOOTH_CURVE_TO&&t!==it.QUAD_TO&&t!==it.SMOOTH_QUAD_TO)return this.current;const{current:{x:n,y:i},control:{x:r,y:a}}=this;return new mi(2*n-r,2*i-a)}makeAbsolute(t){if(this.command.relative){const{x:n,y:i}=this.current;t.x+=n,t.y+=i}return t}addMarker(t,n,i){const{points:r,angles:a}=this;i&&a.length>0&&!a[a.length-1]&&(a[a.length-1]=r[r.length-1].angleTo(i)),this.addMarkerAngle(t,n?n.angleTo(t):null)}addMarkerAngle(t,n){this.points.push(t),this.angles.push(n)}getMarkerPoints(){return this.points}getMarkerAngles(){const{angles:t}=this,n=t.length;for(let i=0;i<n;i++)if(!t[i]){for(let r=i+1;r<n;r++)if(t[r]){t[i]=t[r];break}}return t}constructor(t){super(t.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=new mi(0,0),this.start=new mi(0,0),this.current=new mi(0,0),this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}}class Gn extends hh{path(t){const{pathParser:n}=this,i=new As;for(n.reset(),t&&t.beginPath();!n.isEnd();)switch(n.next().type){case Qt.MOVE_TO:this.pathM(t,i);break;case Qt.LINE_TO:this.pathL(t,i);break;case Qt.HORIZ_LINE_TO:this.pathH(t,i);break;case Qt.VERT_LINE_TO:this.pathV(t,i);break;case Qt.CURVE_TO:this.pathC(t,i);break;case Qt.SMOOTH_CURVE_TO:this.pathS(t,i);break;case Qt.QUAD_TO:this.pathQ(t,i);break;case Qt.SMOOTH_QUAD_TO:this.pathT(t,i);break;case Qt.ARC:this.pathA(t,i);break;case Qt.CLOSE_PATH:this.pathZ(t,i);break}return i}getBoundingBox(t){return this.path()}getMarkers(){const{pathParser:t}=this,n=t.getMarkerPoints(),i=t.getMarkerAngles();return n.map((a,s)=>[a,i[s]])}renderChildren(t){this.path(t),this.document.screen.mouse.checkPath(this,t);const n=this.getStyle("fill-rule");t.fillStyle!==""&&(n.getString("inherit")!=="inherit"?t.fill(n.getString()):t.fill()),t.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(t.save(),t.setTransform(1,0,0,1,0,0),t.stroke(),t.restore()):t.stroke());const i=this.getMarkers();if(i){const r=i.length-1,a=this.getStyle("marker-start"),s=this.getStyle("marker-mid"),l=this.getStyle("marker-end");if(a.isUrlDefinition()){const u=a.getDefinition(),[f,p]=i[0];u.render(t,f,p)}if(s.isUrlDefinition()){const u=s.getDefinition();for(let f=1;f<r;f++){const[p,d]=i[f];u.render(t,p,d)}}if(l.isUrlDefinition()){const u=l.getDefinition(),[f,p]=i[r];u.render(t,f,p)}}}static pathM(t){const n=t.getAsCurrentPoint();return t.start=t.current,{point:n}}pathM(t,n){const{pathParser:i}=this,{point:r}=Gn.pathM(i),{x:a,y:s}=r;i.addMarker(r),n.addPoint(a,s),t&&t.moveTo(a,s)}static pathL(t){const{current:n}=t,i=t.getAsCurrentPoint();return{current:n,point:i}}pathL(t,n){const{pathParser:i}=this,{current:r,point:a}=Gn.pathL(i),{x:s,y:l}=a;i.addMarker(a,r),n.addPoint(s,l),t&&t.lineTo(s,l)}static pathH(t){const{current:n,command:i}=t,r=new mi((i.relative?n.x:0)+i.x,n.y);return t.current=r,{current:n,point:r}}pathH(t,n){const{pathParser:i}=this,{current:r,point:a}=Gn.pathH(i),{x:s,y:l}=a;i.addMarker(a,r),n.addPoint(s,l),t&&t.lineTo(s,l)}static pathV(t){const{current:n,command:i}=t,r=new mi(n.x,(i.relative?n.y:0)+i.y);return t.current=r,{current:n,point:r}}pathV(t,n){const{pathParser:i}=this,{current:r,point:a}=Gn.pathV(i),{x:s,y:l}=a;i.addMarker(a,r),n.addPoint(s,l),t&&t.lineTo(s,l)}static pathC(t){const{current:n}=t,i=t.getPoint("x1","y1"),r=t.getAsControlPoint("x2","y2"),a=t.getAsCurrentPoint();return{current:n,point:i,controlPoint:r,currentPoint:a}}pathC(t,n){const{pathParser:i}=this,{current:r,point:a,controlPoint:s,currentPoint:l}=Gn.pathC(i);i.addMarker(l,s,a),n.addBezierCurve(r.x,r.y,a.x,a.y,s.x,s.y,l.x,l.y),t&&t.bezierCurveTo(a.x,a.y,s.x,s.y,l.x,l.y)}static pathS(t){const{current:n}=t,i=t.getReflectedControlPoint(),r=t.getAsControlPoint("x2","y2"),a=t.getAsCurrentPoint();return{current:n,point:i,controlPoint:r,currentPoint:a}}pathS(t,n){const{pathParser:i}=this,{current:r,point:a,controlPoint:s,currentPoint:l}=Gn.pathS(i);i.addMarker(l,s,a),n.addBezierCurve(r.x,r.y,a.x,a.y,s.x,s.y,l.x,l.y),t&&t.bezierCurveTo(a.x,a.y,s.x,s.y,l.x,l.y)}static pathQ(t){const{current:n}=t,i=t.getAsControlPoint("x1","y1"),r=t.getAsCurrentPoint();return{current:n,controlPoint:i,currentPoint:r}}pathQ(t,n){const{pathParser:i}=this,{current:r,controlPoint:a,currentPoint:s}=Gn.pathQ(i);i.addMarker(s,a,a),n.addQuadraticCurve(r.x,r.y,a.x,a.y,s.x,s.y),t&&t.quadraticCurveTo(a.x,a.y,s.x,s.y)}static pathT(t){const{current:n}=t,i=t.getReflectedControlPoint();t.control=i;const r=t.getAsCurrentPoint();return{current:n,controlPoint:i,currentPoint:r}}pathT(t,n){const{pathParser:i}=this,{current:r,controlPoint:a,currentPoint:s}=Gn.pathT(i);i.addMarker(s,a,a),n.addQuadraticCurve(r.x,r.y,a.x,a.y,s.x,s.y),t&&t.quadraticCurveTo(a.x,a.y,s.x,s.y)}static pathA(t){const{current:n,command:i}=t;let{rX:r,rY:a,xRot:s,lArcFlag:l,sweepFlag:u}=i;const f=s*(Math.PI/180),p=t.getAsCurrentPoint(),d=new mi(Math.cos(f)*(n.x-p.x)/2+Math.sin(f)*(n.y-p.y)/2,-Math.sin(f)*(n.x-p.x)/2+Math.cos(f)*(n.y-p.y)/2),v=Math.pow(d.x,2)/Math.pow(r,2)+Math.pow(d.y,2)/Math.pow(a,2);v>1&&(r*=Math.sqrt(v),a*=Math.sqrt(v));let g=(l===u?-1:1)*Math.sqrt((Math.pow(r,2)*Math.pow(a,2)-Math.pow(r,2)*Math.pow(d.y,2)-Math.pow(a,2)*Math.pow(d.x,2))/(Math.pow(r,2)*Math.pow(d.y,2)+Math.pow(a,2)*Math.pow(d.x,2)));isNaN(g)&&(g=0);const w=new mi(g*r*d.y/a,g*-a*d.x/r),x=new mi((n.x+p.x)/2+Math.cos(f)*w.x-Math.sin(f)*w.y,(n.y+p.y)/2+Math.sin(f)*w.x+Math.cos(f)*w.y),E=o4([1,0],[(d.x-w.x)/r,(d.y-w.y)/a]),R=[(d.x-w.x)/r,(d.y-w.y)/a],L=[(-d.x-w.x)/r,(-d.y-w.y)/a];let M=o4(R,L);return pb(R,L)<=-1&&(M=Math.PI),pb(R,L)>=1&&(M=0),{currentPoint:p,rX:r,rY:a,sweepFlag:u,xAxisRotation:f,centp:x,a1:E,ad:M}}pathA(t,n){const{pathParser:i}=this,{currentPoint:r,rX:a,rY:s,sweepFlag:l,xAxisRotation:u,centp:f,a1:p,ad:d}=Gn.pathA(i),v=1-l?1:-1,g=p+v*(d/2),w=new mi(f.x+a*Math.cos(g),f.y+s*Math.sin(g));if(i.addMarkerAngle(w,g-v*Math.PI/2),i.addMarkerAngle(r,g-v*Math.PI),n.addPoint(r.x,r.y),t&&!isNaN(p)&&!isNaN(d)){const x=a>s?a:s,E=a>s?1:a/s,R=a>s?s/a:1;t.translate(f.x,f.y),t.rotate(u),t.scale(E,R),t.arc(0,0,x,p,p+d,!!(1-l)),t.scale(1/E,1/R),t.rotate(-u),t.translate(-f.x,-f.y)}}static pathZ(t){t.current=t.start}pathZ(t,n){Gn.pathZ(this.pathParser),t&&n.x1!==n.x2&&n.y1!==n.y2&&t.closePath()}constructor(t,n,i){super(t,n,i),this.type="path",this.pathParser=new Qt(this.getAttribute("d").getString())}}let Wm=class extends hh{setContext(t){var n;const{document:i}=this,{screen:r,window:a}=i,s=t.canvas;if(r.setDefaults(t),"style"in s&&typeof t.font<"u"&&a&&typeof a.getComputedStyle<"u"){t.font=a.getComputedStyle(s).getPropertyValue("font");const L=new St(i,"fontSize",_a.parse(t.font).fontSize);L.hasValue()&&(i.rootEmSize=L.getPixels("y"),i.emSize=i.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);let{width:l,height:u}=r.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");const f=this.getAttribute("refX"),p=this.getAttribute("refY"),d=this.getAttribute("viewBox"),v=d.hasValue()?ao(d.getString()):null,g=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible";let w=0,x=0,E=0,R=0;v&&(w=v[0],x=v[1]),this.root||(l=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y"),this.type==="marker"&&(E=w,R=x,w=0,x=0)),r.viewPort.setCurrent(l,u),this.node&&(!this.parent||((n=this.node.parentNode)===null||n===void 0?void 0:n.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(t),t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),v&&(l=v[2],u=v[3]),i.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:r.viewPort.width,desiredWidth:l,height:r.viewPort.height,desiredHeight:u,minX:w,minY:x,refX:f.getValue(),refY:p.getValue(),clip:g,clipX:E,clipY:R}),v&&(r.viewPort.removeCurrent(),r.viewPort.setCurrent(l,u))}clearContext(t){super.clearContext(t),this.document.screen.viewPort.removeCurrent()}resize(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const r=this.getAttribute("width",!0),a=this.getAttribute("height",!0),s=this.getAttribute("viewBox"),l=this.getAttribute("style"),u=r.getNumber(0),f=a.getNumber(0);if(i)if(typeof i=="string")this.getAttribute("preserveAspectRatio",!0).setValue(i);else{const p=this.getAttribute("preserveAspectRatio");p.hasValue()&&p.setValue(p.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(r.setValue(t),a.setValue(n),s.hasValue()||s.setValue("0 0 ".concat(u||t," ").concat(f||n)),l.hasValue()){const p=this.getStyle("width"),d=this.getStyle("height");p.hasValue()&&p.setValue("".concat(t,"px")),d.hasValue()&&d.setValue("".concat(n,"px"))}}constructor(...t){super(...t),this.type="svg",this.root=!1}};class e8 extends Gn{path(t){const n=this.getAttribute("x").getPixels("x"),i=this.getAttribute("y").getPixels("y"),r=this.getStyle("width",!1,!0).getPixels("x"),a=this.getStyle("height",!1,!0).getPixels("y"),s=this.getAttribute("rx"),l=this.getAttribute("ry");let u=s.getPixels("x"),f=l.getPixels("y");if(s.hasValue()&&!l.hasValue()&&(f=u),l.hasValue()&&!s.hasValue()&&(u=f),u=Math.min(u,r/2),f=Math.min(f,a/2),t){const p=4*((Math.sqrt(2)-1)/3);t.beginPath(),a>0&&r>0&&(t.moveTo(n+u,i),t.lineTo(n+r-u,i),t.bezierCurveTo(n+r-u+p*u,i,n+r,i+f-p*f,n+r,i+f),t.lineTo(n+r,i+a-f),t.bezierCurveTo(n+r,i+a-f+p*f,n+r-u+p*u,i+a,n+r-u,i+a),t.lineTo(n+u,i+a),t.bezierCurveTo(n+u-p*u,i+a,n,i+a-f+p*f,n,i+a-f),t.lineTo(n,i+f),t.bezierCurveTo(n,i+f-p*f,n+u-p*u,i,n+u,i),t.closePath())}return new As(n,i,n+r,i+a)}getMarkers(){return null}constructor(...t){super(...t),this.type="rect"}}class hH extends Gn{path(t){const n=this.getAttribute("cx").getPixels("x"),i=this.getAttribute("cy").getPixels("y"),r=this.getAttribute("r").getPixels();return t&&r>0&&(t.beginPath(),t.arc(n,i,r,0,Math.PI*2,!1),t.closePath()),new As(n-r,i-r,n+r,i+r)}getMarkers(){return null}constructor(...t){super(...t),this.type="circle"}}class pH extends Gn{path(t){const n=4*((Math.sqrt(2)-1)/3),i=this.getAttribute("rx").getPixels("x"),r=this.getAttribute("ry").getPixels("y"),a=this.getAttribute("cx").getPixels("x"),s=this.getAttribute("cy").getPixels("y");return t&&i>0&&r>0&&(t.beginPath(),t.moveTo(a+i,s),t.bezierCurveTo(a+i,s+n*r,a+n*i,s+r,a,s+r),t.bezierCurveTo(a-n*i,s+r,a-i,s+n*r,a-i,s),t.bezierCurveTo(a-i,s-n*r,a-n*i,s-r,a,s-r),t.bezierCurveTo(a+n*i,s-r,a+i,s-n*r,a+i,s),t.closePath()),new As(a-i,s-r,a+i,s+r)}getMarkers(){return null}constructor(...t){super(...t),this.type="ellipse"}}class dH extends Gn{getPoints(){return[new mi(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new mi(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(t){const[{x:n,y:i},{x:r,y:a}]=this.getPoints();return t&&(t.beginPath(),t.moveTo(n,i),t.lineTo(r,a)),new As(n,i,r,a)}getMarkers(){const[t,n]=this.getPoints(),i=t.angleTo(n);return[[t,i],[n,i]]}constructor(...t){super(...t),this.type="line"}}class t8 extends Gn{path(t){const{points:n}=this,[{x:i,y:r}]=n,a=new As(i,r);return t&&(t.beginPath(),t.moveTo(i,r)),n.forEach(s=>{let{x:l,y:u}=s;a.addPoint(l,u),t&&t.lineTo(l,u)}),a}getMarkers(){const{points:t}=this,n=t.length-1,i=[];return t.forEach((r,a)=>{a!==n&&i.push([r,r.angleTo(t[a+1])])}),i.length>0&&i.push([t[t.length-1],i[i.length-1][1]]),i}constructor(t,n,i){super(t,n,i),this.type="polyline",this.points=[],this.points=mi.parsePath(this.getAttribute("points").getString())}}class mH extends t8{path(t){const n=super.path(t),[{x:i,y:r}]=this.points;return t&&(t.lineTo(i,r),t.closePath()),n}constructor(...t){super(...t),this.type="polygon"}}class gH extends ai{createPattern(t,n,i){const r=this.getStyle("width").getPixels("x",!0),a=this.getStyle("height").getPixels("y",!0),s=new Wm(this.document,null);s.attributes.set("viewBox",new St(this.document,"viewBox",this.getAttribute("viewBox").getValue())),s.attributes.set("width",new St(this.document,"width","".concat(r,"px"))),s.attributes.set("height",new St(this.document,"height","".concat(a,"px"))),s.attributes.set("transform",new St(this.document,"transform",this.getAttribute("patternTransform").getValue())),s.children=this.children;const l=this.document.createCanvas(r,a),u=l.getContext("2d"),f=this.getAttribute("x"),p=this.getAttribute("y");f.hasValue()&&p.hasValue()&&u.translate(f.getPixels("x",!0),p.getPixels("y",!0)),i.hasValue()?this.styles.set("fill-opacity",i):this.styles.delete("fill-opacity");for(let v=-1;v<=1;v++)for(let g=-1;g<=1;g++)u.save(),s.attributes.set("x",new St(this.document,"x",v*l.width)),s.attributes.set("y",new St(this.document,"y",g*l.height)),s.render(u),u.restore();return t.createPattern(l,"repeat")}constructor(...t){super(...t),this.type="pattern"}}class vH extends ai{render(t,n,i){if(!n)return;const{x:r,y:a}=n,s=this.getAttribute("orient").getString("auto"),l=this.getAttribute("markerUnits").getString("strokeWidth");t.translate(r,a),s==="auto"&&t.rotate(i),l==="strokeWidth"&&t.scale(t.lineWidth,t.lineWidth),t.save();const u=new Wm(this.document);u.type=this.type,u.attributes.set("viewBox",new St(this.document,"viewBox",this.getAttribute("viewBox").getValue())),u.attributes.set("refX",new St(this.document,"refX",this.getAttribute("refX").getValue())),u.attributes.set("refY",new St(this.document,"refY",this.getAttribute("refY").getValue())),u.attributes.set("width",new St(this.document,"width",this.getAttribute("markerWidth").getValue())),u.attributes.set("height",new St(this.document,"height",this.getAttribute("markerHeight").getValue())),u.attributes.set("overflow",new St(this.document,"overflow",this.getAttribute("overflow").getValue())),u.attributes.set("fill",new St(this.document,"fill",this.getAttribute("fill").getColor("black"))),u.attributes.set("stroke",new St(this.document,"stroke",this.getAttribute("stroke").getValue("none"))),u.children=this.children,u.render(t),t.restore(),l==="strokeWidth"&&t.scale(1/t.lineWidth,1/t.lineWidth),s==="auto"&&t.rotate(-i),t.translate(-r,-a)}constructor(...t){super(...t),this.type="marker"}}class yH extends ai{render(){}constructor(...t){super(...t),this.type="defs"}}class f_ extends hh{getBoundingBox(t){const n=new As;return this.children.forEach(i=>{n.addBoundingBox(i.getBoundingBox(t))}),n}constructor(...t){super(...t),this.type="g"}}class n8 extends ai{getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(t,n,i){let r=this;this.getHrefAttribute().hasValue()&&(r=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(r));const{stops:a}=r,s=this.getGradient(t,n);if(!s)return this.addParentOpacity(i,a[a.length-1].color);if(a.forEach(l=>{s.addColorStop(l.offset,this.addParentOpacity(i,l.color))}),this.getAttribute("gradientTransform").hasValue()){const{document:l}=this,{MAX_VIRTUAL_PIXELS:u}=bc,{viewPort:f}=l.screen,p=f.getRoot(),d=new e8(l);d.attributes.set("x",new St(l,"x",-u/3)),d.attributes.set("y",new St(l,"y",-u/3)),d.attributes.set("width",new St(l,"width",u)),d.attributes.set("height",new St(l,"height",u));const v=new f_(l);v.attributes.set("transform",new St(l,"transform",this.getAttribute("gradientTransform").getValue())),v.children=[d];const g=new Wm(l);g.attributes.set("x",new St(l,"x",0)),g.attributes.set("y",new St(l,"y",0)),g.attributes.set("width",new St(l,"width",p.width)),g.attributes.set("height",new St(l,"height",p.height)),g.children=[v];const w=l.createCanvas(p.width,p.height),x=w.getContext("2d");return x.fillStyle=s,g.render(x),x.createPattern(w,"no-repeat")}return s}inheritStopContainer(t){this.attributesToInherit.forEach(n=>{!this.getAttribute(n).hasValue()&&t.getAttribute(n).hasValue()&&this.getAttribute(n,!0).setValue(t.getAttribute(n).getValue())})}addParentOpacity(t,n){return t.hasValue()?new St(this.document,"color",n).addOpacity(t).getColor():n}constructor(t,n,i){super(t,n,i),this.attributesToInherit=["gradientUnits"],this.stops=[];const{stops:r,children:a}=this;a.forEach(s=>{s.type==="stop"&&r.push(s)})}}class bH extends n8{getGradient(t,n){const i=this.getGradientUnits()==="objectBoundingBox",r=i?n.getBoundingBox(t):null;if(i&&!r)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));const a=i?r.x+r.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),s=i?r.y+r.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),l=i?r.x+r.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),u=i?r.y+r.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return a===l&&s===u?null:t.createLinearGradient(a,s,l,u)}constructor(t,n,i){super(t,n,i),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}}class _H extends n8{getGradient(t,n){const i=this.getGradientUnits()==="objectBoundingBox",r=n.getBoundingBox(t);if(i&&!r)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");const a=i?r.x+r.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),s=i?r.y+r.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y");let l=a,u=s;this.getAttribute("fx").hasValue()&&(l=i?r.x+r.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(u=i?r.y+r.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));const f=i?(r.width+r.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),p=this.getAttribute("fr").getPixels();return t.createRadialGradient(l,u,p,a,s,f)}constructor(t,n,i){super(t,n,i),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}}class wH extends ai{constructor(t,n,i){super(t,n,i),this.type="stop";const r=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),a=this.getStyle("stop-opacity");let s=this.getStyle("stop-color",!0);s.getString()===""&&s.setValue("#000"),a.hasValue()&&(s=s.addOpacity(a)),this.offset=r,this.color=s.getColor()}}class h_ extends ai{getProperty(){const t=this.getAttribute("attributeType").getString(),n=this.getAttribute("attributeName").getString();return t==="CSS"?this.parent.getStyle(n,!0):this.parent.getAttribute(n,!0)}calcValue(){const{initialUnits:t}=this,{progress:n,from:i,to:r}=this.getProgress();let a=i.getNumber()+(r.getNumber()-i.getNumber())*n;return t==="%"&&(a*=100),"".concat(a).concat(t)}update(t){const{parent:n}=this,i=this.getProperty();if(this.initialValue||(this.initialValue=i.getString(),this.initialUnits=i.getUnits()),this.duration>this.maxDuration){const a=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(a==="freeze"&&!this.frozen)this.frozen=!0,n&&i&&(n.animationFrozen=!0,n.animationFrozenValue=i.getString());else if(a==="remove"&&!this.removed)return this.removed=!0,n&&i&&i.setValue(n.animationFrozen?n.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=t;let r=!1;if(this.begin<this.duration){let a=this.calcValue();const s=this.getAttribute("type");if(s.hasValue()){const l=s.getString();a="".concat(l,"(").concat(a,")")}i.setValue(a),r=!0}return r}getProgress(){const{document:t,values:n}=this;let i=(this.duration-this.begin)/(this.maxDuration-this.begin),r,a;if(n.hasValue()){const s=i*(n.getValue().length-1),l=Math.floor(s),u=Math.ceil(s);let f;f=n.getValue()[l],r=new St(t,"from",f?parseFloat(f):0),f=n.getValue()[u],a=new St(t,"to",f?parseFloat(f):0),i=(s-l)/(u-l)}else r=this.from,a=this.to;return{progress:i,from:r,to:a}}constructor(t,n,i){super(t,n,i),this.type="animate",this.duration=0,this.initialUnits="",this.removed=!1,this.frozen=!1,t.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new St(t,"values",null);const r=this.getAttribute("values");r.hasValue()&&this.values.setValue(r.getString().split(";"))}}class xH extends h_{calcValue(){const{progress:t,from:n,to:i}=this.getProgress(),r=new fb(n.getColor()),a=new fb(i.getColor());if(r.ok&&a.ok){const s=r.r+(a.r-r.r)*t,l=r.g+(a.g-r.g)*t,u=r.b+(a.b-r.b)*t;return"rgb(".concat(Math.floor(s),", ").concat(Math.floor(l),", ").concat(Math.floor(u),")")}return this.getAttribute("from").getColor()}constructor(...t){super(...t),this.type="animateColor"}}class EH extends h_{calcValue(){const{progress:t,from:n,to:i}=this.getProgress(),r=ao(n.getString()),a=ao(i.getString());return r.map((l,u)=>{const f=a[u];return l+(f-l)*t}).join(" ")}constructor(...t){super(...t),this.type="animateTransform"}}class i8 extends ai{constructor(t,n,i){super(t,n,i),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class p_ extends Gn{constructor(t,n,i){super(t,n,i),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class r8 extends p_{constructor(...t){super(...t),this.type="missing-glyph",this.horizAdvX=0}}class SH extends ai{render(){}constructor(t,n,i){super(t,n,i),this.type="font",this.isArabic=!1,this.glyphs=new Map,this.arabicGlyphs=new Map,this.isRTL=!1,this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();const{definitions:r}=t,{children:a}=this;for(const s of a)if(s instanceof i8){this.fontFace=s;const l=s.getStyle("font-family");l.hasValue()&&r.set(l.getString(),this)}else if(s instanceof r8)this.missingGlyph=s;else if(s instanceof p_)if(s.arabicForm){this.isRTL=!0,this.isArabic=!0;let l=this.arabicGlyphs.get(s.unicode);typeof l>"u"&&(l=new Map,this.arabicGlyphs.set(s.unicode,l)),l.set(s.arabicForm,s)}else this.glyphs.set(s.unicode,s)}}class AH extends Mu{getText(){const t=this.getHrefAttribute().getDefinition();if(t){const n=t.children[0];if(n)return n.getText()}return""}constructor(...t){super(...t),this.type="tref"}}class NH extends Mu{getText(){return this.text}renderChildren(t){if(this.hasText){super.renderChildren(t);const{document:n,x:i,y:r}=this,{mouse:a}=n.screen,s=new St(n,"fontSize",_a.parse(n.ctx.font).fontSize);a.isWorking()&&a.checkBoundingBox(this,new As(i,r-s.getPixels("y"),i+this.measureText(t),r))}else if(this.children.length>0){const n=new f_(this.document);n.children=this.children,n.parent=this,n.render(t)}}onClick(){const{window:t}=this.document;t&&t.open(this.getHrefAttribute().getString())}onMouseMove(){const t=this.document.ctx;t.canvas.style.cursor="pointer"}constructor(t,n,i){super(t,n,i),this.type="a";const{childNodes:r}=n,a=r[0],s=r.length>0&&Array.from(r).every(l=>l.nodeType===3);this.hasText=s,this.text=s?this.getTextFromNode(a):""}}class CH extends Mu{getText(){return this.text}path(t){const{dataArray:n}=this;t&&t.beginPath(),n.forEach(i=>{let{type:r,points:a}=i;switch(r){case Qt.LINE_TO:t&&t.lineTo(a[0],a[1]);break;case Qt.MOVE_TO:t&&t.moveTo(a[0],a[1]);break;case Qt.CURVE_TO:t&&t.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case Qt.QUAD_TO:t&&t.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case Qt.ARC:{const[s,l,u,f,p,d,v,g]=a,w=u>f?u:f,x=u>f?1:u/f,E=u>f?f/u:1;t&&(t.translate(s,l),t.rotate(v),t.scale(x,E),t.arc(0,0,w,p,p+d,!!(1-g)),t.scale(1/x,1/E),t.rotate(-v),t.translate(-s,-l));break}case Qt.CLOSE_PATH:t&&t.closePath();break}})}renderChildren(t){this.setTextData(t),t.save();const n=this.parent.getStyle("text-decoration").getString(),i=this.getFontSize(),{glyphInfo:r}=this,a=t.fillStyle;n==="underline"&&t.beginPath(),r.forEach((s,l)=>{const{p0:u,p1:f,rotation:p,text:d}=s;t.save(),t.translate(u.x,u.y),t.rotate(p),t.fillStyle&&t.fillText(d,0,0),t.strokeStyle&&t.strokeText(d,0,0),t.restore(),n==="underline"&&(l===0&&t.moveTo(u.x,u.y+i/8),t.lineTo(f.x,f.y+i/5))}),n==="underline"&&(t.lineWidth=i/20,t.strokeStyle=a,t.stroke(),t.closePath()),t.restore()}getLetterSpacingAt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[t]||0}findSegmentToFitChar(t,n,i,r,a,s,l,u,f){let p=s,d=this.measureText(t,u);u===" "&&n==="justify"&&i<r&&(d+=(r-i)/a),f>-1&&(p+=this.getLetterSpacingAt(f));const v=this.textHeight/20,g=this.getEquidistantPointOnPath(p,v,0),w=this.getEquidistantPointOnPath(p+d,v,0),x={p0:g,p1:w},E=g&&w?Math.atan2(w.y-g.y,w.x-g.x):0;if(l){const R=Math.cos(Math.PI/2+E)*l,L=Math.cos(-E)*l;x.p0={...g,x:g.x+R,y:g.y+L},x.p1={...w,x:w.x+R,y:w.y+L}}return p+=d,{offset:p,segment:x,rotation:E}}measureText(t,n){const{measuresCache:i}=this,r=n||this.getText();if(i.has(r))return i.get(r);const a=this.measureTargetText(t,r);return i.set(r,a),a}setTextData(t){if(this.glyphInfo)return;const n=this.getText(),i=n.split(""),r=n.split(" ").length-1,a=this.parent.getAttribute("dx").split().map(M=>M.getPixels("x")),s=this.parent.getAttribute("dy").getPixels("y"),l=this.parent.getStyle("text-anchor").getString("start"),u=this.getStyle("letter-spacing"),f=this.parent.getStyle("letter-spacing");let p=0;!u.hasValue()||u.getValue()==="inherit"?p=f.getPixels():u.hasValue()&&u.getValue()!=="initial"&&u.getValue()!=="unset"&&(p=u.getPixels());const d=[],v=n.length;this.letterSpacingCache=d;for(let M=0;M<v;M++)d.push(typeof a[M]<"u"?a[M]:p);const g=d.reduce((M,P,k)=>k===0?0:M+P||0,0),w=this.measureText(t),x=Math.max(w+g,0);this.textWidth=w,this.textHeight=this.getFontSize(),this.glyphInfo=[];const E=this.getPathLength(),R=this.getStyle("startOffset").getNumber(0)*E;let L=0;(l==="middle"||l==="center")&&(L=-x/2),(l==="end"||l==="right")&&(L=-x),L+=R,i.forEach((M,P)=>{const{offset:k,segment:W,rotation:Q}=this.findSegmentToFitChar(t,l,x,E,r,L,s,M,P);L=k,!(!W.p0||!W.p1)&&this.glyphInfo.push({text:i[P],p0:W.p0,p1:W.p1,rotation:Q})})}parsePathData(t){if(this.pathLength=-1,!t)return[];const n=[],{pathParser:i}=t;for(i.reset();!i.isEnd();){const{current:r}=i,a=r?r.x:0,s=r?r.y:0,l=i.next();let u=l.type,f=[];switch(l.type){case Qt.MOVE_TO:this.pathM(i,f);break;case Qt.LINE_TO:u=this.pathL(i,f);break;case Qt.HORIZ_LINE_TO:u=this.pathH(i,f);break;case Qt.VERT_LINE_TO:u=this.pathV(i,f);break;case Qt.CURVE_TO:this.pathC(i,f);break;case Qt.SMOOTH_CURVE_TO:u=this.pathS(i,f);break;case Qt.QUAD_TO:this.pathQ(i,f);break;case Qt.SMOOTH_QUAD_TO:u=this.pathT(i,f);break;case Qt.ARC:f=this.pathA(i);break;case Qt.CLOSE_PATH:Gn.pathZ(i);break}l.type!==Qt.CLOSE_PATH?n.push({type:u,points:f,start:{x:a,y:s},pathLength:this.calcLength(a,s,u,f)}):n.push({type:Qt.CLOSE_PATH,points:[],pathLength:0})}return n}pathM(t,n){const{x:i,y:r}=Gn.pathM(t).point;n.push(i,r)}pathL(t,n){const{x:i,y:r}=Gn.pathL(t).point;return n.push(i,r),Qt.LINE_TO}pathH(t,n){const{x:i,y:r}=Gn.pathH(t).point;return n.push(i,r),Qt.LINE_TO}pathV(t,n){const{x:i,y:r}=Gn.pathV(t).point;return n.push(i,r),Qt.LINE_TO}pathC(t,n){const{point:i,controlPoint:r,currentPoint:a}=Gn.pathC(t);n.push(i.x,i.y,r.x,r.y,a.x,a.y)}pathS(t,n){const{point:i,controlPoint:r,currentPoint:a}=Gn.pathS(t);return n.push(i.x,i.y,r.x,r.y,a.x,a.y),Qt.CURVE_TO}pathQ(t,n){const{controlPoint:i,currentPoint:r}=Gn.pathQ(t);n.push(i.x,i.y,r.x,r.y)}pathT(t,n){const{controlPoint:i,currentPoint:r}=Gn.pathT(t);return n.push(i.x,i.y,r.x,r.y),Qt.QUAD_TO}pathA(t){let{rX:n,rY:i,sweepFlag:r,xAxisRotation:a,centp:s,a1:l,ad:u}=Gn.pathA(t);return r===0&&u>0&&(u-=2*Math.PI),r===1&&u<0&&(u+=2*Math.PI),[s.x,s.y,n,i,l,u,a,r]}calcLength(t,n,i,r){let a=0,s=null,l=null,u=0;switch(i){case Qt.LINE_TO:return this.getLineLength(t,n,r[0],r[1]);case Qt.CURVE_TO:for(a=0,s=this.getPointOnCubicBezier(0,t,n,r[0],r[1],r[2],r[3],r[4],r[5]),u=.01;u<=1;u+=.01)l=this.getPointOnCubicBezier(u,t,n,r[0],r[1],r[2],r[3],r[4],r[5]),a+=this.getLineLength(s.x,s.y,l.x,l.y),s=l;return a;case Qt.QUAD_TO:for(a=0,s=this.getPointOnQuadraticBezier(0,t,n,r[0],r[1],r[2],r[3]),u=.01;u<=1;u+=.01)l=this.getPointOnQuadraticBezier(u,t,n,r[0],r[1],r[2],r[3]),a+=this.getLineLength(s.x,s.y,l.x,l.y),s=l;return a;case Qt.ARC:{a=0;const f=r[4],p=r[5],d=r[4]+p;let v=Math.PI/180;if(Math.abs(f-d)<v&&(v=Math.abs(f-d)),s=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],f,0),p<0)for(u=f-v;u>d;u-=v)l=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),a+=this.getLineLength(s.x,s.y,l.x,l.y),s=l;else for(u=f+v;u<d;u+=v)l=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],u,0),a+=this.getLineLength(s.x,s.y,l.x,l.y),s=l;return l=this.getPointOnEllipticalArc(r[0],r[1],r[2],r[3],d,0),a+=this.getLineLength(s.x,s.y,l.x,l.y),a}}return 0}getPointOnLine(t,n,i,r,a){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:n,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:i;const u=(a-i)/(r-n+gp);let f=Math.sqrt(t*t/(1+u*u));r<n&&(f*=-1);let p=u*f,d=null;if(r===n)d={x:s,y:l+p};else if((l-i)/(s-n+gp)===u)d={x:s+f,y:l+p};else{let v=0,g=0;const w=this.getLineLength(n,i,r,a);if(w<gp)return null;let x=(s-n)*(r-n)+(l-i)*(a-i);x/=w*w,v=n+x*(r-n),g=i+x*(a-i);const E=this.getLineLength(s,l,v,g),R=Math.sqrt(t*t-E*E);f=Math.sqrt(R*R/(1+u*u)),r<n&&(f*=-1),p=u*f,d={x:v+f,y:g+p}}return d}getPointOnPath(t){const n=this.getPathLength();let i=0,r=null;if(t<-5e-5||t-5e-5>n)return null;const{dataArray:a}=this;for(const s of a){if(s&&(s.pathLength<5e-5||i+s.pathLength+5e-5<t)){i+=s.pathLength;continue}const l=t-i;let u=0;switch(s.type){case Qt.LINE_TO:r=this.getPointOnLine(l,s.start.x,s.start.y,s.points[0],s.points[1],s.start.x,s.start.y);break;case Qt.ARC:{const f=s.points[4],p=s.points[5],d=s.points[4]+p;if(u=f+l/s.pathLength*p,p<0&&u<d||p>=0&&u>d)break;r=this.getPointOnEllipticalArc(s.points[0],s.points[1],s.points[2],s.points[3],u,s.points[6]);break}case Qt.CURVE_TO:u=l/s.pathLength,u>1&&(u=1),r=this.getPointOnCubicBezier(u,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3],s.points[4],s.points[5]);break;case Qt.QUAD_TO:u=l/s.pathLength,u>1&&(u=1),r=this.getPointOnQuadraticBezier(u,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3]);break}if(r)return r;break}return null}getLineLength(t,n,i,r){return Math.sqrt((i-t)*(i-t)+(r-n)*(r-n))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((t,n)=>n.pathLength>0?t+n.pathLength:t,0)),this.pathLength}getPointOnCubicBezier(t,n,i,r,a,s,l,u,f){const p=u*s4(t)+s*l4(t)+r*c4(t)+n*u4(t),d=f*s4(t)+l*l4(t)+a*c4(t)+i*u4(t);return{x:p,y:d}}getPointOnQuadraticBezier(t,n,i,r,a,s,l){const u=s*f4(t)+r*h4(t)+n*p4(t),f=l*f4(t)+a*h4(t)+i*p4(t);return{x:u,y:f}}getPointOnEllipticalArc(t,n,i,r,a,s){const l=Math.cos(s),u=Math.sin(s),f={x:i*Math.cos(a),y:r*Math.sin(a)};return{x:t+(f.x*l-f.y*u),y:n+(f.x*u+f.y*l)}}buildEquidistantCache(t,n){const i=this.getPathLength(),r=n||.25,a=t||i/100;if(!this.equidistantCache||this.equidistantCache.step!==a||this.equidistantCache.precision!==r){this.equidistantCache={step:a,precision:r,points:[]};let s=0;for(let l=0;l<=i;l+=r){const u=this.getPointOnPath(l),f=this.getPointOnPath(l+r);!u||!f||(s+=this.getLineLength(u.x,u.y,f.x,f.y),s>=a&&(this.equidistantCache.points.push({x:u.x,y:u.y,distance:l}),s-=a))}}}getEquidistantPointOnPath(t,n,i){if(this.buildEquidistantCache(n,i),t<0||t-this.getPathLength()>5e-5)return null;const r=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[r]||null}constructor(t,n,i){super(t,n,i),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);const r=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(r)}}const TH=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class RH extends hh{async loadImage(t){try{const n=await this.document.createImage(t);this.image=n}catch(n){console.error('Error while loading image "'.concat(t,'":'),n)}this.loaded=!0}async loadSvg(t){const n=TH.exec(t);if(n){const i=n[5];i&&(n[4]==="base64"?this.image=atob(i):this.image=decodeURIComponent(i))}else try{const r=await(await this.document.fetch(t)).text();this.image=r}catch(i){console.error('Error while loading image "'.concat(t,'":'),i)}this.loaded=!0}renderChildren(t){const{document:n,image:i,loaded:r}=this,a=this.getAttribute("x").getPixels("x"),s=this.getAttribute("y").getPixels("y"),l=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y");if(!(!r||!i||!l||!u)){if(t.save(),t.translate(a,s),typeof i=="string"){const f=n.canvg.forkString(t,i,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:l,scaleHeight:u}),{documentElement:p}=f.document;p&&(p.parent=this),f.render()}else n.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:l,desiredWidth:i.width,height:u,desiredHeight:i.height}),this.loaded&&(!("complete"in i)||i.complete)&&t.drawImage(i,0,0);t.restore()}}getBoundingBox(){const t=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),i=this.getStyle("width").getPixels("x"),r=this.getStyle("height").getPixels("y");return new As(t,n,t+i,n+r)}constructor(t,n,i){super(t,n,i),this.type="image",this.loaded=!1;const r=this.getHrefAttribute().getString();if(!r)return;const a=r.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(r);t.images.push(this),a?this.loadSvg(r):this.loadImage(r)}}class MH extends hh{render(t){}constructor(...t){super(...t),this.type="symbol"}}class PH{async load(t,n){try{const{document:i}=this,a=(await i.canvg.parser.load(n)).getElementsByTagName("font");Array.from(a).forEach(s=>{const l=i.createElement(s);i.definitions.set(t,l)})}catch(i){console.error('Error while loading font "'.concat(n,'":'),i)}this.loaded=!0}constructor(t){this.document=t,this.loaded=!1,t.fonts.push(this)}}class a8 extends ai{constructor(t,n,i){super(t,n,i),this.type="style",qp(Array.from(n.childNodes).map(s=>s.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach(s=>{const l=s.trim();if(!l)return;const u=l.split("{"),f=u[0].split(","),p=u[1].split(";");f.forEach(d=>{const v=d.trim();if(!v)return;const g=t.styles.get(v)||new Map;if(p.forEach(w=>{const x=w.indexOf(":"),E=w.substr(0,x).trim(),R=w.substr(x+1,w.length-x).trim();E&&R&&g.set(E,new St(t,E,R))}),t.styles.set(v,g),t.stylesSpecificity.set(v,Xz(v)),v==="@font-face"){const w=g.get("font-family").getString().replace(/"|'/g,"");g.get("src").getString().split(",").forEach(E=>{if(E.indexOf('format("svg")')>0){const R=XC(E);R&&new PH(t).load(w,R)}})}})})}}a8.parseExternalUrl=XC;class LH extends hh{setContext(t){super.setContext(t);const n=this.getAttribute("x"),i=this.getAttribute("y");n.hasValue()&&t.translate(n.getPixels("x"),0),i.hasValue()&&t.translate(0,i.getPixels("y"))}path(t){const{element:n}=this;n&&n.path(t)}renderChildren(t){const{document:n,element:i}=this;if(i){let r=i;if(i.type==="symbol"&&(r=new Wm(n),r.attributes.set("viewBox",new St(n,"viewBox",i.getAttribute("viewBox").getString())),r.attributes.set("preserveAspectRatio",new St(n,"preserveAspectRatio",i.getAttribute("preserveAspectRatio").getString())),r.attributes.set("overflow",new St(n,"overflow",i.getAttribute("overflow").getString())),r.children=i.children,i.styles.set("opacity",new St(n,"opacity",this.calculateOpacity()))),r.type==="svg"){const s=this.getStyle("width",!1,!0),l=this.getStyle("height",!1,!0);s.hasValue()&&r.attributes.set("width",new St(n,"width",s.getString())),l.hasValue()&&r.attributes.set("height",new St(n,"height",l.getString()))}const a=r.parent;r.parent=this,r.render(t),r.parent=a}}getBoundingBox(t){const{element:n}=this;return n?n.getBoundingBox(t):null}elementTransform(){const{document:t,element:n}=this;return n?Jf.fromElement(t,n):null}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}constructor(...t){super(...t),this.type="use"}}function Ev(e,t,n,i,r,a){return e[n*i*4+t*4+a]}function Sv(e,t,n,i,r,a,s){e[n*i*4+t*4+a]=s}function lr(e,t,n){return e[t]*n}function nc(e,t,n,i){return t+Math.cos(e)*n+Math.sin(e)*i}class o8 extends ai{apply(t,n,i,r,a){const{includeOpacity:s,matrix:l}=this,u=t.getImageData(0,0,r,a);for(let f=0;f<a;f++)for(let p=0;p<r;p++){const d=Ev(u.data,p,f,r,a,0),v=Ev(u.data,p,f,r,a,1),g=Ev(u.data,p,f,r,a,2),w=Ev(u.data,p,f,r,a,3);let x=lr(l,0,d)+lr(l,1,v)+lr(l,2,g)+lr(l,3,w)+lr(l,4,1),E=lr(l,5,d)+lr(l,6,v)+lr(l,7,g)+lr(l,8,w)+lr(l,9,1),R=lr(l,10,d)+lr(l,11,v)+lr(l,12,g)+lr(l,13,w)+lr(l,14,1),L=lr(l,15,d)+lr(l,16,v)+lr(l,17,g)+lr(l,18,w)+lr(l,19,1);s&&(x=0,E=0,R=0,L*=w/255),Sv(u.data,p,f,r,a,0,x),Sv(u.data,p,f,r,a,1,E),Sv(u.data,p,f,r,a,2,R),Sv(u.data,p,f,r,a,3,L)}t.clearRect(0,0,r,a),t.putImageData(u,0,0)}constructor(t,n,i){super(t,n,i),this.type="feColorMatrix";let r=ao(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{const a=r[0];r=[.213+.787*a,.715-.715*a,.072-.072*a,0,0,.213-.213*a,.715+.285*a,.072-.072*a,0,0,.213-.213*a,.715-.715*a,.072+.928*a,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{const a=r[0]*Math.PI/180;r=[nc(a,.213,.787,-.213),nc(a,.715,-.715,-.715),nc(a,.072,-.072,.928),0,0,nc(a,.213,-.213,.143),nc(a,.715,.285,.14),nc(a,.072,-.072,-.283),0,0,nc(a,.213,-.213,-.787),nc(a,.715,-.715,.715),nc(a,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=r,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}}class y0 extends ai{apply(t,n){const{document:i}=this;let r=this.getAttribute("x").getPixels("x"),a=this.getAttribute("y").getPixels("y"),s=this.getStyle("width").getPixels("x"),l=this.getStyle("height").getPixels("y");if(!s&&!l){const g=new As;this.children.forEach(w=>{g.addBoundingBox(w.getBoundingBox(t))}),r=Math.floor(g.x1),a=Math.floor(g.y1),s=Math.floor(g.width),l=Math.floor(g.height)}const u=this.removeStyles(n,y0.ignoreStyles),f=i.createCanvas(r+s,a+l),p=f.getContext("2d");i.screen.setDefaults(p),this.renderChildren(p),new o8(i,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(p,0,0,r+s,a+l);const d=i.createCanvas(r+s,a+l),v=d.getContext("2d");i.screen.setDefaults(v),n.render(v),v.globalCompositeOperation="destination-in",v.fillStyle=p.createPattern(f,"no-repeat"),v.fillRect(0,0,r+s,a+l),t.fillStyle=v.createPattern(d,"no-repeat"),t.fillRect(0,0,r+s,a+l),this.restoreStyles(n,u)}render(t){}constructor(...t){super(...t),this.type="mask"}}y0.ignoreStyles=["mask","transform","clip-path"];const m4=()=>{};class DH extends ai{apply(t){const{document:n}=this,i=Reflect.getPrototypeOf(t),{beginPath:r,closePath:a}=t;i&&(i.beginPath=m4,i.closePath=m4),Reflect.apply(r,t,[]),this.children.forEach(s=>{if(!("path"in s))return;let l="elementTransform"in s?s.elementTransform():null;l||(l=Jf.fromElement(n,s)),l&&l.apply(t),s.path(t),i&&(i.closePath=a),l&&l.unapply(t)}),Reflect.apply(a,t,[]),t.clip(),i&&(i.beginPath=r,i.closePath=a)}render(t){}constructor(...t){super(...t),this.type="clipPath"}}class b0 extends ai{apply(t,n){const{document:i,children:r}=this,a="getBoundingBox"in n?n.getBoundingBox(t):null;if(!a)return;let s=0,l=0;r.forEach(R=>{const L=R.extraFilterDistance||0;s=Math.max(s,L),l=Math.max(l,L)});const u=Math.floor(a.width),f=Math.floor(a.height),p=u+2*s,d=f+2*l;if(p<1||d<1)return;const v=Math.floor(a.x),g=Math.floor(a.y),w=this.removeStyles(n,b0.ignoreStyles),x=i.createCanvas(p,d),E=x.getContext("2d");i.screen.setDefaults(E),E.translate(-v+s,-g+l),n.render(E),r.forEach(R=>{typeof R.apply=="function"&&R.apply(E,0,0,p,d)}),t.drawImage(x,0,0,p,d,v-s,g-l,p,d),this.restoreStyles(n,w)}render(t){}constructor(...t){super(...t),this.type="filter"}}b0.ignoreStyles=["filter","transform","clip-path"];class OH extends ai{apply(t,n,i,r,a){}constructor(t,n,i){super(t,n,i),this.type="feDropShadow",this.addStylesFromStyleDefinition()}}class BH extends ai{apply(t,n,i,r,a){}constructor(...t){super(...t),this.type="feMorphology"}}class kH extends ai{apply(t,n,i,r,a){}constructor(...t){super(...t),this.type="feComposite"}}class jH extends ai{apply(t,n,i,r,a){const{document:s,blurRadius:l}=this,u=s.window?s.window.document.body:null,f=t.canvas;f.id=s.getUniqueId(),u&&(f.style.display="none",u.appendChild(f)),Oz(f,n,i,r,a,l),u&&u.removeChild(f)}constructor(t,n,i){super(t,n,i),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}}class IH extends ai{constructor(...t){super(...t),this.type="title"}}class FH extends ai{constructor(...t){super(...t),this.type="desc"}}const zH={svg:Wm,rect:e8,circle:hH,ellipse:pH,line:dH,polyline:t8,polygon:mH,path:Gn,pattern:gH,marker:vH,defs:yH,linearGradient:bH,radialGradient:_H,stop:wH,animate:h_,animateColor:xH,animateTransform:EH,font:SH,"font-face":i8,"missing-glyph":r8,glyph:p_,text:Mu,tspan:v0,tref:AH,a:NH,textPath:CH,image:RH,g:f_,symbol:MH,style:a8,use:LH,mask:y0,clipPath:DH,filter:b0,feDropShadow:OH,feMorphology:BH,feComposite:kH,feColorMatrix:o8,feGaussianBlur:jH,title:IH,desc:FH};function HH(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}async function UH(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=document.createElement("img");return t&&(n.crossOrigin="Anonymous"),new Promise((i,r)=>{n.onload=()=>{i(n)},n.onerror=(a,s,l,u,f)=>{r(f)},n.src=e})}const v2=12;class Su{bindCreateImage(t,n){return typeof n=="boolean"?(i,r)=>t(i,typeof r=="boolean"?r:n):t}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){const{emSizeStack:t}=this;return t[t.length-1]||v2}set emSize(t){const{emSizeStack:n}=this;n.push(t)}popEmSize(){const{emSizeStack:t}=this;t.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(t=>t.loaded)}isFontsLoaded(){return this.fonts.every(t=>t.loaded)}createDocumentElement(t){const n=this.createElement(t.documentElement);return n.root=!0,n.addStylesFromStyleDefinition(),this.documentElement=n,n}createElement(t){const n=t.nodeName.replace(/^[^:]+:/,""),i=Su.elementTypes[n];return i?new i(this,t):new oH(this,t)}createTextNode(t){return new fH(this,t)}setViewBox(t){this.screen.setViewBox({document:this,...t})}constructor(t,{rootEmSize:n=v2,emSize:i=v2,createCanvas:r=Su.createCanvas,createImage:a=Su.createImage,anonymousCrossOrigin:s}={}){this.canvg=t,this.definitions=new Map,this.styles=new Map,this.stylesSpecificity=new Map,this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=t.screen,this.rootEmSize=n,this.emSize=i,this.createCanvas=r,this.createImage=this.bindCreateImage(a,s),this.screen.wait(()=>this.isImagesLoaded()),this.screen.wait(()=>this.isFontsLoaded())}}Su.createCanvas=HH;Su.createImage=UH;Su.elementTypes=zH;class Gf{static async from(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=await new g2(i).parse(n);return new Gf(t,a,i)}static fromString(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=new g2(i).parseFromString(n);return new Gf(t,a,i)}fork(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Gf.from(t,n,{...this.options,...i})}forkString(t,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Gf.fromString(t,n,{...this.options,...i})}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}async render(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.start({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0,...t}),await this.ready(),this.stop()}start(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{documentElement:n,screen:i,options:r}=this;i.start(n,{enableRedraw:!0,...r,...t})}stop(){this.screen.stop()}resize(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(t,n,i)}constructor(t,n,i={}){this.parser=new g2(i),this.screen=new bc(t,i),this.options=i;const r=new Su(this,i),a=r.createDocumentElement(n);this.document=r,this.documentElement=a}}function qH(){const e=cr.useRef(null),t=cr.useRef(null),n=cr.useRef(null),[i,r]=cr.useState("diagram"),[a,s]=cr.useState(!1),[l,u]=cr.useState(!1),[f,p]=cr.useState(!1),[d,v]=cr.useState(!1),[g,w]=cr.useState(null),[x,E]=cr.useState(()=>{try{return JSON.parse(localStorage.getItem("systemsCatalog")||"[]")}catch{return[]}}),[R,L]=cr.useState(()=>{try{return JSON.parse(localStorage.getItem("dataCatalog")||"[]")}catch{return[]}}),[M,P]=cr.useState({id:"",name:""}),[k,W]=cr.useState(""),[Q,z]=cr.useState(""),[ie,le]=cr.useState("");cr.useEffect(()=>{if(!x.length){const $=[{id:"DCS",name:"Departure Control"},{id:"CRM",name:"CRM"},{id:"BHS",name:"Baggage Handling"},{id:"SEC",name:"Security"},{id:"FUEL",name:"Fuel Ops"}];E($),localStorage.setItem("systemsCatalog",JSON.stringify($))}if(!R.length){const $=["Passenger","Booking","BagTag","Flight","Gate","Payment"];L($),localStorage.setItem("dataCatalog",JSON.stringify($))}console.log("Systems and data entities initialized")},[]);const H=[{id:"empty_process",name:"Empty Process",xml:`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_${Date.now()}" targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:process id="Process_${Date.now()}" isExecutable="false">
    <bpmn:startEvent id="StartEvent_1" name="Start" />
    <bpmn:endEvent id="EndEvent_1" name="End" />
    <bpmn:sequenceFlow id="Flow_1" sourceRef="StartEvent_1" targetRef="EndEvent_1" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_${Date.now()}">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_1" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="155" y="145" width="30" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1_di" bpmnElement="EndEvent_1">
        <dc:Bounds x="562" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="560" y="145" width="40" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1_di" bpmnElement="Flow_1">
        <di:waypoint x="188" y="120" />
        <di:waypoint x="562" y="120" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>`},{id:"decision_process",name:"Process with Decision",xml:`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_${Date.now()}" targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:process id="Process_${Date.now()}" isExecutable="false">
    <bpmn:startEvent id="StartEvent_1" name="Process Start">
      <bpmn:outgoing>Flow_1</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:task id="Activity_1" name="Data Analysis">
      <bpmn:incoming>Flow_1</bpmn:incoming>
      <bpmn:outgoing>Flow_2</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gateway_1" name="Decision Condition">
      <bpmn:incoming>Flow_2</bpmn:incoming>
      <bpmn:outgoing>Flow_3</bpmn:outgoing>
      <bpmn:outgoing>Flow_4</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:task id="Activity_2" name="Execute Task A">
      <bpmn:incoming>Flow_3</bpmn:incoming>
      <bpmn:outgoing>Flow_5</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_3" name="Execute Task B">
      <bpmn:incoming>Flow_4</bpmn:incoming>
      <bpmn:outgoing>Flow_6</bpmn:outgoing>
    </bpmn:task>
    <bpmn:endEvent id="EndEvent_1" name="Process End">
      <bpmn:incoming>Flow_5</bpmn:incoming>
      <bpmn:incoming>Flow_6</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1" sourceRef="StartEvent_1" targetRef="Activity_1" />
    <bpmn:sequenceFlow id="Flow_2" sourceRef="Activity_1" targetRef="Gateway_1" />
    <bpmn:sequenceFlow id="Flow_3" sourceRef="Gateway_1" targetRef="Activity_2" name="Condition Met">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">condition == true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_4" sourceRef="Gateway_1" targetRef="Activity_3" name="Condition Not Met">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">condition == false</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_5" sourceRef="Activity_2" targetRef="EndEvent_1" />
    <bpmn:sequenceFlow id="Flow_6" sourceRef="Activity_3" targetRef="EndEvent_1" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_${Date.now()}">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_1" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="129" y="145" width="82" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1_di" bpmnElement="Activity_1">
        <dc:Bounds x="240" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1_di" bpmnElement="Gateway_1" isMarkerVisible="true">
        <dc:Bounds x="395" y="95" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="395" y="65" width="50" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_2_di" bpmnElement="Activity_2">
        <dc:Bounds x="500" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_3_di" bpmnElement="Activity_3">
        <dc:Bounds x="500" y="190" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1_di" bpmnElement="EndEvent_1">
        <dc:Bounds x="652" y="132" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="631" y="175" width="79" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1_di" bpmnElement="Flow_1">
        <di:waypoint x="188" y="120" />
        <di:waypoint x="240" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_2_di" bpmnElement="Flow_2">
        <di:waypoint x="340" y="120" />
        <di:waypoint x="395" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_3_di" bpmnElement="Flow_3">
        <di:waypoint x="445" y="120" />
        <di:waypoint x="500" y="120" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="442" y="102" width="60" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_4_di" bpmnElement="Flow_4">
        <di:waypoint x="420" y="145" />
        <di:waypoint x="420" y="230" />
        <di:waypoint x="500" y="230" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="431" y="205" width="58" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_5_di" bpmnElement="Flow_5">
        <di:waypoint x="600" y="120" />
        <di:waypoint x="626" y="120" />
        <di:waypoint x="626" y="150" />
        <di:waypoint x="652" y="150" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_6_di" bpmnElement="Flow_6">
        <di:waypoint x="600" y="230" />
        <di:waypoint x="626" y="230" />
        <di:waypoint x="626" y="150" />
        <di:waypoint x="652" y="150" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>`},{id:"parallel_process",name:"Process with Parallel Paths",xml:`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_${Date.now()}" targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:process id="Process_${Date.now()}" isExecutable="false">
    <bpmn:startEvent id="StartEvent_1" name="Start">
      <bpmn:outgoing>Flow_1</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:task id="Activity_0" name="Preparation">
      <bpmn:incoming>Flow_1</bpmn:incoming>
      <bpmn:outgoing>Flow_2</bpmn:outgoing>
    </bpmn:task>
    <bpmn:parallelGateway id="Gateway_1" name="Split Tasks">
      <bpmn:incoming>Flow_2</bpmn:incoming>
      <bpmn:outgoing>Flow_3</bpmn:outgoing>
      <bpmn:outgoing>Flow_4</bpmn:outgoing>
      <bpmn:outgoing>Flow_5</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:task id="Activity_1" name="Task 1">
      <bpmn:incoming>Flow_3</bpmn:incoming>
      <bpmn:outgoing>Flow_6</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_2" name="Task 2">
      <bpmn:incoming>Flow_4</bpmn:incoming>
      <bpmn:outgoing>Flow_7</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_3" name="Task 3">
      <bpmn:incoming>Flow_5</bpmn:incoming>
      <bpmn:outgoing>Flow_8</bpmn:outgoing>
    </bpmn:task>
    <bpmn:parallelGateway id="Gateway_2" name="Join Results">
      <bpmn:incoming>Flow_6</bpmn:incoming>
      <bpmn:incoming>Flow_7</bpmn:incoming>
      <bpmn:incoming>Flow_8</bpmn:incoming>
      <bpmn:outgoing>Flow_9</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:task id="Activity_4" name="Podsumowanie">
      <bpmn:incoming>Flow_9</bpmn:incoming>
      <bpmn:outgoing>Flow_10</bpmn:outgoing>
    </bpmn:task>
    <bpmn:endEvent id="EndEvent_1" name="Koniec">
      <bpmn:incoming>Flow_10</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1" sourceRef="StartEvent_1" targetRef="Activity_0" />
    <bpmn:sequenceFlow id="Flow_2" sourceRef="Activity_0" targetRef="Gateway_1" />
    <bpmn:sequenceFlow id="Flow_3" sourceRef="Gateway_1" targetRef="Activity_1" />
    <bpmn:sequenceFlow id="Flow_4" sourceRef="Gateway_1" targetRef="Activity_2" />
    <bpmn:sequenceFlow id="Flow_5" sourceRef="Gateway_1" targetRef="Activity_3" />
    <bpmn:sequenceFlow id="Flow_6" sourceRef="Activity_1" targetRef="Gateway_2" />
    <bpmn:sequenceFlow id="Flow_7" sourceRef="Activity_2" targetRef="Gateway_2" />
    <bpmn:sequenceFlow id="Flow_8" sourceRef="Activity_3" targetRef="Gateway_2" />
    <bpmn:sequenceFlow id="Flow_9" sourceRef="Gateway_2" targetRef="Activity_4" />
    <bpmn:sequenceFlow id="Flow_10" sourceRef="Activity_4" targetRef="EndEvent_1" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_${Date.now()}">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_1" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="202" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="148" y="245" width="45" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0_di" bpmnElement="Activity_0">
        <dc:Bounds x="240" y="180" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1_di" bpmnElement="Gateway_1">
        <dc:Bounds x="395" y="195" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="375" y="165" width="91" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1_di" bpmnElement="Activity_1">
        <dc:Bounds x="500" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_2_di" bpmnElement="Activity_2">
        <dc:Bounds x="500" y="180" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_3_di" bpmnElement="Activity_3">
        <dc:Bounds x="500" y="280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_2_di" bpmnElement="Gateway_2">
        <dc:Bounds x="655" y="195" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="638" y="165" width="85" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_4_di" bpmnElement="Activity_4">
        <dc:Bounds x="760" y="180" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1_di" bpmnElement="EndEvent_1">
        <dc:Bounds x="912" y="202" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="911" y="245" width="38" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1_di" bpmnElement="Flow_1">
        <di:waypoint x="188" y="220" />
        <di:waypoint x="240" y="220" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_2_di" bpmnElement="Flow_2">
        <di:waypoint x="340" y="220" />
        <di:waypoint x="395" y="220" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_3_di" bpmnElement="Flow_3">
        <di:waypoint x="420" y="195" />
        <di:waypoint x="420" y="120" />
        <di:waypoint x="500" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_4_di" bpmnElement="Flow_4">
        <di:waypoint x="445" y="220" />
        <di:waypoint x="500" y="220" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_5_di" bpmnElement="Flow_5">
        <di:waypoint x="420" y="245" />
        <di:waypoint x="420" y="320" />
        <di:waypoint x="500" y="320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_6_di" bpmnElement="Flow_6">
        <di:waypoint x="600" y="120" />
        <di:waypoint x="680" y="120" />
        <di:waypoint x="680" y="195" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_7_di" bpmnElement="Flow_7">
        <di:waypoint x="600" y="220" />
        <di:waypoint x="655" y="220" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_8_di" bpmnElement="Flow_8">
        <di:waypoint x="600" y="320" />
        <di:waypoint x="680" y="320" />
        <di:waypoint x="680" y="245" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_9_di" bpmnElement="Flow_9">
        <di:waypoint x="705" y="220" />
        <di:waypoint x="760" y="220" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10_di" bpmnElement="Flow_10">
        <di:waypoint x="860" y="220" />
        <di:waypoint x="912" y="220" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>`},{id:"customer_service",name:"Customer Service Process",xml:`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_${Date.now()}" targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:process id="Process_${Date.now()}" isExecutable="false">
    <bpmn:startEvent id="StartEvent_1" name="Customer Request Received">
      <bpmn:outgoing>Flow_1</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:task id="Activity_1" name="Register Request">
      <bpmn:incoming>Flow_1</bpmn:incoming>
      <bpmn:outgoing>Flow_2</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_2" name="Analyze Request">
      <bpmn:incoming>Flow_2</bpmn:incoming>
      <bpmn:outgoing>Flow_3</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gateway_1" name="Request Type?">
      <bpmn:incoming>Flow_3</bpmn:incoming>
      <bpmn:outgoing>Flow_4</bpmn:outgoing>
      <bpmn:outgoing>Flow_5</bpmn:outgoing>
      <bpmn:outgoing>Flow_6</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:task id="Activity_3" name="Solve Technical Problem">
      <bpmn:incoming>Flow_4</bpmn:incoming>
      <bpmn:outgoing>Flow_7</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_4" name="Handle Complaint">
      <bpmn:incoming>Flow_5</bpmn:incoming>
      <bpmn:outgoing>Flow_8</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_5" name="Prepare Offer">
      <bpmn:incoming>Flow_6</bpmn:incoming>
      <bpmn:outgoing>Flow_9</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_6" name="Contact Customer">
      <bpmn:incoming>Flow_7</bpmn:incoming>
      <bpmn:incoming>Flow_8</bpmn:incoming>
      <bpmn:incoming>Flow_9</bpmn:incoming>
      <bpmn:outgoing>Flow_10</bpmn:outgoing>
    </bpmn:task>
    <bpmn:exclusiveGateway id="Gateway_2" name="Is Customer Satisfied?">
      <bpmn:incoming>Flow_10</bpmn:incoming>
      <bpmn:outgoing>Flow_11</bpmn:outgoing>
      <bpmn:outgoing>Flow_12</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:task id="Activity_7" name="Close Request">
      <bpmn:incoming>Flow_11</bpmn:incoming>
      <bpmn:outgoing>Flow_13</bpmn:outgoing>
    </bpmn:task>
    <bpmn:task id="Activity_8" name="Escalate to Manager">
      <bpmn:incoming>Flow_12</bpmn:incoming>
      <bpmn:outgoing>Flow_14</bpmn:outgoing>
    </bpmn:task>
    <bpmn:endEvent id="EndEvent_1" name="Service Completed">
      <bpmn:incoming>Flow_13</bpmn:incoming>
      <bpmn:incoming>Flow_14</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_1" sourceRef="StartEvent_1" targetRef="Activity_1" />
    <bpmn:sequenceFlow id="Flow_2" sourceRef="Activity_1" targetRef="Activity_2" />
    <bpmn:sequenceFlow id="Flow_3" sourceRef="Activity_2" targetRef="Gateway_1" />
    <bpmn:sequenceFlow id="Flow_4" sourceRef="Gateway_1" targetRef="Activity_3" name="Technical Problem" />
    <bpmn:sequenceFlow id="Flow_5" sourceRef="Gateway_1" targetRef="Activity_4" name="Complaint" />
    <bpmn:sequenceFlow id="Flow_6" sourceRef="Gateway_1" targetRef="Activity_5" name="Offer Request" />
    <bpmn:sequenceFlow id="Flow_7" sourceRef="Activity_3" targetRef="Activity_6" />
    <bpmn:sequenceFlow id="Flow_8" sourceRef="Activity_4" targetRef="Activity_6" />
    <bpmn:sequenceFlow id="Flow_9" sourceRef="Activity_5" targetRef="Activity_6" />
    <bpmn:sequenceFlow id="Flow_10" sourceRef="Activity_6" targetRef="Gateway_2" />
    <bpmn:sequenceFlow id="Flow_11" sourceRef="Gateway_2" targetRef="Activity_7" name="Yes" />
    <bpmn:sequenceFlow id="Flow_12" sourceRef="Gateway_2" targetRef="Activity_8" name="No" />
    <bpmn:sequenceFlow id="Flow_13" sourceRef="Activity_7" targetRef="EndEvent_1" />
    <bpmn:sequenceFlow id="Flow_14" sourceRef="Activity_8" targetRef="EndEvent_1" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_${Date.now()}">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_1" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="159" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="137" y="202" width="67" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1_di" bpmnElement="Activity_1">
        <dc:Bounds x="240" y="137" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_2_di" bpmnElement="Activity_2">
        <dc:Bounds x="400" y="137" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1_di" bpmnElement="Gateway_1" isMarkerVisible="true">
        <dc:Bounds x="565" y="152" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="556" y="122" width="68" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_3_di" bpmnElement="Activity_3">
        <dc:Bounds x="670" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_4_di" bpmnElement="Activity_4">
        <dc:Bounds x="670" y="190" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_5_di" bpmnElement="Activity_5">
        <dc:Bounds x="670" y="300" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_6_di" bpmnElement="Activity_6">
        <dc:Bounds x="830" y="190" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_2_di" bpmnElement="Gateway_2" isMarkerVisible="true">
        <dc:Bounds x="995" y="205" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="976" y="175" width="89" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_7_di" bpmnElement="Activity_7">
        <dc:Bounds x="1100" y="137" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_8_di" bpmnElement="Activity_8">
        <dc:Bounds x="1100" y="247" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1_di" bpmnElement="EndEvent_1">
        <dc:Bounds x="1262" y="212" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1240" y="255" width="81" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1_di" bpmnElement="Flow_1">
        <di:waypoint x="188" y="177" />
        <di:waypoint x="240" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_2_di" bpmnElement="Flow_2">
        <di:waypoint x="340" y="177" />
        <di:waypoint x="400" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_3_di" bpmnElement="Flow_3">
        <di:waypoint x="500" y="177" />
        <di:waypoint x="565" y="177" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_4_di" bpmnElement="Flow_4">
        <di:waypoint x="590" y="152" />
        <di:waypoint x="590" y="120" />
        <di:waypoint x="670" y="120" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="558" y="102" width="89" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_5_di" bpmnElement="Flow_5">
        <di:waypoint x="615" y="177" />
        <di:waypoint x="642" y="177" />
        <di:waypoint x="642" y="230" />
        <di:waypoint x="670" y="230" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="625" y="198" width="55" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_6_di" bpmnElement="Flow_6">
        <di:waypoint x="590" y="202" />
        <di:waypoint x="590" y="340" />
        <di:waypoint x="670" y="340" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="601" y="323" width="88" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_7_di" bpmnElement="Flow_7">
        <di:waypoint x="770" y="120" />
        <di:waypoint x="880" y="120" />
        <di:waypoint x="880" y="190" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_8_di" bpmnElement="Flow_8">
        <di:waypoint x="770" y="230" />
        <di:waypoint x="830" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_9_di" bpmnElement="Flow_9">
        <di:waypoint x="770" y="340" />
        <di:waypoint x="880" y="340" />
        <di:waypoint x="880" y="270" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10_di" bpmnElement="Flow_10">
        <di:waypoint x="930" y="230" />
        <di:waypoint x="995" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_11_di" bpmnElement="Flow_11">
        <di:waypoint x="1020" y="205" />
        <di:waypoint x="1020" y="177" />
        <di:waypoint x="1100" y="177" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1026" y="188" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12_di" bpmnElement="Flow_12">
        <di:waypoint x="1020" y="255" />
        <di:waypoint x="1020" y="287" />
        <di:waypoint x="1100" y="287" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1025" y="269" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_13_di" bpmnElement="Flow_13">
        <di:waypoint x="1200" y="177" />
        <di:waypoint x="1231" y="177" />
        <di:waypoint x="1231" y="230" />
        <di:waypoint x="1262" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_14_di" bpmnElement="Flow_14">
        <di:waypoint x="1200" y="287" />
        <di:waypoint x="1231" y="287" />
        <di:waypoint x="1231" y="230" />
        <di:waypoint x="1262" y="230" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>`},{id:"purchasing_process",name:"Purchasing Process",xml:`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_${Date.now()}" targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:process id="Process_${Date.now()}" isExecutable="false">
    <bpmn:startEvent id="StartEvent_1" name="Purchase Need">
      <bpmn:outgoing>Flow_1</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:task id="Activity_1" name="Complete Purchase Request">
      <bpmn:incoming>Flow_1</bpmn:incoming>
      <bpmn:outgoing>Flow_2</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_1" sourceRef="StartEvent_1" targetRef="Activity_1" />
    <bpmn:task id="Activity_2" name="Manager Approval">
      <bpmn:incoming>Flow_2</bpmn:incoming>
      <bpmn:outgoing>Flow_3</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_2" sourceRef="Activity_1" targetRef="Activity_2" />
    <bpmn:exclusiveGateway id="Gateway_1" name="Approved?">
      <bpmn:incoming>Flow_3</bpmn:incoming>
      <bpmn:outgoing>Flow_4</bpmn:outgoing>
      <bpmn:outgoing>Flow_5</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_3" sourceRef="Activity_2" targetRef="Gateway_1" />
    <bpmn:task id="Activity_3" name="Process Purchase">
      <bpmn:incoming>Flow_4</bpmn:incoming>
      <bpmn:outgoing>Flow_6</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_4" name="Yes" sourceRef="Gateway_1" targetRef="Activity_3">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">approved == true</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="EndEvent_1" name="Purchase Rejected">
      <bpmn:incoming>Flow_5</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_5" name="No" sourceRef="Gateway_1" targetRef="EndEvent_1">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">approved == false</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:task id="Activity_4" name="Receive Order">
      <bpmn:incoming>Flow_6</bpmn:incoming>
      <bpmn:outgoing>Flow_7</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_6" sourceRef="Activity_3" targetRef="Activity_4" />
    <bpmn:task id="Activity_5" name="Register in System">
      <bpmn:incoming>Flow_7</bpmn:incoming>
      <bpmn:outgoing>Flow_8</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_7" sourceRef="Activity_4" targetRef="Activity_5" />
    <bpmn:endEvent id="EndEvent_2" name="Purchase Completed">
      <bpmn:incoming>Flow_8</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_8" sourceRef="Activity_5" targetRef="EndEvent_2" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_${Date.now()}">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_1" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="131" y="145" width="78" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1_di" bpmnElement="Activity_1">
        <dc:Bounds x="240" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_2_di" bpmnElement="Activity_2">
        <dc:Bounds x="400" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1_di" bpmnElement="Gateway_1" isMarkerVisible="true">
        <dc:Bounds x="555" y="95" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="536" y="65" width="88" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_3_di" bpmnElement="Activity_3">
        <dc:Bounds x="660" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1_di" bpmnElement="EndEvent_1">
        <dc:Bounds x="662" y="212" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="637" y="255" width="86" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_4_di" bpmnElement="Activity_4">
        <dc:Bounds x="820" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_5_di" bpmnElement="Activity_5">
        <dc:Bounds x="980" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_2_di" bpmnElement="EndEvent_2">
        <dc:Bounds x="1142" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1124" y="145" width="72" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1_di" bpmnElement="Flow_1">
        <di:waypoint x="188" y="120" />
        <di:waypoint x="240" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_2_di" bpmnElement="Flow_2">
        <di:waypoint x="340" y="120" />
        <di:waypoint x="400" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_3_di" bpmnElement="Flow_3">
        <di:waypoint x="500" y="120" />
        <di:waypoint x="555" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_4_di" bpmnElement="Flow_4">
        <di:waypoint x="605" y="120" />
        <di:waypoint x="660" y="120" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="624" y="102" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_5_di" bpmnElement="Flow_5">
        <di:waypoint x="580" y="145" />
        <di:waypoint x="580" y="230" />
        <di:waypoint x="662" y="230" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="586" y="185" width="17" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_6_di" bpmnElement="Flow_6">
        <di:waypoint x="760" y="120" />
        <di:waypoint x="820" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_7_di" bpmnElement="Flow_7">
        <di:waypoint x="920" y="120" />
        <di:waypoint x="980" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_8_di" bpmnElement="Flow_8">
        <di:waypoint x="1080" y="120" />
        <di:waypoint x="1142" y="120" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>`},{id:"flight_systems_colored",name:"Flight Systems Example (Colored)",xml:`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_${Date.now()}" targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:process id="Process_${Date.now()}" isExecutable="false">
    <bpmn:startEvent id="StartEvent_1" name="Flight Booking">
      <bpmn:outgoing>Flow_1</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:task id="Activity_1" name="Check Availability">
      <bpmn:incoming>Flow_1</bpmn:incoming>
      <bpmn:outgoing>Flow_2</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_1" sourceRef="StartEvent_1" targetRef="Activity_1" />
    <bpmn:task id="Activity_2" name="Process Payment">
      <bpmn:incoming>Flow_2</bpmn:incoming>
      <bpmn:outgoing>Flow_3</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_2" sourceRef="Activity_1" targetRef="Activity_2" />
    <bpmn:task id="Activity_3" name="Issue Boarding Pass">
      <bpmn:incoming>Flow_3</bpmn:incoming>
      <bpmn:outgoing>Flow_4</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_3" sourceRef="Activity_2" targetRef="Activity_3" />
    <bpmn:task id="Activity_4" name="Baggage Check-in">
      <bpmn:incoming>Flow_4</bpmn:incoming>
      <bpmn:outgoing>Flow_5</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_4" sourceRef="Activity_3" targetRef="Activity_4" />
    <bpmn:task id="Activity_5" name="Security Screening">
      <bpmn:incoming>Flow_5</bpmn:incoming>
      <bpmn:outgoing>Flow_6</bpmn:outgoing>
    </bpmn:task>
    <bpmn:sequenceFlow id="Flow_5" sourceRef="Activity_4" targetRef="Activity_5" />
    <bpmn:endEvent id="EndEvent_1" name="Boarding Complete">
      <bpmn:incoming>Flow_6</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_6" sourceRef="Activity_5" targetRef="EndEvent_1" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_${Date.now()}">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_1" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="135" y="145" width="70" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1_di" bpmnElement="Activity_1">
        <dc:Bounds x="240" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_2_di" bpmnElement="Activity_2">
        <dc:Bounds x="400" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_3_di" bpmnElement="Activity_3">
        <dc:Bounds x="560" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_4_di" bpmnElement="Activity_4">
        <dc:Bounds x="720" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_5_di" bpmnElement="Activity_5">
        <dc:Bounds x="880" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1_di" bpmnElement="EndEvent_1">
        <dc:Bounds x="1042" y="102" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1017" y="145" width="86" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1_di" bpmnElement="Flow_1">
        <di:waypoint x="188" y="120" />
        <di:waypoint x="240" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_2_di" bpmnElement="Flow_2">
        <di:waypoint x="340" y="120" />
        <di:waypoint x="400" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_3_di" bpmnElement="Flow_3">
        <di:waypoint x="500" y="120" />
        <di:waypoint x="560" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_4_di" bpmnElement="Flow_4">
        <di:waypoint x="660" y="120" />
        <di:waypoint x="720" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_5_di" bpmnElement="Flow_5">
        <di:waypoint x="820" y="120" />
        <di:waypoint x="880" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_6_di" bpmnElement="Flow_6">
        <di:waypoint x="980" y="120" />
        <di:waypoint x="1042" y="120" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>`}],j=cr.useCallback(()=>{try{const $=t.current?.get("linting");if(!$)return;if(typeof $.lint=="function")try{$.lint()}catch{}const Le=t.current.get("elementRegistry"),Ve=t.current.get("canvas");Le.getAll().forEach(Ie=>{const qe=Ie.businessObject;if(qe&&/Task$/.test(qe.$type)){const Ye=Ve.getGraphics(Ie.id);Ye&&Ye.classList.remove("validation-error")}});const je=$.getResults?$.getResults():$._currentResult||$._results||null;if(!je)return;["errors","warnings"].forEach(Ie=>{const qe=je[Ie]||{};Object.keys(qe).forEach(Ye=>{if(Le.get(Ye)){const Ke=Ve.getGraphics(Ye);Ke&&Ie==="errors"&&Ke.classList.add("validation-error")}})}),console.log("Validation completed")}catch($){console.error("Validation error:",$)}},[]);cr.useEffect(()=>{if(t.current)return;const $=new hl({container:e.current,additionalModules:[_F]});t.current=$;const Le=H.find(je=>je.id==="flight_systems_colored"),Ve=Le?Le.xml:`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" targetNamespace="http://bpmn.io/schema/bpmn"><bpmn:process id="Process_1" isExecutable="false"/></bpmn:definitions>`;(async()=>{let je=localStorage.getItem("diagram"),Ie=!1;try{je?(await $.importXML(je),Ie=!0):(await $.importXML(Ve),localStorage.setItem("diagram",Ve))}catch(qe){console.error("Error loading diagram:",qe);try{await $.importXML(Ve),localStorage.setItem("diagram",Ve)}catch(Ye){console.error("Critical error loading diagram:",Ye)}}try{$.get("canvas").zoom("fit-viewport")}catch{}try{const qe=$.get("linting");qe&&qe.toggle&&!qe._active&&qe.toggle()}catch{}j(),Ie||(console.log("Loading default example"),setTimeout(()=>F($),500))})(),$.on("commandStack.changed",async()=>{try{const{xml:je}=await $.saveXML({format:!0});localStorage.setItem("diagram",je)}catch{}j()}),$.on("selection.changed",je=>w(je.newSelection?.[0]||null)),setTimeout(()=>{try{const je=$.get("elementRegistry"),Ie=$.get("modeling"),qe=je.filter(Ye=>Ye.type?.includes("Task")||Ye.businessObject?.$type?.includes("Task"));if(qe.length>0){console.log(`Found ${qe.length} tasks in the diagram`);let Ye=!1;qe.forEach(at=>{const Ke=at.businessObject?.get("systemTags");Ke&&(Ye=!0,console.log(`Task ${at.id} already has system tags: ${Ke}`))}),!Ye&&x.length>=2&&(console.log("Adding example system tags to tasks"),qe[0]&&(Ie.updateProperties(qe[0],{systemTags:x[0].id}),console.log(`Added ${x[0].id} tag to ${qe[0].id}`)),qe.length>1&&x.length>1&&(Ie.updateProperties(qe[1],{systemTags:x[1].id}),console.log(`Added ${x[1].id} tag to ${qe[1].id}`)))}}catch(je){console.error("Error adding example system tags:",je)}},1500)},[j]);const ae=async()=>{try{const{xml:$}=await t.current.saveXML({format:!0});let Le=i.trim()||"diagram";/\.(bpmn|xml)$/i.test(Le)||(Le+=".bpmn");const Ve=new Blob([$],{type:"application/xml"}),je=URL.createObjectURL(Ve),Ie=document.createElement("a");Ie.href=je,Ie.download=Le,Ie.click(),URL.revokeObjectURL(je)}catch{alert("Save failed")}},oe=async $=>{const Le=$.target.files?.[0];if(!Le)return;const Ve=await Le.text();try{await t.current.importXML(Ve),t.current.get("canvas").zoom("fit-viewport"),localStorage.setItem("diagram",Ve),r(Le.name.replace(/\.bpmn$/i,"").replace(/\.xml$/i,"")),j()}catch{alert("Import error")}$.target.value=""},xe=async()=>{const $=`Process_${Date.now()}`,Le=`<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_${Date.now()}" targetNamespace="http://bpmn.io/schema/bpmn">
  <bpmn:process id="${$}" isExecutable="false">
    <bpmn:startEvent id="StartEvent_1" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="${$}">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_1" bpmnElement="StartEvent_1">
        <dc:Bounds x="152" y="102" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>`;try{console.log("Tworzenie nowego diagramu..."),await t.current.importXML(Le),t.current.get("canvas").zoom("fit-viewport"),localStorage.setItem("diagram",Le),r("diagram"),j(),console.log("New diagram created successfully")}catch(Ve){console.error("Error creating new diagram:",Ve),alert("Failed to create new diagram")}},re=()=>{try{t.current.get("commandStack").undo()}catch{}},fe=()=>{try{t.current.get("commandStack").redo()}catch{}},pe=()=>{try{const $=t.current.get("canvas"),Le=Number($.zoom())||1;$.zoom(Le*1.1)}catch{}},Ee=()=>{try{const $=t.current.get("canvas"),Le=Number($.zoom())||1;$.zoom(Math.max(Le/1.1,.2))}catch{}},Y=()=>{try{t.current.get("canvas").zoom("fit-viewport")}catch{}},ge=$=>g?(g.businessObject.get(`${$}Tags`)||"").split(",").map(Le=>Le.trim()).filter(Boolean):[],O=($,Le)=>{if(!g)return;const Ve=g.businessObject,je=ge($),Ie=je.includes(Le)?je.filter(qe=>qe!==Le):[...je,Le];Ve.set(`${$}Tags`,Ie.join(","));try{t.current.get("modeling").updateProperties(g,{})}catch{}},F=$=>{try{console.log("Applying default system tags to example diagram tasks");const Le=$.get("elementRegistry"),Ve=$.get("modeling");Object.entries({Activity_1:"CRM",Activity_2:"DCS",Activity_3:"DCS",Activity_4:"BHS",Activity_5:"SEC"}).forEach(([qe,Ye])=>{const at=Le.get(qe);at&&(console.log(`Adding ${Ye} system tag to ${qe}`),Ve.updateProperties(at,{systemTags:Ye}))}),Object.entries({Activity_1:"Booking",Activity_2:"Payment",Activity_3:"Passenger",Activity_4:"BagTag",Activity_5:"Passenger"}).forEach(([qe,Ye])=>{const at=Le.get(qe);at&&R.includes(Ye)&&(console.log(`Adding ${Ye} data tag to ${qe}`),Ve.updateProperties(at,{dataTags:Ye}))}),console.log("Default system and data tags applied successfully")}catch(Le){console.error("Error applying default system tags:",Le)}},K=()=>{if(!M.id.trim())return;const $=[...x.filter(Le=>Le.id!==M.id.trim()),{id:M.id.trim(),name:M.name.trim()||M.id.trim()}];E($),localStorage.setItem("systemsCatalog",JSON.stringify($)),P({id:"",name:""})},se=$=>{const Le=x.filter(Ve=>Ve.id!==$);E(Le),localStorage.setItem("systemsCatalog",JSON.stringify(Le))},he=()=>{const $=k.trim();if($){if(!R.includes($)){const Le=[...R,$];L(Le),localStorage.setItem("dataCatalog",JSON.stringify(Le))}W("")}},B=$=>{const Le=R.filter(Ve=>Ve!==$);L(Le),localStorage.setItem("dataCatalog",JSON.stringify(Le))},C=async $=>{if($)try{console.log("Loading template:",$.name),await t.current.importXML($.xml),t.current.get("canvas").zoom("fit-viewport"),localStorage.setItem("diagram",$.xml),r($.id),j(),s(!1),console.log("Template loaded successfully")}catch(Le){console.error("Template error:",Le),alert("Template error: "+(Le.message||String(Le)))}},T=()=>{console.log("Toggle Templates clicked"),s($=>{const Le=!$;return console.log("Templates visibility changing to:",Le),Le})},Z=()=>{console.log("Toggle Catalog clicked"),u($=>{const Le=!$;return console.log("Catalog visibility changing to:",Le),Le})},te=()=>{console.log("Toggle Save Options clicked"),p($=>{const Le=!$;return console.log("Save Options visibility changing to:",Le),Le})},de=async()=>{try{const{svg:$}=await t.current.saveSVG(),Le=new Blob([$],{type:"image/svg+xml"}),Ve=URL.createObjectURL(Le),je=document.createElement("a");je.href=Ve,je.download=`${i}.svg`,je.click(),URL.revokeObjectURL(Ve)}catch{alert("SVG export failed")}},Ae=async()=>{try{const{svg:$}=await t.current.saveSVG(),Le=document.createElement("canvas"),Ve=Le.getContext("2d");await(await Gf.from(Ve,$)).render(),Le.toBlob(Ie=>{if(!Ie)return;const qe=URL.createObjectURL(Ie),Ye=document.createElement("a");Ye.href=qe,Ye.download=`${i}.png`,Ye.click(),URL.revokeObjectURL(qe)})}catch{alert("PNG export failed")}},Ue=async()=>{try{const{svg:$}=await t.current.saveSVG(),Le=new kt({orientation:"landscape",unit:"pt",format:"a4"}),Ve=document.createElement("canvas"),je=Ve.getContext("2d");await(await Gf.from(je,$)).render();const qe=Ve.toDataURL("image/png");Le.addImage(qe,"PNG",20,20,Le.internal.pageSize.getWidth()-40,Le.internal.pageSize.getHeight()-40),Le.save(`${i}.pdf`)}catch{alert("PDF export failed")}},Te=()=>{try{const $=t.current.get("elementRegistry"),Le=["id;name;systems;data"];$.getAll().forEach(qe=>{const Ye=qe.businessObject;Ye&&/Task$/.test(Ye.$type)&&Le.push(`${Ye.id};${(Ye.name||"").replace(/;/g,",")};${Ye.get("systemTags")||""};${Ye.get("dataTags")||""}`)});const Ve=new Blob([Le.join(`
`)],{type:"text/csv"}),je=URL.createObjectURL(Ve),Ie=document.createElement("a");Ie.href=je,Ie.download=`${i}_report.csv`,Ie.click(),URL.revokeObjectURL(je)}catch{alert("CSV export failed")}};return cr.useEffect(()=>{if(!t.current)return;const $=t.current.get("elementRegistry"),Le=t.current.get("canvas");$.getAll().forEach(Ve=>{const je=Ve.businessObject;if(!je||!/Task$/.test(je.$type))return;const Ie=Le.getGraphics(Ve.id);if(!Ie)return;const qe=(je.get("systemTags")||"").split(",").map(ot=>ot.trim()).filter(Boolean),Ye=(je.get("dataTags")||"").split(",").map(ot=>ot.trim()).filter(Boolean),at=!Q||qe.includes(Q),Ke=!ie||Ye.includes(ie);Ie.style.display=at&&Ke?"":"none"})},[Q,ie,g,x,R]),Re.jsxs("div",{className:"h-screen w-full overflow-auto flex flex-col bg-gradient-to-br from-slate-50 to-white",children:[Re.jsxs("div",{className:"sticky top-0 left-0 right-0 h-[60px] flex items-center flex-wrap gap-2 px-4 z-[9000] bg-gradient-to-r from-slate-800 to-slate-700 backdrop-blur border-b border-blue-500/30 shadow-xl",children:[Re.jsxs("div",{className:"flex items-center gap-2",children:[Re.jsxs("button",{onClick:xe,className:"btn btn-secondary flex items-center gap-1 bg-white",title:"New",children:[Re.jsx("span",{className:"text-xs mr-1",children:""}),Re.jsx("span",{className:"inline",children:"New"})]}),Re.jsxs("button",{onClick:()=>n.current?.click(),className:"btn btn-secondary flex items-center gap-1 bg-white",title:"Open",children:[Re.jsx("span",{className:"text-xs mr-1",children:""}),Re.jsx("span",{className:"inline",children:"Open"})]}),Re.jsx("input",{ref:n,type:"file",accept:".bpmn,.xml",onChange:oe,className:"hidden"}),Re.jsxs("button",{onClick:te,className:"btn btn-success flex items-center gap-1 bg-white text-green-700 border border-green-300",title:"Save Options",children:[Re.jsx("span",{className:"text-base mr-1",children:""}),Re.jsx("span",{className:"inline",children:"Save"})]}),Re.jsxs("button",{onClick:()=>s(!0),className:"btn btn-info flex items-center gap-1 bg-white text-indigo-700 border border-indigo-300",title:"Templates",children:[Re.jsx("span",{className:"text-base mr-1",children:""}),Re.jsx("span",{className:"inline",children:"Templates"})]}),Re.jsxs("button",{onClick:()=>u(!0),className:"btn btn-warning flex items-center gap-1 bg-white text-amber-700 border border-amber-300",title:"Catalog",children:[Re.jsx("span",{className:"text-base mr-1",children:""}),Re.jsx("span",{className:"inline",children:"Catalog"})]})]}),Re.jsxs("div",{className:"flex items-center gap-1 ml-2 bg-white px-2 py-1 rounded-lg shadow-sm",children:[Re.jsx("button",{onClick:re,className:"btn btn-secondary text-xs p-1 px-2 bg-white border border-gray-200",title:"Undo",children:""}),Re.jsx("button",{onClick:fe,className:"btn btn-secondary text-xs p-1 px-2 bg-white border border-gray-200",title:"Redo",children:""}),Re.jsx("div",{className:"w-[1px] h-4 bg-gray-300 mx-1"}),Re.jsx("button",{onClick:pe,className:"btn btn-secondary text-xs p-1 px-2 bg-white border border-gray-200",title:"Zoom In",children:""}),Re.jsx("button",{onClick:Ee,className:"btn btn-secondary text-xs p-1 px-2 bg-white border border-gray-200",title:"Zoom Out",children:""}),Re.jsx("button",{onClick:Y,className:"btn btn-secondary text-xs p-1 px-2 bg-white border border-gray-200",title:"Fit",children:""})]}),Re.jsx("div",{className:"flex-grow"}),Re.jsxs("div",{className:"flex items-center gap-2",children:[Re.jsxs("div",{className:"flex items-center space-x-2",children:[Re.jsxs("select",{value:Q,onChange:$=>z($.target.value),className:"select-modern bg-white text-gray-700",children:[Re.jsx("option",{value:"",children:"All Systems"}),x.map($=>Re.jsx("option",{value:$.id,children:$.id},$.id))]}),Re.jsxs("select",{value:ie,onChange:$=>le($.target.value),className:"select-modern bg-white text-gray-700",children:[Re.jsx("option",{value:"",children:"All Data"}),R.map($=>Re.jsx("option",{value:$,children:$},$))]}),Re.jsx("button",{onClick:()=>{z(""),le("")},className:"btn btn-secondary text-gray-700 text-xs p-1 px-2 bg-white border border-gray-200",title:"Clear filters",children:""})]}),Re.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[Re.jsx("div",{className:"flex flex-col"}),Re.jsxs("button",{onClick:j,className:"btn bg-white text-gray-700 border border-gray-300 flex items-center",title:"Validate",children:[Re.jsx("span",{className:"mr-1",children:""}),Re.jsx("span",{children:"Validate"})]})]})]}),Re.jsxs("button",{onClick:Te,className:"btn btn-secondary text-xs bg-white border border-gray-200 flex items-center",title:"CSV",children:[Re.jsx("span",{className:"text-base mr-1",children:""}),Re.jsx("span",{children:"CSV"})]})]}),Re.jsx("div",{ref:e,onDragOver:$=>{$.preventDefault(),v(!0)},onDragLeave:$=>{$.preventDefault(),v(!1)},onDrop:async $=>{$.preventDefault(),v(!1);const Le=$.dataTransfer.files?.[0];if(!Le)return;if(!/\.(bpmn|xml)$/i.test(Le.name)){alert("Not BPMN");return}const Ve=await Le.text();try{await t.current.importXML(Ve),t.current.get("canvas").zoom("fit-viewport"),localStorage.setItem("diagram",Ve),r(Le.name.replace(/\.bpmn$/i,"").replace(/\.xml$/i,"")),j()}catch{alert("Import failed")}},className:`flex-1 relative border-2 border-slate-200 rounded-xl overflow-hidden w-full m-4 ${d?"ring-4 ring-blue-400 ring-offset-2":"shadow-lg hover:shadow-xl transition-shadow duration-300"}`,style:{minHeight:0},children:d&&Re.jsx("div",{className:"absolute inset-0 bg-white/70 backdrop-blur-sm flex items-center justify-center text-slate-700 text-lg font-semibold pointer-events-none",children:Re.jsxs("div",{className:"bg-white/80 p-6 rounded-lg shadow-lg border border-blue-200 flex flex-col items-center",children:[Re.jsx("div",{className:"text-blue-600 text-4xl mb-3",children:""}),"Drop .bpmn / .xml file"]})})}),a&&Re.jsxs(Re.Fragment,{children:[Re.jsx("div",{className:"modal-backdrop",onClick:T}),Re.jsxs("div",{className:"modal-container templates-modal",children:[Re.jsxs("div",{className:"modal-header",children:[Re.jsx("h2",{children:"Process Templates"}),Re.jsx("button",{onClick:T,className:"modal-close-btn",children:""})]}),Re.jsxs("div",{className:"modal-body",children:[Re.jsx("p",{className:"mb-3 text-gray-600 text-sm",children:"Choose one of the ready-made process templates to start modeling:"}),H.map($=>Re.jsxs("div",{onClick:()=>C($),className:"template-item",children:[Re.jsx("div",{className:"template-name",children:$.name}),Re.jsxs("div",{className:"template-id",children:["ID: ",$.id]})]},$.id))]}),Re.jsx("div",{className:"modal-footer",children:Re.jsx("small",{children:"The selected template will replace the current diagram. Make sure you have saved your current work."})})]})]}),l&&Re.jsxs(Re.Fragment,{children:[Re.jsx("div",{className:"modal-backdrop",onClick:Z}),Re.jsxs("div",{className:"modal-container catalog-modal",children:[Re.jsxs("div",{className:"modal-header",children:[Re.jsx("h2",{children:"Systems and Data Entities Catalog"}),Re.jsx("button",{onClick:Z,className:"modal-close-btn",children:""})]}),Re.jsxs("div",{className:"modal-body",children:[Re.jsxs("section",{className:"catalog-section",children:[Re.jsx("h4",{className:"catalog-section-title",children:"Systems"}),Re.jsxs("div",{className:"input-group",children:[Re.jsx("input",{value:M.id,onChange:$=>P(Le=>({...Le,id:$.target.value})),placeholder:"Identyfikator",className:"input-field w-24"}),Re.jsx("input",{value:M.name,onChange:$=>P(Le=>({...Le,name:$.target.value})),placeholder:"Nazwa systemu",className:"input-field flex-1"}),Re.jsx("button",{onClick:K,className:"btn btn-blue",children:"Add"})]}),Re.jsxs("div",{className:"tag-container",children:[x.map($=>Re.jsxs("div",{className:"tag",children:[Re.jsx("span",{children:$.id}),Re.jsx("span",{className:"tag-remove",onClick:()=>se($.id),title:"Remove",children:""})]},$.id)),!x.length&&Re.jsx("div",{className:"empty-placeholder",children:"No defined systems"})]})]}),Re.jsxs("section",{className:"catalog-section",children:[Re.jsx("h4",{className:"catalog-section-title",children:"Data Entities"}),Re.jsxs("div",{className:"input-group",children:[Re.jsx("input",{value:k,onChange:$=>W($.target.value),placeholder:"Data entity name",className:"input-field flex-1"}),Re.jsx("button",{onClick:he,className:"btn btn-blue",children:"Add"})]}),Re.jsxs("div",{className:"tag-container",children:[R.map($=>Re.jsxs("div",{className:"tag",children:[Re.jsx("span",{children:$}),Re.jsx("span",{className:"tag-remove",onClick:()=>B($),title:"Remove",children:""})]},$)),!R.length&&Re.jsx("div",{className:"empty-placeholder",children:"No defined data entities"})]})]}),g?Re.jsxs("section",{className:"catalog-section",children:[Re.jsx("h4",{className:"catalog-section-title",children:"Tagowanie wybranego elementu"}),Re.jsxs("div",{className:"task-tagging-section",children:[Re.jsxs("div",{className:"mb-3",children:[Re.jsx("div",{className:"text-xs font-semibold mb-1 text-gray-700",children:"Systems linked to task:"}),Re.jsxs("div",{className:"tag-selection",children:[x.map($=>{const Le=ge("system").includes($.id);return Re.jsx("button",{onClick:()=>O("system",$.id),className:`tag-btn ${Le?"tag-btn-active":"tag-btn-inactive"}`,children:$.id},$.id)}),!x.length&&Re.jsx("span",{className:"text-gray-400",children:"No systems"})]})]}),Re.jsxs("div",{children:[Re.jsx("div",{className:"text-xs font-semibold mb-1 text-gray-700",children:"Data entities linked to task:"}),Re.jsxs("div",{className:"tag-selection",children:[R.map($=>{const Le=ge("data").includes($);return Re.jsx("button",{onClick:()=>O("data",$),className:`tag-btn ${Le?"tag-btn-active":"tag-btn-inactive"}`,children:$},$)}),!R.length&&Re.jsx("span",{className:"text-gray-400",children:"No data entities"})]})]})]}),Re.jsx("div",{className:"info-box mt-2",children:"Marking tasks with systems and data allows for analysis of information flow between systems and identification of processed data."})]}):Re.jsx("div",{className:"empty-placeholder mt-4",children:"Select a task in the diagram to assign system and data tags."})]})]})]}),f&&Re.jsxs(Re.Fragment,{children:[Re.jsx("div",{className:"modal-backdrop",onClick:te}),Re.jsxs("div",{className:"modal-container save-options-modal",children:[Re.jsxs("div",{className:"modal-header",children:[Re.jsx("h2",{children:"Save diagram"}),Re.jsx("button",{onClick:te,className:"modal-close-btn",children:""})]}),Re.jsxs("div",{className:"px-6 py-4 bg-gradient-to-r from-emerald-50 to-green-50 border-b border-emerald-100",children:[Re.jsx("label",{className:"block text-sm font-medium text-emerald-700 mb-2",children:"File name:"}),Re.jsxs("div",{className:"relative",children:[Re.jsx("input",{value:i,onChange:$=>r($.target.value),className:"w-full px-4 py-3 border border-emerald-200 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition-all pl-10",placeholder:"File name"}),Re.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-emerald-500",children:Re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Re.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})})]})]}),Re.jsxs("div",{className:"modal-body",children:[Re.jsxs("div",{className:"save-option",onClick:()=>{ae(),te()},children:[Re.jsx("div",{className:"save-option-icon",children:Re.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:[Re.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4z",clipRule:"evenodd"}),Re.jsx("path",{d:"M8 11a1 1 0 100-2H7a1 1 0 000 2h1zm2 0a1 1 0 100-2 1 1 0 000 2zm3-1a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1z"})]})}),Re.jsxs("div",{className:"save-option-content",children:[Re.jsx("div",{className:"save-option-title",children:"BPMN (.bpmn)"}),Re.jsx("div",{className:"save-option-desc",children:"Standard XML format for business process diagrams"})]})]}),Re.jsxs("div",{className:"save-option",onClick:()=>{de(),te()},children:[Re.jsx("div",{className:"save-option-icon",children:Re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:Re.jsx("path",{fillRule:"evenodd",d:"M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})}),Re.jsxs("div",{className:"save-option-content",children:[Re.jsx("div",{className:"save-option-title",children:"SVG (.svg)"}),Re.jsx("div",{className:"save-option-desc",children:"Vector graphic format, ideal for embedding in documentation"})]})]}),Re.jsxs("div",{className:"save-option",onClick:()=>{Ae(),te()},children:[Re.jsx("div",{className:"save-option-icon",children:Re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:Re.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),Re.jsxs("div",{className:"save-option-content",children:[Re.jsx("div",{className:"save-option-title",children:"PNG (.png)"}),Re.jsx("div",{className:"save-option-desc",children:"Raster graphic format with transparency"})]})]}),Re.jsxs("div",{className:"save-option",onClick:()=>{Ue(),te()},children:[Re.jsx("div",{className:"save-option-icon",children:Re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:Re.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}),Re.jsxs("div",{className:"save-option-content",children:[Re.jsx("div",{className:"save-option-title",children:"PDF (.pdf)"}),Re.jsx("div",{className:"save-option-desc",children:"Document format, good for printing and sharing"})]})]}),Re.jsxs("div",{className:"save-option",onClick:()=>{Te(),te()},children:[Re.jsx("div",{className:"save-option-icon",children:Re.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:Re.jsx("path",{fillRule:"evenodd",d:"M5 4a3 3 0 00-3 3v6a3 3 0 003 3h10a3 3 0 003-3V7a3 3 0 00-3-3H5zm-1 9v-1h5v2H5a1 1 0 01-1-1zm7 1h4a1 1 0 001-1v-1h-5v2zm0-4h5V8h-5v2zM9 8H4v2h5V8z",clipRule:"evenodd"})})}),Re.jsxs("div",{className:"save-option-content",children:[Re.jsx("div",{className:"save-option-title",children:"CSV Report (.csv)"}),Re.jsx("div",{className:"save-option-desc",children:"Export tasks and their tags to a CSV file"})]})]})]}),Re.jsxs("div",{className:"modal-footer flex justify-between items-center",children:[Re.jsx("small",{children:"Files will be saved with the specified name and appropriate extension"}),Re.jsx("button",{onClick:te,className:"btn-secondary text-sm px-3 py-1",children:"Cancel"})]})]})]}),Re.jsx("div",{className:"w-full bg-gradient-to-r from-slate-800 to-slate-700 text-white py-3 px-4 mt-auto border-t border-blue-500/30 shadow-lg",children:Re.jsxs("div",{className:"container mx-auto flex flex-col items-center text-center",children:[Re.jsxs("div",{className:"flex items-center mb-2",children:[Re.jsx("span",{className:"text-xl mr-2 footer-icon",children:""}),Re.jsx("span",{className:"font-medium text-lg",children:"Flight BPMN Process Studio"})]}),Re.jsx("div",{className:"text-sm text-slate-300 mb-1",children:"Modern Business Process Modeling Solution"}),Re.jsxs("div",{className:"text-sm text-slate-300 mb-1",children:[" ",new Date().getFullYear()," Flight Systems. All rights reserved."]}),Re.jsxs("div",{className:"text-xs text-slate-400",children:[Re.jsx("span",{children:"Designed & Developed by "}),Re.jsx("span",{className:"font-semibold text-white",children:"Stanisaw Dutkiewicz"}),Re.jsx("span",{className:"mx-1",children:"|"}),Re.jsx("span",{children:"Version 1.0.0"})]})]})})]})}function VH(){return Re.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[Re.jsxs("h1",{className:"text-3xl font-bold mb-4 text-white flex items-center gap-3",children:[Re.jsx("span",{className:"text-4xl",children:""}),"Flight BPMN Process Editor",Re.jsx("span",{className:"text-sm bg-blue-600 text-white px-2 py-1 rounded-full ml-3",children:"v1.0"})]}),Re.jsx(qH,{})]})}wT.createRoot(document.getElementById("root")).render(Re.jsx(pT.StrictMode,{children:Re.jsx(VH,{})}));export{fb as R,Hn as _,it as a,cT as c,Oz as p,p2 as r};
